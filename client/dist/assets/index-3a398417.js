function g3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hS={exports:{}},Mf={},mS={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),x3=Symbol.for("react.portal"),y3=Symbol.for("react.fragment"),v3=Symbol.for("react.strict_mode"),b3=Symbol.for("react.profiler"),j3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),N3=Symbol.for("react.forward_ref"),k3=Symbol.for("react.suspense"),S3=Symbol.for("react.memo"),_3=Symbol.for("react.lazy"),Vj=Symbol.iterator;function E3(t){return t===null||typeof t!="object"?null:(t=Vj&&t[Vj]||t["@@iterator"],typeof t=="function"?t:null)}var fS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pS=Object.assign,gS={};function Kl(t,e,r){this.props=t,this.context=e,this.refs=gS,this.updater=r||fS}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xS(){}xS.prototype=Kl.prototype;function M0(t,e,r){this.props=t,this.context=e,this.refs=gS,this.updater=r||fS}var L0=M0.prototype=new xS;L0.constructor=M0;pS(L0,Kl.prototype);L0.isPureReactComponent=!0;var Uj=Array.isArray,yS=Object.prototype.hasOwnProperty,F0={current:null},vS={key:!0,ref:!0,__self:!0,__source:!0};function bS(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yS.call(e,n)&&!vS.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:cd,type:t,key:i,ref:o,props:a,_owner:F0.current}}function T3(t,e){return{$$typeof:cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function V0(t){return typeof t=="object"&&t!==null&&t.$$typeof===cd}function C3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Bj=/\/+/g;function tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C3(""+t.key):e.toString(36)}function Ch(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cd:case x3:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+tg(o,0):n,Uj(a)?(r="",t!=null&&(r=t.replace(Bj,"$&/")+"/"),Ch(a,e,r,"",function(u){return u})):a!=null&&(V0(a)&&(a=T3(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Bj,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",Uj(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+tg(i,l);o+=Ch(i,e,r,c,a)}else if(c=E3(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+tg(i,l++),o+=Ch(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zd(t,e,r){if(t==null)return t;var n=[],a=0;return Ch(t,n,"","",function(i){return e.call(r,i,a++)}),n}function A3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},Ah={transition:null},P3={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:Ah,ReactCurrentOwner:F0};function jS(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:zd,forEach:function(t,e,r){zd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zd(t,function(){e++}),e},toArray:function(t){return zd(t,function(e){return e})||[]},only:function(t){if(!V0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Kl;st.Fragment=y3;st.Profiler=b3;st.PureComponent=M0;st.StrictMode=v3;st.Suspense=k3;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;st.act=jS;st.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pS({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=F0.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)yS.call(e,c)&&!vS.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:cd,type:t.type,key:a,ref:i,props:n,_owner:o}};st.createContext=function(t){return t={$$typeof:w3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:j3,_context:t},t.Consumer=t};st.createElement=bS;st.createFactory=function(t){var e=bS.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:N3,render:t}};st.isValidElement=V0;st.lazy=function(t){return{$$typeof:_3,_payload:{_status:-1,_result:t},_init:A3}};st.memo=function(t,e){return{$$typeof:S3,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=Ah.transition;Ah.transition={};try{t()}finally{Ah.transition=e}};st.unstable_act=jS;st.useCallback=function(t,e){return Hr.current.useCallback(t,e)};st.useContext=function(t){return Hr.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};st.useEffect=function(t,e){return Hr.current.useEffect(t,e)};st.useId=function(){return Hr.current.useId()};st.useImperativeHandle=function(t,e,r){return Hr.current.useImperativeHandle(t,e,r)};st.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Hr.current.useMemo(t,e)};st.useReducer=function(t,e,r){return Hr.current.useReducer(t,e,r)};st.useRef=function(t){return Hr.current.useRef(t)};st.useState=function(t){return Hr.current.useState(t)};st.useSyncExternalStore=function(t,e,r){return Hr.current.useSyncExternalStore(t,e,r)};st.useTransition=function(){return Hr.current.useTransition()};st.version="18.3.1";mS.exports=st;var P=mS.exports;const ut=aa(P),I3=g3({__proto__:null,default:ut},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=P,O3=Symbol.for("react.element"),D3=Symbol.for("react.fragment"),M3=Object.prototype.hasOwnProperty,L3=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F3={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)M3.call(e,n)&&!F3.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:O3,type:t,key:i,ref:o,props:a,_owner:L3.current}}Mf.Fragment=D3;Mf.jsx=wS;Mf.jsxs=wS;hS.exports=Mf;var s=hS.exports,vx={},NS={exports:{}},fs={},kS={exports:{}},SS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var D=M.length;M.push(z);e:for(;0<D;){var F=D-1>>>1,W=M[F];if(0<a(W,z))M[F]=z,M[D]=W,D=F;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],D=M.pop();if(D!==z){M[0]=D;e:for(var F=0,W=M.length,H=W>>>1;F<H;){var Q=2*(F+1)-1,X=M[Q],G=Q+1,K=M[G];if(0>a(X,D))G<W&&0>a(K,X)?(M[F]=K,M[G]=D,F=G):(M[F]=X,M[Q]=D,F=Q);else if(G<W&&0>a(K,D))M[F]=K,M[G]=D,F=G;else break e}}return z}function a(M,z){var D=M.sortIndex-z.sortIndex;return D!==0?D:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=M)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function j(M){if(v=!1,w(M),!g)if(r(c)!==null)g=!0,L(S);else{var z=r(u);z!==null&&q(j,z.startTime-M)}}function S(M,z){g=!1,v&&(v=!1,y(N),N=-1),f=!0;var D=m;try{for(w(z),h=r(c);h!==null&&(!(h.expirationTime>z)||M&&!_());){var F=h.callback;if(typeof F=="function"){h.callback=null,m=h.priorityLevel;var W=F(h.expirationTime<=z);z=t.unstable_now(),typeof W=="function"?h.callback=W:h===r(c)&&n(c),w(z)}else n(c);h=r(c)}if(h!==null)var H=!0;else{var Q=r(u);Q!==null&&q(j,Q.startTime-z),H=!1}return H}finally{h=null,m=D,f=!1}}var R=!1,k=null,N=-1,E=5,T=-1;function _(){return!(t.unstable_now()-T<E)}function A(){if(k!==null){var M=t.unstable_now();T=M;var z=!0;try{z=k(!0,M)}finally{z?C():(R=!1,k=null)}}else R=!1}var C;if(typeof p=="function")C=function(){p(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=A,C=function(){V.postMessage(null)}}else C=function(){b(A,0)};function L(M){k=M,R||(R=!0,C())}function q(M,z){N=b(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,L(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var D=m;m=z;try{return M()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=m;m=M;try{return z()}finally{m=D}},t.unstable_scheduleCallback=function(M,z,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,M={id:d++,callback:z,priorityLevel:M,startTime:D,expirationTime:W,sortIndex:-1},D>F?(M.sortIndex=D,e(u,M),r(c)===null&&M===r(u)&&(v?(y(N),N=-1):v=!0,q(j,D-F))):(M.sortIndex=W,e(c,M),g||f||(g=!0,L(S))),M},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(M){var z=m;return function(){var D=m;m=z;try{return M.apply(this,arguments)}finally{m=D}}}})(SS);kS.exports=SS;var V3=kS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3=P,ds=V3;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _S=new Set,ku={};function co(t,e){El(t,e),El(t+"Capture",e)}function El(t,e){for(ku[t]=e,t=0;t<e.length;t++)_S.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bx=Object.prototype.hasOwnProperty,B3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$j={},qj={};function $3(t){return bx.call(qj,t)?!0:bx.call($j,t)?!1:B3.test(t)?qj[t]=!0:($j[t]=!0,!1)}function q3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z3(t,e,r,n){if(e===null||typeof e>"u"||q3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function B0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(U0,B0);kr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(U0,B0);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(U0,B0);kr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,r,n){var a=kr.hasOwnProperty(e)?kr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z3(e,r,a,n)&&(r=null),n||a===null?$3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ia=U3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),jx=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),TS=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),Nx=Symbol.for("react.suspense_list"),H0=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),CS=Symbol.for("react.offscreen"),zj=Symbol.iterator;function _c(t){return t===null||typeof t!="object"?null:(t=zj&&t[zj]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,rg;function Hc(t){if(rg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rg=e&&e[1]||""}return`
`+rg+t}var sg=!1;function ng(t,e){if(!t||sg)return"";sg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{sg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hc(t):""}function H3(t){switch(t.tag){case 5:return Hc(t.type);case 16:return Hc("Lazy");case 13:return Hc("Suspense");case 19:return Hc("SuspenseList");case 0:case 2:case 15:return t=ng(t.type,!1),t;case 11:return t=ng(t.type.render,!1),t;case 1:return t=ng(t.type,!0),t;default:return""}}function kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Ho:return"Portal";case jx:return"Profiler";case q0:return"StrictMode";case wx:return"Suspense";case Nx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TS:return(t.displayName||"Context")+".Consumer";case ES:return(t._context.displayName||"Context")+".Provider";case z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H0:return e=t.displayName||null,e!==null?e:kx(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return kx(t(e))}catch{}}return null}function W3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kx(e);case 8:return e===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function K3(t){var e=AS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wd(t){t._valueTracker||(t._valueTracker=K3(t))}function PS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=AS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sx(t,e){var r=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ni(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IS(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function _x(t,e){IS(t,e);var r=ni(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ex(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ex(t,e.type,ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ex(t,e,r){(e!=="number"||fm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wc=Array.isArray;function cl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ni(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Tx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kj(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(Wc(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ni(r)}}function RS(t,e){var r=ni(e.value),n=ni(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Gj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kd,DS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kd=Kd||document.createElement("div"),Kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G3=["Webkit","ms","Moz","O"];Object.keys(Zc).forEach(function(t){G3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zc[e]=Zc[t]})});function MS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Zc.hasOwnProperty(t)&&Zc[t]?(""+e).trim():e+"px"}function LS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=MS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Q3=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ax(t,e){if(e){if(Q3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function Px(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ix=null;function W0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rx=null,ul=null,dl=null;function Qj(t){if(t=hd(t)){if(typeof Rx!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=Bf(e),Rx(t.stateNode,t.type,e))}}function FS(t){ul?dl?dl.push(t):dl=[t]:ul=t}function VS(){if(ul){var t=ul,e=dl;if(dl=ul=null,Qj(t),e)for(t=0;t<e.length;t++)Qj(e[t])}}function US(t,e){return t(e)}function BS(){}var ag=!1;function $S(t,e,r){if(ag)return t(e,r);ag=!0;try{return US(t,e,r)}finally{ag=!1,(ul!==null||dl!==null)&&(BS(),VS())}}function _u(t,e){var r=t.stateNode;if(r===null)return null;var n=Bf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var Ox=!1;if(Hn)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{Ox=!1}function Y3(t,e,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var eu=!1,pm=null,gm=!1,Dx=null,J3={onError:function(t){eu=!0,pm=t}};function X3(t,e,r,n,a,i,o,l,c){eu=!1,pm=null,Y3.apply(J3,arguments)}function Z3(t,e,r,n,a,i,o,l,c){if(X3.apply(this,arguments),eu){if(eu){var u=pm;eu=!1,pm=null}else throw Error(xe(198));gm||(gm=!0,Dx=u)}}function uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yj(t){if(uo(t)!==t)throw Error(xe(188))}function eI(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Yj(a),t;if(i===n)return Yj(a),e;i=i.sibling}throw Error(xe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function zS(t){return t=eI(t),t!==null?HS(t):null}function HS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HS(t);if(e!==null)return e;t=t.sibling}return null}var WS=ds.unstable_scheduleCallback,Jj=ds.unstable_cancelCallback,tI=ds.unstable_shouldYield,rI=ds.unstable_requestPaint,Qt=ds.unstable_now,sI=ds.unstable_getCurrentPriorityLevel,K0=ds.unstable_ImmediatePriority,KS=ds.unstable_UserBlockingPriority,xm=ds.unstable_NormalPriority,nI=ds.unstable_LowPriority,GS=ds.unstable_IdlePriority,Lf=null,fn=null;function aI(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:lI,iI=Math.log,oI=Math.LN2;function lI(t){return t>>>=0,t===0?32:31-(iI(t)/oI|0)|0}var Gd=64,Qd=4194304;function Kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ym(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Kc(l):(i&=o,i!==0&&(n=Kc(i)))}else o=r&~a,o!==0?n=Kc(o):i!==0&&(n=Kc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-zs(e),a=1<<r,n|=t[r],e&=~a;return n}function cI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=cI(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Mx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QS(){var t=Gd;return Gd<<=1,!(Gd&4194240)&&(Gd=64),t}function ig(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ud(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zs(e),t[e]=r}function dI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-zs(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function G0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-zs(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var yt=0;function YS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JS,Q0,XS,ZS,e_,Lx=!1,Yd=[],Ba=null,$a=null,qa=null,Eu=new Map,Tu=new Map,Ca=[],hI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xj(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Tc(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=hd(e),e!==null&&Q0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function mI(t,e,r,n,a){switch(e){case"focusin":return Ba=Tc(Ba,t,e,r,n,a),!0;case"dragenter":return $a=Tc($a,t,e,r,n,a),!0;case"mouseover":return qa=Tc(qa,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Eu.set(i,Tc(Eu.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Tu.set(i,Tc(Tu.get(i)||null,t,e,r,n,a)),!0}return!1}function t_(t){var e=Li(t.target);if(e!==null){var r=uo(e);if(r!==null){if(e=r.tag,e===13){if(e=qS(r),e!==null){t.blockedOn=e,e_(t.priority,function(){XS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Fx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ix=n,r.target.dispatchEvent(n),Ix=null}else return e=hd(r),e!==null&&Q0(e),t.blockedOn=r,!1;e.shift()}return!0}function Zj(t,e,r){Ph(t)&&r.delete(e)}function fI(){Lx=!1,Ba!==null&&Ph(Ba)&&(Ba=null),$a!==null&&Ph($a)&&($a=null),qa!==null&&Ph(qa)&&(qa=null),Eu.forEach(Zj),Tu.forEach(Zj)}function Cc(t,e){t.blockedOn===e&&(t.blockedOn=null,Lx||(Lx=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,fI)))}function Cu(t){function e(a){return Cc(a,t)}if(0<Yd.length){Cc(Yd[0],t);for(var r=1;r<Yd.length;r++){var n=Yd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ba!==null&&Cc(Ba,t),$a!==null&&Cc($a,t),qa!==null&&Cc(qa,t),Eu.forEach(e),Tu.forEach(e),r=0;r<Ca.length;r++)n=Ca[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ca.length&&(r=Ca[0],r.blockedOn===null);)t_(r),r.blockedOn===null&&Ca.shift()}var hl=ia.ReactCurrentBatchConfig,vm=!0;function pI(t,e,r,n){var a=yt,i=hl.transition;hl.transition=null;try{yt=1,Y0(t,e,r,n)}finally{yt=a,hl.transition=i}}function gI(t,e,r,n){var a=yt,i=hl.transition;hl.transition=null;try{yt=4,Y0(t,e,r,n)}finally{yt=a,hl.transition=i}}function Y0(t,e,r,n){if(vm){var a=Fx(t,e,r,n);if(a===null)gg(t,e,n,bm,r),Xj(t,n);else if(mI(a,t,e,r,n))n.stopPropagation();else if(Xj(t,n),e&4&&-1<hI.indexOf(t)){for(;a!==null;){var i=hd(a);if(i!==null&&JS(i),i=Fx(t,e,r,n),i===null&&gg(t,e,n,bm,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else gg(t,e,n,null,r)}}var bm=null;function Fx(t,e,r,n){if(bm=null,t=W0(n),t=Li(t),t!==null)if(e=uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bm=t,null}function r_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sI()){case K0:return 1;case KS:return 4;case xm:case nI:return 16;case GS:return 536870912;default:return 16}default:return 16}}var Ma=null,J0=null,Ih=null;function s_(){if(Ih)return Ih;var t,e=J0,r=e.length,n,a="value"in Ma?Ma.value:Ma.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Ih=a.slice(t,1<n?1-n:void 0)}function Rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jd(){return!0}function ew(){return!1}function ps(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jd:ew,this.isPropagationStopped=ew,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jd)},persist:function(){},isPersistent:Jd}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X0=ps(Gl),dd=Lt({},Gl,{view:0,detail:0}),xI=ps(dd),og,lg,Ac,Ff=Lt({},dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ac&&(Ac&&t.type==="mousemove"?(og=t.screenX-Ac.screenX,lg=t.screenY-Ac.screenY):lg=og=0,Ac=t),og)},movementY:function(t){return"movementY"in t?t.movementY:lg}}),tw=ps(Ff),yI=Lt({},Ff,{dataTransfer:0}),vI=ps(yI),bI=Lt({},dd,{relatedTarget:0}),cg=ps(bI),jI=Lt({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),wI=ps(jI),NI=Lt({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kI=ps(NI),SI=Lt({},Gl,{data:0}),rw=ps(SI),_I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TI[t])?!!e[t]:!1}function Z0(){return CI}var AI=Lt({},dd,{key:function(t){if(t.key){var e=_I[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(t){return t.type==="keypress"?Rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PI=ps(AI),II=Lt({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sw=ps(II),RI=Lt({},dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),OI=ps(RI),DI=Lt({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=ps(DI),LI=Lt({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FI=ps(LI),VI=[9,13,27,32],ev=Hn&&"CompositionEvent"in window,tu=null;Hn&&"documentMode"in document&&(tu=document.documentMode);var UI=Hn&&"TextEvent"in window&&!tu,n_=Hn&&(!ev||tu&&8<tu&&11>=tu),nw=String.fromCharCode(32),aw=!1;function a_(t,e){switch(t){case"keyup":return VI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function BI(t,e){switch(t){case"compositionend":return i_(e);case"keypress":return e.which!==32?null:(aw=!0,nw);case"textInput":return t=e.data,t===nw&&aw?null:t;default:return null}}function $I(t,e){if(Ko)return t==="compositionend"||!ev&&a_(t,e)?(t=s_(),Ih=J0=Ma=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n_&&e.locale!=="ko"?null:e.data;default:return null}}var qI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qI[t.type]:e==="textarea"}function o_(t,e,r,n){FS(n),e=jm(e,"onChange"),0<e.length&&(r=new X0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ru=null,Au=null;function zI(t){y_(t,0)}function Vf(t){var e=Yo(t);if(PS(e))return t}function HI(t,e){if(t==="change")return e}var l_=!1;if(Hn){var ug;if(Hn){var dg="oninput"in document;if(!dg){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),dg=typeof ow.oninput=="function"}ug=dg}else ug=!1;l_=ug&&(!document.documentMode||9<document.documentMode)}function lw(){ru&&(ru.detachEvent("onpropertychange",c_),Au=ru=null)}function c_(t){if(t.propertyName==="value"&&Vf(Au)){var e=[];o_(e,Au,t,W0(t)),$S(zI,e)}}function WI(t,e,r){t==="focusin"?(lw(),ru=e,Au=r,ru.attachEvent("onpropertychange",c_)):t==="focusout"&&lw()}function KI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(Au)}function GI(t,e){if(t==="click")return Vf(e)}function QI(t,e){if(t==="input"||t==="change")return Vf(e)}function YI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:YI;function Pu(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!bx.call(e,a)||!Ks(t[a],e[a]))return!1}return!0}function cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uw(t,e){var r=cw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cw(r)}}function u_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d_(){for(var t=window,e=fm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fm(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JI(t){var e=d_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&u_(r.ownerDocument.documentElement,r)){if(n!==null&&tv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=uw(r,i);var o=uw(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XI=Hn&&"documentMode"in document&&11>=document.documentMode,Go=null,Vx=null,su=null,Ux=!1;function dw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ux||Go==null||Go!==fm(n)||(n=Go,"selectionStart"in n&&tv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),su&&Pu(su,n)||(su=n,n=jm(Vx,"onSelect"),0<n.length&&(e=new X0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Go)))}function Xd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qo={animationend:Xd("Animation","AnimationEnd"),animationiteration:Xd("Animation","AnimationIteration"),animationstart:Xd("Animation","AnimationStart"),transitionend:Xd("Transition","TransitionEnd")},hg={},h_={};Hn&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Uf(t){if(hg[t])return hg[t];if(!Qo[t])return t;var e=Qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in h_)return hg[t]=e[r];return t}var m_=Uf("animationend"),f_=Uf("animationiteration"),p_=Uf("animationstart"),g_=Uf("transitionend"),x_=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){x_.set(t,e),co(e,[t])}for(var mg=0;mg<hw.length;mg++){var fg=hw[mg],ZI=fg.toLowerCase(),e5=fg[0].toUpperCase()+fg.slice(1);gi(ZI,"on"+e5)}gi(m_,"onAnimationEnd");gi(f_,"onAnimationIteration");gi(p_,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(g_,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function mw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Z3(n,e,void 0,t),t.currentTarget=null}function y_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;mw(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;mw(a,l,u),i=c}}}if(gm)throw t=Dx,gm=!1,Dx=null,t}function kt(t,e){var r=e[Hx];r===void 0&&(r=e[Hx]=new Set);var n=t+"__bubble";r.has(n)||(v_(e,t,2,!1),r.add(n))}function pg(t,e,r){var n=0;e&&(n|=4),v_(r,t,n,e)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[Zd]){t[Zd]=!0,_S.forEach(function(r){r!=="selectionchange"&&(t5.has(r)||pg(r,!1,t),pg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zd]||(e[Zd]=!0,pg("selectionchange",!1,e))}}function v_(t,e,r,n){switch(r_(e)){case 1:var a=pI;break;case 4:a=gI;break;default:a=Y0}r=a.bind(null,e,r,t),a=void 0,!Ox||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function gg(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Li(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$S(function(){var u=i,d=W0(r),h=[];e:{var m=x_.get(t);if(m!==void 0){var f=X0,g=t;switch(t){case"keypress":if(Rh(r)===0)break e;case"keydown":case"keyup":f=PI;break;case"focusin":g="focus",f=cg;break;case"focusout":g="blur",f=cg;break;case"beforeblur":case"afterblur":f=cg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=OI;break;case m_:case f_:case p_:f=wI;break;case g_:f=MI;break;case"scroll":f=xI;break;case"wheel":f=FI;break;case"copy":case"cut":case"paste":f=kI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sw}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=_u(p,y),j!=null&&v.push(Ru(p,j,w)))),b)break;p=p.return}0<v.length&&(m=new f(m,g,null,r,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==Ix&&(g=r.relatedTarget||r.fromElement)&&(Li(g)||g[Wn]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Li(g):null,g!==null&&(b=uo(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=tw,j="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=sw,j="onPointerLeave",y="onPointerEnter",p="pointer"),b=f==null?m:Yo(f),w=g==null?m:Yo(g),m=new v(j,p+"leave",f,r,d),m.target=b,m.relatedTarget=w,j=null,Li(d)===u&&(v=new v(y,p+"enter",g,r,d),v.target=w,v.relatedTarget=b,j=v),b=j,f&&g)t:{for(v=f,y=g,p=0,w=v;w;w=Lo(w))p++;for(w=0,j=y;j;j=Lo(j))w++;for(;0<p-w;)v=Lo(v),p--;for(;0<w-p;)y=Lo(y),w--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Lo(v),y=Lo(y)}v=null}else v=null;f!==null&&fw(h,m,f,v,!1),g!==null&&b!==null&&fw(h,b,g,v,!0)}}e:{if(m=u?Yo(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var S=HI;else if(iw(m))if(l_)S=QI;else{S=KI;var R=WI}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=GI);if(S&&(S=S(t,u))){o_(h,S,r,d);break e}R&&R(t,m,u),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Ex(m,"number",m.value)}switch(R=u?Yo(u):window,t){case"focusin":(iw(R)||R.contentEditable==="true")&&(Go=R,Vx=u,su=null);break;case"focusout":su=Vx=Go=null;break;case"mousedown":Ux=!0;break;case"contextmenu":case"mouseup":case"dragend":Ux=!1,dw(h,r,d);break;case"selectionchange":if(XI)break;case"keydown":case"keyup":dw(h,r,d)}var k;if(ev)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ko?a_(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(n_&&r.locale!=="ko"&&(Ko||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ko&&(k=s_()):(Ma=d,J0="value"in Ma?Ma.value:Ma.textContent,Ko=!0)),R=jm(u,N),0<R.length&&(N=new rw(N,t,null,r,d),h.push({event:N,listeners:R}),k?N.data=k:(k=i_(r),k!==null&&(N.data=k)))),(k=UI?BI(t,r):$I(t,r))&&(u=jm(u,"onBeforeInput"),0<u.length&&(d=new rw("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}y_(h,e)})}function Ru(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jm(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=_u(t,r),i!=null&&n.unshift(Ru(t,i,a)),i=_u(t,e),i!=null&&n.push(Ru(t,i,a))),t=t.return}return n}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fw(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=_u(r,i),c!=null&&o.unshift(Ru(r,c,l))):a||(c=_u(r,i),c!=null&&o.push(Ru(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var r5=/\r\n?/g,s5=/\u0000|\uFFFD/g;function pw(t){return(typeof t=="string"?t:""+t).replace(r5,`
`).replace(s5,"")}function eh(t,e,r){if(e=pw(e),pw(t)!==e&&r)throw Error(xe(425))}function wm(){}var Bx=null,$x=null;function qx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zx=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,a5=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(t){return gw.resolve(null).then(t).catch(i5)}:zx;function i5(t){setTimeout(function(){throw t})}function xg(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Cu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cu(e)}function za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ql,Ou="__reactProps$"+Ql,Wn="__reactContainer$"+Ql,Hx="__reactEvents$"+Ql,o5="__reactListeners$"+Ql,l5="__reactHandles$"+Ql;function Li(t){var e=t[dn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wn]||r[dn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xw(t);t!==null;){if(r=t[dn])return r;t=xw(t)}return e}t=r,r=t.parentNode}return null}function hd(t){return t=t[dn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function Bf(t){return t[Ou]||null}var Wx=[],Jo=-1;function xi(t){return{current:t}}function Et(t){0>Jo||(t.current=Wx[Jo],Wx[Jo]=null,Jo--)}function Nt(t,e){Jo++,Wx[Jo]=t.current,t.current=e}var ai={},Fr=xi(ai),Zr=xi(!1),Qi=ai;function Tl(t,e){var r=t.type.contextTypes;if(!r)return ai;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function es(t){return t=t.childContextTypes,t!=null}function Nm(){Et(Zr),Et(Fr)}function yw(t,e,r){if(Fr.current!==ai)throw Error(xe(168));Nt(Fr,e),Nt(Zr,r)}function b_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(xe(108,W3(t)||"Unknown",a));return Lt({},r,n)}function km(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,Qi=Fr.current,Nt(Fr,t),Nt(Zr,Zr.current),!0}function vw(t,e,r){var n=t.stateNode;if(!n)throw Error(xe(169));r?(t=b_(t,e,Qi),n.__reactInternalMemoizedMergedChildContext=t,Et(Zr),Et(Fr),Nt(Fr,t)):Et(Zr),Nt(Zr,r)}var Rn=null,$f=!1,yg=!1;function j_(t){Rn===null?Rn=[t]:Rn.push(t)}function c5(t){$f=!0,j_(t)}function yi(){if(!yg&&Rn!==null){yg=!0;var t=0,e=yt;try{var r=Rn;for(yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Rn=null,$f=!1}catch(a){throw Rn!==null&&(Rn=Rn.slice(t+1)),WS(K0,yi),a}finally{yt=e,yg=!1}}return null}var Xo=[],Zo=0,Sm=null,_m=0,Ns=[],ks=0,Yi=null,On=1,Dn="";function Pi(t,e){Xo[Zo++]=_m,Xo[Zo++]=Sm,Sm=t,_m=e}function w_(t,e,r){Ns[ks++]=On,Ns[ks++]=Dn,Ns[ks++]=Yi,Yi=t;var n=On;t=Dn;var a=32-zs(n)-1;n&=~(1<<a),r+=1;var i=32-zs(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,On=1<<32-zs(e)+a|r<<a|n,Dn=i+t}else On=1<<i|r<<a|n,Dn=t}function rv(t){t.return!==null&&(Pi(t,1),w_(t,1,0))}function sv(t){for(;t===Sm;)Sm=Xo[--Zo],Xo[Zo]=null,_m=Xo[--Zo],Xo[Zo]=null;for(;t===Yi;)Yi=Ns[--ks],Ns[ks]=null,Dn=Ns[--ks],Ns[ks]=null,On=Ns[--ks],Ns[ks]=null}var us=null,cs=null,It=!1,Us=null;function N_(t,e){var r=Ts(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function bw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,us=t,cs=za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,us=t,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yi!==null?{id:On,overflow:Dn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ts(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,us=t,cs=null,!0):!1;default:return!1}}function Kx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gx(t){if(It){var e=cs;if(e){var r=e;if(!bw(t,e)){if(Kx(t))throw Error(xe(418));e=za(r.nextSibling);var n=us;e&&bw(t,e)?N_(n,r):(t.flags=t.flags&-4097|2,It=!1,us=t)}}else{if(Kx(t))throw Error(xe(418));t.flags=t.flags&-4097|2,It=!1,us=t}}}function jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;us=t}function th(t){if(t!==us)return!1;if(!It)return jw(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qx(t.type,t.memoizedProps)),e&&(e=cs)){if(Kx(t))throw k_(),Error(xe(418));for(;e;)N_(t,e),e=za(e.nextSibling)}if(jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cs=za(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cs=null}}else cs=us?za(t.stateNode.nextSibling):null;return!0}function k_(){for(var t=cs;t;)t=za(t.nextSibling)}function Cl(){cs=us=null,It=!1}function nv(t){Us===null?Us=[t]:Us.push(t)}var u5=ia.ReactCurrentBatchConfig;function Pc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ww(t){var e=t._init;return e(t._payload)}function S_(t){function e(y,p){if(t){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function r(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(y,p){return y=Ga(y,p),y.index=0,y.sibling=null,y}function i(y,p,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,w,j){return p===null||p.tag!==6?(p=Sg(w,y.mode,j),p.return=y,p):(p=a(p,w),p.return=y,p)}function c(y,p,w,j){var S=w.type;return S===Wo?d(y,p,w.props.children,j,w.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sa&&ww(S)===p.type)?(j=a(p,w.props),j.ref=Pc(y,p,w),j.return=y,j):(j=Uh(w.type,w.key,w.props,null,y.mode,j),j.ref=Pc(y,p,w),j.return=y,j)}function u(y,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=_g(w,y.mode,j),p.return=y,p):(p=a(p,w.children||[]),p.return=y,p)}function d(y,p,w,j,S){return p===null||p.tag!==7?(p=Wi(w,y.mode,j,S),p.return=y,p):(p=a(p,w),p.return=y,p)}function h(y,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Sg(""+p,y.mode,w),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Hd:return w=Uh(p.type,p.key,p.props,null,y.mode,w),w.ref=Pc(y,null,p),w.return=y,w;case Ho:return p=_g(p,y.mode,w),p.return=y,p;case Sa:var j=p._init;return h(y,j(p._payload),w)}if(Wc(p)||_c(p))return p=Wi(p,y.mode,w,null),p.return=y,p;rh(y,p)}return null}function m(y,p,w,j){var S=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hd:return w.key===S?c(y,p,w,j):null;case Ho:return w.key===S?u(y,p,w,j):null;case Sa:return S=w._init,m(y,p,S(w._payload),j)}if(Wc(w)||_c(w))return S!==null?null:d(y,p,w,j,null);rh(y,w)}return null}function f(y,p,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(p,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hd:return y=y.get(j.key===null?w:j.key)||null,c(p,y,j,S);case Ho:return y=y.get(j.key===null?w:j.key)||null,u(p,y,j,S);case Sa:var R=j._init;return f(y,p,w,R(j._payload),S)}if(Wc(j)||_c(j))return y=y.get(w)||null,d(p,y,j,S,null);rh(p,j)}return null}function g(y,p,w,j){for(var S=null,R=null,k=p,N=p=0,E=null;k!==null&&N<w.length;N++){k.index>N?(E=k,k=null):E=k.sibling;var T=m(y,k,w[N],j);if(T===null){k===null&&(k=E);break}t&&k&&T.alternate===null&&e(y,k),p=i(T,p,N),R===null?S=T:R.sibling=T,R=T,k=E}if(N===w.length)return r(y,k),It&&Pi(y,N),S;if(k===null){for(;N<w.length;N++)k=h(y,w[N],j),k!==null&&(p=i(k,p,N),R===null?S=k:R.sibling=k,R=k);return It&&Pi(y,N),S}for(k=n(y,k);N<w.length;N++)E=f(k,y,N,w[N],j),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?N:E.key),p=i(E,p,N),R===null?S=E:R.sibling=E,R=E);return t&&k.forEach(function(_){return e(y,_)}),It&&Pi(y,N),S}function v(y,p,w,j){var S=_c(w);if(typeof S!="function")throw Error(xe(150));if(w=S.call(w),w==null)throw Error(xe(151));for(var R=S=null,k=p,N=p=0,E=null,T=w.next();k!==null&&!T.done;N++,T=w.next()){k.index>N?(E=k,k=null):E=k.sibling;var _=m(y,k,T.value,j);if(_===null){k===null&&(k=E);break}t&&k&&_.alternate===null&&e(y,k),p=i(_,p,N),R===null?S=_:R.sibling=_,R=_,k=E}if(T.done)return r(y,k),It&&Pi(y,N),S;if(k===null){for(;!T.done;N++,T=w.next())T=h(y,T.value,j),T!==null&&(p=i(T,p,N),R===null?S=T:R.sibling=T,R=T);return It&&Pi(y,N),S}for(k=n(y,k);!T.done;N++,T=w.next())T=f(k,y,N,T.value,j),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?N:T.key),p=i(T,p,N),R===null?S=T:R.sibling=T,R=T);return t&&k.forEach(function(A){return e(y,A)}),It&&Pi(y,N),S}function b(y,p,w,j){if(typeof w=="object"&&w!==null&&w.type===Wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hd:e:{for(var S=w.key,R=p;R!==null;){if(R.key===S){if(S=w.type,S===Wo){if(R.tag===7){r(y,R.sibling),p=a(R,w.props.children),p.return=y,y=p;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sa&&ww(S)===R.type){r(y,R.sibling),p=a(R,w.props),p.ref=Pc(y,R,w),p.return=y,y=p;break e}r(y,R);break}else e(y,R);R=R.sibling}w.type===Wo?(p=Wi(w.props.children,y.mode,j,w.key),p.return=y,y=p):(j=Uh(w.type,w.key,w.props,null,y.mode,j),j.ref=Pc(y,p,w),j.return=y,y=j)}return o(y);case Ho:e:{for(R=w.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(y,p.sibling),p=a(p,w.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else e(y,p);p=p.sibling}p=_g(w,y.mode,j),p.return=y,y=p}return o(y);case Sa:return R=w._init,b(y,p,R(w._payload),j)}if(Wc(w))return g(y,p,w,j);if(_c(w))return v(y,p,w,j);rh(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(y,p.sibling),p=a(p,w),p.return=y,y=p):(r(y,p),p=Sg(w,y.mode,j),p.return=y,y=p),o(y)):r(y,p)}return b}var Al=S_(!0),__=S_(!1),Em=xi(null),Tm=null,el=null,av=null;function iv(){av=el=Tm=null}function ov(t){var e=Em.current;Et(Em),t._currentValue=e}function Qx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ml(t,e){Tm=t,av=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},el===null){if(Tm===null)throw Error(xe(308));el=t,Tm.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return e}var Fi=null;function lv(t){Fi===null?Fi=[t]:Fi.push(t)}function E_(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,lv(e)):(r.next=a.next,a.next=r),e.interleaved=r,Kn(t,n)}function Kn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _a=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Kn(t,r)}return a=n.interleaved,a===null?(e.next=e,lv(n)):(e.next=a.next,a.next=e),n.interleaved=e,Kn(t,r)}function Oh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G0(t,r)}}function Nw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cm(t,e,r,n){var a=t.updateQueue;_a=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(m=e,f=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=Lt({},h,m);break e;case 2:_a=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=h}}function kw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(xe(191,a));a.call(n)}}}var md={},pn=xi(md),Du=xi(md),Mu=xi(md);function Vi(t){if(t===md)throw Error(xe(174));return t}function uv(t,e){switch(Nt(Mu,e),Nt(Du,t),Nt(pn,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cx(e,t)}Et(pn),Nt(pn,e)}function Pl(){Et(pn),Et(Du),Et(Mu)}function C_(t){Vi(Mu.current);var e=Vi(pn.current),r=Cx(e,t.type);e!==r&&(Nt(Du,t),Nt(pn,r))}function dv(t){Du.current===t&&(Et(pn),Et(Du))}var Rt=xi(0);function Am(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vg=[];function hv(){for(var t=0;t<vg.length;t++)vg[t]._workInProgressVersionPrimary=null;vg.length=0}var Dh=ia.ReactCurrentDispatcher,bg=ia.ReactCurrentBatchConfig,Ji=0,Dt=null,ar=null,ur=null,Pm=!1,nu=!1,Lu=0,d5=0;function Cr(){throw Error(xe(321))}function mv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ks(t[r],e[r]))return!1;return!0}function fv(t,e,r,n,a,i){if(Ji=i,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dh.current=t===null||t.memoizedState===null?p5:g5,t=r(n,a),nu){i=0;do{if(nu=!1,Lu=0,25<=i)throw Error(xe(301));i+=1,ur=ar=null,e.updateQueue=null,Dh.current=x5,t=r(n,a)}while(nu)}if(Dh.current=Im,e=ar!==null&&ar.next!==null,Ji=0,ur=ar=Dt=null,Pm=!1,e)throw Error(xe(300));return t}function pv(){var t=Lu!==0;return Lu=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Dt.memoizedState=ur=t:ur=ur.next=t,ur}function Ps(){if(ar===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=ur===null?Dt.memoizedState:ur.next;if(e!==null)ur=e,ar=t;else{if(t===null)throw Error(xe(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},ur===null?Dt.memoizedState=ur=t:ur=ur.next=t}return ur}function Fu(t,e){return typeof e=="function"?e(t):e}function jg(t){var e=Ps(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=ar,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Dt.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ks(n,e.memoizedState)||(Jr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Dt.lanes|=i,Xi|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wg(t){var e=Ps(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Ks(i,e.memoizedState)||(Jr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function A_(){}function P_(t,e){var r=Dt,n=Ps(),a=e(),i=!Ks(n.memoizedState,a);if(i&&(n.memoizedState=a,Jr=!0),n=n.queue,gv(O_.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,Vu(9,R_.bind(null,r,n,a,e),void 0,null),hr===null)throw Error(xe(349));Ji&30||I_(r,e,a)}return a}function I_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function R_(t,e,r,n){e.value=r,e.getSnapshot=n,D_(e)&&M_(t)}function O_(t,e,r){return r(function(){D_(e)&&M_(t)})}function D_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ks(t,r)}catch{return!0}}function M_(t){var e=Kn(t,1);e!==null&&Hs(e,t,1,-1)}function Sw(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=f5.bind(null,Dt,t),[e.memoizedState,t]}function Vu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function L_(){return Ps().memoizedState}function Mh(t,e,r,n){var a=ln();Dt.flags|=t,a.memoizedState=Vu(1|e,r,void 0,n===void 0?null:n)}function qf(t,e,r,n){var a=Ps();n=n===void 0?null:n;var i=void 0;if(ar!==null){var o=ar.memoizedState;if(i=o.destroy,n!==null&&mv(n,o.deps)){a.memoizedState=Vu(e,r,i,n);return}}Dt.flags|=t,a.memoizedState=Vu(1|e,r,i,n)}function _w(t,e){return Mh(8390656,8,t,e)}function gv(t,e){return qf(2048,8,t,e)}function F_(t,e){return qf(4,2,t,e)}function V_(t,e){return qf(4,4,t,e)}function U_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B_(t,e,r){return r=r!=null?r.concat([t]):null,qf(4,4,U_.bind(null,e,t),r)}function xv(){}function $_(t,e){var r=Ps();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function q_(t,e){var r=Ps();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function z_(t,e,r){return Ji&21?(Ks(r,e)||(r=QS(),Dt.lanes|=r,Xi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=r)}function h5(t,e){var r=yt;yt=r!==0&&4>r?r:4,t(!0);var n=bg.transition;bg.transition={};try{t(!1),e()}finally{yt=r,bg.transition=n}}function H_(){return Ps().memoizedState}function m5(t,e,r){var n=Ka(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},W_(t))K_(e,r);else if(r=E_(t,e,r,n),r!==null){var a=zr();Hs(r,t,n,a),G_(r,e,n)}}function f5(t,e,r){var n=Ka(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(W_(t))K_(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ks(l,o)){var c=e.interleaved;c===null?(a.next=a,lv(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=E_(t,e,a,n),r!==null&&(a=zr(),Hs(r,t,n,a),G_(r,e,n))}}function W_(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function K_(t,e){nu=Pm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function G_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,G0(t,r)}}var Im={readContext:As,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},p5={readContext:As,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:As,useEffect:_w,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mh(4194308,4,U_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mh(4,2,t,e)},useMemo:function(t,e){var r=ln();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ln();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=m5.bind(null,Dt,t),[n.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Sw,useDebugValue:xv,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Sw(!1),e=t[0];return t=h5.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Dt,a=ln();if(It){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),hr===null)throw Error(xe(349));Ji&30||I_(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,_w(O_.bind(null,n,i,t),[t]),n.flags|=2048,Vu(9,R_.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ln(),e=hr.identifierPrefix;if(It){var r=Dn,n=On;r=(n&~(1<<32-zs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Lu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=d5++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g5={readContext:As,useCallback:$_,useContext:As,useEffect:gv,useImperativeHandle:B_,useInsertionEffect:F_,useLayoutEffect:V_,useMemo:q_,useReducer:jg,useRef:L_,useState:function(){return jg(Fu)},useDebugValue:xv,useDeferredValue:function(t){var e=Ps();return z_(e,ar.memoizedState,t)},useTransition:function(){var t=jg(Fu)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:A_,useSyncExternalStore:P_,useId:H_,unstable_isNewReconciler:!1},x5={readContext:As,useCallback:$_,useContext:As,useEffect:gv,useImperativeHandle:B_,useInsertionEffect:F_,useLayoutEffect:V_,useMemo:q_,useReducer:wg,useRef:L_,useState:function(){return wg(Fu)},useDebugValue:xv,useDeferredValue:function(t){var e=Ps();return ar===null?e.memoizedState=t:z_(e,ar.memoizedState,t)},useTransition:function(){var t=wg(Fu)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:A_,useSyncExternalStore:P_,useId:H_,unstable_isNewReconciler:!1};function Fs(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zf={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),a=Ka(t),i=Vn(n,a);i.payload=e,r!=null&&(i.callback=r),e=Ha(t,i,a),e!==null&&(Hs(e,t,a,n),Oh(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),a=Ka(t),i=Vn(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ha(t,i,a),e!==null&&(Hs(e,t,a,n),Oh(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=Ka(t),a=Vn(r,n);a.tag=2,e!=null&&(a.callback=e),e=Ha(t,a,n),e!==null&&(Hs(e,t,n,r),Oh(e,t,n))}};function Ew(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Pu(r,n)||!Pu(a,i):!0}function Q_(t,e,r){var n=!1,a=ai,i=e.contextType;return typeof i=="object"&&i!==null?i=As(i):(a=es(e)?Qi:Fr.current,n=e.contextTypes,i=(n=n!=null)?Tl(t,a):ai),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Tw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function Jx(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},cv(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=As(i):(i=es(e)?Qi:Fr.current,a.context=Tl(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yx(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&zf.enqueueReplaceState(a,a.state,null),Cm(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Il(t,e){try{var r="",n=e;do r+=H3(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Ng(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var y5=typeof WeakMap=="function"?WeakMap:Map;function Y_(t,e,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Om||(Om=!0,ly=n),Xx(t,e)},r}function J_(t,e,r){r=Vn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Xx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xx(t,e),typeof n!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Cw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new y5;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=I5.bind(null,t,e,r),e.then(t,t))}function Aw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pw(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vn(-1,1),e.tag=2,Ha(r,e,1))),r.lanes|=1),t)}var v5=ia.ReactCurrentOwner,Jr=!1;function qr(t,e,r,n){e.child=t===null?__(e,null,r,n):Al(e,t.child,r,n)}function Iw(t,e,r,n,a){r=r.render;var i=e.ref;return ml(e,a),n=fv(t,e,r,n,i,a),r=pv(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Gn(t,e,a)):(It&&r&&rv(e),e.flags|=1,qr(t,e,n,a),e.child)}function Rw(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Sv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,X_(t,e,i,n,a)):(t=Uh(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pu,r(o,n)&&t.ref===e.ref)return Gn(t,e,a)}return e.flags|=1,t=Ga(i,n),t.ref=e.ref,t.return=e,e.child=t}function X_(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Pu(i,n)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,Gn(t,e,a)}return Zx(t,e,r,n,a)}function Z_(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(rl,os),os|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(rl,os),os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nt(rl,os),os|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Nt(rl,os),os|=n;return qr(t,e,a,r),e.child}function eE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zx(t,e,r,n,a){var i=es(r)?Qi:Fr.current;return i=Tl(e,i),ml(e,a),r=fv(t,e,r,n,i,a),n=pv(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Gn(t,e,a)):(It&&n&&rv(e),e.flags|=1,qr(t,e,r,a),e.child)}function Ow(t,e,r,n,a){if(es(r)){var i=!0;km(e)}else i=!1;if(ml(e,a),e.stateNode===null)Lh(t,e),Q_(e,r,n),Jx(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=As(u):(u=es(r)?Qi:Fr.current,u=Tl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Tw(e,o,n,u),_a=!1;var m=e.memoizedState;o.state=m,Cm(e,n,o,a),c=e.memoizedState,l!==n||m!==c||Zr.current||_a?(typeof d=="function"&&(Yx(e,r,d,n),c=e.memoizedState),(l=_a||Ew(e,r,l,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,T_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fs(e.type,l),o.props=u,h=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=As(c):(c=es(r)?Qi:Fr.current,c=Tl(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Tw(e,o,n,c),_a=!1,m=e.memoizedState,o.state=m,Cm(e,n,o,a);var g=e.memoizedState;l!==h||m!==g||Zr.current||_a?(typeof f=="function"&&(Yx(e,r,f,n),g=e.memoizedState),(u=_a||Ew(e,r,u,n,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return ey(t,e,r,n,i,a)}function ey(t,e,r,n,a,i){eE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&vw(e,r,!1),Gn(t,e,i);n=e.stateNode,v5.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Al(e,t.child,null,i),e.child=Al(e,null,l,i)):qr(t,e,l,i),e.memoizedState=n.state,a&&vw(e,r,!0),e.child}function tE(t){var e=t.stateNode;e.pendingContext?yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yw(t,e.context,!1),uv(t,e.containerInfo)}function Dw(t,e,r,n,a){return Cl(),nv(a),e.flags|=256,qr(t,e,r,n),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ry(t){return{baseLanes:t,cachePool:null,transitions:null}}function rE(t,e,r){var n=e.pendingProps,a=Rt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Nt(Rt,a&1),t===null)return Gx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kf(o,n,0,null),t=Wi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ry(r),e.memoizedState=ty,t):yv(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return b5(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ga(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ga(l,i):(i=Wi(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ry(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ty,n}return i=t.child,t=i.sibling,n=Ga(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function yv(t,e){return e=Kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,r,n){return n!==null&&nv(n),Al(e,t.child,null,r),t=yv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b5(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ng(Error(xe(422))),sh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Kf({mode:"visible",children:n.children},a,0,null),i=Wi(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Al(e,t.child,null,o),e.child.memoizedState=ry(o),e.memoizedState=ty,i);if(!(e.mode&1))return sh(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(xe(419)),n=Ng(i,n,void 0),sh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Jr||l){if(n=hr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Kn(t,a),Hs(n,t,a,-1))}return kv(),n=Ng(Error(xe(421))),sh(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=R5.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,cs=za(a.nextSibling),us=e,It=!0,Us=null,t!==null&&(Ns[ks++]=On,Ns[ks++]=Dn,Ns[ks++]=Yi,On=t.id,Dn=t.overflow,Yi=e),e=yv(e,n.children),e.flags|=4096,e)}function Mw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qx(t.return,e,r)}function kg(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function sE(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(qr(t,e,n.children,r),n=Rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mw(t,r,e);else if(t.tag===19)Mw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(Rt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Am(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),kg(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Am(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}kg(e,!0,r,null,i);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Ga(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ga(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function j5(t,e,r){switch(e.tag){case 3:tE(e),Cl();break;case 5:C_(e);break;case 1:es(e.type)&&km(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Nt(Em,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(Rt,Rt.current&1),e.flags|=128,null):r&e.child.childLanes?rE(t,e,r):(Nt(Rt,Rt.current&1),t=Gn(t,e,r),t!==null?t.sibling:null);Nt(Rt,Rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sE(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Rt,Rt.current),n)break;return null;case 22:case 23:return e.lanes=0,Z_(t,e,r)}return Gn(t,e,r)}var nE,sy,aE,iE;nE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sy=function(){};aE=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Vi(pn.current);var i=null;switch(r){case"input":a=Sx(t,a),n=Sx(t,n),i=[];break;case"select":a=Lt({},a,{value:void 0}),n=Lt({},n,{value:void 0}),i=[];break;case"textarea":a=Tx(t,a),n=Tx(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wm)}Ax(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ku.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ku.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};iE=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ic(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function w5(t,e,r){var n=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return es(e.type)&&Nm(),Ar(e),null;case 3:return n=e.stateNode,Pl(),Et(Zr),Et(Fr),hv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(dy(Us),Us=null))),sy(t,e),Ar(e),null;case 5:dv(e);var a=Vi(Mu.current);if(r=e.type,t!==null&&e.stateNode!=null)aE(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(xe(166));return Ar(e),null}if(t=Vi(pn.current),th(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dn]=e,n[Ou]=i,t=(e.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Gc.length;a++)kt(Gc[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":Hj(n,i),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},kt("invalid",n);break;case"textarea":Kj(n,i),kt("invalid",n)}Ax(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&eh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&eh(n.textContent,l,t),a=["children",""+l]):ku.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&kt("scroll",n)}switch(r){case"input":Wd(n),Wj(n,i,!0);break;case"textarea":Wd(n),Gj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wm)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dn]=e,t[Ou]=n,nE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Px(r,n),r){case"dialog":kt("cancel",t),kt("close",t),a=n;break;case"iframe":case"object":case"embed":kt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Gc.length;a++)kt(Gc[a],t);a=n;break;case"source":kt("error",t),a=n;break;case"img":case"image":case"link":kt("error",t),kt("load",t),a=n;break;case"details":kt("toggle",t),a=n;break;case"input":Hj(t,n),a=Sx(t,n),kt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Lt({},n,{value:void 0}),kt("invalid",t);break;case"textarea":Kj(t,n),a=Tx(t,n),kt("invalid",t);break;default:a=n}Ax(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?LS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DS(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Su(t,c):typeof c=="number"&&Su(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?c!=null&&i==="onScroll"&&kt("scroll",t):c!=null&&$0(t,i,c,o))}switch(r){case"input":Wd(t),Wj(t,n,!1);break;case"textarea":Wd(t),Gj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ni(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?cl(t,!!n.multiple,i,!1):n.defaultValue!=null&&cl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=wm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(xe(166));if(r=Vi(Mu.current),Vi(pn.current),th(e)){if(n=e.stateNode,r=e.memoizedProps,n[dn]=e,(i=n.nodeValue!==r)&&(t=us,t!==null))switch(t.tag){case 3:eh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=e,e.stateNode=n}return Ar(e),null;case 13:if(Et(Rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&cs!==null&&e.mode&1&&!(e.flags&128))k_(),Cl(),e.flags|=98560,i=!1;else if(i=th(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[dn]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),i=!1}else Us!==null&&(dy(Us),Us=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?ir===0&&(ir=3):kv())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return Pl(),sy(t,e),t===null&&Iu(e.stateNode.containerInfo),Ar(e),null;case 10:return ov(e.type._context),Ar(e),null;case 17:return es(e.type)&&Nm(),Ar(e),null;case 19:if(Et(Rt),i=e.memoizedState,i===null)return Ar(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Ic(i,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Am(t),o!==null){for(e.flags|=128,Ic(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qt()>Rl&&(e.flags|=128,n=!0,Ic(i,!1),e.lanes=4194304)}else{if(!n)if(t=Am(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ic(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return Ar(e),null}else 2*Qt()-i.renderingStartTime>Rl&&r!==1073741824&&(e.flags|=128,n=!0,Ic(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qt(),e.sibling=null,r=Rt.current,Nt(Rt,n?r&1|2:r&1),e):(Ar(e),null);case 22:case 23:return Nv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?os&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function N5(t,e){switch(sv(e),e.tag){case 1:return es(e.type)&&Nm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pl(),Et(Zr),Et(Fr),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(Et(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(Rt),null;case 4:return Pl(),null;case 10:return ov(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var nh=!1,Dr=!1,k5=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function tl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bt(t,e,n)}else r.current=null}function ny(t,e,r){try{r()}catch(n){Bt(t,e,n)}}var Lw=!1;function S5(t,e){if(Bx=vm,t=d_(),tv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===r&&++u===a&&(l=o),m===i&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($x={focusedElem:t,selectionRange:r},vm=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fs(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(j){Bt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=Lw,Lw=!1,g}function au(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&ny(e,r,i)}a=a.next}while(a!==n)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ay(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function oE(t){var e=t.alternate;e!==null&&(t.alternate=null,oE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[Ou],delete e[Hx],delete e[o5],delete e[l5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lE(t){return t.tag===5||t.tag===3||t.tag===4}function Fw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wm));else if(n!==4&&(t=t.child,t!==null))for(iy(t,e,r),t=t.sibling;t!==null;)iy(t,e,r),t=t.sibling}function oy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oy(t,e,r),t=t.sibling;t!==null;)oy(t,e,r),t=t.sibling}var yr=null,Vs=!1;function xa(t,e,r){for(r=r.child;r!==null;)cE(t,e,r),r=r.sibling}function cE(t,e,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Lf,r)}catch{}switch(r.tag){case 5:Dr||tl(r,e);case 6:var n=yr,a=Vs;yr=null,xa(t,e,r),yr=n,Vs=a,yr!==null&&(Vs?(t=yr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):yr.removeChild(r.stateNode));break;case 18:yr!==null&&(Vs?(t=yr,r=r.stateNode,t.nodeType===8?xg(t.parentNode,r):t.nodeType===1&&xg(t,r),Cu(t)):xg(yr,r.stateNode));break;case 4:n=yr,a=Vs,yr=r.stateNode.containerInfo,Vs=!0,xa(t,e,r),yr=n,Vs=a;break;case 0:case 11:case 14:case 15:if(!Dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ny(r,e,o),a=a.next}while(a!==n)}xa(t,e,r);break;case 1:if(!Dr&&(tl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bt(r,e,l)}xa(t,e,r);break;case 21:xa(t,e,r);break;case 22:r.mode&1?(Dr=(n=Dr)||r.memoizedState!==null,xa(t,e,r),Dr=n):xa(t,e,r);break;default:xa(t,e,r)}}function Vw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new k5),e.forEach(function(n){var a=O5.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ls(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:yr=l.stateNode,Vs=!1;break e;case 3:yr=l.stateNode.containerInfo,Vs=!0;break e;case 4:yr=l.stateNode.containerInfo,Vs=!0;break e}l=l.return}if(yr===null)throw Error(xe(160));cE(i,o,a),yr=null,Vs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Bt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uE(e,t),e=e.sibling}function uE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ls(e,t),sn(t),n&4){try{au(3,t,t.return),Hf(3,t)}catch(v){Bt(t,t.return,v)}try{au(5,t,t.return)}catch(v){Bt(t,t.return,v)}}break;case 1:Ls(e,t),sn(t),n&512&&r!==null&&tl(r,r.return);break;case 5:if(Ls(e,t),sn(t),n&512&&r!==null&&tl(r,r.return),t.flags&32){var a=t.stateNode;try{Su(a,"")}catch(v){Bt(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&IS(a,i),Px(l,o);var u=Px(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?LS(a,h):d==="dangerouslySetInnerHTML"?DS(a,h):d==="children"?Su(a,h):$0(a,d,h,u)}switch(l){case"input":_x(a,i);break;case"textarea":RS(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?cl(a,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?cl(a,!!i.multiple,i.defaultValue,!0):cl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ou]=i}catch(v){Bt(t,t.return,v)}}break;case 6:if(Ls(e,t),sn(t),n&4){if(t.stateNode===null)throw Error(xe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(v){Bt(t,t.return,v)}}break;case 3:if(Ls(e,t),sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cu(e.containerInfo)}catch(v){Bt(t,t.return,v)}break;case 4:Ls(e,t),sn(t);break;case 13:Ls(e,t),sn(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(jv=Qt())),n&4&&Vw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Dr=(u=Dr)||d,Ls(e,t),Dr=u):Ls(e,t),sn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(h=Ce=d;Ce!==null;){switch(m=Ce,f=m.child,m.tag){case 0:case 11:case 14:case 15:au(4,m,m.return);break;case 1:tl(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Bt(n,r,v)}}break;case 5:tl(m,m.return);break;case 22:if(m.memoizedState!==null){Bw(h);continue}}f!==null?(f.return=m,Ce=f):Bw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=MS("display",o))}catch(v){Bt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Bt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ls(e,t),sn(t),n&4&&Vw(t);break;case 21:break;default:Ls(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lE(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Su(a,""),n.flags&=-33);var i=Fw(t);oy(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Fw(t);iy(t,l,o);break;default:throw Error(xe(161))}}catch(c){Bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _5(t,e,r){Ce=t,dE(t)}function dE(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||nh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dr;l=nh;var u=Dr;if(nh=o,(Dr=c)&&!u)for(Ce=a;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?$w(a):c!==null?(c.return=o,Ce=c):$w(a);for(;i!==null;)Ce=i,dE(i),i=i.sibling;Ce=a,nh=l,Dr=u}Uw(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):Uw(t)}}function Uw(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dr||Hf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Dr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Fs(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kw(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kw(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Dr||e.flags&512&&ay(e)}catch(m){Bt(e,e.return,m)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function Bw(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function $w(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hf(4,e)}catch(c){Bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Bt(e,a,c)}}var i=e.return;try{ay(e)}catch(c){Bt(e,i,c)}break;case 5:var o=e.return;try{ay(e)}catch(c){Bt(e,o,c)}}}catch(c){Bt(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var E5=Math.ceil,Rm=ia.ReactCurrentDispatcher,vv=ia.ReactCurrentOwner,Cs=ia.ReactCurrentBatchConfig,mt=0,hr=null,tr=null,Nr=0,os=0,rl=xi(0),ir=0,Uu=null,Xi=0,Wf=0,bv=0,iu=null,Qr=null,jv=0,Rl=1/0,In=null,Om=!1,ly=null,Wa=null,ah=!1,La=null,Dm=0,ou=0,cy=null,Fh=-1,Vh=0;function zr(){return mt&6?Qt():Fh!==-1?Fh:Fh=Qt()}function Ka(t){return t.mode&1?mt&2&&Nr!==0?Nr&-Nr:u5.transition!==null?(Vh===0&&(Vh=QS()),Vh):(t=yt,t!==0||(t=window.event,t=t===void 0?16:r_(t.type)),t):1}function Hs(t,e,r,n){if(50<ou)throw ou=0,cy=null,Error(xe(185));ud(t,r,n),(!(mt&2)||t!==hr)&&(t===hr&&(!(mt&2)&&(Wf|=r),ir===4&&Aa(t,Nr)),ts(t,n),r===1&&mt===0&&!(e.mode&1)&&(Rl=Qt()+500,$f&&yi()))}function ts(t,e){var r=t.callbackNode;uI(t,e);var n=ym(t,t===hr?Nr:0);if(n===0)r!==null&&Jj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Jj(r),e===1)t.tag===0?c5(qw.bind(null,t)):j_(qw.bind(null,t)),a5(function(){!(mt&6)&&yi()}),r=null;else{switch(YS(n)){case 1:r=K0;break;case 4:r=KS;break;case 16:r=xm;break;case 536870912:r=GS;break;default:r=xm}r=vE(r,hE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hE(t,e){if(Fh=-1,Vh=0,mt&6)throw Error(xe(327));var r=t.callbackNode;if(fl()&&t.callbackNode!==r)return null;var n=ym(t,t===hr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mm(t,n);else{e=n;var a=mt;mt|=2;var i=fE();(hr!==t||Nr!==e)&&(In=null,Rl=Qt()+500,Hi(t,e));do try{A5();break}catch(l){mE(t,l)}while(1);iv(),Rm.current=i,mt=a,tr!==null?e=0:(hr=null,Nr=0,e=ir)}if(e!==0){if(e===2&&(a=Mx(t),a!==0&&(n=a,e=uy(t,a))),e===1)throw r=Uu,Hi(t,0),Aa(t,n),ts(t,Qt()),r;if(e===6)Aa(t,n);else{if(a=t.current.alternate,!(n&30)&&!T5(a)&&(e=Mm(t,n),e===2&&(i=Mx(t),i!==0&&(n=i,e=uy(t,i))),e===1))throw r=Uu,Hi(t,0),Aa(t,n),ts(t,Qt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(xe(345));case 2:Ii(t,Qr,In);break;case 3:if(Aa(t,n),(n&130023424)===n&&(e=jv+500-Qt(),10<e)){if(ym(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=zx(Ii.bind(null,t,Qr,In),e);break}Ii(t,Qr,In);break;case 4:if(Aa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-zs(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E5(n/1960))-n,10<n){t.timeoutHandle=zx(Ii.bind(null,t,Qr,In),n);break}Ii(t,Qr,In);break;case 5:Ii(t,Qr,In);break;default:throw Error(xe(329))}}}return ts(t,Qt()),t.callbackNode===r?hE.bind(null,t):null}function uy(t,e){var r=iu;return t.current.memoizedState.isDehydrated&&(Hi(t,e).flags|=256),t=Mm(t,e),t!==2&&(e=Qr,Qr=r,e!==null&&dy(e)),t}function dy(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function T5(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ks(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~bv,e&=~Wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-zs(e),n=1<<r;t[r]=-1,e&=~n}}function qw(t){if(mt&6)throw Error(xe(327));fl();var e=ym(t,0);if(!(e&1))return ts(t,Qt()),null;var r=Mm(t,e);if(t.tag!==0&&r===2){var n=Mx(t);n!==0&&(e=n,r=uy(t,n))}if(r===1)throw r=Uu,Hi(t,0),Aa(t,e),ts(t,Qt()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Qr,In),ts(t,Qt()),null}function wv(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(Rl=Qt()+500,$f&&yi())}}function Zi(t){La!==null&&La.tag===0&&!(mt&6)&&fl();var e=mt;mt|=1;var r=Cs.transition,n=yt;try{if(Cs.transition=null,yt=1,t)return t()}finally{yt=n,Cs.transition=r,mt=e,!(mt&6)&&yi()}}function Nv(){os=rl.current,Et(rl)}function Hi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,n5(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(sv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nm();break;case 3:Pl(),Et(Zr),Et(Fr),hv();break;case 5:dv(n);break;case 4:Pl();break;case 13:Et(Rt);break;case 19:Et(Rt);break;case 10:ov(n.type._context);break;case 22:case 23:Nv()}r=r.return}if(hr=t,tr=t=Ga(t.current,null),Nr=os=e,ir=0,Uu=null,bv=Wf=Xi=0,Qr=iu=null,Fi!==null){for(e=0;e<Fi.length;e++)if(r=Fi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Fi=null}return t}function mE(t,e){do{var r=tr;try{if(iv(),Dh.current=Im,Pm){for(var n=Dt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Pm=!1}if(Ji=0,ur=ar=Dt=null,nu=!1,Lu=0,vv.current=null,r===null||r.return===null){ir=1,Uu=e,tr=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Aw(o);if(f!==null){f.flags&=-257,Pw(f,o,l,i,e),f.mode&1&&Cw(i,u,e),e=f,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){Cw(i,u,e),kv();break e}c=Error(xe(426))}}else if(It&&l.mode&1){var b=Aw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Pw(b,o,l,i,e),nv(Il(c,l));break e}}i=c=Il(c,l),ir!==4&&(ir=2),iu===null?iu=[i]:iu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Y_(i,c,e);Nw(i,y);break e;case 1:l=c;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wa===null||!Wa.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=J_(i,l,e);Nw(i,j);break e}}i=i.return}while(i!==null)}gE(r)}catch(S){e=S,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(1)}function fE(){var t=Rm.current;return Rm.current=Im,t===null?Im:t}function kv(){(ir===0||ir===3||ir===2)&&(ir=4),hr===null||!(Xi&268435455)&&!(Wf&268435455)||Aa(hr,Nr)}function Mm(t,e){var r=mt;mt|=2;var n=fE();(hr!==t||Nr!==e)&&(In=null,Hi(t,e));do try{C5();break}catch(a){mE(t,a)}while(1);if(iv(),mt=r,Rm.current=n,tr!==null)throw Error(xe(261));return hr=null,Nr=0,ir}function C5(){for(;tr!==null;)pE(tr)}function A5(){for(;tr!==null&&!tI();)pE(tr)}function pE(t){var e=yE(t.alternate,t,os);t.memoizedProps=t.pendingProps,e===null?gE(t):tr=e,vv.current=null}function gE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=N5(r,e),r!==null){r.flags&=32767,tr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,tr=null;return}}else if(r=w5(r,e,os),r!==null){tr=r;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ir===0&&(ir=5)}function Ii(t,e,r){var n=yt,a=Cs.transition;try{Cs.transition=null,yt=1,P5(t,e,r,n)}finally{Cs.transition=a,yt=n}return null}function P5(t,e,r,n){do fl();while(La!==null);if(mt&6)throw Error(xe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(dI(t,i),t===hr&&(tr=hr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ah||(ah=!0,vE(xm,function(){return fl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Cs.transition,Cs.transition=null;var o=yt;yt=1;var l=mt;mt|=4,vv.current=null,S5(t,r),uE(r,t),JI($x),vm=!!Bx,$x=Bx=null,t.current=r,_5(r),rI(),mt=l,yt=o,Cs.transition=i}else t.current=r;if(ah&&(ah=!1,La=t,Dm=a),i=t.pendingLanes,i===0&&(Wa=null),aI(r.stateNode),ts(t,Qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Om)throw Om=!1,t=ly,ly=null,t;return Dm&1&&t.tag!==0&&fl(),i=t.pendingLanes,i&1?t===cy?ou++:(ou=0,cy=t):ou=0,yi(),null}function fl(){if(La!==null){var t=YS(Dm),e=Cs.transition,r=yt;try{if(Cs.transition=null,yt=16>t?16:t,La===null)var n=!1;else{if(t=La,La=null,Dm=0,mt&6)throw Error(xe(331));var a=mt;for(mt|=4,Ce=t.current;Ce!==null;){var i=Ce,o=i.child;if(Ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:au(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ce=h;else for(;Ce!==null;){d=Ce;var m=d.sibling,f=d.return;if(oE(d),d===u){Ce=null;break}if(m!==null){m.return=f,Ce=m;break}Ce=f}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ce=o;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:au(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ce=y;break e}Ce=i.return}}var p=t.current;for(Ce=p;Ce!==null;){o=Ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ce=w;else e:for(o=p;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hf(9,l)}}catch(S){Bt(l,l.return,S)}if(l===o){Ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ce=j;break e}Ce=l.return}}if(mt=a,yi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Lf,t)}catch{}n=!0}return n}finally{yt=r,Cs.transition=e}}return!1}function zw(t,e,r){e=Il(r,e),e=Y_(t,e,1),t=Ha(t,e,1),e=zr(),t!==null&&(ud(t,1,e),ts(t,e))}function Bt(t,e,r){if(t.tag===3)zw(t,t,r);else for(;e!==null;){if(e.tag===3){zw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wa===null||!Wa.has(n))){t=Il(r,t),t=J_(e,t,1),e=Ha(e,t,1),t=zr(),e!==null&&(ud(e,1,t),ts(e,t));break}}e=e.return}}function I5(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,hr===t&&(Nr&r)===r&&(ir===4||ir===3&&(Nr&130023424)===Nr&&500>Qt()-jv?Hi(t,0):bv|=r),ts(t,e)}function xE(t,e){e===0&&(t.mode&1?(e=Qd,Qd<<=1,!(Qd&130023424)&&(Qd=4194304)):e=1);var r=zr();t=Kn(t,e),t!==null&&(ud(t,e,r),ts(t,r))}function R5(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xE(t,r)}function O5(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(e),xE(t,r)}var yE;yE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zr.current)Jr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Jr=!1,j5(t,e,r);Jr=!!(t.flags&131072)}else Jr=!1,It&&e.flags&1048576&&w_(e,_m,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lh(t,e),t=e.pendingProps;var a=Tl(e,Fr.current);ml(e,r),a=fv(null,e,n,t,a,r);var i=pv();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,es(n)?(i=!0,km(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cv(e),a.updater=zf,e.stateNode=a,a._reactInternals=e,Jx(e,n,t,r),e=ey(null,e,n,!0,i,r)):(e.tag=0,It&&i&&rv(e),qr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lh(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=M5(n),t=Fs(n,t),a){case 0:e=Zx(null,e,n,t,r);break e;case 1:e=Ow(null,e,n,t,r);break e;case 11:e=Iw(null,e,n,t,r);break e;case 14:e=Rw(null,e,n,Fs(n.type,t),r);break e}throw Error(xe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fs(n,a),Zx(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fs(n,a),Ow(t,e,n,a,r);case 3:e:{if(tE(e),t===null)throw Error(xe(387));n=e.pendingProps,i=e.memoizedState,a=i.element,T_(t,e),Cm(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Il(Error(xe(423)),e),e=Dw(t,e,n,r,a);break e}else if(n!==a){a=Il(Error(xe(424)),e),e=Dw(t,e,n,r,a);break e}else for(cs=za(e.stateNode.containerInfo.firstChild),us=e,It=!0,Us=null,r=__(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cl(),n===a){e=Gn(t,e,r);break e}qr(t,e,n,r)}e=e.child}return e;case 5:return C_(e),t===null&&Gx(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,qx(n,a)?o=null:i!==null&&qx(n,i)&&(e.flags|=32),eE(t,e),qr(t,e,o,r),e.child;case 6:return t===null&&Gx(e),null;case 13:return rE(t,e,r);case 4:return uv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Al(e,null,n,r):qr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fs(n,a),Iw(t,e,n,a,r);case 7:return qr(t,e,e.pendingProps,r),e.child;case 8:return qr(t,e,e.pendingProps.children,r),e.child;case 12:return qr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Nt(Em,n._currentValue),n._currentValue=o,i!==null)if(Ks(i.value,o)){if(i.children===a.children&&!Zr.current){e=Gn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Vn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qx(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qx(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,ml(e,r),a=As(a),n=n(a),e.flags|=1,qr(t,e,n,r),e.child;case 14:return n=e.type,a=Fs(n,e.pendingProps),a=Fs(n.type,a),Rw(t,e,n,a,r);case 15:return X_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fs(n,a),Lh(t,e),e.tag=1,es(n)?(t=!0,km(e)):t=!1,ml(e,r),Q_(e,n,a),Jx(e,n,a,r),ey(null,e,n,!0,t,r);case 19:return sE(t,e,r);case 22:return Z_(t,e,r)}throw Error(xe(156,e.tag))};function vE(t,e){return WS(t,e)}function D5(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(t,e,r,n){return new D5(t,e,r,n)}function Sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M5(t){if(typeof t=="function")return Sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z0)return 11;if(t===H0)return 14}return 2}function Ga(t,e){var r=t.alternate;return r===null?(r=Ts(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Uh(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")Sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return Wi(r.children,a,i,e);case q0:o=8,a|=8;break;case jx:return t=Ts(12,r,e,a|2),t.elementType=jx,t.lanes=i,t;case wx:return t=Ts(13,r,e,a),t.elementType=wx,t.lanes=i,t;case Nx:return t=Ts(19,r,e,a),t.elementType=Nx,t.lanes=i,t;case CS:return Kf(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ES:o=10;break e;case TS:o=9;break e;case z0:o=11;break e;case H0:o=14;break e;case Sa:o=16,n=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=Ts(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Wi(t,e,r,n){return t=Ts(7,t,n,e),t.lanes=r,t}function Kf(t,e,r,n){return t=Ts(22,t,n,e),t.elementType=CS,t.lanes=r,t.stateNode={isHidden:!1},t}function Sg(t,e,r){return t=Ts(6,t,null,e),t.lanes=r,t}function _g(t,e,r){return e=Ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L5(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ig(0),this.expirationTimes=ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ig(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _v(t,e,r,n,a,i,o,l,c){return t=new L5(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ts(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(i),t}function F5(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bE(t){if(!t)return ai;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(es(r))return b_(t,r,e)}return e}function jE(t,e,r,n,a,i,o,l,c){return t=_v(r,n,!0,t,a,i,o,l,c),t.context=bE(null),r=t.current,n=zr(),a=Ka(r),i=Vn(n,a),i.callback=e??null,Ha(r,i,a),t.current.lanes=a,ud(t,a,n),ts(t,n),t}function Gf(t,e,r,n){var a=e.current,i=zr(),o=Ka(a);return r=bE(r),e.context===null?e.context=r:e.pendingContext=r,e=Vn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ha(a,e,o),t!==null&&(Hs(t,a,o,i),Oh(t,a,o)),o}function Lm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ev(t,e){Hw(t,e),(t=t.alternate)&&Hw(t,e)}function V5(){return null}var wE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}Qf.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Gf(t,e,null,null)};Qf.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){Gf(null,t,null,null)}),e[Wn]=null}};function Qf(t){this._internalRoot=t}Qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ca.length&&e!==0&&e<Ca[r].priority;r++);Ca.splice(r,0,t),r===0&&t_(t)}};function Cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function U5(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Lm(o);i.call(u)}}var o=jE(e,n,t,0,null,!1,!1,"",Ww);return t._reactRootContainer=o,t[Wn]=o.current,Iu(t.nodeType===8?t.parentNode:t),Zi(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Lm(c);l.call(u)}}var c=_v(t,0,!1,null,null,!1,!1,"",Ww);return t._reactRootContainer=c,t[Wn]=c.current,Iu(t.nodeType===8?t.parentNode:t),Zi(function(){Gf(e,c,r,n)}),c}function Jf(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Lm(o);l.call(c)}}Gf(e,o,t,a)}else o=U5(r,e,t,a,n);return Lm(o)}JS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Kc(e.pendingLanes);r!==0&&(G0(e,r|1),ts(e,Qt()),!(mt&6)&&(Rl=Qt()+500,yi()))}break;case 13:Zi(function(){var n=Kn(t,1);if(n!==null){var a=zr();Hs(n,t,1,a)}}),Ev(t,1)}};Q0=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var r=zr();Hs(e,t,134217728,r)}Ev(t,134217728)}};XS=function(t){if(t.tag===13){var e=Ka(t),r=Kn(t,e);if(r!==null){var n=zr();Hs(r,t,e,n)}Ev(t,e)}};ZS=function(){return yt};e_=function(t,e){var r=yt;try{return yt=t,e()}finally{yt=r}};Rx=function(t,e,r){switch(e){case"input":if(_x(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Bf(n);if(!a)throw Error(xe(90));PS(n),_x(n,a)}}}break;case"textarea":RS(t,r);break;case"select":e=r.value,e!=null&&cl(t,!!r.multiple,e,!1)}};US=wv;BS=Zi;var B5={usingClientEntryPoint:!1,Events:[hd,Yo,Bf,FS,VS,wv]},Rc={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$5={bundleType:Rc.bundleType,version:Rc.version,rendererPackageName:Rc.rendererPackageName,rendererConfig:Rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zS(t),t===null?null:t.stateNode},findFiberByHostInstance:Rc.findFiberByHostInstance||V5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Lf=ih.inject($5),fn=ih}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B5;fs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cv(e))throw Error(xe(200));return F5(t,e,null,r)};fs.createRoot=function(t,e){if(!Cv(t))throw Error(xe(299));var r=!1,n="",a=wE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=_v(t,1,!1,null,null,r,!1,n,a),t[Wn]=e.current,Iu(t.nodeType===8?t.parentNode:t),new Tv(e)};fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=zS(e),t=t===null?null:t.stateNode,t};fs.flushSync=function(t){return Zi(t)};fs.hydrate=function(t,e,r){if(!Yf(e))throw Error(xe(200));return Jf(null,t,e,!0,r)};fs.hydrateRoot=function(t,e,r){if(!Cv(t))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=wE;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=jE(e,null,t,1,r??null,a,!1,i,o),t[Wn]=e.current,Iu(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Qf(e)};fs.render=function(t,e,r){if(!Yf(e))throw Error(xe(200));return Jf(null,t,e,!1,r)};fs.unmountComponentAtNode=function(t){if(!Yf(t))throw Error(xe(40));return t._reactRootContainer?(Zi(function(){Jf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};fs.unstable_batchedUpdates=wv;fs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Yf(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Jf(t,e,r,!1,n)};fs.version="18.3.1-next-f1338f8080-20240426";function NE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NE)}catch(t){console.error(t)}}NE(),NS.exports=fs;var Av=NS.exports;const q5=aa(Av);var Kw=Av;vx.createRoot=Kw.createRoot,vx.hydrateRoot=Kw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}var Fa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fa||(Fa={}));const Gw="popstate";function z5(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return hy("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Fm(a)}return W5(e,r,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H5(){return Math.random().toString(36).substr(2,8)}function Qw(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,r,n){return r===void 0&&(r=null),Bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yl(e):e,{state:r,key:e&&e.key||n||H5()})}function Fm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function W5(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Fa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Bu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Fa.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function m(b,y){l=Fa.Push;let p=hy(v.location,b,y);r&&r(p,b),u=d()+1;let w=Qw(p,u),j=v.createHref(p);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function f(b,y){l=Fa.Replace;let p=hy(v.location,b,y);r&&r(p,b),u=d();let w=Qw(p,u),j=v.createHref(p);o.replaceState(w,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:Fm(b);return p=p.replace(/ $/,"%20"),Mt(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return l},get location(){return t(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gw,h),c=b,()=>{a.removeEventListener(Gw,h),c=null}},createHref(b){return e(a,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(b){return o.go(b)}};return v}var Yw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yw||(Yw={}));function K5(t,e,r){return r===void 0&&(r="/"),G5(t,e,r,!1)}function G5(t,e,r,n){let a=typeof e=="string"?Yl(e):e,i=Ol(a.pathname||"/",r);if(i==null)return null;let o=SE(t);Q5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=i6(i);l=n6(o[c],u,n)}return l}function SE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Qa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:r6(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of _E(i.path))a(i,o,c)}),e}function _E(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=_E(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Q5(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:s6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y5=/^:[\w-]+$/,J5=3,X5=2,Z5=1,e6=10,t6=-2,Jw=t=>t==="*";function r6(t,e){let r=t.split("/"),n=r.length;return r.some(Jw)&&(n+=t6),e&&(n+=X5),r.filter(a=>!Jw(a)).reduce((a,i)=>a+(Y5.test(i)?J5:i===""?Z5:e6),n)}function s6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function n6(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Vm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Vm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Qa([i,h.pathname]),pathnameBase:u6(Qa([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Qa([i,h.pathnameBase]))}return o}function Vm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=a6(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function a6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),kE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function i6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function o6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Yl(t):t;return{pathname:r?r.startsWith("/")?r:l6(r,e):e,search:d6(n),hash:h6(a)}}function l6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Eg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Pv(t,e){let r=c6(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Iv(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Yl(t):(a=Bu({},t),Mt(!a.pathname||!a.pathname.includes("?"),Eg("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),Eg("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),Eg("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=o6(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qa=t=>t.join("/").replace(/\/\/+/g,"/"),u6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TE=["post","put","patch","delete"];new Set(TE);const m6=["get",...TE];new Set(m6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}const Xf=P.createContext(null),CE=P.createContext(null),oa=P.createContext(null),Zf=P.createContext(null),_n=P.createContext({outlet:null,matches:[],isDataRoute:!1}),AE=P.createContext(null);function f6(t,e){let{relative:r}=e===void 0?{}:e;Jl()||Mt(!1);let{basename:n,navigator:a}=P.useContext(oa),{hash:i,pathname:o,search:l}=ep(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Jl(){return P.useContext(Zf)!=null}function Ys(){return Jl()||Mt(!1),P.useContext(Zf).location}function PE(t){P.useContext(oa).static||P.useLayoutEffect(t)}function En(){let{isDataRoute:t}=P.useContext(_n);return t?T6():p6()}function p6(){Jl()||Mt(!1);let t=P.useContext(Xf),{basename:e,future:r,navigator:n}=P.useContext(oa),{matches:a}=P.useContext(_n),{pathname:i}=Ys(),o=JSON.stringify(Pv(a,r.v7_relativeSplatPath)),l=P.useRef(!1);return PE(()=>{l.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Iv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qa([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}const g6=P.createContext(null);function x6(t){let e=P.useContext(_n).outlet;return e&&P.createElement(g6.Provider,{value:t},e)}function IE(){let{matches:t}=P.useContext(_n),e=t[t.length-1];return e?e.params:{}}function ep(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(oa),{matches:a}=P.useContext(_n),{pathname:i}=Ys(),o=JSON.stringify(Pv(a,n.v7_relativeSplatPath));return P.useMemo(()=>Iv(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function y6(t,e){return v6(t,e)}function v6(t,e,r,n){Jl()||Mt(!1);let{navigator:a}=P.useContext(oa),{matches:i}=P.useContext(_n),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ys(),d;if(e){var h;let b=typeof e=="string"?Yl(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Mt(!1),d=b}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=K5(t,{pathname:f}),v=k6(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Qa([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Qa([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&v?P.createElement(Zf.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fa.Pop}},v):v}function b6(){let t=DE(),e=EE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:a},r):null,i)}const j6=P.createElement(b6,null);class w6 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(_n.Provider,{value:this.props.routeContext},P.createElement(AE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N6(t){let{routeContext:e,match:r,children:n}=t,a=P.useContext(Xf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(_n.Provider,{value:e},n)}function k6(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let f,g=!1,v=null,b=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||j6,c&&(u<0&&m===0?(C6("route-fallback",!1),g=!0,b=null):u===m&&(g=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),p=()=>{let w;return f?w=v:g?w=b:h.route.Component?w=P.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,P.createElement(N6,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?P.createElement(w6,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var RE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RE||{}),Um=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Um||{});function S6(t){let e=P.useContext(Xf);return e||Mt(!1),e}function _6(t){let e=P.useContext(CE);return e||Mt(!1),e}function E6(t){let e=P.useContext(_n);return e||Mt(!1),e}function OE(t){let e=E6(),r=e.matches[e.matches.length-1];return r.route.id||Mt(!1),r.route.id}function DE(){var t;let e=P.useContext(AE),r=_6(Um.UseRouteError),n=OE(Um.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function T6(){let{router:t}=S6(RE.UseNavigateStable),e=OE(Um.UseNavigateStable),r=P.useRef(!1);return PE(()=>{r.current=!0}),P.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,$u({fromRouteId:e},i)))},[t,e])}const Xw={};function C6(t,e,r){!e&&!Xw[t]&&(Xw[t]=!0)}function A6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Zw(t){let{to:e,replace:r,state:n,relative:a}=t;Jl()||Mt(!1);let{future:i,static:o}=P.useContext(oa),{matches:l}=P.useContext(_n),{pathname:c}=Ys(),u=En(),d=Iv(e,Pv(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return P.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function ME(t){return x6(t.context)}function LE(t){Mt(!1)}function P6(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Fa.Pop,navigator:i,static:o=!1,future:l}=t;Jl()&&Mt(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:i,static:o,future:$u({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Yl(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,v=P.useMemo(()=>{let b=Ol(d,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:f,key:g},navigationType:a}},[c,d,h,m,f,g,a]);return v==null?null:P.createElement(oa.Provider,{value:u},P.createElement(Zf.Provider,{children:r,value:v}))}function I6(t){let{children:e,location:r}=t;return y6(my(e),r)}new Promise(()=>{});function my(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,a)=>{if(!P.isValidElement(n))return;let i=[...e,a];if(n.type===P.Fragment){r.push.apply(r,my(n.props.children,i));return}n.type!==LE&&Mt(!1),!n.props.index||!n.props.children||Mt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=my(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(this,arguments)}function FE(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function R6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O6(t,e){return t.button===0&&(!e||e==="_self")&&!R6(t)}function fy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function D6(t,e){let r=fy(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const M6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F6="6";try{window.__reactRouterVersion=F6}catch{}const V6=P.createContext({isTransitioning:!1}),U6="startTransition",e1=I3[U6];function B6(t){let{basename:e,children:r,future:n,window:a}=t,i=P.useRef();i.current==null&&(i.current=z5({window:a,v5Compat:!0}));let o=i.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=P.useCallback(h=>{u&&e1?e1(()=>c(h)):c(h)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>A6(n),[n]),P.createElement(P6,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=P.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=FE(e,M6),{basename:f}=P.useContext(oa),g,v=!1;if(typeof u=="string"&&q6.test(u)&&(g=u,$6))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ol(j.pathname,f);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:v=!0}catch{}let b=f6(u,{relative:a}),y=H6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function p(w){n&&n(w),w.defaultPrevented||y(w)}return P.createElement("a",Bm({},m,{href:g||b,onClick:v||i?n:p,ref:r,target:c}))}),ya=P.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,h=FE(e,L6),m=ep(c,{relative:h.relative}),f=Ys(),g=P.useContext(CE),{navigator:v,basename:b}=P.useContext(oa),y=g!=null&&W6(m)&&u===!0,p=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,w=f.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&b&&(j=Ol(j,b)||j);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let R=w===p||!o&&w.startsWith(p)&&w.charAt(S)==="/",k=j!=null&&(j===p||!o&&j.startsWith(p)&&j.charAt(p.length)==="/"),N={isActive:R,isPending:k,isTransitioning:y},E=R?n:void 0,T;typeof i=="function"?T=i(N):T=[i,R?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(N):l;return P.createElement(De,Bm({},h,{"aria-current":E,className:T,ref:r,style:_,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var py;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(py||(py={}));var t1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t1||(t1={}));function z6(t){let e=P.useContext(Xf);return e||Mt(!1),e}function H6(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=En(),u=Ys(),d=ep(t,{relative:o});return P.useCallback(h=>{if(O6(h,r)){h.preventDefault();let m=n!==void 0?n:Fm(u)===Fm(d);c(t,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,t,i,o,l])}function Rv(t){let e=P.useRef(fy(t)),r=P.useRef(!1),n=Ys(),a=P.useMemo(()=>D6(n.search,r.current?null:e.current),[n.search]),i=En(),o=P.useCallback((l,c)=>{const u=fy(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function W6(t,e){e===void 0&&(e={});let r=P.useContext(V6);r==null&&Mt(!1);let{basename:n}=z6(py.useViewTransitionState),a=ep(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Ol(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ol(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vm(a.pathname,o)!=null||Vm(a.pathname,i)!=null}function gy(t,e){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gy(t,e)}function Xl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gy(t,e)}var Zl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var a=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(o){return o!==i}),a.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function rt(){return rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rt.apply(null,arguments)}var $m=typeof window>"u";function vr(){}function K6(t,e){return typeof t=="function"?t(e):t}function xy(t){return typeof t=="number"&&t>=0&&t!==1/0}function qm(t){return Array.isArray(t)?t:[t]}function VE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bh(t,e,r){return fd(t)?typeof e=="function"?rt({},r,{queryKey:t,queryFn:e}):rt({},e,{queryKey:t}):t}function G6(t,e,r){return fd(t)?typeof e=="function"?rt({},r,{mutationKey:t,mutationFn:e}):rt({},e,{mutationKey:t}):typeof t=="function"?rt({},e,{mutationFn:t}):rt({},t)}function Ea(t,e,r){return fd(t)?[rt({},e,{queryKey:t}),r]:[t||{},e]}function Q6(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function r1(t,e){var r=t.active,n=t.exact,a=t.fetching,i=t.inactive,o=t.predicate,l=t.queryKey,c=t.stale;if(fd(l)){if(n){if(e.queryHash!==Ov(l,e.options))return!1}else if(!zm(e.queryKey,l))return!1}var u=Q6(r,i);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof a=="boolean"&&e.isFetching()!==a||o&&!o(e))}function s1(t,e){var r=t.exact,n=t.fetching,a=t.predicate,i=t.mutationKey;if(fd(i)){if(!e.options.mutationKey)return!1;if(r){if(Ui(e.options.mutationKey)!==Ui(i))return!1}else if(!zm(e.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||a&&!a(e))}function Ov(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||Ui;return r(t)}function Ui(t){var e=qm(t);return Y6(e)}function Y6(t){return JSON.stringify(t,function(e,r){return yy(r)?Object.keys(r).sort().reduce(function(n,a){return n[a]=r[a],n},{}):r})}function zm(t,e){return UE(qm(t),qm(e))}function UE(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!UE(t[r],e[r])}):!1}function Hm(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||yy(t)&&yy(e)){for(var n=r?t.length:Object.keys(t).length,a=r?e:Object.keys(e),i=a.length,o=r?[]:{},l=0,c=0;c<i;c++){var u=r?c:a[c];o[u]=Hm(t[u],e[u]),o[u]===t[u]&&l++}return n===i&&l===n?t:o}return e}function J6(t,e){if(t&&!e||e&&!t)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}function yy(t){if(!n1(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!n1(r)||!r.hasOwnProperty("isPrototypeOf"))}function n1(t){return Object.prototype.toString.call(t)==="[object Object]"}function fd(t){return typeof t=="string"||Array.isArray(t)}function X6(t){return new Promise(function(e){setTimeout(e,t)})}function a1(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function BE(){if(typeof AbortController=="function")return new AbortController}var Z6=function(t){Xl(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(a){var i;if(!$m&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},r.setFocused=function(a){this.focused=a,a&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(a){a()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Zl),lu=new Z6,eR=function(t){Xl(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(a){var i;if(!$m&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},r.setOnline=function(a){this.online=a,a&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(a){a()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Zl),$h=new eR;function tR(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Wm(t){return typeof(t==null?void 0:t.cancel)=="function"}var $E=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function qh(t){return t instanceof $E}var qE=function(e){var r=this,n=!1,a,i,o,l;this.abort=e.abort,this.cancel=function(m){return a==null?void 0:a(m)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,f){o=m,l=f});var c=function(f){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(f),i==null||i(),o(f))},u=function(f){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(f),i==null||i(),l(f))},d=function(){return new Promise(function(f){i=f,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function m(){if(!r.isResolved){var f;try{f=e.fn()}catch(g){f=Promise.reject(g)}a=function(v){if(!r.isResolved&&(u(new $E(v)),r.abort==null||r.abort(),Wm(f)))try{f.cancel()}catch{}},r.isTransportCancelable=Wm(f),Promise.resolve(f).then(c).catch(function(g){var v,b;if(!r.isResolved){var y=(v=e.retry)!=null?v:3,p=(b=e.retryDelay)!=null?b:tR,w=typeof p=="function"?p(r.failureCount,g):p,j=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,g);if(n||!j){u(g);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,g),X6(w).then(function(){if(!lu.isFocused()||!$h.isOnline())return d()}).then(function(){n?u(g):m()})}})}};h()},rR=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var a;this.transactions++;try{a=n()}finally{this.transactions--,this.transactions||this.flush()}return a},e.schedule=function(n){var a=this;this.transactions?this.queue.push(n):a1(function(){a.notifyFn(n)})},e.batchCalls=function(n){var a=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];a.schedule(function(){n.apply(void 0,o)})}},e.flush=function(){var n=this,a=this.queue;this.queue=[],a.length&&a1(function(){n.batchNotifyFn(function(){a.forEach(function(i){n.notifyFn(i)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Pt=new rR,zE=console;function Km(){return zE}function sR(t){zE=t}var nR=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var a;this.options=rt({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),xy(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,a){var i,o,l=this.state.data,c=K6(n,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Hm(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),c},e.setState=function(n,a){this.dispatch({type:"setState",state:n,setStateOptions:a})},e.cancel=function(n){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(n),i?i.then(vr).catch(vr):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!VE(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(a){return a!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,a){var i=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(p){return p.options.queryFn});d&&this.setOptions(d.options)}var h=qm(this.queryKey),m=BE(),f={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(m)return i.abortSignalConsumed=!0,m.signal}});var g=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(f)):Promise.reject("Missing queryFn")},v={fetchOptions:a,options:this.options,queryKey:h,state:this.state,fetchFn:g,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=v.fetchOptions)==null?void 0:l.meta)){var y;this.dispatch({type:"fetch",meta:(y=v.fetchOptions)==null?void 0:y.meta})}return this.retryer=new qE({fn:v.fetchFn,abort:m==null||(c=m.abort)==null?void 0:c.bind(m),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){qh(w)&&w.silent||i.dispatch({type:"error",error:w}),qh(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),Km().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var a=this;this.state=this.reducer(this.state,n),Pt.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(n)}),a.cache.notify({query:a,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var a=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",o=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(n,a){var i,o;switch(a.type){case"failed":return rt({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return rt({},n,{isPaused:!0});case"continue":return rt({},n,{isPaused:!1});case"fetch":return rt({},n,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return rt({},n,{data:a.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=a.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=a.error;return qh(l)&&l.revert&&this.revertState?rt({},this.revertState):rt({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return rt({},n,{isInvalidated:!0});case"setState":return rt({},n,a.state);default:return n}},t}(),aR=function(t){Xl(e,t);function e(n){var a;return a=t.call(this)||this,a.config=n||{},a.queries=[],a.queriesMap={},a}var r=e.prototype;return r.build=function(a,i,o){var l,c=i.queryKey,u=(l=i.queryHash)!=null?l:Ov(c,i),d=this.get(u);return d||(d=new nR({cache:this,queryKey:c,queryHash:u,options:a.defaultQueryOptions(i),state:o,defaultOptions:a.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},r.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},r.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(o){return o!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},r.clear=function(){var a=this;Pt.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},r.get=function(a){return this.queriesMap[a]},r.getAll=function(){return this.queries},r.find=function(a,i){var o=Ea(a,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return r1(l,c)})},r.findAll=function(a,i){var o=Ea(a,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return r1(l,c)}):this.queries},r.notify=function(a){var i=this;Pt.batch(function(){i.listeners.forEach(function(o){o(a)})})},r.onFocus=function(){var a=this;Pt.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var a=this;Pt.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},e}(Zl),iR=function(){function t(r){this.options=rt({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||HE(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(a){return a!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(vr).catch(vr)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,a,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(l){a=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(a,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(a,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:a}),a}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),Km().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var n=this,a;return this.retryer=new qE({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var a=this;this.state=oR(this.state,n),Pt.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(n)}),a.mutationCache.notify(a)})},t}();function HE(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function oR(t,e){switch(e.type){case"failed":return rt({},t,{failureCount:t.failureCount+1});case"pause":return rt({},t,{isPaused:!0});case"continue":return rt({},t,{isPaused:!1});case"loading":return rt({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return rt({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return rt({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return rt({},t,e.state);default:return t}}var lR=function(t){Xl(e,t);function e(n){var a;return a=t.call(this)||this,a.config=n||{},a.mutations=[],a.mutationId=0,a}var r=e.prototype;return r.build=function(a,i,o){var l=new iR({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},r.add=function(a){this.mutations.push(a),this.notify(a)},r.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},r.clear=function(){var a=this;Pt.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return s1(a,i)})},r.findAll=function(a){return this.mutations.filter(function(i){return s1(a,i)})},r.notify=function(a){var i=this;Pt.batch(function(){i.listeners.forEach(function(o){o(a)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return Pt.batch(function(){return a.reduce(function(i,o){return i.then(function(){return o.continue().catch(vr)})},Promise.resolve())})},e}(Zl);function cR(){return{onFetch:function(e){e.fetchFn=function(){var r,n,a,i,o,l,c=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(a=e.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",m=(u==null?void 0:u.direction)==="backward",f=((o=e.state.data)==null?void 0:o.pages)||[],g=((l=e.state.data)==null?void 0:l.pageParams)||[],v=BE(),b=v==null?void 0:v.signal,y=g,p=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},j=function(O,V,L,q){return y=q?[V].concat(y):[].concat(y,[V]),q?[L].concat(O):[].concat(O,[L])},S=function(O,V,L,q){if(p)return Promise.reject("Cancelled");if(typeof L>"u"&&!V&&O.length)return Promise.resolve(O);var M={queryKey:e.queryKey,signal:b,pageParam:L,meta:e.meta},z=w(M),D=Promise.resolve(z).then(function(W){return j(O,L,W,q)});if(Wm(z)){var F=D;F.cancel=z.cancel}return D},R;if(!f.length)R=S([]);else if(h){var k=typeof d<"u",N=k?d:i1(e.options,f);R=S(f,k,N)}else if(m){var E=typeof d<"u",T=E?d:uR(e.options,f);R=S(f,E,T,!0)}else(function(){y=[];var C=typeof e.options.getNextPageParam>"u",O=c&&f[0]?c(f[0],0,f):!0;R=O?S([],C,g[0]):Promise.resolve(j([],g[0],f[0]));for(var V=function(M){R=R.then(function(z){var D=c&&f[M]?c(f[M],M,f):!0;if(D){var F=C?g[M]:i1(e.options,z);return S(z,C,F)}return Promise.resolve(j(z,g[M],f[M]))})},L=1;L<f.length;L++)V(L)})();var _=R.then(function(C){return{pages:C,pageParams:y}}),A=_;return A.cancel=function(){p=!0,v==null||v.abort(),Wm(R)&&R.cancel()},_}}}}function i1(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function uR(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var dR=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new aR,this.mutationCache=r.mutationCache||new lR,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=lu.subscribe(function(){lu.isFocused()&&$h.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=$h.subscribe(function(){lu.isFocused()&&$h.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,a;(n=this.unsubscribeFocus)==null||n.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},e.isFetching=function(n,a){var i=Ea(n,a),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(n){return this.mutationCache.findAll(rt({},n,{fetching:!0})).length},e.getQueryData=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(a){var i=a.queryKey,o=a.state,l=o.data;return[i,l]})},e.setQueryData=function(n,a,i){var o=Bh(n),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,i)},e.setQueriesData=function(n,a,i){var o=this;return Pt.batch(function(){return o.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,a,i)]})})},e.getQueryState=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state},e.removeQueries=function(n,a){var i=Ea(n,a),o=i[0],l=this.queryCache;Pt.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},e.resetQueries=function(n,a,i){var o=this,l=Ea(n,a,i),c=l[0],u=l[1],d=this.queryCache,h=rt({},c,{active:!0});return Pt.batch(function(){return d.findAll(c).forEach(function(m){m.reset()}),o.refetchQueries(h,u)})},e.cancelQueries=function(n,a,i){var o=this,l=Ea(n,a,i),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=Pt.batch(function(){return o.queryCache.findAll(c).map(function(m){return m.cancel(d)})});return Promise.all(h).then(vr).catch(vr)},e.invalidateQueries=function(n,a,i){var o,l,c,u=this,d=Ea(n,a,i),h=d[0],m=d[1],f=rt({},h,{active:(o=(l=h.refetchActive)!=null?l:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return Pt.batch(function(){return u.queryCache.findAll(h).forEach(function(g){g.invalidate()}),u.refetchQueries(f,m)})},e.refetchQueries=function(n,a,i){var o=this,l=Ea(n,a,i),c=l[0],u=l[1],d=Pt.batch(function(){return o.queryCache.findAll(c).map(function(m){return m.fetch(void 0,rt({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(d).then(vr);return u!=null&&u.throwOnError||(h=h.catch(vr)),h},e.fetchQuery=function(n,a,i){var o=Bh(n,a,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},e.prefetchQuery=function(n,a,i){return this.fetchQuery(n,a,i).then(vr).catch(vr)},e.fetchInfiniteQuery=function(n,a,i){var o=Bh(n,a,i);return o.behavior=cR(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(n,a,i){return this.fetchInfiniteQuery(n,a,i).then(vr).catch(vr)},e.cancelMutations=function(){var n=this,a=Pt.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(vr).catch(vr)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,a){var i=this.queryDefaults.find(function(o){return Ui(n)===Ui(o.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:n,defaultOptions:a})},e.getQueryDefaults=function(n){var a;return n?(a=this.queryDefaults.find(function(i){return zm(n,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},e.setMutationDefaults=function(n,a){var i=this.mutationDefaults.find(function(o){return Ui(n)===Ui(o.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:n,defaultOptions:a})},e.getMutationDefaults=function(n){var a;return n?(a=this.mutationDefaults.find(function(i){return zm(n,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var a=rt({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=Ov(a.queryKey,a)),a},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:rt({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),hR=function(t){Xl(e,t);function e(n,a){var i;return i=t.call(this)||this,i.client=n,i.options=a,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(a),i}var r=e.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),o1(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return vy(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return vy(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(a,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(a),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&l1(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(a){var i=this.client.defaultQueryObserverOptions(a),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(a,i){var o=this,l={},c=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(a).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),a[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),l},r.getNextResult=function(a){var i=this;return new Promise(function(o,l){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(a!=null&&a.throwOnError)?l(u.error):o(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(a){return this.fetch(rt({},a,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))},r.fetchOptimistic=function(a){var i=this,o=this.client.defaultQueryObserverOptions(a),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},r.fetch=function(a){var i=this;return this.executeFetch(a).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(a){this.updateQuery();var i=this.currentQuery.fetch(this.options,a);return a!=null&&a.throwOnError||(i=i.catch(vr)),i},r.updateStaleTimeout=function(){var a=this;if(this.clearStaleTimeout(),!($m||this.currentResult.isStale||!xy(this.options.staleTime))){var i=VE(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){a.currentResult.isStale||a.updateResult()},o)}},r.computeRefetchInterval=function(){var a;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(a=this.options.refetchInterval)!=null?a:!1},r.updateRefetchInterval=function(a){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=a,!($m||this.options.enabled===!1||!xy(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||lu.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(a,i){var o=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,h=a!==o,m=h?a.state:this.currentQueryInitialState,f=h?this.currentResult:this.previousQueryResult,g=a.state,v=g.dataUpdatedAt,b=g.error,y=g.errorUpdatedAt,p=g.isFetching,w=g.status,j=!1,S=!1,R;if(i.optimisticResults){var k=this.hasListeners(),N=!k&&o1(a,i),E=k&&l1(a,o,i,l);(N||E)&&(p=!0,v||(w="loading"))}if(i.keepPreviousData&&!g.dataUpdateCount&&(f!=null&&f.isSuccess)&&w!=="error")R=f.data,v=f.dataUpdatedAt,w=f.status,j=!0;else if(i.select&&typeof g.data<"u")if(c&&g.data===(u==null?void 0:u.data)&&i.select===this.selectFn)R=this.selectResult;else try{this.selectFn=i.select,R=i.select(g.data),i.structuralSharing!==!1&&(R=Hm(c==null?void 0:c.data,R)),this.selectResult=R,this.selectError=null}catch(A){Km().error(A),this.selectError=A}else R=g.data;if(typeof i.placeholderData<"u"&&typeof R>"u"&&(w==="loading"||w==="idle")){var T;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))T=c.data;else if(T=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof T<"u")try{T=i.select(T),i.structuralSharing!==!1&&(T=Hm(c==null?void 0:c.data,T)),this.selectError=null}catch(A){Km().error(A),this.selectError=A}typeof T<"u"&&(w="success",R=T,S=!0)}this.selectError&&(b=this.selectError,R=this.selectResult,y=Date.now(),w="error");var _={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:R,dataUpdatedAt:v,error:b,errorUpdatedAt:y,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:p,isRefetching:p&&w!=="loading",isLoadingError:w==="error"&&g.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:j,isRefetchError:w==="error"&&g.dataUpdatedAt!==0,isStale:Dv(a,i),refetch:this.refetch,remove:this.remove};return _},r.shouldNotifyListeners=function(a,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(a).some(function(d){var h=d,m=a[h]!==i[h],f=u==null?void 0:u.some(function(v){return v===d}),g=c==null?void 0:c.some(function(v){return v===d});return m&&!g&&(!u||f)})},r.updateResult=function(a){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!J6(this.currentResult,i)){var o={cache:!0};(a==null?void 0:a.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(rt({},o,a))}},r.updateQuery=function(){var a=this.client.getQueryCache().build(this.client,this.options);if(a!==this.currentQuery){var i=this.currentQuery;this.currentQuery=a,this.currentQueryInitialState=a.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),a.addObserver(this))}},r.onQueryUpdate=function(a){var i={};a.type==="success"?i.onSuccess=!0:a.type==="error"&&!qh(a.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(a){var i=this;Pt.batch(function(){a.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):a.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),a.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),a.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(Zl);function mR(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function o1(t,e){return mR(t,e)||t.state.dataUpdatedAt>0&&vy(t,e,e.refetchOnMount)}function vy(t,e,r){if(e.enabled!==!1){var n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Dv(t,e)}return!1}function l1(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Dv(t,r)}function Dv(t,e){return t.isStaleByTime(e.staleTime)}var fR=function(t){Xl(e,t);function e(n,a){var i;return i=t.call(this)||this,i.client=n,i.setOptions(a),i.bindMethods(),i.updateResult(),i}var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(a){this.options=this.client.defaultMutationOptions(a)},r.onUnsubscribe=function(){if(!this.listeners.length){var a;(a=this.currentMutation)==null||a.removeObserver(this)}},r.onMutationUpdate=function(a){this.updateResult();var i={listeners:!0};a.type==="success"?i.onSuccess=!0:a.type==="error"&&(i.onError=!0),this.notify(i)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(a,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,rt({},this.options,{variables:typeof a<"u"?a:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var a=this.currentMutation?this.currentMutation.state:HE(),i=rt({},a,{isLoading:a.status==="loading",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(a){var i=this;Pt.batch(function(){i.mutateOptions&&(a.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):a.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),a.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(Zl),pR=q5.unstable_batchedUpdates;Pt.setBatchNotifyFunction(pR);var gR=console;sR(gR);var c1=ut.createContext(void 0),WE=ut.createContext(!1);function KE(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=c1),window.ReactQueryClientContext):c1}var gs=function(){var e=ut.useContext(KE(ut.useContext(WE)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xR=function(e){var r=e.client,n=e.contextSharing,a=n===void 0?!1:n,i=e.children;ut.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=KE(a);return ut.createElement(WE.Provider,{value:a},ut.createElement(o.Provider,{value:r},i))};function yR(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var vR=ut.createContext(yR()),bR=function(){return ut.useContext(vR)};function GE(t,e,r){return typeof e=="function"?e.apply(void 0,r):typeof e=="boolean"?e:!!t}function tt(t,e,r){var n=ut.useRef(!1),a=ut.useState(0),i=a[1],o=G6(t,e,r),l=gs(),c=ut.useRef();c.current?c.current.setOptions(o):c.current=new fR(l,o);var u=c.current.getCurrentResult();ut.useEffect(function(){n.current=!0;var h=c.current.subscribe(Pt.batchCalls(function(){n.current&&i(function(m){return m+1})}));return function(){n.current=!1,h()}},[]);var d=ut.useCallback(function(h,m){c.current.mutate(h,m).catch(vr)},[]);if(u.error&&GE(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return rt({},u,{mutate:d,mutateAsync:u.mutate})}function jR(t,e){var r=ut.useRef(!1),n=ut.useState(0),a=n[1],i=gs(),o=bR(),l=i.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=Pt.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=Pt.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=Pt.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=ut.useState(function(){return new e(i,l)}),u=c[0],d=u.getOptimisticResult(l);if(ut.useEffect(function(){r.current=!0,o.clearReset();var h=u.subscribe(Pt.batchCalls(function(){r.current&&a(function(m){return m+1})}));return u.updateResult(),function(){r.current=!1,h()}},[o,u]),ut.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(h){var m=h.data;l.onSuccess==null||l.onSuccess(m),l.onSettled==null||l.onSettled(m,null)}).catch(function(h){o.clearReset(),l.onError==null||l.onError(h),l.onSettled==null||l.onSettled(void 0,h)});if(d.isError&&!o.isReset()&&!d.isFetching&&GE(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function Ct(t,e,r){var n=Bh(t,e,r);return jR(n,hR)}var QE={exports:{}},wR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NR=wR,kR=NR;function YE(){}function JE(){}JE.resetWarningCache=YE;var SR=function(){function t(n,a,i,o,l,c){if(c!==kR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JE,resetWarningCache:YE};return r.PropTypes=r,r};QE.exports=SR();var _R=QE.exports;const Me=aa(_R);var ER=typeof Element<"u",TR=typeof Map=="function",CR=typeof Set=="function",AR=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!zh(t[n],e[n]))return!1;return!0}var i;if(TR&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!zh(n.value[1],e.get(n.value[0])))return!1;return!0}if(CR&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(AR&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[n]))return!1;if(ER&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!zh(t[a[n]],e[a[n]]))return!1;return!0}return t!==t&&e!==e}var PR=function(e,r){try{return zh(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const IR=aa(PR);var RR=function(t,e,r,n,a,i,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},OR=RR;const u1=aa(OR);var DR=function(e,r,n,a){var i=n?n.call(a,e,r):void 0;if(i!==void 0)return!!i;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var h=e[d],m=r[d];if(i=n?n.call(a,h,m,d):void 0,i===!1||i===void 0&&h!==m)return!1}return!0};const MR=aa(DR);function Kt(){return Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kt.apply(this,arguments)}function Mv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,by(t,e)}function by(t,e){return by=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},by(t,e)}function d1(t,e){if(t==null)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)e.indexOf(r=i[n])>=0||(a[r]=t[r]);return a}var Fe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},LR={rel:["amphtml","canonical","alternate"]},FR={type:["application/ld+json"]},VR={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},h1=Object.keys(Fe).map(function(t){return Fe[t]}),Gm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},UR=Object.keys(Gm).reduce(function(t,e){return t[Gm[e]]=e,t},{}),pl=function(t,e){for(var r=t.length-1;r>=0;r-=1){var n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},BR=function(t){var e=pl(t,Fe.TITLE),r=pl(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,function(){return e});var n=pl(t,"defaultTitle");return e||n||void 0},$R=function(t){return pl(t,"onChangeClientState")||function(){}},Tg=function(t,e){return e.filter(function(r){return r[t]!==void 0}).map(function(r){return r[t]}).reduce(function(r,n){return Kt({},r,n)},{})},qR=function(t,e){return e.filter(function(r){return r[Fe.BASE]!==void 0}).map(function(r){return r[Fe.BASE]}).reverse().reduce(function(r,n){if(!r.length)for(var a=Object.keys(n),i=0;i<a.length;i+=1){var o=a[i].toLowerCase();if(t.indexOf(o)!==-1&&n[o])return r.concat(n)}return r},[])},Oc=function(t,e,r){var n={};return r.filter(function(a){return!!Array.isArray(a[t])||(a[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof a[t]+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,i){var o={};i.filter(function(h){for(var m,f=Object.keys(h),g=0;g<f.length;g+=1){var v=f[g],b=v.toLowerCase();e.indexOf(b)===-1||m==="rel"&&h[m].toLowerCase()==="canonical"||b==="rel"&&h[b].toLowerCase()==="stylesheet"||(m=b),e.indexOf(v)===-1||v!=="innerHTML"&&v!=="cssText"&&v!=="itemprop"||(m=v)}if(!m||!h[m])return!1;var y=h[m].toLowerCase();return n[m]||(n[m]={}),o[m]||(o[m]={}),!n[m][y]&&(o[m][y]=!0,!0)}).reverse().forEach(function(h){return a.push(h)});for(var l=Object.keys(o),c=0;c<l.length;c+=1){var u=l[c],d=Kt({},n[u],o[u]);n[u]=d}return a},[]).reverse()},zR=function(t,e){if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},XE=function(t){return Array.isArray(t)?t.join(""):t},Cg=function(t,e){return Array.isArray(t)?t.reduce(function(r,n){return function(a,i){for(var o=Object.keys(a),l=0;l<o.length;l+=1)if(i[o[l]]&&i[o[l]].includes(a[o[l]]))return!0;return!1}(n,e)?r.priority.push(n):r.default.push(n),r},{priority:[],default:[]}):{default:t}},m1=function(t,e){var r;return Kt({},t,((r={})[e]=void 0,r))},HR=[Fe.NOSCRIPT,Fe.SCRIPT,Fe.STYLE],Ag=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},f1=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r]!==void 0?r+'="'+t[r]+'"':""+r;return e?e+" "+n:n},"")},p1=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(r,n){return r[Gm[n]||n]=t[n],r},e)},Hh=function(t,e){return e.map(function(r,n){var a,i=((a={key:n})["data-rh"]=!0,a);return Object.keys(r).forEach(function(o){var l=Gm[o]||o;l==="innerHTML"||l==="cssText"?i.dangerouslySetInnerHTML={__html:r.innerHTML||r.cssText}:i[l]=r[o]}),ut.createElement(t,i)})},bs=function(t,e,r){switch(t){case Fe.TITLE:return{toComponent:function(){return a=e.titleAttributes,(i={key:n=e.title})["data-rh"]=!0,o=p1(a,i),[ut.createElement(Fe.TITLE,o,n)];var n,a,i,o},toString:function(){return function(n,a,i,o){var l=f1(i),c=XE(a);return l?"<"+n+' data-rh="true" '+l+">"+Ag(c,o)+"</"+n+">":"<"+n+' data-rh="true">'+Ag(c,o)+"</"+n+">"}(t,e.title,e.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return p1(e)},toString:function(){return f1(e)}};default:return{toComponent:function(){return Hh(t,e)},toString:function(){return function(n,a,i){return a.reduce(function(o,l){var c=Object.keys(l).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,m){var f=l[m]===void 0?m:m+'="'+Ag(l[m],i)+'"';return h?h+" "+f:f},""),u=l.innerHTML||l.cssText||"",d=HR.indexOf(n)===-1;return o+"<"+n+' data-rh="true" '+c+(d?"/>":">"+u+"</"+n+">")},"")}(t,e,r)}}}},jy=function(t){var e=t.baseTag,r=t.bodyAttributes,n=t.encode,a=t.htmlAttributes,i=t.noscriptTags,o=t.styleTags,l=t.title,c=l===void 0?"":l,u=t.titleAttributes,d=t.linkTags,h=t.metaTags,m=t.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var g=function(v){var b=v.linkTags,y=v.scriptTags,p=v.encode,w=Cg(v.metaTags,VR),j=Cg(b,LR),S=Cg(y,FR);return{priorityMethods:{toComponent:function(){return[].concat(Hh(Fe.META,w.priority),Hh(Fe.LINK,j.priority),Hh(Fe.SCRIPT,S.priority))},toString:function(){return bs(Fe.META,w.priority,p)+" "+bs(Fe.LINK,j.priority,p)+" "+bs(Fe.SCRIPT,S.priority,p)}},metaTags:w.default,linkTags:j.default,scriptTags:S.default}}(t);f=g.priorityMethods,d=g.linkTags,h=g.metaTags,m=g.scriptTags}return{priority:f,base:bs(Fe.BASE,e,n),bodyAttributes:bs("bodyAttributes",r,n),htmlAttributes:bs("htmlAttributes",a,n),link:bs(Fe.LINK,d,n),meta:bs(Fe.META,h,n),noscript:bs(Fe.NOSCRIPT,i,n),script:bs(Fe.SCRIPT,m,n),style:bs(Fe.STYLE,o,n),title:bs(Fe.TITLE,{title:c,titleAttributes:u},n)}},oh=[],wy=function(t,e){var r=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(n){r.context.helmet=n},helmetInstances:{get:function(){return r.canUseDOM?oh:r.instances},add:function(n){(r.canUseDOM?oh:r.instances).push(n)},remove:function(n){var a=(r.canUseDOM?oh:r.instances).indexOf(n);(r.canUseDOM?oh:r.instances).splice(a,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=jy({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},ZE=ut.createContext({}),WR=Me.shape({setHelmet:Me.func,helmetInstances:Me.shape({get:Me.func,add:Me.func,remove:Me.func})}),KR=typeof document<"u",sl=function(t){function e(r){var n;return(n=t.call(this,r)||this).helmetData=new wy(n.props.context,e.canUseDOM),n}return Mv(e,t),e.prototype.render=function(){return ut.createElement(ZE.Provider,{value:this.helmetData.value},this.props.children)},e}(P.Component);sl.canUseDOM=KR,sl.propTypes={context:Me.shape({helmet:Me.shape()}),children:Me.node.isRequired},sl.defaultProps={context:{}},sl.displayName="HelmetProvider";var Fo=function(t,e){var r,n=document.head||document.querySelector(Fe.HEAD),a=n.querySelectorAll(t+"[data-rh]"),i=[].slice.call(a),o=[];return e&&e.length&&e.forEach(function(l){var c=document.createElement(t);for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(u==="innerHTML"?c.innerHTML=l.innerHTML:u==="cssText"?c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText)):c.setAttribute(u,l[u]===void 0?"":l[u]));c.setAttribute("data-rh","true"),i.some(function(d,h){return r=h,c.isEqualNode(d)})?i.splice(r,1):o.push(c)}),i.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return n.appendChild(l)}),{oldTags:i,newTags:o}},Pg=function(t,e){var r=document.getElementsByTagName(t)[0];if(r){for(var n=r.getAttribute("data-rh"),a=n?n.split(","):[],i=[].concat(a),o=Object.keys(e),l=0;l<o.length;l+=1){var c=o[l],u=e[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),a.indexOf(c)===-1&&a.push(c);var d=i.indexOf(c);d!==-1&&i.splice(d,1)}for(var h=i.length-1;h>=0;h-=1)r.removeAttribute(i[h]);a.length===i.length?r.removeAttribute("data-rh"):r.getAttribute("data-rh")!==o.join(",")&&r.setAttribute("data-rh",o.join(","))}},g1=function(t,e){var r=t.baseTag,n=t.htmlAttributes,a=t.linkTags,i=t.metaTags,o=t.noscriptTags,l=t.onChangeClientState,c=t.scriptTags,u=t.styleTags,d=t.title,h=t.titleAttributes;Pg(Fe.BODY,t.bodyAttributes),Pg(Fe.HTML,n),function(v,b){v!==void 0&&document.title!==v&&(document.title=XE(v)),Pg(Fe.TITLE,b)}(d,h);var m={baseTag:Fo(Fe.BASE,r),linkTags:Fo(Fe.LINK,a),metaTags:Fo(Fe.META,i),noscriptTags:Fo(Fe.NOSCRIPT,o),scriptTags:Fo(Fe.SCRIPT,c),styleTags:Fo(Fe.STYLE,u)},f={},g={};Object.keys(m).forEach(function(v){var b=m[v],y=b.newTags,p=b.oldTags;y.length&&(f[v]=y),p.length&&(g[v]=m[v].oldTags)}),e&&e(),l(t,f,g)},Dc=null,Qm=function(t){function e(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).rendered=!1,n}Mv(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(n){return!MR(n,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var n,a,i=this.props.context,o=i.setHelmet,l=null,c=(n=i.helmetInstances.get().map(function(u){var d=Kt({},u.props);return delete d.context,d}),{baseTag:qR(["href"],n),bodyAttributes:Tg("bodyAttributes",n),defer:pl(n,"defer"),encode:pl(n,"encodeSpecialCharacters"),htmlAttributes:Tg("htmlAttributes",n),linkTags:Oc(Fe.LINK,["rel","href"],n),metaTags:Oc(Fe.META,["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Oc(Fe.NOSCRIPT,["innerHTML"],n),onChangeClientState:$R(n),scriptTags:Oc(Fe.SCRIPT,["src","innerHTML"],n),styleTags:Oc(Fe.STYLE,["cssText"],n),title:BR(n),titleAttributes:Tg("titleAttributes",n),prioritizeSeoTags:zR(n,"prioritizeSeoTags")});sl.canUseDOM?(a=c,Dc&&cancelAnimationFrame(Dc),a.defer?Dc=requestAnimationFrame(function(){g1(a,function(){Dc=null})}):(g1(a),Dc=null)):jy&&(l=jy(c)),o(l)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},e}(P.Component);Qm.propTypes={context:WR.isRequired},Qm.displayName="HelmetDispatcher";var GR=["children"],QR=["children"],cu=function(t){function e(){return t.apply(this,arguments)||this}Mv(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(n){return!IR(m1(this.props,"helmetData"),m1(n,"helmetData"))},r.mapNestedChildrenToProps=function(n,a){if(!a)return null;switch(n.type){case Fe.SCRIPT:case Fe.NOSCRIPT:return{innerHTML:a};case Fe.STYLE:return{cssText:a};default:throw new Error("<"+n.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(n){var a,i=n.child,o=n.arrayTypeChildren;return Kt({},o,((a={})[i.type]=[].concat(o[i.type]||[],[Kt({},n.newChildProps,this.mapNestedChildrenToProps(i,n.nestedChildren))]),a))},r.mapObjectTypeChildren=function(n){var a,i,o=n.child,l=n.newProps,c=n.newChildProps,u=n.nestedChildren;switch(o.type){case Fe.TITLE:return Kt({},l,((a={})[o.type]=u,a.titleAttributes=Kt({},c),a));case Fe.BODY:return Kt({},l,{bodyAttributes:Kt({},c)});case Fe.HTML:return Kt({},l,{htmlAttributes:Kt({},c)});default:return Kt({},l,((i={})[o.type]=Kt({},c),i))}},r.mapArrayTypeChildrenToProps=function(n,a){var i=Kt({},a);return Object.keys(n).forEach(function(o){var l;i=Kt({},i,((l={})[o]=n[o],l))}),i},r.warnOnInvalidChildren=function(n,a){return u1(h1.some(function(i){return n.type===i}),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+h1.join(", ")+" are allowed. Helmet does not support rendering <"+n.type+"> elements. Refer to our API for more information."),u1(!a||typeof a=="string"||Array.isArray(a)&&!a.some(function(i){return typeof i!="string"}),"Helmet expects a string as a child of <"+n.type+">. Did you forget to wrap your children in braces? ( <"+n.type+">{``}</"+n.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(n,a){var i=this,o={};return ut.Children.forEach(n,function(l){if(l&&l.props){var c=l.props,u=c.children,d=d1(c,GR),h=Object.keys(d).reduce(function(f,g){return f[UR[g]||g]=d[g],f},{}),m=l.type;switch(typeof m=="symbol"?m=m.toString():i.warnOnInvalidChildren(l,u),m){case Fe.FRAGMENT:a=i.mapChildrenToProps(u,a);break;case Fe.LINK:case Fe.META:case Fe.NOSCRIPT:case Fe.SCRIPT:case Fe.STYLE:o=i.flattenArrayTypeChildren({child:l,arrayTypeChildren:o,newChildProps:h,nestedChildren:u});break;default:a=i.mapObjectTypeChildren({child:l,newProps:a,newChildProps:h,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(o,a)},r.render=function(){var n=this.props,a=n.children,i=d1(n,QR),o=Kt({},i),l=i.helmetData;return a&&(o=this.mapChildrenToProps(a,o)),!l||l instanceof wy||(l=new wy(l.context,l.instances)),l?ut.createElement(Qm,Kt({},o,{context:l.value,helmetData:void 0})):ut.createElement(ZE.Consumer,null,function(c){return ut.createElement(Qm,Kt({},o,{context:c}))})},e}(P.Component);cu.propTypes={base:Me.object,bodyAttributes:Me.object,children:Me.oneOfType([Me.arrayOf(Me.node),Me.node]),defaultTitle:Me.string,defer:Me.bool,encodeSpecialCharacters:Me.bool,htmlAttributes:Me.object,link:Me.arrayOf(Me.object),meta:Me.arrayOf(Me.object),noscript:Me.arrayOf(Me.object),onChangeClientState:Me.func,script:Me.arrayOf(Me.object),style:Me.arrayOf(Me.object),title:Me.string,titleAttributes:Me.object,titleTemplate:Me.string,prioritizeSeoTags:Me.bool,helmetData:Me.object},cu.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},cu.displayName="Helmet";let YR={data:""},JR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||YR,XR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZR=/\/\*[^]*?\*\/|  +/g,x1=/\n+/g,Pa=(t,e)=>{let r="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Pa(o,i):i+"{"+Pa(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Pa(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Pa.p?Pa.p(i,o):i+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Pn={},e4=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+e4(t[r]);return e}return t},eO=(t,e,r,n,a)=>{let i=e4(t),o=Pn[i]||(Pn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Pn[o]){let c=i!==t?t:(u=>{let d,h,m=[{}];for(;d=XR.exec(u.replace(ZR,""));)d[4]?m.shift():d[3]?(h=d[3].replace(x1," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(x1," ").trim();return m[0]})(t);Pn[o]=Pa(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Pn.g?Pn.g:null;return r&&(Pn.g=Pn[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Pn[o],e,n,l),o},tO=(t,e,r)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Pa(l,""):l===!1?"":l}return n+a+(o??"")},"");function tp(t){let e=this||{},r=t.call?t(e.p):t;return eO(r.unshift?r.raw?tO(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,JR(e.target),e.g,e.o,e.k)}let t4,Ny,ky;tp.bind({g:1});let Qn=tp.bind({k:1});function rO(t,e,r,n){Pa.p=e,t4=t,Ny=r,ky=n}function vi(t,e){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:Ny&&Ny()},l),r.o=/ *go\d+/.test(c),l.className=tp.apply(r,n)+(c?" "+c:""),e&&(l.ref=o);let u=t;return t[0]&&(u=l.as||t,delete l.as),ky&&u[0]&&ky(l),t4(u,l)}return e?e(a):a}}var sO=t=>typeof t=="function",Ym=(t,e)=>sO(t)?t(e):t,nO=(()=>{let t=0;return()=>(++t).toString()})(),r4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aO=20,s4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,aO)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return s4(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Wh=[],Bi={toasts:[],pausedAt:void 0},ho=t=>{Bi=s4(Bi,t),Wh.forEach(e=>{e(Bi)})},iO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oO=(t={})=>{let[e,r]=P.useState(Bi),n=P.useRef(Bi);P.useEffect(()=>(n.current!==Bi&&r(Bi),Wh.push(r),()=>{let i=Wh.indexOf(r);i>-1&&Wh.splice(i,1)}),[]);let a=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||iO[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:a}},lO=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||nO()}),pd=t=>(e,r)=>{let n=lO(e,t,r);return ho({type:2,toast:n}),n.id},xt=(t,e)=>pd("blank")(t,e);xt.error=pd("error");xt.success=pd("success");xt.loading=pd("loading");xt.custom=pd("custom");xt.dismiss=t=>{ho({type:3,toastId:t})};xt.remove=t=>ho({type:4,toastId:t});xt.promise=(t,e,r)=>{let n=xt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?Ym(e.success,a):void 0;return i?xt.success(i,{id:n,...r,...r==null?void 0:r.success}):xt.dismiss(n),a}).catch(a=>{let i=e.error?Ym(e.error,a):void 0;i?xt.error(i,{id:n,...r,...r==null?void 0:r.error}):xt.dismiss(n)}),t};var cO=(t,e)=>{ho({type:1,toast:{id:t,height:e}})},uO=()=>{ho({type:5,time:Date.now()})},uu=new Map,dO=1e3,hO=(t,e=dO)=>{if(uu.has(t))return;let r=setTimeout(()=>{uu.delete(t),ho({type:4,toastId:t})},e);uu.set(t,r)},mO=t=>{let{toasts:e,pausedAt:r}=oO(t);P.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&xt.dismiss(l.id);return}return setTimeout(()=>xt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=P.useCallback(()=>{r&&ho({type:6,time:Date.now()})},[r]),a=P.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(f=>(f.position||u)===(i.position||u)&&f.height),h=d.findIndex(f=>f.id===i.id),m=d.filter((f,g)=>g<h&&f.visible).length;return d.filter(f=>f.visible).slice(...l?[m+1]:[0,m]).reduce((f,g)=>f+(g.height||0)+c,0)},[e]);return P.useEffect(()=>{e.forEach(i=>{if(i.dismissed)hO(i.id,i.removeDelay);else{let o=uu.get(i.id);o&&(clearTimeout(o),uu.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:cO,startPause:uO,endPause:n,calculateOffset:a}}},fO=Qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pO=Qn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gO=Qn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,xO=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yO=Qn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vO=vi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yO} 1s linear infinite;
`,bO=Qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jO=Qn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wO=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NO=vi("div")`
  position: absolute;
`,kO=vi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SO=Qn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_O=vi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EO=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?P.createElement(_O,null,e):e:r==="blank"?null:P.createElement(kO,null,P.createElement(vO,{...n}),r!=="loading"&&P.createElement(NO,null,r==="error"?P.createElement(xO,{...n}):P.createElement(wO,{...n})))},TO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,AO="0%{opacity:0;} 100%{opacity:1;}",PO="0%{opacity:1;} 100%{opacity:0;}",IO=vi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RO=vi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,OO=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=r4()?[AO,PO]:[TO(r),CO(r)];return{animation:e?`${Qn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DO=P.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?OO(t.position||e||"top-center",t.visible):{opacity:0},i=P.createElement(EO,{toast:t}),o=P.createElement(RO,{...t.ariaProps},Ym(t.message,t));return P.createElement(IO,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):P.createElement(P.Fragment,null,i,o))});rO(P.createElement);var MO=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=P.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return P.createElement("div",{ref:i,className:e,style:r},a)},LO=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:r4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},FO=tp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lh=16,VO=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=mO(r);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:lh,left:lh,right:lh,bottom:lh,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=LO(d,h);return P.createElement(MO,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?FO:"",style:m},u.type==="custom"?Ym(u.message,u):a?a(u):P.createElement(DO,{toast:u,position:d}))}))},At=xt;class UO extends P.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e),console.error("Error info:",r),console.error("Component stack:",r.componentStack),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-ajira-primary hover:bg-ajira-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-primary",children:"Refresh Page"}),!1]})})}):this.props.children}}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>P.createElement("svg",{ref:d,...BO,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${$O(t)}`,l].join(" "),...u},[...e.map(([h,m])=>P.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=he("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=he("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=he("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=he("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=he("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=he("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=he("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=he("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=he("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=he("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=he("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=he("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=he("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=he("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=he("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=he("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=he("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=he("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=he("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=he("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=he("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=he("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=he("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=he("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=he("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=he("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=he("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=he("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=he("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=he("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=he("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=he("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=he("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=he("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=he("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=he("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ch={"Smileys & People":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Animals & Nature":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Food & Drink":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Activities:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Travel & Places":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Symbols:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},g4=({onEmojiSelect:t,onClose:e,position:r="bottom"})=>{const[n,a]=P.useState("Smileys & People"),[i,o]=P.useState(""),[l,c]=P.useState([]),u=P.useRef(null);P.useEffect(()=>{if(i.trim()){const f=Object.values(ch).flat().filter(g=>g.includes(i)||ch[n].includes(g));c(f)}else c(ch[n])},[i,n]),P.useEffect(()=>{const m=f=>{u.current&&!u.current.contains(f.target)&&e()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[e]);const d=m=>{t(m),e()},h=Object.keys(ch);return s.jsxs("div",{ref:u,className:`absolute z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-96 max-h-[500px] overflow-hidden ${r==="top"?"bottom-full mb-2":"top-full mt-2"}`,children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Emoji"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx(Yr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search emoji...",value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-3 py-2 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-ajira-primary focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),!i&&s.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:h.map(m=>s.jsx("button",{onClick:()=>a(m),className:`flex-shrink-0 px-3 py-2 text-sm font-medium transition-colors ${n===m?"text-ajira-primary border-b-2 border-ajira-primary":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:m},m))}),s.jsxs("div",{className:"p-4 max-h-80 overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-10 gap-2",children:l.map((m,f)=>s.jsx("button",{onClick:()=>d(m),className:"w-10 h-10 flex items-center justify-center text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:m,children:m},`${m}-${f}`))}),l.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No emojis found"})]})]})},x4=({onFileSelect:t,multiple:e=!0,maxFiles:r=10,maxSize:n=100,allowedTypes:a=[],uploadContext:i="chat",uploadedBy:o="user",relatedId:l})=>{const[c,u]=P.useState([]),[d,h]=P.useState(!1),m=P.useRef(null),f=S=>S.startsWith("image/")?s.jsx(o4,{className:"w-4 h-4"}):S.startsWith("video/")?s.jsx(ro,{className:"w-4 h-4"}):S.startsWith("audio/")?s.jsx(Xm,{className:"w-4 h-4"}):S==="application/pdf"||S.includes("document")?s.jsx(mn,{className:"w-4 h-4"}):s.jsx(_y,{className:"w-4 h-4"}),g=S=>{if(S===0)return"0 Bytes";const R=1024,k=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(S)/Math.log(R));return parseFloat((S/Math.pow(R,N)).toFixed(2))+" "+k[N]},v=S=>S.size>n*1024*1024?`File size exceeds ${n}MB limit`:c.length>=r?`Maximum ${r} files allowed`:null,b=async S=>{const R=new FormData;R.append("file",S),R.append("uploadedBy",o),R.append("uploadContext",i),l&&R.append("relatedId",l);const k=await fetch("/api/files/upload",{method:"POST",body:R});if(!k.ok)throw new Error("Upload failed");return{...(await k.json()).file,status:"completed",progress:100}},y=async S=>{const R=Array.from(S.target.files||[]);if(R.length===0)return;h(!0);const k=[];for(const N of R){const E=v(N);if(E){const _={id:Date.now().toString()+Math.random(),fileName:N.name,originalName:N.name,fileType:N.type.split("/")[1]||"unknown",fileSize:g(N.size),downloadUrl:"",mimeType:N.type,status:"failed",error:E};k.push(_);continue}const T={id:Date.now().toString()+Math.random(),fileName:N.name,originalName:N.name,fileType:N.type.split("/")[1]||"unknown",fileSize:g(N.size),downloadUrl:"",mimeType:N.type,status:"uploading",progress:0,previewUrl:URL.createObjectURL(N)};k.push(T),u(_=>[..._,T]);try{const A={...await b(N),status:"completed",progress:100,previewUrl:T.previewUrl};u(O=>O.map(V=>V.id===T.id?A:V));const C=k.findIndex(O=>O.id===T.id);C!==-1&&(k[C]=A)}catch{const A={...T,status:"failed",error:"Upload failed"};u(O=>O.map(V=>V.id===T.id?A:V));const C=k.findIndex(O=>O.id===T.id);C!==-1&&(k[C]=A)}}h(!1),t(k)},p=S=>{u(R=>R.filter(k=>k.id!==S))},w=S=>{if(S.preventDefault(),Array.from(S.dataTransfer.files).length>0){const k=m.current;k&&(k.files=S.dataTransfer.files,y({target:{files:S.dataTransfer.files}}))}},j=S=>{S.preventDefault()};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center transition-colors ${d?"border-ajira-primary bg-ajira-primary/5":"hover:border-ajira-primary hover:bg-gray-50 dark:hover:bg-gray-700"}`,onDrop:w,onDragOver:j,children:[s.jsx(Bn,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Drop files here or click to upload"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:["Max ",n,"MB per file  All file types supported"]}),s.jsx("button",{onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},disabled:d,className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors disabled:opacity-50",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Choose Files"}),s.jsx("input",{ref:m,type:"file",multiple:e,accept:"*/*",onChange:y,className:"hidden"})]}),c.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:c.map(S=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${S.status==="completed"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":S.status==="failed"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[f(S.mimeType),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:S.originalName}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.fileSize,"  ",S.fileType.toUpperCase()]}),S.error&&s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:S.error})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[S.status==="uploading"&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ye,{className:"w-3 h-3 animate-spin"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[S.progress||0,"%"]})]}),s.jsx("button",{onClick:()=>p(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Yr,{className:"w-4 h-4"})})]})]},S.id))})]})},fD=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[a,i]=P.useState([]),[o,l]=P.useState(""),[c,u]=P.useState(!1),[d,h]=P.useState(!1),[m,f]=P.useState(!1),[g,v]=P.useState(!1),[b,y]=P.useState([]),p=P.useRef(null),w=P.useRef(null),j=P.useRef(null);P.useEffect(()=>{const C=localStorage.getItem("kinap-chatbot-messages");if(C){const O=JSON.parse(C).map(V=>({...V,timestamp:new Date(V.timestamp)}));i(O)}else{const O={id:"1",text:"Hello! I'm your Ajira Digital assistant. How can I help you today? ",sender:"bot",timestamp:new Date,status:"read"};i([O]),localStorage.setItem("kinap-chatbot-messages",JSON.stringify([O]))}},[]),P.useEffect(()=>{a.length>0&&localStorage.setItem("kinap-chatbot-messages",JSON.stringify(a))},[a]);const S=()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{S()},[a]),P.useEffect(()=>{(c||d)&&S()},[c,d]),P.useEffect(()=>{t&&w.current&&w.current.focus()},[t]);const R=C=>{l(O=>O+C),f(!1)},k=C=>{y(C),v(!1)},N=async()=>{var O,V,L,q;if(!o.trim()&&b.length===0||c)return;const C={id:Date.now().toString(),text:o.trim(),sender:"user",timestamp:new Date,status:"sending",messageType:b.length>0?"file":"text",mediaUrl:(O=b[0])==null?void 0:O.downloadUrl,fileName:(V=b[0])==null?void 0:V.originalName,fileSize:(L=b[0])==null?void 0:L.fileSize,fileType:(q=b[0])==null?void 0:q.fileType};i(M=>[...M,C]),l(""),y([]),u(!0),setTimeout(()=>{i(M=>M.map(z=>z.id===C.id?{...z,status:"sent"}:z))},500);try{const M=await fetch("/api/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C.text})});if(!M.ok)throw new Error(`Failed to get response: ${M.status}`);const z=await M.json();h(!0),setTimeout(()=>{h(!1);const D={id:(Date.now()+1).toString(),text:z.message,sender:"bot",timestamp:new Date,status:"read"};i(F=>[...F,D]),i(F=>F.map(W=>W.id===C.id?{...W,status:"delivered"}:W))},1500)}catch(M){console.error("Chat error:",M),h(!1);const z={id:(Date.now()+1).toString(),text:"I'm sorry, I'm having trouble connecting right now. Please try again later. ",sender:"bot",timestamp:new Date,status:"read"};i(D=>[...D,z])}finally{u(!1)}},E=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},T=C=>C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_=()=>{const C={id:"1",text:"Hello! I'm your Ajira Digital assistant. How can I help you today? ",sender:"bot",timestamp:new Date,status:"read"};i([C]),localStorage.setItem("kinap-chatbot-messages",JSON.stringify([C]))},A=C=>{switch(C){case"sending":return s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"});case"sent":return s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})});case"delivered":return s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"read":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}};return t?s.jsxs("div",{className:"fixed left-6 bottom-6 z-50 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden chat-container chat-fixed no-shake",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Kh,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Kinap Ajira Assistant"}),s.jsxs("p",{className:"text-xs opacity-90 flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:_,className:"text-white/80 hover:text-white transition-colors p-1","aria-label":"Clear chat",title:"Clear chat history",children:s.jsx(la,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>n(!r),className:"text-white/80 hover:text-white transition-colors p-1","aria-label":r?"Maximize":"Minimize",children:r?s.jsx(nD,{className:"w-4 h-4"}):s.jsx(aD,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>e(!1),className:"text-white/80 hover:text-white transition-colors p-1","aria-label":"Close chat",children:s.jsx(Yr,{className:"w-4 h-4"})})]})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:j,className:"flex-1 h-80 overflow-y-auto bg-gray-50 p-4 space-y-3 chat-messages chat-scroll no-shake",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0)",backgroundSize:"20px 20px",minHeight:"320px",maxHeight:"320px"},children:[a.map(C=>{var O,V,L;return s.jsx("div",{className:`flex ${C.sender==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl shadow-sm relative ${C.sender==="user"?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md border border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[C.sender==="bot"&&s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Kh,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[C.messageType==="file"&&C.mediaUrl&&s.jsx("div",{className:"mb-2",children:(O=C.fileType)!=null&&O.startsWith("image")?s.jsx("img",{src:C.mediaUrl,alt:C.fileName||"Image",className:"max-w-full rounded-lg"}):s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-white/10 rounded-lg",children:[(V=C.fileType)!=null&&V.startsWith("video")?s.jsx(ro,{className:"w-4 h-4"}):(L=C.fileType)!=null&&L.startsWith("audio")?s.jsx(Xm,{className:"w-4 h-4"}):s.jsx(_y,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:C.fileName}),s.jsx("p",{className:"text-xs opacity-70",children:C.fileSize})]}),s.jsx("a",{href:C.mediaUrl,download:C.fileName,className:"text-xs underline hover:no-underline",children:"Download"})]})}),C.text&&s.jsx("p",{className:"text-sm leading-relaxed",children:C.text}),s.jsxs("div",{className:`flex items-center justify-between mt-1 ${C.sender==="user"?"text-white/70":"text-gray-500"}`,children:[s.jsx("span",{className:"text-xs",children:T(C.timestamp)}),C.sender==="user"&&s.jsx("div",{className:"flex items-center ml-2",children:A(C.status)})]})]}),C.sender==="user"&&s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(or,{className:"w-4 h-4 text-white"})})]})})},C.id)}),d&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-800 max-w-xs lg:max-w-md px-4 py-2 rounded-2xl shadow-sm border border-gray-200 rounded-bl-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx(Kh,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),s.jsx("div",{ref:p})]}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 relative chat-input no-shake",children:[g&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4",children:s.jsx(x4,{onFileSelect:k,multiple:!1,maxFiles:1,maxSize:50,uploadContext:"chat",uploadedBy:"user"})}),b.length>0&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-lg",children:b.map((C,O)=>{var V,L,q;return s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[(V=C.mimeType)!=null&&V.startsWith("image")?s.jsx(o4,{className:"w-4 h-4 text-blue-500"}):(L=C.mimeType)!=null&&L.startsWith("video")?s.jsx(ro,{className:"w-4 h-4 text-purple-500"}):(q=C.mimeType)!=null&&q.startsWith("audio")?s.jsx(Xm,{className:"w-4 h-4 text-green-500"}):s.jsx(_y,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"flex-1 truncate",children:C.originalName}),s.jsx("button",{onClick:()=>y(b.filter((M,z)=>z!==O)),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{className:"w-4 h-4"})})]},O)})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>v(!g),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(iD,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:w,value:o,onChange:C=>l(C.target.value),onKeyPress:E,placeholder:"Type a message...",rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-sm leading-relaxed bg-gray-50 placeholder-gray-500 transition-all duration-200 chat-textarea",disabled:c}),m&&s.jsx("div",{className:"absolute bottom-full left-0 mb-2",children:s.jsx(g4,{onEmojiSelect:R,onClose:()=>f(!1),position:"top"})})]}),s.jsx("button",{onClick:()=>f(!m),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(uD,{className:"w-5 h-5"})}),o.trim()||b.length>0?s.jsx("button",{onClick:N,disabled:c,className:"p-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-full hover:from-ajira-primary/90 hover:to-ajira-secondary/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:s.jsx(Bv,{className:"w-5 h-5"})}):s.jsx("button",{className:"p-3 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(u4,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]})]})]}):s.jsx("div",{className:"fixed left-6 bottom-6 z-50",children:s.jsx("button",{onClick:()=>e(!0),className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Open chat",children:s.jsx(Gs,{className:"w-6 h-6"})})})};function y4(t,e){return function(){return t.apply(e,arguments)}}const{toString:pD}=Object.prototype,{getPrototypeOf:$v}=Object,{iterator:ap,toStringTag:v4}=Symbol,ip=(t=>e=>{const r=pD.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Js=t=>(t=t.toLowerCase(),e=>ip(e)===t),op=t=>e=>typeof e===t,{isArray:ec}=Array,Hu=op("undefined");function gD(t){return t!==null&&!Hu(t)&&t.constructor!==null&&!Hu(t.constructor)&&rs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const b4=Js("ArrayBuffer");function xD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&b4(t.buffer),e}const yD=op("string"),rs=op("function"),j4=op("number"),lp=t=>t!==null&&typeof t=="object",vD=t=>t===!0||t===!1,Yh=t=>{if(ip(t)!=="object")return!1;const e=$v(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(v4 in t)&&!(ap in t)},bD=Js("Date"),jD=Js("File"),wD=Js("Blob"),ND=Js("FileList"),kD=t=>lp(t)&&rs(t.pipe),SD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||rs(t.append)&&((e=ip(t))==="formdata"||e==="object"&&rs(t.toString)&&t.toString()==="[object FormData]"))},_D=Js("URLSearchParams"),[ED,TD,CD,AD]=["ReadableStream","Request","Response","Headers"].map(Js),PD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ec(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,t[l],l,t)}}function w4(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const $i=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),N4=t=>!Hu(t)&&t!==$i;function Cy(){const{caseless:t}=N4(this)&&this||{},e={},r=(n,a)=>{const i=t&&w4(e,a)||a;Yh(e[i])&&Yh(n)?e[i]=Cy(e[i],n):Yh(n)?e[i]=Cy({},n):ec(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&xd(arguments[n],r);return e}const ID=(t,e,r,{allOwnKeys:n}={})=>(xd(e,(a,i)=>{r&&rs(a)?t[i]=y4(a,r):t[i]=a},{allOwnKeys:n}),t),RD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),OD=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},DD=(t,e,r,n)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&$v(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},MD=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},LD=t=>{if(!t)return null;if(ec(t))return t;let e=t.length;if(!j4(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},FD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$v(Uint8Array)),VD=(t,e)=>{const n=(t&&t[ap]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},UD=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},BD=Js("HTMLFormElement"),$D=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),_1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),qD=Js("RegExp"),k4=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};xd(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},zD=t=>{k4(t,(e,r)=>{if(rs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(rs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},HD=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ec(t)?n(t):n(String(t).split(e)),r},WD=()=>{},KD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function GD(t){return!!(t&&rs(t.append)&&t[v4]==="FormData"&&t[ap])}const QD=t=>{const e=new Array(10),r=(n,a)=>{if(lp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=ec(n)?[]:{};return xd(n,(o,l)=>{const c=r(o,a+1);!Hu(c)&&(i[l]=c)}),e[a]=void 0,i}}return n};return r(t,0)},YD=Js("AsyncFunction"),JD=t=>t&&(lp(t)||rs(t))&&rs(t.then)&&rs(t.catch),S4=((t,e)=>t?setImmediate:e?((r,n)=>($i.addEventListener("message",({source:a,data:i})=>{a===$i&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),$i.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rs($i.postMessage)),XD=typeof queueMicrotask<"u"?queueMicrotask.bind($i):typeof process<"u"&&process.nextTick||S4,ZD=t=>t!=null&&rs(t[ap]),ie={isArray:ec,isArrayBuffer:b4,isBuffer:gD,isFormData:SD,isArrayBufferView:xD,isString:yD,isNumber:j4,isBoolean:vD,isObject:lp,isPlainObject:Yh,isReadableStream:ED,isRequest:TD,isResponse:CD,isHeaders:AD,isUndefined:Hu,isDate:bD,isFile:jD,isBlob:wD,isRegExp:qD,isFunction:rs,isStream:kD,isURLSearchParams:_D,isTypedArray:FD,isFileList:ND,forEach:xd,merge:Cy,extend:ID,trim:PD,stripBOM:RD,inherits:OD,toFlatObject:DD,kindOf:ip,kindOfTest:Js,endsWith:MD,toArray:LD,forEachEntry:VD,matchAll:UD,isHTMLForm:BD,hasOwnProperty:_1,hasOwnProp:_1,reduceDescriptors:k4,freezeMethods:zD,toObjectSet:HD,toCamelCase:$D,noop:WD,toFiniteNumber:KD,findKey:w4,global:$i,isContextDefined:N4,isSpecCompliantForm:GD,toJSONObject:QD,isAsyncFn:YD,isThenable:JD,setImmediate:S4,asap:XD,isIterable:ZD};function Ze(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ie.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const _4=Ze.prototype,E4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{E4[t]={value:t}});Object.defineProperties(Ze,E4);Object.defineProperty(_4,"isAxiosError",{value:!0});Ze.from=(t,e,r,n,a,i)=>{const o=Object.create(_4);return ie.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ze.call(o,t.message,e,r,n,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const eM=null;function Ay(t){return ie.isPlainObject(t)||ie.isArray(t)}function T4(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function E1(t,e,r){return t?t.concat(e).map(function(a,i){return a=T4(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function tM(t){return ie.isArray(t)&&!t.some(Ay)}const rM=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function cp(t,e,r){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!ie.isUndefined(b[v])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ie.isDate(g))return g.toISOString();if(ie.isBoolean(g))return g.toString();if(!c&&ie.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(g)||ie.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,b){let y=g;if(g&&!b&&typeof g=="object"){if(ie.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(ie.isArray(g)&&tM(g)||(ie.isFileList(g)||ie.endsWith(v,"[]"))&&(y=ie.toArray(g)))return v=T4(v),y.forEach(function(w,j){!(ie.isUndefined(w)||w===null)&&e.append(o===!0?E1([v],j,i):o===null?v:v+"[]",u(w))}),!1}return Ay(g)?!0:(e.append(E1(b,v,i),u(g)),!1)}const h=[],m=Object.assign(rM,{defaultVisitor:d,convertValue:u,isVisitable:Ay});function f(g,v){if(!ie.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),ie.forEach(g,function(y,p){(!(ie.isUndefined(y)||y===null)&&a.call(e,y,ie.isString(p)?p.trim():p,v,m))===!0&&f(y,v?v.concat(p):[p])}),h.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return f(t),e}function T1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function qv(t,e){this._pairs=[],t&&cp(t,this,e)}const C4=qv.prototype;C4.append=function(e,r){this._pairs.push([e,r])};C4.toString=function(e){const r=e?function(n){return e.call(this,n,T1)}:T1;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function sM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function A4(t,e,r){if(!e)return t;const n=r&&r.encode||sM;ie.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=ie.isURLSearchParams(e)?e.toString():new qv(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class nM{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(n){n!==null&&e(n)})}}const C1=nM,P4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aM=typeof URLSearchParams<"u"?URLSearchParams:qv,iM=typeof FormData<"u"?FormData:null,oM=typeof Blob<"u"?Blob:null,lM={isBrowser:!0,classes:{URLSearchParams:aM,FormData:iM,Blob:oM},protocols:["http","https","file","blob","url","data"]},zv=typeof window<"u"&&typeof document<"u",Py=typeof navigator=="object"&&navigator||void 0,cM=zv&&(!Py||["ReactNative","NativeScript","NS"].indexOf(Py.product)<0),uM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dM=zv&&window.location.href||"http://localhost",hM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zv,hasStandardBrowserEnv:cM,hasStandardBrowserWebWorkerEnv:uM,navigator:Py,origin:dM},Symbol.toStringTag,{value:"Module"})),Lr={...hM,...lM};function mM(t,e){return cp(t,new Lr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Lr.isNode&&ie.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function fM(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pM(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function I4(t){function e(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&ie.isArray(a)?a.length:o,c?(ie.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ie.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],i)&&ie.isArray(a[o])&&(a[o]=pM(a[o])),!l)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const r={};return ie.forEachEntry(t,(n,a)=>{e(fM(n),a,r,0)}),r}return null}function gM(t,e,r){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Hv={transitional:P4,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ie.isObject(e);if(i&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return a?JSON.stringify(I4(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mM(e,this.formSerializer).toString();if((l=ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cp(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),gM(e)):e}],transformResponse:[function(e){const r=this.transitional||Hv.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{Hv.headers[t]={}});const Wv=Hv,xM=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yM=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&xM[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},A1=Symbol("internals");function Lc(t){return t&&String(t).trim().toLowerCase()}function Jh(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Jh):String(t)}function vM(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const bM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rg(t,e,r,n,a){if(ie.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ie.isString(e)){if(ie.isString(n))return e.indexOf(n)!==-1;if(ie.isRegExp(n))return n.test(e)}}function jM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function wM(t,e){const r=ie.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}class up{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(l,c,u){const d=Lc(c);if(!d)throw new Error("header name must be a non-empty string");const h=ie.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Jh(l))}const o=(l,c)=>ie.forEach(l,(u,d)=>i(u,d,c));if(ie.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(ie.isString(e)&&(e=e.trim())&&!bM(e))o(yM(e),r);else if(ie.isObject(e)&&ie.isIterable(e)){let l={},c,u;for(const d of e){if(!ie.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ie.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Lc(e),e){const n=ie.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return vM(a);if(ie.isFunction(r))return r.call(this,a,n);if(ie.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Lc(e),e){const n=ie.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Rg(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(o){if(o=Lc(o),o){const l=ie.findKey(n,o);l&&(!r||Rg(n,n[l],l,r))&&(delete n[l],a=!0)}}return ie.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||Rg(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return ie.forEach(this,(a,i)=>{const o=ie.findKey(n,i);if(o){r[o]=Jh(a),delete r[i];return}const l=e?jM(i):String(i).trim();l!==i&&delete r[i],r[l]=Jh(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ie.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ie.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[A1]=this[A1]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Lc(o);n[l]||(wM(a,o),n[l]=!0)}return ie.isArray(e)?e.forEach(i):i(e),this}}up.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(up.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ie.freezeMethods(up);const Ws=up;function Og(t,e){const r=this||Wv,n=e||r,a=Ws.from(n.headers);let i=n.data;return ie.forEach(t,function(l){i=l.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function R4(t){return!!(t&&t.__CANCEL__)}function tc(t,e,r){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,r),this.name="CanceledError"}ie.inherits(tc,Ze,{__CANCEL__:!0});function O4(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function NM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kM(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[a]=c,n[a]=u;let h=i,m=0;for(;h!==a;)m+=r[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-o<e)return;const f=d&&u-d;return f?Math.round(m*1e3/f):void 0}}function SM(t,e){let r=0,n=1e3/e,a,i;const o=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},n-h)))},()=>a&&o(a)]}const ef=(t,e,r=3)=>{let n=0;const a=kM(50,250);return SM(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},P1=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},I1=t=>(...e)=>ie.asap(()=>t(...e)),_M=Lr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Lr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,EM=Lr.hasStandardBrowserEnv?{write(t,e,r,n,a,i){const o=[t+"="+encodeURIComponent(e)];ie.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ie.isString(n)&&o.push("path="+n),ie.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function D4(t,e,r){let n=!TM(e);return t&&(n||r==!1)?CM(t,e):e}const R1=t=>t instanceof Ws?{...t}:t;function so(t,e){e=e||{};const r={};function n(u,d,h,m){return ie.isPlainObject(u)&&ie.isPlainObject(d)?ie.merge.call({caseless:m},u,d):ie.isPlainObject(d)?ie.merge({},d):ie.isArray(d)?d.slice():d}function a(u,d,h,m){if(ie.isUndefined(d)){if(!ie.isUndefined(u))return n(void 0,u,h,m)}else return n(u,d,h,m)}function i(u,d){if(!ie.isUndefined(d))return n(void 0,d)}function o(u,d){if(ie.isUndefined(d)){if(!ie.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(R1(u),R1(d),h,!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||a,m=h(t[d],e[d],d);ie.isUndefined(m)&&h!==l||(r[d]=m)}),r}const M4=t=>{const e=so({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=Ws.from(o),e.url=A4(D4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ie.isFormData(r)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Lr.hasStandardBrowserEnv&&(n&&ie.isFunction(n)&&(n=n(e)),n||n!==!1&&_M(e.url))){const u=a&&i&&EM.read(i);u&&o.set(a,u)}return e},AM=typeof XMLHttpRequest<"u",PM=AM&&function(t){return new Promise(function(r,n){const a=M4(t);let i=a.data;const o=Ws.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,m,f,g;function v(){f&&f(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function y(){if(!b)return;const w=Ws.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};O4(function(k){r(k),v()},function(k){n(k),v()},S),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new Ze("Request aborted",Ze.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new Ze("Network Error",Ze.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||P4;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new Ze(j,S.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,t,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&ie.forEach(o.toJSON(),function(j,S){b.setRequestHeader(S,j)}),ie.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([m,g]=ef(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([h,f]=ef(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(d=w=>{b&&(n(!w||w.type?new tc(null,t,b):w),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const p=NM(a.url);if(p&&Lr.protocols.indexOf(p)===-1){n(new Ze("Unsupported protocol "+p+":",Ze.ERR_BAD_REQUEST,t));return}b.send(i||null)})},IM=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ze?d:new tc(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>ie.asap(l),c}},RM=IM,OM=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},DM=async function*(t,e){for await(const r of MM(t))yield*OM(r,e)},MM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},O1=(t,e,r,n)=>{const a=DM(t,e);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let m=i+=h;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},dp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",L4=dp&&typeof ReadableStream=="function",LM=dp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),F4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FM=L4&&F4(()=>{let t=!1;const e=new Request(Lr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),D1=64*1024,Iy=L4&&F4(()=>ie.isReadableStream(new Response("").body)),tf={stream:Iy&&(t=>t.body)};dp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tf[e]&&(tf[e]=ie.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,n)})})})(new Response);const VM=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(Lr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await LM(t)).byteLength},UM=async(t,e)=>{const r=ie.toFiniteNumber(t.getContentLength());return r??VM(e)},BM=dp&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:m}=M4(t);u=u?(u+"").toLowerCase():"text";let f=RM([a,i&&i.toAbortSignal()],o),g;const v=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(c&&FM&&r!=="get"&&r!=="head"&&(b=await UM(d,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(ie.isFormData(n)&&(R=S.headers.get("content-type"))&&d.setContentType(R),S.body){const[k,N]=P1(b,ef(I1(c)));n=O1(S.body,D1,k,N)}}ie.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;g=new Request(e,{...m,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?h:void 0});let p=await fetch(g,m);const w=Iy&&(u==="stream"||u==="response");if(Iy&&(l||w&&v)){const S={};["status","statusText","headers"].forEach(E=>{S[E]=p[E]});const R=ie.toFiniteNumber(p.headers.get("content-length")),[k,N]=l&&P1(R,ef(I1(l),!0))||[];p=new Response(O1(p.body,D1,k,()=>{N&&N(),v&&v()}),S)}u=u||"text";let j=await tf[ie.findKey(tf,u)||"text"](p,t);return!w&&v&&v(),await new Promise((S,R)=>{O4(S,R,{data:j,headers:Ws.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:g})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,g),{cause:y.cause||y}):Ze.from(y,y&&y.code,t,g)}}),Ry={http:eM,xhr:PM,fetch:BM};ie.forEach(Ry,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M1=t=>`- ${t}`,$M=t=>ie.isFunction(t)||t===null||t===!1,V4={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!$M(r)&&(n=Ry[(o=String(r)).toLowerCase()],n===void 0))throw new Ze(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(M1).join(`
`):" "+M1(i[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Ry};function Dg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tc(null,t)}function L1(t){return Dg(t),t.headers=Ws.from(t.headers),t.data=Og.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),V4.getAdapter(t.adapter||Wv.adapter)(t).then(function(n){return Dg(t),n.data=Og.call(t,t.transformResponse,n),n.headers=Ws.from(n.headers),n},function(n){return R4(n)||(Dg(t),n&&n.response&&(n.response.data=Og.call(t,t.transformResponse,n.response),n.response.headers=Ws.from(n.response.headers))),Promise.reject(n)})}const U4="1.10.0",hp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const F1={};hp.transitional=function(e,r,n){function a(i,o){return"[Axios v"+U4+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new Ze(a(o," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!F1[o]&&(F1[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,l):!0}};hp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function qM(t,e,r){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new Ze("option "+i+" must be "+c,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const Xh={assertOptions:qM,validators:hp},nn=Xh.validators;class rf{constructor(e){this.defaults=e||{},this.interceptors={request:new C1,response:new C1}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=so(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Xh.assertOptions(n,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),a!=null&&(ie.isFunction(a)?r.paramsSerializer={serialize:a}:Xh.assertOptions(a,{encode:nn.function,serialize:nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xh.assertOptions(r,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ie.merge(i.common,i[r.method]);i&&ie.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Ws.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,m;if(!c){const g=[L1.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),m=g.length,d=Promise.resolve(r);h<m;)d=d.then(g[h++],g[h++]);return d}m=l.length;let f=r;for(h=0;h<m;){const g=l[h++],v=l[h++];try{f=g(f)}catch(b){v.call(this,b);break}}try{d=L1.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=so(this.defaults,e);const r=D4(e.baseURL,e.url,e.allowAbsoluteUrls);return A4(r,e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(e){rf.prototype[e]=function(r,n){return this.request(so(n||{},{method:e,url:r,data:(n||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,l){return this.request(so(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}rf.prototype[e]=r(),rf.prototype[e+"Form"]=r(!0)});const Zh=rf;class Kv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new tc(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Kv(function(a){e=a}),cancel:e}}}const zM=Kv;function HM(t){return function(r){return t.apply(null,r)}}function WM(t){return ie.isObject(t)&&t.isAxiosError===!0}const Oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oy).forEach(([t,e])=>{Oy[e]=t});const KM=Oy;function B4(t){const e=new Zh(t),r=y4(Zh.prototype.request,e);return ie.extend(r,Zh.prototype,e,{allOwnKeys:!0}),ie.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return B4(so(t,a))},r}const nr=B4(Wv);nr.Axios=Zh;nr.CanceledError=tc;nr.CancelToken=zM;nr.isCancel=R4;nr.VERSION=U4;nr.toFormData=cp;nr.AxiosError=Ze;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=HM;nr.isAxiosError=WM;nr.mergeConfig=so;nr.AxiosHeaders=Ws;nr.formToJSON=t=>I4(ie.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=V4.getAdapter;nr.HttpStatusCode=KM;nr.default=nr;const be=nr,Gv="http://localhost:5000/api",po=`${Gv}/better-auth`,GM=async t=>{var e,r;try{return(await be.post(`${po}/signin`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Sign in failed")}},QM=async t=>{var e,r;try{return(await be.post(`${po}/signup`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Sign up failed")}},YM=async()=>{var t,e;try{return(await be.post(`${po}/signout`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||"Sign out failed")}},JM=async()=>{var t,e;try{return(await be.get(`${po}/session`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to get session")}},V1=async t=>{var e,r;try{return(await be.post(`${po}/forgot-password`,{email:t})).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to send verification code")}},XM=async(t,e,r)=>{var n,a;try{return(await be.post(`${po}/reset-password`,{email:t,code:e,password:r})).data}catch(i){throw new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to reset password")}},ZM=async t=>{var e,r;try{return(await be.post(`${po}/resend-code`,{email:t})).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to resend verification code")}},eL=async(t,e)=>{var r,n;try{return(await be.post(`${Gv}/auth/reset-password`,{token:t,password:e})).data}catch(a){throw new Error(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to reset password")}},tL=async t=>{var e,r;try{return(await be.get(`${Gv}/auth/verify-reset-token/${t}`)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to verify reset token")}},va={signIn:async(t,e)=>{console.log("Better Auth signIn called with:",t,e);try{const r=await GM({email:e.email,password:e.password});if(r.requiresVerification)return{data:null,error:null,requiresVerification:!0,message:r.message||"Verification code sent to your email"};if(r.success&&r.user)return{data:{user:r.user,session:{token:r.token,expires:new Date(Date.now()+30*60*1e3).toISOString()}},error:null};throw new Error(r.message||"Sign in failed")}catch(r){throw console.error("Sign in error:",r),r}},signUp:async(t,e)=>{console.log("Better Auth signUp called with:",t,e);try{const r=await QM({email:e.email,password:e.password,displayName:e.displayName,phoneNumber:e.phoneNumber,course:e.course,year:e.year,skills:e.skills,ajiraGoals:e.ajiraGoals,experienceLevel:e.experienceLevel,preferredLearningMode:e.preferredLearningMode,otherInfo:e.otherInfo,interests:e.interests});if(r.success)return{data:null,error:null,requiresVerification:!0,message:r.message||"Account created! Verification code sent to your email"};throw new Error(r.message||"Sign up failed")}catch(r){throw console.error("Sign up error:",r),r}},verifyCode:async(t,e)=>{console.log("Better Auth verifyCode called with:",t,e);try{const r=await fetch("http://localhost:5000/api/better-auth/verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code:e})}),n=await r.json();if(console.log(" Verification response:",n),r.ok&&n.success){console.log(" Verification successful, returning data"),console.log(" Result data structure:"),console.log("  - result.success:",n.success),console.log("  - result.data.user:",n.data.user),console.log("  - result.data.token:",n.data.token),console.log("  - result.data.sessionExpiresAt:",n.data.sessionExpiresAt);const a={data:{user:n.data.user,session:{token:n.data.token,expires:n.data.sessionExpiresAt}},error:null};return console.log(" Returning data structure:",JSON.stringify(a,null,2)),a}else throw console.log(" Verification failed:",n.message),new Error(n.message||"Verification failed")}catch(r){throw console.error("Verification error:",r),r}},signOut:async t=>{console.log("Better Auth signOut called");try{return await YM(),{data:null,error:null}}catch(e){throw console.error("Sign out error:",e),e}},getSession:async()=>{console.log("Better Auth getSession called");try{const t=await JM();return t.success&&t.data?{data:{user:t.data.user,session:t.data.session},error:null}:{data:null,error:null}}catch(t){return console.error("Get session error:",t),{data:null,error:t}}},getProviders:async()=>(console.log("Better Auth getProviders called"),{data:["emailAndPassword"],error:null}),resendCode:async t=>{console.log("Better Auth resendCode called with:",t);try{const e=await ZM(t);if(e.success)return{data:null,error:null,message:e.message||"Verification code resent successfully"};throw new Error(e.message||"Failed to resend code")}catch(e){throw console.error("Resend code error:",e),e}}},$4=P.createContext(void 0),Ur=()=>{const t=P.useContext($4);if(t===void 0)throw new Error("useBetterAuthContext must be used within a BetterAuthProvider");return t},rL=({children:t})=>{const[e,r]=P.useState(null),[n,a]=P.useState(null),[i,o]=P.useState(!0),[l,c]=P.useState(null),[u,d]=P.useState(!1);P.useEffect(()=>{(async()=>{var g;try{o(!0);const v=localStorage.getItem("userData"),b=localStorage.getItem("token");if(v&&b){const p=JSON.parse(v);r(p),a({token:b}),d(!0),o(!1);return}const y=await va.getSession();console.log("BetterAuthContext: Session from Better Auth",y),(g=y==null?void 0:y.data)!=null&&g.user?(r(y.data.user),a(y.data.session),d(!0)):(console.log("BetterAuthContext: No existing session found"),r(null),a(null),d(!1))}catch(v){console.error("Error checking existing session:",v),r(null),a(null),d(!1)}finally{o(!1)}})()},[]);const h={signInWithEmail:async(f,g)=>{var v;try{o(!0),c(null);const b=await va.signIn("emailAndPassword",{email:f,password:g,redirect:!1});return b.requiresVerification?{requiresVerification:!0,message:b.message,email:f}:((v=b==null?void 0:b.data)!=null&&v.user&&(localStorage.setItem("token",b.data.session.token),localStorage.setItem("userData",JSON.stringify(b.data.user)),r(b.data.user),a(b.data.session),d(!0)),b)}catch(b){const y=(b==null?void 0:b.message)||(b==null?void 0:b.statusText)||"Authentication failed";throw c(y),b}finally{o(!1)}},signUpWithEmail:async(f,g,v)=>{var b;try{o(!0),c(null);const y=await va.signUp("emailAndPassword",{email:f,password:g,...v,redirect:!1});return y.requiresVerification?{requiresVerification:!0,message:y.message,email:f}:((b=y==null?void 0:y.data)!=null&&b.user&&(localStorage.setItem("token",y.data.session.token),localStorage.setItem("userData",JSON.stringify(y.data.user)),r(y.data.user),a(y.data.session),d(!0)),y)}catch(y){const p=(y==null?void 0:y.message)||(y==null?void 0:y.statusText)||"Registration failed";throw c(p),y}finally{o(!1)}},verifyCode:async(f,g)=>{var v;try{o(!0),c(null);const b=await va.verifyCode(f,g);return console.log(" BetterAuthContext verifyCode result:",b),(v=b==null?void 0:b.data)!=null&&v.user?(console.log(" Setting user data and session"),console.log(" User data:",b.data.user),console.log(" Session data:",b.data.session),localStorage.setItem("token",b.data.session.token),localStorage.setItem("userData",JSON.stringify(b.data.user)),r(b.data.user),a(b.data.session),d(!0),console.log(" Authentication state updated - user set, session set, isAuthenticated set to true"),b):(console.log(" No user data in result:",b),b)}catch(b){console.log(" BetterAuthContext caught error:",b),console.log(" Error type:",typeof b),console.log(" Error message:",b==null?void 0:b.message),console.log(" Error statusText:",b==null?void 0:b.statusText);const y=(b==null?void 0:b.message)||(b==null?void 0:b.statusText)||"Verification failed";throw console.log(" BetterAuthContext setting error:",y),c(y),b}finally{o(!1)}},resendCode:async f=>{try{return c(null),await va.resendCode(f)}catch(g){const v=(g==null?void 0:g.message)||(g==null?void 0:g.statusText)||"Failed to resend code";throw c(v),g}},signOut:async()=>{try{o(!0),await va.signOut({redirect:!1}),localStorage.removeItem("token"),localStorage.removeItem("userData"),r(null),a(null),d(!1),c(null)}catch(f){console.error("Sign out error:",f),localStorage.removeItem("token"),localStorage.removeItem("userData"),r(null),a(null),d(!1)}finally{o(!1)}},getSession:async()=>{try{return await va.getSession()}catch(f){return console.error("Get session error:",f),null}},getProviders:async()=>{try{return await va.getProviders()}catch(f){return console.error("Get providers error:",f),[]}}},m={user:e,session:n,isLoading:i,error:l,isAuthenticated:u,signIn:h.signInWithEmail,signUp:h.signUpWithEmail,verifyCode:h.verifyCode,resendCode:h.resendCode,signOut:h.signOut,getSession:h.getSession,getProviders:h.getProviders};return s.jsx($4.Provider,{value:m,children:t})},q4=P.createContext(void 0),z4=()=>{const t=P.useContext(q4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},H4=({children:t})=>{const[e,r]=P.useState(()=>localStorage.getItem("theme")||"light"),[n,a]=P.useState(!1);P.useEffect(()=>{localStorage.setItem("theme",e);const o=()=>{let l=!1;e==="system"?l=window.matchMedia("(prefers-color-scheme: dark)").matches:l=e==="dark",a(l);const c=document.documentElement;l?c.classList.add("dark"):c.classList.remove("dark")};if(o(),e==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>o();return l.addEventListener("change",c),()=>l.removeEventListener("change",c)}},[e]);const i={theme:e,setTheme:r,isDark:n};return s.jsx(q4.Provider,{value:i,children:t})},sL=()=>{var Q,X,G;const[t,e]=P.useState(!1),[r,n]=P.useState(null),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(""),[d,h]=P.useState(!1),[m,f]=P.useState([{id:1,title:"New message from Sarah",message:"Hey! I loved your portfolio work. Can we discuss a project?",time:"2 min ago",type:"message",unread:!0},{id:2,title:"Order completed",message:"Your graphic design project has been delivered successfully.",time:"1 hour ago",type:"order",unread:!0},{id:3,title:"New review received",message:"Michael gave you a 5-star review for web development.",time:"3 hours ago",type:"review",unread:!1},{id:4,title:"Payment received",message:"KSh 15,000 has been credited to your account.",time:"1 day ago",type:"payment",unread:!0},{id:5,title:"Profile verification",message:"Your KiNaP student verification is complete!",time:"2 days ago",type:"system",unread:!1}]),g=P.useRef(null),v=P.useRef(null),b=P.useRef(null),y=P.useRef([]),p=En(),{user:w,signOut:j}=Ur(),{theme:S,setTheme:R,isDark:k}=z4(),N=m.filter(K=>K.unread).length,E=K=>{f(J=>J.map($=>$.id===K?{...$,unread:!1}:$))},T=()=>{f(K=>K.map(J=>({...J,unread:!1})))},_=K=>{switch(K){case"message":return"";case"order":return"";case"review":return"";case"payment":return"";case"system":return"";default:return""}},A=K=>K?(K.displayName||K.email||"User").split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):"U",C=K=>K!=null&&K.photoURL?K.photoURL:null,O=[{title:"Home",description:"Welcome to KiNaP Ajira Club",url:"/",category:"Pages"},{title:"Community Hub",description:"Connect with other members and join discussions",url:"/community",category:"Community"},{title:"Videos",description:"Educational video content and tutorials",url:"/videos",category:"Learning"},{title:"Marketplace",description:"Digital services marketplace",url:"/marketplace",category:"Services"},{title:"Profile",description:"Manage your personal profile",url:"/profile",category:"Account"},{title:"About Us",description:"Learn about KiNaP Ajira Club",url:"/about",category:"About"},{title:"Team",description:"Meet our team members",url:"/team",category:"About"},{title:"Updates",description:"Latest news and updates",url:"/updates",category:"About"},{title:"FAQ",description:"Frequently asked questions",url:"/faq",category:"About"},{title:"Testimonials",description:"Success stories from members",url:"/testimonials",category:"Community"},{title:"Ambassador Program",description:"Join our ambassador program",url:"/ambassador",category:"Community"},{title:"Showcase",description:"Member projects and achievements",url:"/showcase",category:"Community"},{title:"Training",description:"Digital skills training programs",url:"/training",category:"Learning"},{title:"Mentorship",description:"Find mentors and mentees",url:"/mentorship",category:"Learning"},{title:"Blog",description:"Latest articles and insights",url:"/blog",category:"Learning"},{title:"Events",description:"Upcoming workshops and events",url:"/events",category:"Learning"},{title:"Become Seller",description:"Start offering digital services",url:"/become-seller",category:"Services"},{title:"Orders",description:"View your orders and transactions",url:"/orders",category:"Account"},{title:"Notifications",description:"Manage your notifications",url:"/notifications",category:"Account"},{title:"Sign In",description:"Access your account",url:"/auth",category:"Account"},{title:"Contact",description:"Get in touch with us",url:"/contact",category:"Support"}],V=[{id:"about",label:"About",icon:Ey,items:[{label:"About KiNaP",to:"/about",icon:Ey,description:"Learn about our mission"},{label:"Our Team",to:"/team",icon:Ve,description:"Meet our dedicated team"},{label:"Latest Updates",to:"/updates",icon:lt,description:"News and announcements"},{label:"FAQ",to:"/faq",icon:Uv,description:"Common questions"},{label:"Contact Us",to:"/contact",icon:Gs,description:"Get in touch"}]},{id:"programs",label:"Programs",icon:eo,items:[{label:"Digital Training",to:"/training",icon:eo,description:"Skill development courses"},{label:"Mentorship",to:"/mentorship",icon:Ki,description:"Connect with mentors"},{label:"Events & Workshops",to:"/events",icon:vt,description:"Live learning sessions"},{label:"Videos & Resources",to:"/videos",icon:Ss,description:"Educational content"}]},{id:"community",label:"Community",icon:Ve,items:[{label:"Community Hub",to:"/community",icon:Ve,description:"Join discussions"},{label:"Success Stories",to:"/testimonials",icon:lt,description:"Member achievements"},{label:"Project Showcase",to:"/showcase",icon:vt,description:"Featured work"},{label:"Ambassador Program",to:"/ambassador",icon:Ki,description:"Become a leader"}]},{id:"services",label:"Services",icon:Dl,items:[{label:"Marketplace",to:"/marketplace",icon:Dl,description:"Digital services hub"},{label:"Become a Seller",to:"/become-seller",icon:Ki,description:"Offer your skills"}]}],L=O.filter(K=>K.title.toLowerCase().includes(c.toLowerCase())||K.description.toLowerCase().includes(c.toLowerCase())||K.category.toLowerCase().includes(c.toLowerCase())),q=L.reduce((K,J)=>(K[J.category]||(K[J.category]=[]),K[J.category].push(J),K),{});P.useEffect(()=>{c.trim()===""?h(!1):h(!0)},[c]),P.useEffect(()=>{const K=$=>{g.current&&!g.current.contains($.target)&&h(!1),v.current&&!v.current.contains($.target)&&i(!1),b.current&&!b.current.contains($.target)&&l(!1)},J=$=>{$.key==="Escape"&&(h(!1),i(!1),l(!1),n(null),e(!1))};return document.addEventListener("mousedown",K),document.addEventListener("keydown",J),()=>{document.removeEventListener("mousedown",K),document.removeEventListener("keydown",J)}},[]),P.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const M=()=>{u(""),h(!1),e(!1)},z=()=>{u(""),h(!1)},D=async()=>{try{await j(),i(!1),l(!1),e(!1),p("/")}catch(K){console.error("Error signing out:",K)}},F=()=>{R(S==="light"?"dark":S==="dark"?"system":"light")},W=(K,J)=>{r===K?n(null):(n(K),setTimeout(()=>{const $=J??0;if(y.current[$]){const Z=y.current[$].querySelector("a, button");Z&&Z.focus()}},50))},H=()=>{n(null),i(!1),l(!1),e(!1)};return s.jsxs("nav",{className:"bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 backdrop-blur-sm w-full",children:[s.jsx("div",{className:"max-w-7xl mx-auto w-full px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between min-h-16 w-full gap-y-2",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center w-full sm:w-auto mb-2 sm:mb-0 min-w-0",children:s.jsxs(De,{to:"/",className:"flex items-center group","aria-label":"Home",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club Logo",className:"h-10 w-auto drop-shadow-md rounded-md min-w-10",onError:K=>{K.currentTarget.style.display="none"}}),s.jsxs("div",{className:"ml-3 flex flex-col min-w-0",children:[s.jsx("span",{className:"text-lg font-bold leading-tight truncate transition-colors duration-700",style:{animation:"kinapColorCycle 3s infinite",WebkitAnimation:"kinapColorCycle 3s infinite"},children:"KiNaP Ajira Club"}),s.jsx("span",{className:"text-xs text-kenya-green leading-tight font-medium truncate",children:"Digital Skills Hub"})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center space-x-1 w-full lg:w-auto min-w-0",children:V.map((K,J)=>s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsxs("button",{onMouseEnter:()=>{window.innerWidth>=1024&&W(K.id,J)},onMouseLeave:()=>{},onClick:()=>W(K.id,J),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 min-w-0 truncate ${r===K.id?"text-kenya-red bg-kenya-green/10 shadow-sm":"text-gray-700 hover:text-kenya-red hover:bg-gray-50"}`,"aria-label":K.label,"aria-haspopup":"true","aria-expanded":r===K.id,"aria-controls":`dropdown-menu-${K.id}`,tabIndex:0,onKeyDown:$=>{var Z;if($.key==="ArrowDown"&&r===K.id){const se=(Z=y.current[J])==null?void 0:Z.querySelector("a, button");se&&se.focus()}},children:[s.jsx(K.icon,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:K.label}),s.jsx(hu,{className:`w-3 h-3 ml-1 transition-transform flex-shrink-0 ${r===K.id?"rotate-180":""}`})]}),r===K.id&&s.jsx("div",{onMouseEnter:()=>{window.innerWidth>=1024&&n(K.id)},id:`dropdown-menu-${K.id}`,ref:$=>y.current[J]=$,className:"absolute left-0 mt-2 w-[370px] bg-white rounded-2xl shadow-2xl border border-gray-200 py-4 z-[9999] animate-in slide-in-from-top-2 duration-200 focus:outline-none",role:"menu","aria-label":K.label,tabIndex:-1,onKeyDown:$=>{var te,ge,Pe;const Z=Array.from(((te=y.current[J])==null?void 0:te.querySelectorAll("a, button"))||[]),se=document.activeElement,pe=Z.indexOf(se);if($.key==="ArrowDown"){$.preventDefault();const Xe=Z[(pe+1)%Z.length];Xe&&Xe.focus()}else if($.key==="ArrowUp"){$.preventDefault();const Xe=Z[(pe-1+Z.length)%Z.length];Xe&&Xe.focus()}else $.key==="Escape"&&(n(null),(Pe=(ge=y.current[J])==null?void 0:ge.previousElementSibling)==null||Pe.focus())},children:K.items.map(($,Z)=>s.jsxs(De,{to:$.to,className:"flex items-center gap-4 px-6 py-5 hover:bg-gray-50 transition-colors rounded-xl mb-2 last:mb-0",onClick:H,tabIndex:0,role:"menuitem","aria-label":$.label,onKeyDown:se=>{(se.key==="Enter"||se.key===" ")&&H()},children:[s.jsx($.icon,{className:"w-7 h-7 text-ajira-accent flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold text-gray-900 mb-1",children:$.label}),s.jsx("span",{className:"text-sm text-gray-500",children:$.description})]})]},Z))})]},K.id))}),s.jsx("div",{className:"hidden md:flex items-center mx-6 flex-1 max-w-md w-full min-w-0",children:s.jsxs("div",{ref:g,className:"relative w-full min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:K=>u(K.target.value),placeholder:"Search programs, services...",className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-kenya-red/20 focus:border-kenya-red transition-all duration-200"}),c&&s.jsx("button",{onClick:z,className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-kenya-red transition-colors",children:s.jsx(Yr,{className:"h-4 w-4"})})]}),d&&L.length>0&&s.jsx("div",{className:"absolute top-full mt-2 w-full bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50 max-h-80 overflow-y-auto",children:Object.entries(q).map(([K,J])=>s.jsxs("div",{className:"mb-2 last:mb-0",children:[s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-kenya-red uppercase tracking-wide border-b border-gray-100",children:K}),J.map(($,Z)=>s.jsxs(De,{to:$.url,onClick:M,className:"flex items-center px-4 py-3 hover:bg-gray-50 transition-colors group",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-kenya-red",children:$.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:$.description})]}),s.jsx(Ml,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]},Z))]},K))})]})}),s.jsx("div",{className:"flex items-center space-x-4 w-full lg:w-auto justify-end min-w-0",children:w?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{ref:b,className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-kenya-red hover:bg-gray-50 rounded-lg transition-colors group","aria-label":"Notifications",children:[s.jsx(Bs,{className:"h-5 w-5 group-hover:animate-pulse"}),N>0&&s.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-r from-kenya-red to-kenya-green rounded-full flex items-center justify-center shadow-lg animate-pulse",children:s.jsx("span",{className:"text-white text-xs font-bold",children:N>9?"9+":N})})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-[9999] max-h-96",children:[s.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Notifications"]}),N>0&&s.jsx("button",{onClick:T,className:"text-xs text-kenya-red hover:text-kenya-green transition-colors font-medium",children:"Mark all read"})]}),N>0&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[N," new notification",N>1?"s":""]})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:m.slice(0,5).map(K=>s.jsx("div",{onClick:()=>E(K.id),className:`p-3 hover:bg-gray-50 transition-colors cursor-pointer border-l-4 ${K.unread?"bg-blue-50/50 border-l-kenya-red":"border-l-transparent"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:_(K.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm truncate ${K.unread?"font-semibold text-gray-900":"text-gray-700"}`,children:K.title}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:K.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),K.time]})]}),K.unread&&s.jsx("div",{className:"w-2 h-2 bg-kenya-red rounded-full flex-shrink-0 mt-2"})]})},K.id))}),s.jsx("div",{className:"px-4 py-3 bg-gray-50 text-center border-t border-gray-100",children:s.jsx(De,{to:"/notifications",onClick:()=>l(!1),className:"text-sm font-medium text-kenya-red hover:text-kenya-green transition-colors",children:"View all notifications"})})]})]}),s.jsxs("div",{ref:v,className:"relative",children:[s.jsxs("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors group","aria-label":"User profile",children:[s.jsxs("div",{className:"relative",children:[C(w)?s.jsx("img",{src:C(w),alt:w.displayName||w.email,className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200 group-hover:border-kenya-red transition-colors shadow-sm"}):s.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-sm border-2 border-gray-200 group-hover:border-kenya-green transition-colors",children:s.jsx("span",{className:"text-white text-sm font-bold",children:A(w)})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm animate-pulse"})]}),s.jsxs("div",{className:"hidden sm:block text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:w.displayName||((Q=w.email)==null?void 0:Q.split("@")[0])||"User"}),s.jsx(Mg,{user:w})]}),s.jsx(hu,{className:`h-4 w-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})]}),a&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-[9999] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[C(w)?s.jsx("img",{src:C(w),alt:w.displayName||w.email,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:s.jsx("span",{className:"text-white text-lg font-bold",children:A(w)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:w.displayName||((X=w.email)==null?void 0:X.split("@")[0])||"User"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:w.email}),s.jsx("div",{className:"mt-1",children:s.jsx(Mg,{user:w})})]})]})}),s.jsxs("div",{className:"py-2",children:[s.jsxs(De,{to:"/profile",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>i(!1),children:[s.jsx(or,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Profile"]}),s.jsxs(De,{to:"/orders",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>i(!1),children:[s.jsx(qu,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Orders"]}),s.jsxs(De,{to:"/notifications",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>i(!1),children:[s.jsx(Bs,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"Notifications",N>0&&s.jsx("span",{className:"ml-auto bg-kenya-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:N>9?"9+":N})]}),s.jsxs("button",{onClick:F,className:"flex items-center w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",children:[k?s.jsx(S1,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}):s.jsx(j1,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),k?"Light Mode":"Dark Mode"]}),s.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:s.jsxs("button",{onClick:D,className:"flex items-center w-full px-4 py-2.5 text-sm text-kenya-red hover:bg-kenya-red/5 transition-colors group",children:[s.jsx(b1,{className:"h-4 w-4 mr-3 group-hover:animate-pulse"}),"Sign Out"]})})]})]})]})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(De,{to:"/auth",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-kenya-red border border-gray-300 rounded-lg hover:border-kenya-red transition-all duration-200","aria-label":"Sign in",children:"Sign In"}),s.jsx(De,{to:"/auth?mode=register",className:"bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white px-6 py-2 rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105","aria-label":"Join now",children:"Join Now"})]})}),s.jsx("div",{className:"lg:hidden ml-4 w-full flex justify-end min-w-0",children:s.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg text-gray-600 hover:text-kenya-red hover:bg-gray-50 transition-colors","aria-label":"Open mobile menu",children:s.jsx(c4,{className:"h-6 w-6"})})})]})}),t&&s.jsx("div",{className:"lg:hidden border-t border-kenya-green/10 bg-white dark:bg-gray-900 shadow-xl animate-in slide-in-from-top duration-300 z-[9999]",children:s.jsxs("div",{className:"px-4 pt-4 pb-6 space-y-4",children:[s.jsx("div",{className:"space-y-3",children:V.map((K,J)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>W(K.id,J),className:"flex items-center justify-between w-full px-4 py-3 text-lg font-semibold text-kenya-black dark:text-white hover:bg-kenya-green/10 hover:text-kenya-red rounded-lg transition-colors","aria-expanded":r===K.id,"aria-controls":`mobile-dropdown-${K.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(K.icon,{className:"w-5 h-5 text-kenya-green"}),K.label]}),s.jsx(hu,{className:`w-4 h-4 transition-transform duration-200 ${r===K.id?"rotate-180":""}`})]}),r===K.id&&s.jsx("div",{id:`mobile-dropdown-${K.id}`,className:"ml-4 space-y-1 animate-in slide-in-from-top-2 duration-200",children:K.items.map(($,Z)=>s.jsxs(De,{to:$.to,className:"flex items-center gap-3 px-4 py-3 text-base text-kenya-black dark:text-white hover:bg-kenya-green/10 hover:text-kenya-red rounded-lg transition-colors",onClick:H,children:[s.jsx($.icon,{className:"w-4 h-4 text-kenya-green"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:$.label}),s.jsx("span",{className:"text-xs text-gray-500",children:$.description})]})]},Z))})]},K.id))}),s.jsx("div",{className:"border-t border-kenya-green/10 pt-4 mt-4",children:w?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 rounded-lg",children:[C(w)?s.jsx("img",{src:C(w),alt:w.displayName||w.email,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:s.jsx("span",{className:"text-white text-lg font-bold",children:A(w)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-kenya-black",children:w.displayName||((G=w.email)==null?void 0:G.split("@")[0])||"User"}),s.jsx("div",{className:"text-sm text-gray-600 truncate",children:w.email}),s.jsx("div",{className:"mt-1",children:s.jsx(Mg,{user:w})})]}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(De,{to:"/profile",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:H,children:[s.jsx(or,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Profile"]}),s.jsxs(De,{to:"/orders",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:H,children:[s.jsx(qu,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Orders"]}),s.jsxs(De,{to:"/notifications",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:H,children:[s.jsx(Bs,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"Notifications",N>0&&s.jsx("span",{className:"ml-auto bg-kenya-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:N>9?"9+":N})]}),s.jsxs("button",{onClick:()=>{F(),H()},className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group w-full",children:[k?s.jsx(S1,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}):s.jsx(j1,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),k?"Light Mode":"Dark Mode"]}),s.jsxs("button",{onClick:D,className:"flex items-center gap-3 w-full px-4 py-3 text-kenya-red hover:bg-kenya-red/10 rounded-lg transition-colors group",children:[s.jsx(b1,{className:"h-4 w-4 group-hover:animate-pulse"}),"Sign Out"]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{to:"/auth",className:"flex items-center justify-center gap-2 w-full px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:text-kenya-red hover:border-kenya-red transition-all duration-200",onClick:H,children:[s.jsx(or,{className:"w-5 h-5"}),"Sign In"]}),s.jsxs(De,{to:"/auth?mode=register",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white px-6 py-3 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200",onClick:H,children:[s.jsx(lt,{className:"w-5 h-5"}),"Join Now"]})]})}),d&&L.length>0&&s.jsxs("div",{className:"border-t border-kenya-green/10 pt-4 mt-4",children:[s.jsx("div",{className:"text-sm font-semibold text-kenya-red mb-3",children:"Search Results"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(q).map(([K,J])=>s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:K}),J.map(($,Z)=>s.jsxs(De,{to:$.url,onClick:M,className:"block px-3 py-2 hover:bg-kenya-green/10 rounded-lg transition-colors",children:[s.jsx("div",{className:"font-medium text-kenya-black",children:$.title}),s.jsx("div",{className:"text-xs text-gray-600",children:$.description})]},Z))]},K))})]})]})})]})},Mg=({user:t})=>t?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 bg-kenya-accent rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:"text-xs text-kenya-text-muted",children:"Verified Member"})]}):null,nL=()=>{const t=new Date().getFullYear(),e=[{icon:s.jsx(GO,{size:20}),href:"https://facebook.com/ajiradigital"},{icon:s.jsx(hD,{size:20}),href:"https://twitter.com/ajiradigital"},{icon:s.jsx(eD,{size:20}),href:"https://instagram.com/ajiradigital"},{icon:s.jsx(mD,{size:20}),href:"https://youtube.com/ajiradigital"}];return s.jsx("footer",{className:"bg-ajira-primary text-ajira-light",children:s.jsxs("div",{className:"container-custom py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs(De,{to:"/",className:"flex items-center space-x-4 mb-4",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Club Logo",className:"h-12 w-auto rounded-lg"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Ajira Digital"}),s.jsx("p",{className:"text-sm text-white/80",children:"KiNaP Club"})]})]}),s.jsx("p",{className:"text-sm text-white/80 mb-6",children:"Empowering youth through digital skills and online work opportunities at Kiambu National Polytechnic."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(De,{to:"/marketplace",className:"text-sm text-white/80 hover:text-white",children:"Marketplace"})}),s.jsx("li",{children:s.jsx(De,{to:"/videos",className:"text-sm text-white/80 hover:text-white",children:"Video Tutorials"})}),s.jsx("li",{children:s.jsx(De,{to:"/stories",className:"text-sm text-white/80 hover:text-white",children:"Success Stories"})}),s.jsx("li",{children:s.jsx("a",{href:"https://ajiradigital.go.ke",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white/80 hover:text-white",children:"Official Portal"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start space-x-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-ajira-accent mt-1"}),s.jsxs("p",{className:"text-sm text-white/80",children:["Kiambu National Polytechnic",s.jsx("br",{}),"P.O. Box 414-00900",s.jsx("br",{}),"Kiambu, Kenya"]})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(jr,{className:"w-5 h-5 text-ajira-accent"}),s.jsx("a",{href:"mailto:kinapajira@gmail.com",className:"text-sm text-white/80 hover:text-white",children:"kinapajira@gmail.com"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(to,{className:"w-5 h-5 text-ajira-accent"}),s.jsx("a",{href:"tel:+254792343958",className:"text-sm text-white/80 hover:text-white",children:"+254 792 343 958"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Find Us"}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48",children:s.jsx("iframe",{title:"KiNaP Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.0176604666584!2d36.8206!3d-1.1722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMcKwMTAnMTkuMiJTIDM2wrA0OSczNC4yIkU!5e0!3m2!1sen!2ske!4v1620000000000!5m2!1sen!2ske",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-6",children:e.map((r,n)=>s.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white",children:r.icon},n))}),s.jsxs("p",{className:"text-sm text-white/80",children:[" ",t," Ajira Digital KiNaP Club. All rights reserved."]})]})})]})})},nt=({children:t})=>s.jsxs("div",{className:"min-h-screen bg-gray-50 w-full overflow-x-hidden",children:[s.jsxs(cu,{children:[s.jsx("title",{children:"Ajira Digital KiNaP Club - Digital Skills & Opportunities"}),s.jsx("meta",{name:"description",content:"Join Ajira Digital at Kiambu National Polytechnic. Learn digital skills, find online work opportunities, and build your digital career."}),s.jsx("meta",{name:"keywords",content:"Ajira Digital, KiNaP, digital skills, online work, freelancing, digital economy, Kiambu National Polytechnic"}),s.jsx("meta",{property:"og:title",content:"Ajira Digital KiNaP Club"}),s.jsx("meta",{property:"og:description",content:"Empowering youth through digital skills and online work opportunities at Kiambu National Polytechnic."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),s.jsx(sL,{}),s.jsx("main",{className:"flex-1 w-full mt-6",children:s.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-8",children:t||s.jsx(ME,{})})}),s.jsx(nL,{})]}),uh=({children:t})=>s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"bg-ajira-primary text-ajira-light py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Ajira Digital Marketplace"}),s.jsx("p",{className:"text-lg text-ajira-light/80 mb-8",children:"Connect with talented freelancers and find opportunities in the digital economy"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:"Search for services...",className:"w-full px-4 py-3 pl-12 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50"}),s.jsx(Ht,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/60",size:20})]}),s.jsxs("button",{className:"px-6 py-3 bg-ajira-accent hover:bg-ajira-accent/90 text-white rounded-lg flex items-center space-x-2",children:[s.jsx(Vv,{size:20}),s.jsx("span",{children:"Filters"})]}),s.jsxs("button",{className:"px-6 py-3 bg-ajira-accent hover:bg-ajira-accent/90 text-white rounded-lg flex items-center space-x-2",children:[s.jsx(qO,{size:20}),s.jsx("span",{children:"Sort"})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("div",{className:"container-custom py-4",children:s.jsxs("div",{className:"flex items-center space-x-6 overflow-x-auto scrollbar-hide",children:[s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200",children:"All Categories"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Digital Marketing"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Web Development"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Content Writing"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Graphic Design"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Virtual Assistant"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Data Entry"})]})})}),s.jsx("main",{className:"container-custom py-8",children:t||s.jsx(ME,{})}),s.jsx("div",{className:"fixed bottom-8 right-8",children:s.jsx("button",{className:"bg-ajira-accent hover:bg-ajira-accent/90 text-white px-6 py-3 rounded-full shadow-lg flex items-center space-x-2",children:s.jsx("span",{children:"Post a Gig"})})})]}),aL=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(0),[a,i]=P.useState(!0);if(P.useEffect(()=>{(async()=>{try{const c=[{title:"From Local Developer to Global AI Innovator",content:"Through Ajira's AI Development Program, I transformed from a traditional web developer into a Quantum AI specialist. Now I lead a team developing neural interfaces for the African market.",author:"Sarah Mwangi",authorRole:"Senior Quantum AI Architect",rating:5,image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=80",impact:{earnings:5e6,jobsCreated:15,skillsGained:["Quantum Computing","Neural Networks","AI Ethics"]},aiInsights:{marketPotential:"High growth in African AI market expected (300% by 2026)",growthOpportunities:["Neural Interface Development","Quantum AI Solutions","Green Tech Integration"],skillRecommendations:["Advanced Quantum Programming","Neural Architecture Design","Sustainable AI Practices"]}},{title:"Freelancer to Digital Agency Owner",content:"Ajira's mentorship helped me scale from a solo freelancer to running a digital agency with 20+ employees, serving clients worldwide.",author:"James Kamau",authorRole:"Founder, Kamau Digital Solutions",rating:5,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",impact:{earnings:3e6,jobsCreated:22,skillsGained:["Project Management","Client Acquisition","Team Leadership"]},aiInsights:{marketPotential:"Digital services demand is booming in Africa and globally.",growthOpportunities:["Remote Team Building","Cross-border E-commerce","Brand Strategy"],skillRecommendations:["Digital Marketing","Business Automation","Cross-cultural Communication"]}},{title:"Student to Award-Winning Content Creator",content:"With Ajira's training, I turned my passion for storytelling into a career. My YouTube channel now has 100k+ subscribers and I mentor other students.",author:"Grace Wanjiru",authorRole:"Content Creator & Mentor",rating:5,image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=800&q=80",impact:{earnings:12e5,jobsCreated:5,skillsGained:["Video Production","Public Speaking","Mentorship"]},aiInsights:{marketPotential:"Content creation is a top growth sector for youth in Africa.",growthOpportunities:["Edutainment","Online Courses","Brand Partnerships"],skillRecommendations:["SEO for Video","Personal Branding","Community Building"]}}];for(const u of c)e(d=>[...d,u]);i(!1)}catch(c){console.error("Error fetching stories:",c),i(!1)}})()},[]),P.useEffect(()=>{if(t.length===0)return;const l=setInterval(()=>{n(c=>(c+1)%t.length)},1e4);return()=>clearInterval(l)},[t]),a)return s.jsx("div",{className:"text-center py-12",children:"Loading featured stories..."});if(t.length===0)return null;const o=t[r];return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-64 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/75 to-transparent"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"2025 Success Story of the Day"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600 line-clamp-3",children:o.content})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-ajira-primary mb-3",children:"Impact Metrics"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-ajira-accent",children:[o.impact.earnings.toLocaleString()," KES"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Annual Earnings"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:o.impact.jobsCreated}),s.jsx("div",{className:"text-sm text-gray-600",children:"Jobs Created"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:o.impact.skillsGained.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"New Skills"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/5 to-ajira-accent/5 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-ajira-primary mb-3",children:"AI Market Insights"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o.aiInsights.marketPotential}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-ajira-primary mb-2",children:"Growth Areas"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.aiInsights.growthOpportunities.map((l,c)=>s.jsxs("li",{children:[" ",l]},c))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-ajira-primary mb-2",children:"Recommended Skills"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.aiInsights.skillRecommendations.map((l,c)=>s.jsxs("li",{children:[" ",l]},c))})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-ajira-primary",children:o.author}),s.jsx("div",{className:"text-sm text-gray-500",children:o.authorRole})]}),s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((l,c)=>s.jsx(lt,{className:`w-4 h-4 ${c<o.rating?"text-yellow-400 fill-current":"text-gray-300"}`},c))})]}),s.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:t.map((l,c)=>s.jsx("button",{onClick:()=>n(c),className:`w-2 h-2 rounded-full transition-colors ${c===r?"bg-ajira-accent":"bg-gray-300 hover:bg-gray-400"}`},c))}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(De,{to:"/become-seller",className:"inline-flex items-center text-ajira-accent hover:text-ajira-accent/80",children:["Start Your Success Story",s.jsx(Un,{className:"ml-2 w-4 h-4"})]})})]})]})},iL=()=>{const[t,e]=P.useState(0),r=[{id:"1",name:"Grace Wanjiku",role:"Web Developer",content:"Ajira Digital transformed my career completely. From learning basic HTML to building full-stack applications, the program gave me all the tools I needed to succeed as a freelancer.",rating:5,avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:"2",name:"James Kamau",role:"Digital Marketer",content:"The mentorship and hands-on training at Ajira Digital helped me land a remote job with a US company. I now earn 3x what I used to make locally.",rating:5,avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:"3",name:"Mary Njeri",role:"Content Creator",content:"Through Ajira Digital, I learned video editing and content creation. I now run my own YouTube channel with over 50K subscribers and multiple income streams.",rating:5,avatar:"https://randomuser.me/api/portraits/women/67.jpg"},{id:"4",name:"Peter Ochieng",role:"Mobile App Developer",content:"The React Native training was exceptional. I built my first app within 3 months and now have clients from different countries. Life-changing experience!",rating:5,avatar:"https://randomuser.me/api/portraits/men/45.jpg"}],n=()=>{e(o=>o===r.length-1?0:o+1)},a=()=>{e(o=>o===0?r.length-1:o-1)};P.useEffect(()=>{const o=setInterval(n,5e3);return()=>clearInterval(o)},[]);const i=o=>Array.from({length:5},(l,c)=>s.jsx(lt,{className:`w-5 h-5 ${c<o?"text-yellow-400 fill-current":"text-gray-300"}`},c));return s.jsx("div",{className:"relative bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 md:p-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(Zm,{className:"w-12 h-12 text-blue-500"})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 leading-relaxed italic",children:['"',r[t].content,'"']}),s.jsx("div",{className:"flex justify-center mb-6",children:i(r[t].rating)}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("img",{src:r[t].avatar,alt:r[t].name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:r[t].name}),s.jsx("p",{className:"text-gray-600",children:r[t].role})]})]})]}),s.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[s.jsx("button",{onClick:a,className:"p-3 bg-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-gray-600 hover:text-blue-600",children:s.jsx(gl,{className:"w-6 h-6"})}),s.jsx("button",{onClick:n,className:"p-3 bg-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-gray-600 hover:text-blue-600",children:s.jsx(Ml,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:r.map((o,l)=>s.jsx("button",{onClick:()=>e(l),className:`w-3 h-3 rounded-full transition-all duration-200 ${l===t?"bg-blue-500 scale-125":"bg-gray-300 hover:bg-gray-400"}`},l))})]})})},W4=be.create({baseURL:"http://localhost:5000/api",withCredentials:!0});W4.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t});const bi=W4,oL=()=>{const[t,e]=P.useState({totalMembers:25e4,projectsCompleted:18e4,totalEarnings:5e8,activeFreelancers:75e3,successRate:94.5,averageRating:4.8}),[r,n]=P.useState(!0);if(P.useEffect(()=>{(async()=>{try{const o=await bi.get("/metrics");o.data&&e(l=>({...l,...o.data,totalMembers:Number(o.data.totalMembers)||l.totalMembers,projectsCompleted:Number(o.data.projectsCompleted)||l.projectsCompleted,totalEarnings:Number(o.data.totalEarnings)||l.totalEarnings,activeFreelancers:Number(o.data.activeFreelancers)||l.activeFreelancers,successRate:Number(o.data.successRate)||l.successRate,averageRating:Number(o.data.averageRating)||l.averageRating})),n(!1)}catch(o){console.error("Error fetching metrics:",o),n(!1)}})()},[]),r)return s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Loading metrics..."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we fetch the latest data"})]})});const a=[{icon:s.jsx(Ve,{className:"w-8 h-8 text-ajira-accent"}),label:"Total Members",value:t.totalMembers??0,format:i=>(Number(i)||0).toLocaleString()},{icon:s.jsx(Dl,{className:"w-8 h-8 text-ajira-primary"}),label:"Projects Completed",value:t.projectsCompleted??0,format:i=>(Number(i)||0).toLocaleString()},{icon:s.jsx(Yn,{className:"w-8 h-8 text-green-500"}),label:"Total Earnings",value:t.totalEarnings??0,format:i=>`KES ${(Number(i)||0).toLocaleString()}`},{icon:s.jsx(vt,{className:"w-8 h-8 text-yellow-500"}),label:"Success Rate",value:t.successRate??0,format:i=>`${(Number(i)||0).toFixed(1)}%`}];return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary text-center mb-8",children:"Our Impact in 2025"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((i,o)=>s.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"mb-4",children:i.icon}),s.jsx("div",{className:"text-2xl font-bold text-ajira-primary mb-2",children:i.format(i.value)}),s.jsx("div",{className:"text-sm text-gray-600 text-center",children:i.label})]},o))}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"Active Freelancers"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ve,{className:"w-6 h-6 text-ajira-accent mr-3"}),s.jsx("span",{className:"text-2xl font-bold text-ajira-primary",children:(t.activeFreelancers??0).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Members actively taking on projects"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"Average Project Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((i,o)=>s.jsx(lt,{className:`w-6 h-6 ${o<Math.round(Number(t.averageRating)||0)?"text-yellow-400 fill-current":"text-gray-300"}`},o))}),s.jsx("span",{className:"ml-3 text-2xl font-bold text-ajira-primary",children:(Number(t.averageRating)||0).toFixed(1)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Based on completed project ratings"})]})]}),s.jsxs("div",{className:"mt-8 bg-gradient-to-r from-ajira-primary/5 to-ajira-accent/5 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"2025 AI-Driven Insights"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-ajira-primary mb-2",children:"Top Skills in Demand"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsx("li",{children:" AI/ML Development"}),s.jsx("li",{children:" Blockchain Solutions"}),s.jsx("li",{children:" Quantum Computing"}),s.jsx("li",{children:" Green Tech Innovation"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-ajira-primary mb-2",children:"Emerging Opportunities"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsx("li",{children:" Remote Work Solutions"}),s.jsx("li",{children:" Digital Healthcare"}),s.jsx("li",{children:" EdTech Platforms"}),s.jsx("li",{children:" Sustainable Tech"})]})]})]})]})]})},lL=()=>{var a,i,o,l,c;const[t,e]=P.useState(null),[r,n]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const d=await be.get("/api/homepage");e(d.data)}catch{e(null)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Loading..."}):s.jsxs("div",{className:"min-h-screen bg-ajira-white w-full overflow-x-hidden",children:[s.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden w-full",children:[s.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[s.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-40",poster:"/images/hero-poster.jpg",onError:u=>{u.currentTarget.style.display="none";const d=u.currentTarget.parentElement;d&&(d.style.background="linear-gradient(135deg, #000000 0%, #CE1126 35%, #006B3F 70%, #000000 100%)"),console.warn("Video background not available, using gradient fallback")},onLoadedData:()=>{console.log("Background video loaded successfully")},onLoadStart:()=>{fetch("/videos/digital-transformation.mp4",{method:"HEAD"}).catch(()=>{const u=document.querySelector("video");if(u){u.style.display="none";const d=u.parentElement;d&&(d.style.background="linear-gradient(135deg, #000000 0%, #CE1126 35%, #006B3F 70%, #000000 100%)")}})},children:[s.jsx("source",{src:"/videos/digital-transformation.mp4",type:"video/mp4"}),s.jsx("source",{src:"/videos/kinap-promo.webm",type:"video/webm"}),s.jsx("source",{src:"/videos/ajira-background.mov",type:"video/quicktime"}),"Your browser does not support the video tag."]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kenya-black/90 via-kenya-green/80 to-kenya-red/85"}),s.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-8 h-8 bg-kenya-red rounded-full animate-bounce-slow opacity-70"}),s.jsx("div",{className:"absolute top-40 right-32 w-6 h-6 bg-kenya-white rounded-full animate-float opacity-60"}),s.jsx("div",{className:"absolute bottom-40 left-1/4 w-7 h-7 bg-kenya-green rounded-full animate-pulse opacity-80"}),s.jsx("div",{className:"absolute top-60 left-1/3 w-5 h-5 bg-kenya-red rounded-full animate-bounce opacity-50"}),s.jsx("div",{className:"absolute bottom-60 right-1/4 w-6 h-6 bg-kenya-white rounded-full animate-float opacity-40"}),s.jsx("div",{className:"absolute inset-0 opacity-15",children:s.jsx("div",{className:"grid grid-cols-16 grid-rows-10 h-full w-full gap-2",children:Array.from({length:160}).map((u,d)=>s.jsx("div",{className:`border border-kenya-green/30 rounded-sm ${Math.random()>.85?"bg-kenya-red/20 animate-pulse":""}`,style:{animationDelay:`${Math.random()*4}s`,animationDuration:`${3+Math.random()*3}s`}},d))})}),s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-kenya-red/60 rounded-full animate-spin-slow"}),s.jsx("div",{className:"absolute top-32 right-20 w-20 h-20 border-2 border-kenya-white/50 rounded-lg rotate-45 animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 bg-kenya-green/40 rounded-full animate-bounce-slow"}),s.jsx("div",{className:"absolute bottom-32 right-1/3 w-28 h-28 border-2 border-kenya-green/60 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-kenya-red/30 to-transparent"}),s.jsx("div",{className:"absolute top-0 right-1/3 w-px h-full bg-gradient-to-b from-transparent via-kenya-green/30 to-transparent"})]})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto text-center px-2 sm:px-4 py-20",children:[s.jsx("div",{className:"mb-8 flex justify-center",children:s.jsx("img",{src:(t==null?void 0:t.heroImage)||"/logo.jpeg",alt:"KiNaP Ajira Club Logo",className:"h-20 w-auto drop-shadow-lg rounded-lg"})}),s.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg break-words",children:(t==null?void 0:t.heroTitle)||"Empowering Kenya's Digital Generation"}),s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-kenya-white mb-8 drop-shadow-md",children:(t==null?void 0:t.heroSubtitle)||"KiNaP Ajira Digital Club - Innovation & Excellence"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-12 w-full",children:(a=t==null?void 0:t.ctaButtons)==null?void 0:a.map((u,d)=>u.url.startsWith("http")?s.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"bg-kenya-black hover:bg-kenya-white text-white hover:text-kenya-black text-lg font-bold px-10 py-4 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 border-2 border-kenya-white w-full sm:w-auto",children:u.label},d):s.jsx(De,{to:u.url,className:"bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white text-lg font-bold px-10 py-4 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 border-2 border-kenya-white w-full sm:w-auto",children:u.label},d))}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8 mt-8 w-full",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-red drop-shadow-lg",children:[((i=t==null?void 0:t.stats)==null?void 0:i.studentsTrained)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Students Trained"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-green drop-shadow-lg",children:[((o=t==null?void 0:t.stats)==null?void 0:o.successStories)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Success Stories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-white drop-shadow-lg",children:[((l=t==null?void 0:t.stats)==null?void 0:l.skillsPrograms)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Skills Programs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white drop-shadow-lg",children:[((c=t==null?void 0:t.stats)==null?void 0:c.digitalExcellence)??0,"%"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Digital Excellence"})]})]})]})]}),s.jsx("section",{className:"py-12 sm:py-24 bg-gradient-to-br from-ajira-light to-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(zu,{className:"w-5 h-5"}),"Why Choose Us"]}),s.jsxs("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:["Why Choose ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-accent to-ajira-secondary",children:"Ajira Digital?"})]}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Discover the comprehensive ecosystem designed to transform your digital career in Kenya"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-10 w-full",children:[{icon:s.jsx(Ve,{className:"w-10 h-10"}),title:"Community Driven",description:"Join a thriving community of digital professionals and learners across Kenya",color:"from-ajira-primary to-ajira-blue-600",bgColor:"bg-ajira-primary/10"},{icon:s.jsx(vt,{className:"w-10 h-10"}),title:"Certified Training",description:"Industry-recognized certifications and skill development programs",color:"from-ajira-secondary to-ajira-green-600",bgColor:"bg-ajira-secondary/10"},{icon:s.jsx(hs,{className:"w-10 h-10"}),title:"Career Growth",description:"Track your progress and unlock new opportunities in the digital economy",color:"from-ajira-accent to-ajira-orange-600",bgColor:"bg-ajira-accent/10"},{icon:s.jsx(Ss,{className:"w-10 h-10"}),title:"Global Reach",description:"Connect with international markets and opportunities worldwide",color:"from-ajira-info to-ajira-blue-500",bgColor:"bg-ajira-info/10"}].map((u,d)=>s.jsxs("div",{className:"group card-ajira-hover p-10 w-full",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r ${u.color} rounded-2xl text-white mb-8 group-hover:scale-110 transition-transform shadow-ajira-lg`,children:u.icon}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-text-primary mb-6 group-hover:text-ajira-primary transition-colors",children:u.title}),s.jsx("p",{className:"text-ajira-text-muted leading-relaxed text-lg",children:u.description})]},d))})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-secondary/10 text-ajira-secondary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(vt,{className:"w-5 h-5"}),"Success Stories"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"Transforming Lives"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Discover how Ajira Digital is creating opportunities and changing lives at Kiambu National Polytechnic"})]}),s.jsx(aL,{})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5 w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-accent/10 text-ajira-accent px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(hs,{className:"w-5 h-5"}),"Our Impact"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"Making a Difference"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"See the real impact we're making in digital skills development across Kenya"})]}),s.jsx(oL,{})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(Ve,{className:"w-5 h-5"}),"Student Voices"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"What Students Say"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Real experiences from students who have transformed their careers through our programs"})]}),s.jsx(iL,{})]})}),s.jsxs("section",{className:"py-12 sm:py-24 bg-gradient-ajira text-white relative overflow-hidden w-full",children:[s.jsxs("div",{className:"absolute inset-0 opacity-20",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border-2 border-white rounded-full"}),s.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border-2 border-ajira-orange-300 rounded-lg rotate-45"}),s.jsx("div",{className:"absolute bottom-32 left-1/3 w-20 h-20 bg-ajira-green-300 rounded-full"}),s.jsx("div",{className:"absolute bottom-20 right-1/4 w-36 h-36 border-2 border-ajira-blue-300 rounded-full"})]}),s.jsx("div",{className:"container-custom text-center relative z-10 px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-2xl mb-8",children:s.jsx(Xn,{className:"w-12 h-12 text-ajira-orange-200"})})}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-8",children:"Ready to Transform Your Future?"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-blue-200 mb-12 max-w-3xl mx-auto",children:"Join thousands of students who have already started their digital transformation journey with Ajira Digital"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center w-full",children:[s.jsx(De,{to:"/auth",className:"bg-white text-ajira-primary px-10 py-5 rounded-2xl text-xl font-bold hover:bg-ajira-gray-100 transition-all duration-200 hover:scale-105 shadow-ajira-xl w-full sm:w-auto",children:"Join Us Today"}),s.jsx(De,{to:"/marketplace",className:"bg-white/20 backdrop-blur-sm text-white border-2 border-white/40 px-10 py-5 rounded-2xl text-xl font-bold hover:bg-white/30 transition-all duration-200 hover:scale-105 w-full sm:w-auto",children:"Explore Services"})]})]})})]})]})},cL=({seller:t,compact:e=!1})=>{const r=t.verified,n=t.rating>=4.5,a=t.rating>=4.8;return e?s.jsxs("div",{className:"flex items-center gap-1",children:[r&&s.jsx(xn,{className:"w-3 h-3 text-ajira-secondary"}),n&&s.jsx(y1,{className:"w-3 h-3 text-ajira-accent"}),a&&s.jsx(vt,{className:"w-3 h-3 text-ajira-warning"})]}):s.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r&&s.jsxs("div",{className:"flex items-center bg-ajira-secondary/10 text-ajira-secondary px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"Verified"]}),n&&s.jsxs("div",{className:"flex items-center bg-ajira-accent/10 text-ajira-accent px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(y1,{className:"w-3 h-3 mr-1"}),"Pro"]}),a&&s.jsxs("div",{className:"flex items-center bg-ajira-warning/10 text-ajira-warning px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(vt,{className:"w-3 h-3 mr-1"}),"Top Rated"]}),isFeatured&&s.jsxs("div",{className:"flex items-center bg-gradient-to-r from-purple-500/10 to-ajira-primary/10 text-purple-600 px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(Xn,{className:"w-3 h-3 mr-1"}),"Featured"]})]})},K4=({gig:t,viewMode:e="grid"})=>{var f,g,v,b,y,p,w,j,S,R,k,N,E,T,_,A,C,O,V,L;const[r,n]=P.useState(0),[a,i]=P.useState(!1),o=((f=t.images)==null?void 0:f.map(q=>q.url))||[],l=o.length>1,c=q=>{q.preventDefault(),q.stopPropagation(),n(M=>(M+1)%o.length)},u=q=>{q.preventDefault(),q.stopPropagation(),n(M=>(M-1+o.length)%o.length)},d=q=>{q.preventDefault(),q.stopPropagation(),i(!a)},h=()=>{var M;if(!((M=t.seller)!=null&&M.level))return null;const q={"Level 1":"bg-ajira-green-100 text-ajira-green-700 border-ajira-green-200","Level 2":"bg-ajira-blue-100 text-ajira-blue-700 border-ajira-blue-200","Top Rated":"bg-ajira-orange-100 text-ajira-orange-700 border-ajira-orange-200"};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${q[t.seller.level]||q["Level 1"]}`,children:t.seller.level})},m=()=>{var q;return(q=t.seller)!=null&&q.verifications?s.jsxs("div",{className:"flex items-center gap-1",children:[t.seller.verifications.includes("identity")&&s.jsxs("div",{className:"flex items-center bg-ajira-green-100 text-ajira-green-700 px-2 py-0.5 rounded text-xs",children:[s.jsx(xn,{className:"w-3 h-3 mr-1"}),"ID"]}),t.seller.verifications.includes("email")&&s.jsx("div",{className:"flex items-center bg-ajira-blue-100 text-ajira-blue-700 px-2 py-0.5 rounded text-xs",children:""}),t.seller.verifications.includes("phone")&&s.jsx("div",{className:"flex items-center bg-ajira-secondary-100 text-ajira-secondary-700 px-2 py-0.5 rounded text-xs",children:""})]}):null};return e==="list"?s.jsx("div",{className:"bg-white border border-ajira-gray-200 rounded-lg shadow-ajira hover:shadow-ajira-lg transition-all duration-300 overflow-hidden",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"relative w-64 h-40 flex-shrink-0",children:[s.jsx("img",{src:o[r]||"/api/placeholder/280/160",alt:t.title,className:"w-full h-full object-cover"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 w-6 h-6 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition",children:s.jsx(gl,{className:"w-3 h-3 text-ajira-text-primary"})}),s.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition",children:s.jsx(Ml,{className:"w-3 h-3 text-ajira-text-primary"})}),s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:o.map((q,M)=>s.jsx("button",{onClick:z=>{z.preventDefault(),z.stopPropagation(),n(M)},className:`w-1.5 h-1.5 rounded-full transition ${M===r?"bg-white":"bg-white/50"}`},M))})]}),t.featured&&s.jsxs("div",{className:"absolute top-2 left-2 bg-ajira-accent text-white px-2 py-1 rounded-md text-xs font-bold flex items-center gap-1 shadow-md",children:[s.jsx(vt,{className:"w-3 h-3"}),"KiNaP's Choice"]}),s.jsx("button",{onClick:d,className:"absolute top-2 right-2 w-8 h-8 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition shadow-md",children:s.jsx(Jm,{className:`w-4 h-4 ${a?"fill-red-500 text-red-500":"text-ajira-text-muted"}`})})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-text-primary mb-2 line-clamp-2 hover:text-ajira-secondary transition",children:t.title}),s.jsx("p",{className:"text-ajira-text-muted text-sm line-clamp-2 mb-3",children:t.description})]})}),s.jsx("div",{className:"flex items-center gap-3 mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:((g=t.seller)==null?void 0:g.avatar)||"/api/placeholder/32/32",alt:(v=t.seller)==null?void 0:v.name,className:"w-8 h-8 rounded-full object-cover border-2 border-ajira-gray-200"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:(b=t.seller)==null?void 0:b.name}),h()]}),m()]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(lt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:Number(((y=t.stats)==null?void 0:y.rating)||t.rating||0).toFixed(1)}),s.jsxs("span",{className:"text-xs text-ajira-text-muted",children:["(",(((p=t.stats)==null?void 0:p.reviews)||t.reviews||0).toLocaleString(),")"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-ajira-text-muted",children:[s.jsx(Ft,{className:"w-3 h-3"}),s.jsxs("span",{children:[t.deliveryTime||((j=(w=t.packages)==null?void 0:w[0])==null?void 0:j.deliveryTime)||"3 days"," ","delivery"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-ajira-text-muted mb-1",children:"Starting at"}),s.jsxs("div",{className:"text-lg font-bold text-ajira-text-primary",children:["KES"," ",(((R=(S=t.packages)==null?void 0:S[0])==null?void 0:R.price)||t.price||0).toLocaleString()]})]})]}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,3).map((q,M)=>s.jsx("span",{className:"inline-block bg-ajira-light text-ajira-text-muted px-2 py-1 rounded-md text-xs",children:q},M)),t.tags.length>3&&s.jsxs("span",{className:"inline-block bg-ajira-light text-ajira-text-muted px-2 py-1 rounded-md text-xs",children:["+",t.tags.length-3," more"]})]})]})]})}):s.jsxs("div",{className:"bg-white border border-ajira-gray-200 rounded-lg shadow-ajira hover:shadow-ajira-lg transition-all duration-300 overflow-hidden group",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:o[r]||"/api/placeholder/280/192",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition opacity-0 group-hover:opacity-100",children:s.jsx(gl,{className:"w-4 h-4 text-ajira-text-primary"})}),s.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition opacity-0 group-hover:opacity-100",children:s.jsx(Ml,{className:"w-4 h-4 text-ajira-text-primary"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1",children:o.map((q,M)=>s.jsx("button",{onClick:z=>{z.preventDefault(),z.stopPropagation(),n(M)},className:`w-2 h-2 rounded-full transition ${M===r?"bg-white":"bg-white/60"}`},M))})]}),t.featured&&s.jsxs("div",{className:"absolute top-3 left-3 bg-ajira-accent text-white px-2 py-1 rounded-md text-xs font-bold flex items-center gap-1 shadow-md",children:[s.jsx(vt,{className:"w-3 h-3"}),"KiNaP's Choice"]}),s.jsx("button",{onClick:d,className:"absolute top-3 right-3 w-8 h-8 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition shadow-md opacity-0 group-hover:opacity-100",children:s.jsx(Jm,{className:`w-4 h-4 ${a?"fill-red-500 text-red-500":"text-ajira-text-muted"}`})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("img",{src:((k=t.seller)==null?void 0:k.avatar)||"/api/placeholder/24/24",alt:(N=t.seller)==null?void 0:N.name,className:"w-6 h-6 rounded-full object-cover border border-ajira-gray-200"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:(E=t.seller)==null?void 0:E.displayName}),h()]}),s.jsx("h3",{className:"text-base font-semibold text-ajira-text-primary mb-2 line-clamp-2 hover:text-ajira-secondary transition",children:t.title}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[s.jsx(lt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:Number(((T=t.stats)==null?void 0:T.rating)||0).toFixed(1)}),s.jsxs("span",{className:"text-xs text-ajira-text-muted",children:["(",(((_=t.stats)==null?void 0:_.reviews)||0).toLocaleString(),")"]})]}),s.jsx("div",{className:"mb-4",children:s.jsx(cL,{seller:t.seller})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-ajira-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-ajira-text-muted",children:[s.jsx(Ft,{className:"w-3 h-3"}),s.jsxs("span",{children:[((C=(A=t.packages)==null?void 0:A[0])==null?void 0:C.deliveryTime)||"3 days"," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-ajira-text-muted",children:"Starting at"}),s.jsxs("div",{className:"text-lg font-bold text-ajira-text-primary",children:["KES"," ",(((V=(O=t.packages)==null?void 0:O[0])==null?void 0:V.price)||((L=t.pricing)==null?void 0:L.amount)||0).toLocaleString()]})]})]})]})]})},ca=({message:t="Loading...",description:e="Please wait while we fetch the data",fullScreen:r=!1})=>{const n=r?"min-h-screen flex items-center justify-center p-4":"min-h-[400px] flex items-center justify-center p-4";return s.jsx("div",{className:n,children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t}),s.jsx("p",{className:"text-sm text-gray-500",children:e})]})})},Qv="http://localhost:5000/api",uL=async(t={})=>{try{const e=new URLSearchParams;Object.entries(t).forEach(([n,a])=>{a!=null&&a!==""&&e.append(n,a.toString())});const r=await fetch(`${Qv}/marketplace/gigs?${e.toString()}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(e){throw console.error("Error fetching gigs:",e),e}},dL=async t=>{try{const e=await fetch(`${Qv}/marketplace/gigs/${t}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching gig:",e),e}},hL=async()=>{try{const t=await fetch(`${Qv}/marketplace/stats`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching marketplace stats:",t),t}},mL=()=>{const t=[{name:"Graphics & Design",icon:h4,count:"125 services",color:"from-ajira-primary to-ajira-blue-600",image:"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop"},{name:"Digital Marketing",icon:l4,count:"125 services",color:"from-ajira-secondary to-ajira-green-600",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop"},{name:"Programming & Tech",icon:mu,count:"125 services",color:"from-ajira-dark to-ajira-primary",image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=300&fit=crop"},{name:"Video & Animation",icon:Fv,count:"125 services",color:"from-ajira-info to-ajira-blue-500",image:"https://images.unsplash.com/photo-1536240478700-b869070f9279?w=400&h=300&fit=crop"},{name:"Music & Audio",icon:Xm,count:"125 services",color:"from-purple-500 to-ajira-primary",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop"},{name:"Writing & Translation",icon:oD,count:"125 services",color:"from-ajira-accent to-ajira-orange-600",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?w=400&h=300&fit=crop"}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-light to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(zu,{className:"w-4 h-4"}),"Explore Categories"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Discover Amazing Services"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"From creative design to technical development, find the perfect freelancer for any project"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>{const n=e.icon;return s.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 overflow-hidden border border-ajira-gray-200 hover:border-ajira-primary/30 hover:-translate-y-2",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-80`}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"absolute top-6 left-6 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"absolute top-6 right-6 bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium",children:e.count})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-ajira-text-primary mb-2 group-hover:text-ajira-primary transition-colors",children:e.name}),s.jsx("p",{className:"text-ajira-text-muted mb-4",children:"Professional services delivered by top-rated freelancers"}),s.jsxs("button",{className:"flex items-center gap-2 text-ajira-primary font-semibold group-hover:gap-3 transition-all duration-200",children:["Explore Services",s.jsx(Un,{className:"w-4 h-4"})]})]})]},r)})})]})})},fL=()=>{const t=["Safaricom","KCB Bank","Equity Bank","NCBA","Stanbic Bank","Co-op Bank","I&M Bank","Standard Chartered"];return s.jsx("section",{className:"py-16 bg-white border-y border-ajira-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-2xl font-bold text-ajira-text-primary mb-4",children:"Trusted by Leading Kenyan Companies"}),s.jsx("p",{className:"text-ajira-text-muted",children:"Join thousands of businesses that trust KiNaP Digital Marketplace"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-8 items-center",children:t.map((e,r)=>s.jsx("div",{className:"flex items-center justify-center p-4 bg-ajira-light rounded-xl hover:bg-white hover:shadow-ajira transition-all duration-200 border border-ajira-gray-200",children:s.jsx("div",{className:"text-ajira-text-secondary font-bold text-lg",children:e})},r))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/10 rounded-xl flex items-center justify-center",children:s.jsx(xn,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-secondary",children:"100%"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Secure Payments"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/10 rounded-xl flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-ajira-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-primary",children:"24/7"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Support"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/10 rounded-xl flex items-center justify-center",children:s.jsx(vt,{className:"w-6 h-6 text-ajira-accent"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent",children:"98%"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Satisfaction"})]})]})]})})]})})},pL=()=>{const t=[{name:"Sarah Wanjiku",role:"Marketing Director, TechStart Kenya",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",rating:5,text:"KiNaP Digital Marketplace connected us with amazing Kenyan talent. Our brand redesign project was completed ahead of schedule with exceptional quality.",verified:!0},{name:"James Mwangi",role:"CEO, GreenTech Solutions",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",rating:5,text:"The web development team we found here delivered a world-class e-commerce platform. Highly professional and cost-effective.",verified:!0},{name:"Grace Njeri",role:"Founder, Fashion Forward",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",rating:5,text:"From logo design to social media content, KiNaP freelancers helped launch our fashion brand with stunning creative work.",verified:!0}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-accent/10 text-ajira-accent px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(Jm,{className:"w-4 h-4"}),"Client Stories"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"What Our Clients Say"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"Real success stories from businesses that have grown with KiNaP Digital Marketplace"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((e,r)=>s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-ajira-accent rounded-full flex items-center justify-center",children:s.jsx(Zm,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"flex items-center gap-1 mb-6",children:[...Array(e.rating)].map((n,a)=>s.jsx(lt,{className:"w-5 h-5 text-ajira-warning fill-current"},a))}),s.jsxs("p",{className:"text-ajira-text-primary mb-6 text-lg leading-relaxed",children:['"',e.text,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-bold text-ajira-text-primary",children:e.name}),e.verified&&s.jsx(Ke,{className:"w-4 h-4 text-ajira-secondary"})]}),s.jsx("p",{className:"text-sm text-ajira-text-muted",children:e.role})]})]})]},r))})]})})},gL=()=>{const t=[{step:"01",title:"Browse & Discover",description:"Explore thousands of services from verified Kenyan freelancers across 8+ categories",icon:Ss,color:"from-ajira-primary to-ajira-blue-600"},{step:"02",title:"Compare & Select",description:"Compare portfolios, reviews, and prices to find the perfect match for your project",icon:ss,color:"from-ajira-secondary to-ajira-green-600"},{step:"03",title:"Collaborate & Create",description:"Work directly with your chosen freelancer using our secure platform and communication tools",icon:Ve,color:"from-ajira-accent to-ajira-orange-600"},{step:"04",title:"Review & Pay",description:"Review the completed work, provide feedback, and pay securely when you're 100% satisfied",icon:Ke,color:"from-ajira-success to-ajira-green-500"}];return s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(lD,{className:"w-4 h-4"}),"How It Works"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Get Things Done in 4 Simple Steps"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"From idea to completion, our platform makes it easy to connect with top talent and get professional results"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>{const n=e.icon;return s.jsxs("div",{className:"relative group",children:[r<t.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-20 -right-4 w-8 h-0.5 bg-gradient-to-r from-ajira-gray-300 to-transparent"}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 hover:border-ajira-primary/30 text-center group-hover:-translate-y-2",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} text-white font-bold text-xl mb-6 shadow-ajira-lg`,children:e.step}),s.jsx("div",{className:"w-12 h-12 bg-ajira-light rounded-xl flex items-center justify-center mx-auto mb-6",children:s.jsx(n,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h3",{className:"text-xl font-bold text-ajira-text-primary mb-4 group-hover:text-ajira-primary transition-colors",children:e.title}),s.jsx("p",{className:"text-ajira-text-muted leading-relaxed",children:e.description})]})]},r)})}),s.jsx("div",{className:"text-center mt-16",children:s.jsx("button",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:shadow-ajira-xl transition-all duration-200 hover:scale-105",children:"Start Your Project Today"})})]})})},xL=()=>{const t=[{name:"Logo Design",orders:"2,500+",price:"From KES 2,000",trend:"+25%"},{name:"Website Development",orders:"1,800+",price:"From KES 15,000",trend:"+40%"},{name:"Social Media Management",orders:"3,200+",price:"From KES 5,000",trend:"+60%"},{name:"Content Writing",orders:"2,100+",price:"From KES 1,500",trend:"+35%"},{name:"Video Editing",orders:"1,400+",price:"From KES 3,000",trend:"+50%"},{name:"SEO Services",orders:"900+",price:"From KES 8,000",trend:"+45%"}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-light to-ajira-primary/5",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-secondary/10 text-ajira-secondary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(hs,{className:"w-4 h-4"}),"Popular This Month"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Most Requested Services"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"Discover the top services that businesses are ordering right now"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,r)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 hover:border-ajira-secondary/30 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-ajira-text-primary group-hover:text-ajira-secondary transition-colors",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1 bg-ajira-secondary/10 text-ajira-secondary px-2 py-1 rounded-full text-xs font-medium",children:[s.jsx(hs,{className:"w-3 h-3"}),e.trend]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Orders completed"}),s.jsx("div",{className:"text-xl font-bold text-ajira-primary",children:e.orders})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Starting at"}),s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:e.price})]})]}),s.jsx("button",{className:"w-full mt-4 bg-ajira-light hover:bg-ajira-secondary hover:text-white text-ajira-text-primary py-3 rounded-xl font-semibold transition-all duration-200",children:"Browse Services"})]},r))})]})})},G4=t=>{if(!t.trim())return!1;const e=/^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_.]+\/?$/,r=/^[a-zA-Z0-9-_.]+$/;return e.test(t.trim())||r.test(t.trim())},Dy=t=>{const e=t||{},r=["photoURL","bio","ajiraGoals","linkedinProfile"],n=["displayName","email","interests"];let a=0,i=r.length;r.forEach(d=>{const h=e[d];h!=null&&h!==""&&(Array.isArray(h)?h.length>0&&a++:d==="linkedinProfile"?G4(String(h))&&a++:(typeof h=="string"&&h.trim()!==""||typeof h!="string")&&a++)});let o=0;const l=.2;n.forEach(d=>{const h=e[d];h!=null&&h!==""&&(Array.isArray(h)&&h.length>0||typeof h=="string"&&h.trim()!==""||typeof h!="string")&&(o+=l/n.length)});const c=a/i*100,u=Math.min(100,c+o*100);return Math.round(u)},bl=(t,e)=>{const r=t||{},n=Dy(r),i={community:{requiredCompletion:50,requiredFields:["photoURL","bio","ajiraGoals"]},ambassador:{requiredCompletion:100,requiredFields:["photoURL","bio","ajiraGoals","linkedinProfile"]},marketplace:{requiredCompletion:75,requiredFields:["photoURL","bio","ajiraGoals"]}}[e];if(!i)return console.error(`Invalid feature: ${e}`),{allowed:!1,completion:n,requiredCompletion:100,missingFields:["Invalid feature"]};const o=n>=i.requiredCompletion,l=[];return i.requiredFields.forEach(c=>{const u=r[c];(u==null||u===""||Array.isArray(u)&&u.length===0||typeof u=="string"&&u.trim()===""||c==="linkedinProfile"&&!G4(String(u)))&&l.push(c)}),{allowed:o,completion:n,requiredCompletion:i.requiredCompletion,missingFields:l}},yL=t=>({photoURL:"Profile Photo",bio:"Bio/About Me",ajiraGoals:"Your Digital Goals",linkedinProfile:"LinkedIn Profile",displayName:"Display Name",email:"Email Address",interests:"Interests/Skills"})[t]||t,Yv=({profileData:t,feature:e,onComplete:r})=>{const n=bl(t,e),{allowed:a=!1,completion:i=0,requiredCompletion:o=100,missingFields:l=[]}=n||{};if(a)return null;const u=(()=>{switch(e){case"community":return{title:"Complete Your Profile to Access Community Hub",description:"Help us understand your interests to match you with the right community groups. Your profile helps create better learning communities.",icon:s.jsx(Ve,{className:"w-6 h-6"}),color:"bg-blue-50 border-blue-200 text-blue-800"};case"ambassador":return{title:"Complete Your Profile to Join Ambassador Program",description:"Represent KiNaP Ajira Club and help other students succeed in their digital journey.",icon:s.jsx(ss,{className:"w-6 h-6"}),color:"bg-purple-50 border-purple-200 text-purple-800"};case"marketplace":return{title:"Complete Your Profile to Access Marketplace",description:"Start offering services or browse available opportunities.",icon:s.jsx(or,{className:"w-6 h-6"}),color:"bg-green-50 border-green-200 text-green-800"}}})();return s.jsx("div",{className:`border rounded-lg p-6 mb-6 ${u.color}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:u.title}),s.jsx("p",{className:"text-sm mb-4 opacity-90",children:u.description}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{children:"Profile Completion"}),s.jsxs("span",{children:[i,"% / ",o,"%"]})]}),s.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:s.jsx("div",{className:"bg-current h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(i,100)}%`}})})]}),l.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Missing Required Fields:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[l.slice(0,6).map(d=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Lv,{className:"w-4 h-4 text-orange-500"}),s.jsx("span",{children:yL(d)})]},d)),l.length>6&&s.jsxs("div",{className:"text-sm opacity-75",children:["+",l.length-6," more fields"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(De,{to:"/profile",className:"inline-flex items-center justify-center px-4 py-2 bg-current text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:[s.jsx(or,{className:"w-4 h-4 mr-2"}),"Complete Profile",s.jsx(Un,{className:"w-4 h-4 ml-2"})]}),r&&s.jsxs("button",{onClick:r,className:"inline-flex items-center justify-center px-4 py-2 border border-current rounded-lg hover:bg-white/20 transition-colors font-medium",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2"}),"I'll Complete Later"]})]})]})]})})},U1=[{name:"Graphics & Design",value:"Graphics & Design",subcategories:["Logo Design","Brand Style Guides","Business Cards","Flyer Design","Poster Design","Brochure Design","Social Media Design","Web & Mobile Design","Package & Label Design","Illustration","Pattern Design","Presentations","Infographic Design","Vector Tracing","Resume Design"],icon:"",color:"from-ajira-primary to-ajira-blue-600"},{name:"Digital Marketing",value:"Digital Marketing",subcategories:["Social Media Marketing","SEO","Content Marketing","Video Marketing","Email Marketing","Search Engine Marketing","Marketing Strategy","Web Analytics","Influencer Marketing","Public Relations","Local SEO","E-Commerce Marketing","Mobile App Marketing","Music Promotion","Podcast Marketing"],icon:"",color:"from-ajira-secondary to-ajira-green-600"},{name:"Writing & Translation",value:"Writing & Translation",subcategories:["Content Writing","Copywriting","Technical Writing","Creative Writing","Translation","Proofreading & Editing","Resume Writing","Cover Letters","LinkedIn Profiles","Product Descriptions","Press Releases","Speechwriting","Grant Writing","Book Writing","Script Writing"],icon:"",color:"from-ajira-accent to-ajira-orange-600"},{name:"Video & Animation",value:"Video & Animation",subcategories:["Video Editing","Visual Effects","Intro & Outro Videos","Video Ads","Lyric & Music Videos","Slideshow Videos","Live Action Explainer","Animation","Character Animation","Logo Animation","Lottie & Web Animation","NFT Animation","Article to Video","App & Website Previews","Crowdfunding Videos"],icon:"",color:"from-ajira-info to-ajira-blue-500"},{name:"Music & Audio",value:"Music & Audio",subcategories:["Voice Over","Music Production","Audio Editing","Sound Design","Mixing & Mastering","Jingles & Intros","Audiobook Production","Podcast Production","Audio Ads","Custom Songs","Online Music Lessons","Audio Logo & Sonic Branding","DJ Drops & Tags","Singer-Songwriter","Session Musicians"],icon:"",color:"from-purple-500 to-ajira-primary"},{name:"Programming & Tech",value:"Programming & Tech",subcategories:["Website Development","Website Platforms","Website Maintenance","Mobile Apps","Desktop Applications","Chatbot Development","Game Development","Web Programming","E-Commerce Development","Database","User Testing","QA & Review","DevOps & Cloud","Cybersecurity","Data Processing"],icon:"",color:"from-ajira-dark to-ajira-primary"},{name:"Business",value:"Business",subcategories:["Virtual Assistant","Data Entry","Market Research","Business Plans","Legal Consulting","Financial Consulting","HR Consulting","Customer Care","Project Management","CRM Management","ERP Management","Supply Chain Management","Event Management","Sales","Lead Generation"],icon:"",color:"from-ajira-secondary to-ajira-green-700"},{name:"Lifestyle",value:"Lifestyle",subcategories:["Gaming","Fitness","Nutrition","Cooking Lessons","Arts & Crafts","Relationship Advice","Travel Itineraries","Astrology","Spiritual & Healing","Family & Genealogy","Career Counseling","Life Coaching","Fashion Advice","Beauty","Wellness"],icon:"",color:"from-ajira-accent to-ajira-orange-700"}],vL=[{value:"recommended",label:"Recommended"},{value:"kinapChoice",label:"KiNaP's Choice"},{value:"bestSelling",label:"Best Selling"},{value:"newest",label:"Newest Arrivals"},{value:"topRated",label:"Top Rated"},{value:"priceLow",label:"Price: Low to High"},{value:"priceHigh",label:"Price: High to Low"}],dh=[{value:"all",label:"Any Price",min:0,max:1/0},{value:"under500",label:"Under KES 500",min:0,max:500},{value:"500to2000",label:"KES 500 - KES 2,000",min:500,max:2e3},{value:"2000to5000",label:"KES 2,000 - KES 5,000",min:2e3,max:5e3},{value:"5000to10000",label:"KES 5,000 - KES 10,000",min:5e3,max:1e4},{value:"over10000",label:"KES 10,000+",min:1e4,max:1/0}],B1=[{value:"all",label:"Any Time"},{value:"1day",label:"Express 24H"},{value:"3days",label:"Up to 3 days"},{value:"7days",label:"Up to 7 days"},{value:"14days",label:"Up to 14 days"}],Lg=20,bL=()=>{var F,W;const[t,e]=P.useState("all"),[r,n]=P.useState("all"),[a,i]=P.useState(""),[o,l]=P.useState("recommended"),[c,u]=P.useState("all"),[d,h]=P.useState("all"),[m,f]=P.useState(!1),[g,v]=P.useState(!1),[b,y]=P.useState("grid"),[p,w]=P.useState(1),[j,S]=P.useState([]),[R,k]=P.useState(!0),[N,E]=P.useState(null),[T,_]=P.useState(null);Ur();const[A,C]=P.useState({}),[O,V]=P.useState(!0),L=bl(A,"marketplace");P.useEffect(()=>{(async()=>{var Q,X;try{k(!0),E(null);const G={category:t!=="all"?t:void 0,subcategory:r!=="all"?r:void 0,minPrice:c!=="all"?(Q=dh.find($=>$.value===c))==null?void 0:Q.min:void 0,maxPrice:c!=="all"?(X=dh.find($=>$.value===c))==null?void 0:X.max:void 0,search:a||void 0,sort:o==="newest"?"newest":o==="priceLow"?"price-low":o==="priceHigh"?"price-high":o==="topRated"?"rating":o==="bestSelling"?"orders":"newest",page:p,limit:Lg},K=await uL(G);S(K.gigs);const J=await hL();_(J)}catch(G){console.error("Error loading gigs:",G),E("Failed to load gigs. Please try again."),S([])}finally{k(!1)}})()},[t,r,a,o,c,d,p]);const q=U1.find(H=>H.value===t),M=(q==null?void 0:q.subcategories)||[];let z=j.filter(H=>{var K,J;const Q=((J=(K=H.packages)==null?void 0:K[0])==null?void 0:J.deliveryTime)||999,X=d==="all"||d==="1day"&&Q<=1||d==="3days"&&Q<=3||d==="7days"&&Q<=7||d==="14days"&&Q<=14,G=!m||H.featured;return X&&G});z=z.sort((H,Q)=>{const X=$=>{var Z,se;return((se=(Z=$.packages)==null?void 0:Z[0])==null?void 0:se.price)||$.pricing.amount||0},G=$=>$.stats.rating||0,K=$=>$.stats.orders||0,J=$=>$.stats.reviews||0;switch(o){case"recommended":if(H.featured&&!Q.featured)return-1;if(!H.featured&&Q.featured)return 1;const $=G(H)*.4+Math.log(K(H)+1)*.3+Math.log(J(H)+1)*.3;return G(Q)*.4+Math.log(K(Q)+1)*.3+Math.log(J(Q)+1)*.3-$;case"kinapChoice":return H.featured&&!Q.featured?-1:!H.featured&&Q.featured?1:G(Q)-G(H);case"bestSelling":return K(Q)-K(H);case"newest":return new Date(Q.createdAt).getTime()-new Date(H.createdAt).getTime();case"topRated":return G(Q)!==G(H)?G(Q)-G(H):J(Q)-J(H);case"priceLow":return X(H)-X(Q);case"priceHigh":return X(Q)-X(H);default:return 0}});const D=z;return P.useEffect(()=>{w(1)},[t,r,a,o,c,d,m]),R?s.jsx(ca,{message:"Loading marketplace",description:"Please wait while we fetch the latest gigs"}):s.jsxs("div",{className:"bg-ajira-light min-h-screen",children:[s.jsxs("section",{className:"relative bg-gradient-ajira text-white py-24 px-4 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white rounded-full"}),s.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 border-2 border-ajira-orange-300 rounded-lg rotate-45"}),s.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-ajira-green-300 rounded-full"}),s.jsx("div",{className:"absolute bottom-32 right-1/3 w-24 h-24 border-2 border-ajira-blue-300 rounded-full"})]}),s.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx(zu,{className:"w-8 h-8 text-ajira-orange-300 animate-spin-slow"}),s.jsx("span",{className:"text-ajira-orange-200 text-lg font-medium",children:"KiNaP Digital Marketplace"}),s.jsx(zu,{className:"w-8 h-8 text-ajira-orange-300 animate-spin-slow"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:["Find the"," ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-orange-200 to-ajira-green-200",children:"perfect"}),s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-green-200 to-ajira-blue-200",children:"freelance service"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-ajira-blue-200 mb-12 max-w-3xl mx-auto",children:"Connect with top Kenyan talent and get your projects done with quality and speed"}),s.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:s.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-md rounded-2xl shadow-ajira-xl overflow-hidden border border-white/20",children:[s.jsx(Ht,{className:"w-6 h-6 text-ajira-blue-200 ml-6"}),s.jsx("input",{type:"text",placeholder:"What service are you looking for today?",className:"flex-1 px-6 py-6 text-lg text-white placeholder-ajira-blue-200 bg-transparent outline-none",value:a,onChange:H=>i(H.target.value)}),s.jsx("button",{className:"bg-ajira-accent hover:bg-ajira-orange-600 text-white px-10 py-6 font-semibold text-lg transition-all duration-200 hover:scale-105",onClick:()=>{var H;a.trim()&&((H=document.getElementById("results-section"))==null||H.scrollIntoView({behavior:"smooth"}))},children:"Search"})]})}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[s.jsx("span",{className:"text-ajira-orange-200 text-lg",children:"Popular:"}),["Logo Design","WordPress","Voice Over","Video Editing","Data Entry","Social Media","SEO"].map(H=>s.jsx("button",{onClick:()=>i(H),className:"bg-white/10 backdrop-blur-sm hover:bg-white/20 px-4 py-2 rounded-full text-sm transition-all duration-200 border border-white/20 hover:border-ajira-accent/50 hover:scale-105",children:H},H))]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-16",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-orange-200",children:"1000+"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Active Services"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-green-200",children:"50+"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Expert Freelancers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-orange-200",children:"98%"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Satisfaction Rate"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-green-200",children:"24H"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Avg Response"})]})]})]})]}),O&&!L.allowed&&s.jsx("section",{className:"bg-white border-b border-ajira-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx(Yv,{profileData:A,feature:"marketplace",onComplete:()=>V(!1)})})}),s.jsx("section",{className:"bg-white border-b border-ajira-gray-200 sticky top-0 z-40 shadow-ajira",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex items-center overflow-x-auto py-4 space-x-6",children:[s.jsxs("button",{onClick:()=>{e("all"),n("all")},className:`flex items-center whitespace-nowrap px-6 py-3 rounded-xl transition-all duration-200 ${t==="all"?"bg-gradient-ajira-blue text-white font-semibold shadow-ajira-lg scale-105":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-ajira-light"}`,children:[s.jsx("span",{className:"mr-2 text-lg",children:""}),"All Categories"]}),U1.map(H=>s.jsxs("button",{onClick:()=>{e(H.value),n("all")},className:`flex items-center whitespace-nowrap px-6 py-3 rounded-xl transition-all duration-200 relative overflow-hidden ${t===H.value?`bg-gradient-to-r ${H.color} text-white font-semibold shadow-ajira-lg scale-105`:"text-ajira-text-secondary hover:text-ajira-primary hover:bg-ajira-light hover:scale-105"}`,children:[s.jsx("span",{className:"mr-2 text-lg",children:H.icon}),H.name,t===H.value&&s.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})]},H.value))]})})}),t!=="all"&&M.length>0&&s.jsx("section",{className:"bg-ajira-light border-b border-ajira-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center overflow-x-auto space-x-3",children:[s.jsxs("button",{onClick:()=>n("all"),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm transition-all duration-200 ${r==="all"?"bg-ajira-primary text-white shadow-ajira":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-white"}`,children:["All ",q==null?void 0:q.name]}),M.map(H=>s.jsx("button",{onClick:()=>n(H),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm transition-all duration-200 ${r===H?"bg-ajira-primary text-white shadow-ajira":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-white"}`,children:H},H))]})})}),j.filter(H=>H.isKinapChoice).length>0&&!m&&s.jsxs("section",{className:"bg-gradient-ajira-orange text-white py-16 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s.jsx(vt,{className:"w-12 h-12 animate-bounce-slow"}),s.jsx("h2",{className:"text-5xl font-bold",children:"KiNaP's Choice"}),s.jsx(vt,{className:"w-12 h-12 animate-bounce-slow"})]}),s.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Premium services hand-picked by our team for exceptional quality and customer satisfaction. Work with the best talent in Kenya."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx("button",{onClick:()=>f(!0),className:"bg-white text-ajira-accent px-8 py-4 rounded-xl font-semibold hover:bg-ajira-gray-100 transition-all duration-200 shadow-ajira-lg hover:scale-105",children:"Explore KiNaP's Choice"}),s.jsxs("div",{className:"flex items-center gap-2 text-ajira-orange-200",children:[s.jsx(xn,{className:"w-5 h-5"}),s.jsx("span",{children:"Quality Guaranteed"})]})]})]})]}),s.jsxs("section",{id:"results-section",className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-ajira-text-primary mb-2",children:[m?s.jsxs("span",{className:"flex items-center gap-3",children:[s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),"KiNaP's Choice Services"]}):`${z.length.toLocaleString()} services available`,t!=="all"&&s.jsxs("span",{className:"text-xl font-normal text-ajira-text-secondary ml-3",children:["in ",q==null?void 0:q.name,r!=="all"&&` > ${r}`]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-ajira-text-muted",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsxs("span",{children:[j.length.toLocaleString()," freelancers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{children:"Kenya"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4"}),s.jsx("span",{children:"Growing daily"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs("button",{onClick:()=>f(!m),className:`flex items-center gap-2 px-6 py-3 rounded-xl border transition-all duration-200 ${m?"bg-ajira-accent text-white border-ajira-accent shadow-ajira-lg":"bg-white text-ajira-text-primary border-ajira-gray-300 hover:border-ajira-accent hover:shadow-ajira"}`,children:[s.jsx(vt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"KiNaP's Choice"})]}),s.jsxs("button",{onClick:()=>v(!g),className:"flex items-center gap-2 px-6 py-3 rounded-xl border border-ajira-gray-300 bg-white text-ajira-text-primary hover:border-ajira-secondary hover:shadow-ajira transition-all duration-200",children:[s.jsx(Vv,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Filter"}),s.jsx(hu,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),s.jsx("select",{value:o,onChange:H=>l(H.target.value),className:"px-6 py-3 border border-ajira-gray-300 rounded-xl bg-white text-ajira-text-primary focus:outline-none focus:ring-2 focus:ring-ajira-secondary focus:border-transparent shadow-ajira hover:shadow-ajira-lg transition-all duration-200",children:vL.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))}),s.jsxs("div",{className:"flex border border-ajira-gray-300 rounded-xl overflow-hidden shadow-ajira",children:[s.jsx("button",{onClick:()=>y("grid"),className:`p-3 transition-all duration-200 ${b==="grid"?"bg-ajira-primary text-white":"bg-white text-ajira-text-secondary hover:bg-ajira-light"}`,children:s.jsx(sp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y("list"),className:`p-3 transition-all duration-200 ${b==="list"?"bg-ajira-primary text-white":"bg-white text-ajira-text-secondary hover:bg-ajira-light"}`,children:s.jsx(np,{className:"w-5 h-5"})})]})]})]}),g&&s.jsx("div",{className:"bg-white border border-ajira-gray-200 rounded-2xl p-8 mb-8 shadow-ajira-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-ajira-text-primary mb-3",children:"Price Range"}),s.jsx("select",{value:c,onChange:H=>u(H.target.value),className:"w-full px-4 py-3 border border-ajira-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-ajira-secondary transition-all duration-200",children:dh.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-ajira-text-primary mb-3",children:"Delivery Time"}),s.jsx("select",{value:d,onChange:H=>h(H.target.value),className:"w-full px-4 py-3 border border-ajira-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-ajira-secondary transition-all duration-200",children:B1.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))})]}),s.jsx("div",{className:"md:col-span-2 lg:col-span-2",children:s.jsxs("div",{className:"flex items-center justify-end space-x-4 h-full",children:[s.jsx("button",{onClick:()=>{u("all"),h("all"),f(!1)},className:"px-6 py-3 text-ajira-text-muted hover:text-ajira-text-primary transition-colors",children:"Clear all filters"}),s.jsx("button",{onClick:()=>v(!1),className:"px-8 py-3 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira",children:"Apply Filters"})]})})]})}),D.length>0?s.jsxs(s.Fragment,{children:[(m||c!=="all"||d!=="all"||t!=="all")&&s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-8",children:[s.jsx("span",{className:"text-sm text-ajira-text-muted font-medium",children:"Active filters:"}),m&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-orange-100 text-ajira-orange-800 px-4 py-2 rounded-full text-sm font-medium",children:[s.jsx(vt,{className:"w-4 h-4"}),"KiNaP's Choice",s.jsx("button",{onClick:()=>f(!1),className:"ml-1 hover:text-ajira-orange-900 text-lg",children:""})]}),t!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-green-100 text-ajira-green-800 px-4 py-2 rounded-full text-sm font-medium",children:[q==null?void 0:q.name,s.jsx("button",{onClick:()=>e("all"),className:"ml-1 hover:text-ajira-green-900 text-lg",children:""})]}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-blue-100 text-ajira-blue-800 px-4 py-2 rounded-full text-sm font-medium",children:[(F=dh.find(H=>H.value===c))==null?void 0:F.label,s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-ajira-blue-900 text-lg",children:""})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium",children:[s.jsx(Ft,{className:"w-4 h-4"}),(W=B1.find(H=>H.value===d))==null?void 0:W.label,s.jsx("button",{onClick:()=>h("all"),className:"ml-1 hover:text-purple-900 text-lg",children:""})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-ajira-green-50 to-ajira-blue-50 border border-ajira-green-200 rounded-2xl p-6 mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(xn,{className:"w-8 h-8 text-ajira-secondary"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-ajira-green-800 text-lg",children:"Quality Guaranteed"}),s.jsx("p",{className:"text-ajira-green-600",children:"All services are verified and quality-checked by our team"})]})]}),s.jsxs("div",{className:"flex items-center gap-8 text-sm text-ajira-green-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xn,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Fast delivery"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Expert freelancers"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xn,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Secure payments"})]})]})]})}),R&&s.jsx("div",{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8},(H,Q)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-ajira animate-pulse",children:[s.jsx("div",{className:"w-full h-48 bg-ajira-gray-200 rounded-xl mb-4"}),s.jsx("div",{className:"h-4 bg-ajira-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-ajira-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-6 bg-ajira-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-ajira-gray-200 rounded"})]},Q))}),N&&!R&&s.jsx("div",{className:"text-center py-20",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ht,{className:"w-12 h-12 text-red-500"})}),s.jsx("h3",{className:"text-2xl font-semibold text-ajira-text-primary mb-4",children:"Error loading gigs"}),s.jsx("p",{className:"text-ajira-text-muted mb-8",children:N}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira-lg",children:"Try again"})]})}),!R&&!N&&s.jsx("div",{className:`grid gap-8 ${b==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:D.map(H=>s.jsx(K4,{gig:H,viewMode:b},H._id))}),s.jsxs("div",{className:"mt-16",children:[s.jsxs("div",{className:"text-center text-sm text-ajira-text-muted mb-8",children:["Showing ",(p-1)*Lg+1," -"," ",Math.min(p*Lg,z.length)," of"," ",z.length.toLocaleString()," results"]}),totalPages>1&&s.jsxs("div",{className:"flex justify-center items-center gap-3",children:[s.jsx("button",{onClick:()=>w(Math.max(1,p-1)),disabled:p===1,className:"px-6 py-3 border border-ajira-gray-300 rounded-xl text-ajira-text-primary bg-white hover:bg-ajira-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-ajira",children:"Previous"}),Array.from({length:Math.min(totalPages,7)},(H,Q)=>{let X;return totalPages<=7||p<=4?X=Q+1:p>=totalPages-3?X=totalPages-6+Q:X=p-3+Q,s.jsx("button",{onClick:()=>w(X),className:`px-4 py-3 border rounded-xl transition-all duration-200 ${p===X?"bg-ajira-primary text-white border-ajira-primary shadow-ajira-lg":"border-ajira-gray-300 text-ajira-text-primary bg-white hover:bg-ajira-gray-50 shadow-ajira"}`,children:X},X)}),s.jsx("button",{onClick:()=>w(Math.min(totalPages,p+1)),disabled:p===totalPages,className:"px-6 py-3 border border-ajira-gray-300 rounded-xl text-ajira-text-primary bg-white hover:bg-ajira-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-ajira",children:"Next"})]})]})]}):s.jsx("div",{className:"text-center py-20",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-ajira-light rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ht,{className:"w-12 h-12 text-ajira-text-muted"})}),s.jsx("h3",{className:"text-2xl font-semibold text-ajira-text-primary mb-4",children:"No services found"}),s.jsx("p",{className:"text-ajira-text-muted mb-8",children:"Try adjusting your search or filter criteria to find what you're looking for."}),s.jsx("button",{onClick:()=>{i(""),e("all"),n("all"),u("all"),h("all"),f(!1)},className:"px-8 py-4 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira-lg",children:"Clear all filters"})]})})]}),!m&&s.jsxs(s.Fragment,{children:[s.jsx(mL,{}),s.jsx(xL,{}),s.jsx(gL,{}),s.jsx(pL,{}),s.jsx(fL,{})]})]})};function $1(t){return`KES ${t.toLocaleString("en-KE")}`}const jL=()=>{const{gigId:t}=IE(),{user:e}=Ur(),r=En(),n=gs(),[a,i]=P.useState("basic");P.useState("");const{data:o,isLoading:l}=Ct(["gig",t],async()=>t?await dL(t):null,{enabled:!!t,retry:3,onError:h=>{console.error("Error fetching gig:",h),xt.error("Failed to load gig details")}}),c=o==null?void 0:o.seller,u=tt(async()=>{if(!e||!o||!c)throw new Error("Missing required data");return"mock-order-id"},{onSuccess:h=>{n.invalidateQueries(["orders"]),r(`/orders/${h}`),xt.success("Order created successfully!")},onError:h=>{console.error("Error creating order:",h),xt.error("Failed to create order. Please try again.")}}),d=()=>{if(!e){xt.error("Please sign in to place an order");return}u.mutate()};return l?s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-8"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 mb-8"})]})})]})}):!o||!c?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gig Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The gig you're looking for doesn't exist."}),s.jsx(Link,{to:"/marketplace",className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"Back to Marketplace"})]})}):(o.images.map(h=>({original:h,thumbnail:h})),o.packages.find(h=>h.name===a),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[s.jsxs(Link,{to:"/marketplace",className:"flex items-center text-green-600 hover:text-green-700 mb-2",children:[s.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Marketplace"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{children:"Marketplace"})," / ",s.jsx("span",{children:"Gigs"})," /"," ",s.jsx("span",{className:"text-gray-900",children:o.title})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-64 md:h-96 object-cover"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:o.title}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:c.photoURL,alt:c.displayName,className:"w-12 h-12 rounded-full object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:c.displayName}),s.jsx("p",{className:"text-sm text-gray-600",children:o.seller.level})]})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsxs("div",{className:"flex items-center mr-4",children:[s.jsx(lt,{className:"w-5 h-5 text-yellow-400 fill-current"}),s.jsx("span",{className:"font-semibold ml-1",children:o.stats.rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-600 ml-1",children:["(",o.stats.reviews,")"]})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[o.stats.views," views"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.description})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"What you get"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.features.map((h,m)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Shield,{className:"w-5 h-5 text-green-600 mr-3"}),s.jsx("span",{className:"text-gray-700",children:h})]},m))})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:o.originalPrice>o.price&&s.jsx("span",{className:"text-lg text-gray-400 line-through",children:$1(o.originalPrice)})}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:$1(o.price)}),s.jsx("p",{className:"text-gray-600",children:"Starting price"})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ft,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-gray-700",children:["Delivery in ",o.deliveryTime," days"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:d,disabled:u.isLoading,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:u.isLoading?"Creating Order...":"Continue"}),s.jsx("button",{className:"w-full border border-green-600 text-green-600 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors",children:"Contact Seller"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"About the seller"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"From"}),s.jsx("span",{className:"text-gray-900",children:o.seller.country})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Response time"}),s.jsx("span",{className:"text-gray-900",children:o.seller.responseTime})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last seen"}),s.jsx("span",{className:"text-gray-900",children:o.seller.lastSeen})]})]})]})]})})]})})]}))},wL=[{value:"digital-marketing",label:"Digital Marketing"},{value:"web-development",label:"Web Development"},{value:"content-writing",label:"Content Writing"},{value:"graphic-design",label:"Graphic Design"},{value:"virtual-assistant",label:"Virtual Assistant"},{value:"data-entry",label:"Data Entry"}],NL={"digital-marketing":[{value:"social-media",label:"Social Media Marketing"},{value:"seo",label:"Search Engine Optimization"},{value:"email-marketing",label:"Email Marketing"}],"web-development":[{value:"frontend",label:"Frontend Development"},{value:"backend",label:"Backend Development"},{value:"full-stack",label:"Full Stack Development"}]},Fg={name:"basic",price:0,description:"",deliveryTime:1,revisions:1,features:[]},kL=()=>{var C;const t=En(),{user:e}=Ur(),[r,n]=P.useState(!1),[a,i]=P.useState(0),[o,l]=P.useState({title:"",description:"",category:"",subcategory:"",tags:[],requirements:[],faqs:[],packages:[{...Fg,name:"basic"},{...Fg,name:"standard"},{...Fg,name:"premium"}]}),[c,u]=P.useState({images:[],documents:[]}),[d,h]=P.useState({}),m=O=>{const{name:V,value:L}=O.target;l(q=>({...q,[V]:L})),d[V]&&h(q=>({...q,[V]:""}))},f=(O,V,L)=>{l(q=>({...q,packages:q.packages.map((M,z)=>z===O?{...M,[V]:L}:M)}))},g=(O,V,L)=>{l(q=>({...q,packages:q.packages.map((M,z)=>z===O?{...M,features:M.features.map((D,F)=>F===V?L:D)}:M)}))},v=O=>{l(V=>({...V,packages:V.packages.map((L,q)=>q===O?{...L,features:[...L.features,""]}:L)}))},b=(O,V)=>{l(L=>({...L,packages:L.packages.map((q,M)=>M===O?{...q,features:q.features.filter((z,D)=>D!==V)}:q)}))},y=O=>{const V=O.target.value.split(",").map(L=>L.trim());l(L=>({...L,tags:V}))},p=(O,V)=>{l(L=>({...L,requirements:L.requirements.map((q,M)=>M===O?V:q)}))},w=()=>{l(O=>({...O,requirements:[...O.requirements,""]}))},j=O=>{l(V=>({...V,requirements:V.requirements.filter((L,q)=>q!==O)}))},S=(O,V,L)=>{l(q=>({...q,faqs:q.faqs.map((M,z)=>z===O?{...M,[V]:L}:M)}))},R=()=>{l(O=>({...O,faqs:[...O.faqs,{question:"",answer:""}]}))},k=O=>{l(V=>({...V,faqs:V.faqs.filter((L,q)=>q!==O)}))},N=(O,V)=>{const L=Array.from(O.target.files||[]);if(V==="images"&&L.length+c.images.length>8){xt.error("Maximum 8 images allowed");return}if(V==="video"&&L.length>1){xt.error("Only one video allowed");return}u(q=>({...q,[V]:V==="video"?L[0]:[...q[V],...L]}))},E=(O,V)=>{u(L=>({...L,[O]:O==="video"?void 0:L[O].filter((q,M)=>M!==V)}))},T=()=>{const O={};return o.title||(O.title="Title is required"),o.description||(O.description="Description is required"),o.category||(O.category="Category is required"),o.subcategory||(O.subcategory="Subcategory is required"),c.images.length===0&&(O.images="At least one image is required"),o.packages.forEach((V,L)=>{V.price||(O[`package-${L}-price`]="Price is required"),V.description||(O[`package-${L}-description`]="Description is required"),V.features.length===0&&(O[`package-${L}-features`]="At least one feature is required")}),h(O),Object.keys(O).length===0},_=async(O,V)=>URL.createObjectURL(O),A=tt(async()=>{if(!e)throw new Error("User not authenticated");if(!T())throw new Error("Please fill all required fields");n(!0),i(0);try{const O=await Promise.all(c.images.map(z=>_(z,"gig-images")));i(40);let V;c.video&&(V=await _(c.video,"gig-videos")),i(60);const L=await Promise.all(c.documents.map(z=>_(z,"gig-documents")));i(80);const q={sellerId:e.uid,title:o.title,description:o.description,category:o.category,subcategory:o.subcategory,packages:o.packages,images:O,video:V,documents:L,tags:o.tags,requirements:o.requirements,faqs:o.faqs,status:"active",stats:{views:0,orders:0,rating:0,reviews:0,completionRate:100},createdAt:new Date,updatedAt:new Date},M="placeholder-gig-id";return i(100),M}catch(O){throw console.error("Error creating gig:",O),O}finally{n(!1)}},{onSuccess:O=>{xt.success("Gig created successfully!"),t(`/marketplace/gigs/${O}`)},onError:O=>{xt.error("Failed to create gig. Please try again."),console.error("Error:",O)}});return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create a New Gig"}),s.jsxs("form",{onSubmit:O=>{O.preventDefault(),A.mutate()},className:"space-y-8",children:[s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gig Overview"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Gig Title"}),s.jsx("input",{type:"text",id:"title",name:"title",value:o.title,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"I will..."}),d.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),s.jsxs("select",{id:"category",name:"category",value:o.category,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Select a category"}),wL.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))]}),d.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.category})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subcategory",className:"block text-sm font-medium text-gray-700",children:"Subcategory"}),s.jsxs("select",{id:"subcategory",name:"subcategory",value:o.subcategory,onChange:m,disabled:!o.category,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Select a subcategory"}),o.category&&((C=NL[o.category])==null?void 0:C.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value)))]}),d.subcategory&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.subcategory})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:m,rows:5,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Describe your service in detail..."}),d.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",id:"tags",name:"tags",value:o.tags.join(", "),onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., logo design, branding, creative"})]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing Packages"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.packages.map((O,V)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 capitalize mb-4",children:[O.name," Package"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (KES)"}),s.jsx("input",{type:"number",value:O.price,onChange:L=>f(V,"price",Number(L.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"}),d[`package-${V}-price`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${V}-price`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{value:O.description,onChange:L=>f(V,"description",L.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"}),d[`package-${V}-description`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${V}-description`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Time (days)"}),s.jsx("input",{type:"number",value:O.deliveryTime,onChange:L=>f(V,"deliveryTime",Number(L.target.value)),min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Revisions"}),s.jsx("input",{type:"number",value:O.revisions,onChange:L=>f(V,"revisions",Number(L.target.value)),min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),O.features.map((L,q)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:L,onChange:M=>g(V,q,M.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., 3 logo concepts"}),s.jsx("button",{type:"button",onClick:()=>b(V,q),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{size:20})})]},q)),s.jsxs("button",{type:"button",onClick:()=>v(V),className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(gn,{size:16,className:"mr-1"}),"Add Feature"]}),d[`package-${V}-features`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${V}-features`]})]})]})]},O.name))})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Buyer Requirements"}),s.jsxs("div",{className:"space-y-4",children:[o.requirements.map((O,V)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O,onChange:L=>p(V,L.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., What's your brand name?"}),s.jsx("button",{type:"button",onClick:()=>j(V),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{size:20})})]},V)),s.jsxs("button",{type:"button",onClick:w,className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(gn,{size:16,className:"mr-1"}),"Add Requirement"]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[o.faqs.map((O,V)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O.question,onChange:L=>S(V,"question",L.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Question"}),s.jsx("button",{type:"button",onClick:()=>k(V),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{size:20})})]}),s.jsx("textarea",{value:O.answer,onChange:L=>S(V,"answer",L.target.value),rows:2,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Answer"})]},V)),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(gn,{size:16,className:"mr-1"}),"Add FAQ"]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Media"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (up to 8)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[c.images.map((O,V)=>s.jsxs("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:URL.createObjectURL(O),alt:`Preview ${V+1}`,className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>E("images",V),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:s.jsx(Yr,{size:16})})]},V)),c.images.length<8&&s.jsxs("label",{className:"aspect-video flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:O=>N(O,"images"),className:"hidden"}),s.jsx(Bn,{className:"w-6 h-6 text-gray-400"})]})]}),d.images&&s.jsx("p",{className:"text-sm text-red-600",children:d.images})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video (optional)"}),c.video?s.jsxs("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("video",{src:URL.createObjectURL(c.video),controls:!0,className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>E("video",0),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:s.jsx(Yr,{size:16})})]}):s.jsxs("label",{className:"aspect-video flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:"video/*",onChange:O=>N(O,"video"),className:"hidden"}),s.jsx(Bn,{className:"w-6 h-6 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Documents (optional)"}),s.jsxs("div",{className:"space-y-2",children:[c.documents.map((O,V)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-600",children:O.name}),s.jsx("button",{type:"button",onClick:()=>E("documents",V),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{size:20})})]},V)),s.jsxs("label",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",multiple:!0,onChange:O=>N(O,"documents"),className:"hidden"}),s.jsx(Bn,{className:"w-6 h-6 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Upload documents"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-primary disabled:opacity-50",children:r?"Creating Gig...":"Create Gig"}),r&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2.5 mr-2",children:s.jsx("div",{className:"bg-ajira-primary h-2.5 rounded-full",style:{width:`${a}%`}})}),s.jsxs("span",{children:[a,"%"]})]})]}),A.isError&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 mt-4",children:[s.jsx(qt,{size:20}),s.jsx("span",{children:"Failed to create gig. Please try again."})]})]})]})},SL=()=>{const[t]=Rv(),e=t.get("q")||"",[r,n]=P.useState("relevance"),[a,i]=P.useState(!1),[o,l]=P.useState({priceRange:[0,1e5],rating:null,deliveryTime:null,category:null,subcategory:null});P.useEffect(()=>{},[e,r,o]);const{data:c,isLoading:u}=Ct(["search-results",e,r,o],async()=>[].filter(f=>{const g=Math.min(...f.packages.map(b=>b.price)),v=Math.min(...f.packages.map(b=>b.deliveryTime));return g>=o.priceRange[0]&&g<=o.priceRange[1]&&(!o.deliveryTime||v<=o.deliveryTime)})),d=c||[],h=d.length;return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[h,' results for "',e,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"relevance",children:"Most Relevant"}),s.jsx("option",{value:"rating",children:"Highest Rated"}),s.jsx("option",{value:"price_low",children:"Lowest Price"}),s.jsx("option",{value:"price_high",children:"Highest Price"}),s.jsx("option",{value:"newest",children:"Newest First"})]}),s.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50",children:[s.jsx(f4,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a&&s.jsxs("div",{className:"w-full md:w-64 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Price Range"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:o.priceRange[0],onChange:m=>l({...o,priceRange:[Number(m.target.value),o.priceRange[1]]}),className:"w-24 rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"number",value:o.priceRange[1],onChange:m=>l({...o,priceRange:[o.priceRange[0],Number(m.target.value)]}),className:"w-24 rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Rating"}),s.jsxs("select",{value:o.rating||"",onChange:m=>l({...o,rating:m.target.value?Number(m.target.value):null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Any Rating"}),s.jsx("option",{value:"4",children:"4+ Stars"}),s.jsx("option",{value:"3",children:"3+ Stars"}),s.jsx("option",{value:"2",children:"2+ Stars"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Delivery Time"}),s.jsxs("select",{value:o.deliveryTime||"",onChange:m=>l({...o,deliveryTime:m.target.value?Number(m.target.value):null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Any Time"}),s.jsx("option",{value:"1",children:"Up to 24 hours"}),s.jsx("option",{value:"3",children:"Up to 3 days"}),s.jsx("option",{value:"7",children:"Up to 7 days"}),s.jsx("option",{value:"14",children:"Up to 14 days"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Category"}),s.jsx("select",{value:o.category||"",onChange:m=>l({...o,category:m.target.value||null,subcategory:null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:s.jsx("option",{value:"",children:"All Categories"})})]}),s.jsx("button",{onClick:()=>l({priceRange:[0,1e5],rating:null,deliveryTime:null,category:null,subcategory:null}),className:"w-full px-4 py-2 text-sm text-ajira-primary hover:bg-ajira-primary/5 rounded-lg",children:"Reset Filters"})]}),s.jsx("div",{className:"flex-1",children:u?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,f)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 animate-pulse",children:[s.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},f))}):d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>s.jsx(K4,{gig:m},m.id))})})})]})]})},hh=43200,q1=1440,z1=Symbol.for("constructDateFrom");function Jv(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&z1 in t?t[z1](e):t instanceof Date?new t.constructor(e):new Date(e)}function oi(t,e){return Jv(e||t,t)}let _L={};function EL(){return _L}function H1(t){const e=oi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Xv(t,...e){const r=Jv.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function em(t,e){const r=+oi(t)-+oi(e);return r<0?-1:r>0?1:r}function TL(t){return Jv(t,Date.now())}function CL(t,e,r){const[n,a]=Xv(r==null?void 0:r.in,t,e),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function AL(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function PL(t,e){return+oi(t)-+oi(e)}function IL(t,e){const r=oi(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function RL(t,e){const r=oi(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function OL(t,e){const r=oi(t,e==null?void 0:e.in);return+IL(r,e)==+RL(r,e)}function DL(t,e,r){const[n,a,i]=Xv(r==null?void 0:r.in,t,t,e),o=em(a,i),l=Math.abs(CL(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=em(a,i)===-o;OL(n)&&l===1&&em(n,i)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function ML(t,e,r){const n=PL(t,e)/1e3;return AL(r==null?void 0:r.roundingMethod)(n)}const LL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FL=(t,e,r)=>{let n;const a=LL[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vg(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const VL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$L={date:Vg({formats:VL,defaultWidth:"full"}),time:Vg({formats:UL,defaultWidth:"full"}),dateTime:Vg({formats:BL,defaultWidth:"full"})},qL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zL=(t,e,r,n)=>qL[t];function Fc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const HL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JL=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XL={ordinalNumber:JL,era:Fc({values:HL,defaultWidth:"wide"}),quarter:Fc({values:WL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fc({values:KL,defaultWidth:"wide"}),day:Fc({values:GL,defaultWidth:"wide"}),dayPeriod:Fc({values:QL,defaultWidth:"wide",formattingValues:YL,defaultFormattingWidth:"wide"})};function Vc(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?e8(l,h=>h.test(o)):ZL(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function ZL(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function e8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function t8(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const r8=/^(\d+)(th|st|nd|rd)?/i,s8=/\d+/i,n8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a8={any:[/^b/i,/^(a|c)/i]},i8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o8={any:[/1/i,/2/i,/3/i,/4/i]},l8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f8={ordinalNumber:t8({matchPattern:r8,parsePattern:s8,valueCallback:t=>parseInt(t,10)}),era:Vc({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any"}),quarter:Vc({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:o8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vc({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any"}),day:Vc({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any"}),dayPeriod:Vc({matchPatterns:h8,defaultMatchWidth:"any",parsePatterns:m8,defaultParseWidth:"any"})},p8={code:"en-US",formatDistance:FL,formatLong:$L,formatRelative:zL,localize:XL,match:f8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function g8(t,e,r){const n=EL(),a=(r==null?void 0:r.locale)??n.locale??p8,i=2520,o=em(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=Xv(r==null?void 0:r.in,...o>0?[e,t]:[t,e]),d=ML(u,c),h=(H1(u)-H1(c))/1e3,m=Math.round((d-h)/60);let f;if(m<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<q1){const g=Math.round(m/60);return a.formatDistance("aboutXHours",g,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<hh){const g=Math.round(m/q1);return a.formatDistance("xDays",g,l)}else if(m<hh*2)return f=Math.round(m/hh),a.formatDistance("aboutXMonths",f,l)}if(f=DL(u,c),f<12){const g=Math.round(m/hh);return a.formatDistance("xMonths",g,l)}else{const g=f%12,v=Math.trunc(f/12);return g<3?a.formatDistance("aboutXYears",v,l):g<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function sf(t,e){return g8(t,TL(t),e)}const x8=()=>{var S,R;const{orderId:t}=IE(),{user:e}=Ur(),r=gs(),[n,a]=P.useState(""),[i,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(""),[h,m]=P.useState(""),{data:f,isLoading:g}=Ct(["order",t],async()=>t?{id:t}:null),v=tt(async()=>{if(!e||!f)throw new Error("Missing required data");const k=await Promise.all(i.map(async N=>"https://example.com/file.pdf"));return e.uid,!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),a(""),o([]),xt.success("Message sent successfully")},onError:k=>{console.error("Error sending message:",k),xt.error("Failed to send message")}}),b=tt(async()=>{if(!e||!f)throw new Error("Missing required data");return await Promise.all(l.map(async k=>"https://example.com/deliverable.pdf")),!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),c([]),d(""),m(""),xt.success("Delivery submitted successfully")},onError:k=>{console.error("Error submitting delivery:",k),xt.error("Failed to submit delivery")}}),y=tt(async()=>{if(!e||!f)throw new Error("Missing required data");return!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),xt.success("Delivery accepted successfully")}}),p=tt(async k=>{if(!e||!f)throw new Error("Missing required data");return!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),xt.success("Revision requested successfully")}});if(g)return s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})});if(!f)return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order not found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The order you're looking for doesn't exist or has been removed."}),s.jsx(De,{to:"/orders",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ajira-primary hover:bg-ajira-primary-dark",children:"Back to Orders"})]});const w=f.status==="active"&&(e==null?void 0:e.uid)===f.sellerId,j=f.status==="delivered"&&(e==null?void 0:e.uid)===f.buyerId;return f.status==="delivered"&&(e==null||e.uid,f.buyerId),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Order #",f.id.slice(-8)]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="delivered"?"bg-blue-100 text-blue-800":f.status==="active"?"bg-yellow-100 text-yellow-800":f.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),s.jsxs("span",{className:"text-gray-500",children:[s.jsx(Ft,{className:"inline-block w-4 h-4 mr-1"}),sf(f.createdAt.toDate(),{addSuffix:!0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Buyer"}),s.jsx("p",{className:"text-gray-900",children:f.buyerName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Seller"}),s.jsx("p",{className:"text-gray-900",children:f.sellerName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Package"}),s.jsx("p",{className:"text-gray-900",children:f.packageName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Price"}),s.jsxs("p",{className:"text-gray-900",children:["KES ",f.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Delivery Date"}),s.jsx("p",{className:"text-gray-900",children:new Date(f.deliveryDate.toDate()).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Payment Status"}),s.jsx("p",{className:`${f.paymentStatus==="paid"?"text-green-600":f.paymentStatus==="pending"?"text-yellow-600":"text-red-600"}`,children:f.paymentStatus.charAt(0).toUpperCase()+f.paymentStatus.slice(1)})]})]}),f.requirements&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Requirements"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:f.requirements})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Messages"}),s.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:(S=f.messages)==null?void 0:S.map((k,N)=>{var E;return s.jsx("div",{className:`flex ${k.senderId===(e==null?void 0:e.uid)?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] ${k.senderId===(e==null?void 0:e.uid)?"bg-ajira-primary text-white":"bg-gray-100 text-gray-900"} rounded-lg p-3`,children:[s.jsx("p",{className:"text-sm mb-1",children:k.content}),((E=k.attachments)==null?void 0:E.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:k.attachments.map((T,_)=>s.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline",children:["Attachment ",_+1]},_))}),s.jsx("span",{className:"text-xs opacity-75",children:sf(k.createdAt.toDate(),{addSuffix:!0})})]})},N)})}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:n,onChange:k=>a(k.target.value),placeholder:"Type your message...",className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",rows:3}),i.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.map((k,N)=>s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx("span",{children:k.name}),s.jsx("button",{onClick:()=>o(i.filter((E,T)=>T!==N)),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{size:16})})]},N))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",multiple:!0,onChange:k=>o(Array.from(k.target.files||[])),className:"hidden"}),s.jsx(Bn,{className:"w-6 h-6 text-gray-500 hover:text-ajira-primary"})]}),s.jsx("button",{onClick:()=>v.mutate(),disabled:!n.trim()&&i.length===0,className:"bg-ajira-primary text-white p-2 rounded-lg hover:bg-ajira-primary-dark disabled:opacity-50",children:s.jsx(Bv,{size:20})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Deliverables"}),(R=f.deliverables)==null?void 0:R.map((k,N)=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:k.title}),s.jsx("span",{className:`px-2 py-1 rounded text-sm ${k.status==="accepted"?"bg-green-100 text-green-800":k.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:k.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.files.map((E,T)=>s.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(xl,{size:16}),s.jsxs("span",{children:["Download File ",T+1]})]},T))}),k.feedback&&s.jsxs("div",{className:"mt-3 p-3 bg-red-50 text-red-800 rounded",children:[s.jsx("p",{className:"font-medium mb-1",children:"Revision Requested"}),s.jsx("p",{children:k.feedback})]})]},N)),w&&s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Submit Delivery"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:u,onChange:k=>d(k.target.value),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., Final Logo Design"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:h,onChange:k=>m(k.target.value),rows:3,className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Describe what you're delivering..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Files"}),s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-white rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-ajira-primary",children:[s.jsx(Bn,{className:"w-8 h-8 text-gray-400"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Drop files here or click to upload"}),s.jsx("input",{type:"file",multiple:!0,onChange:k=>c(Array.from(k.target.files||[])),className:"hidden"})]})}),l.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:l.map((k,N)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:k.name}),s.jsx("button",{onClick:()=>c(E=>E.filter((T,_)=>_!==N)),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{size:16})})]},N))})]}),s.jsx("button",{onClick:()=>b.mutate(),disabled:!u||!h||l.length===0,className:"w-full bg-ajira-primary text-white py-2 rounded-lg hover:bg-ajira-primary-dark disabled:opacity-50",children:"Submit Delivery"})]})]}),j&&s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("button",{onClick:()=>y.mutate(),className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600",children:[s.jsx(Ke,{className:"inline-block w-5 h-5 mr-2"}),"Accept Delivery"]}),s.jsxs("button",{onClick:()=>{const k=prompt("Please provide feedback for the revision:");k&&p.mutate(k)},className:"flex-1 bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600",children:[s.jsx(Lv,{className:"inline-block w-5 h-5 mr-2"}),"Request Revision"]})]})]})]})},y8=()=>{const{user:t}=Ur(),[e,r]=P.useState(""),[n,a]=P.useState("all"),[i,o]=P.useState("buyer"),{data:l,isLoading:c}=Ct(["orders",t==null?void 0:t.id,i,n],async()=>t?[]:[],{enabled:!!t}),u=l==null?void 0:l.filter(d=>{var m,f,g;if(!e)return!0;const h=e.toLowerCase();return d.id.toLowerCase().includes(h)||((m=d.gigTitle)==null?void 0:m.toLowerCase().includes(h))||((f=d.buyerName)==null?void 0:f.toLowerCase().includes(h))||((g=d.sellerName)==null?void 0:g.toLowerCase().includes(h))});return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>o("buyer"),className:`px-4 py-2 ${i==="buyer"?"bg-ajira-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"As Buyer"}),s.jsx("button",{onClick:()=>o("seller"),className:`px-4 py-2 ${i==="seller"?"bg-ajira-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"As Seller"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:e,onChange:d=>r(d.target.value),placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vv,{size:20,className:"text-gray-400"}),s.jsxs("select",{value:n,onChange:d=>a(d.target.value),className:"rounded-lg border border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),c?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((d,h)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},h))}):(u==null?void 0:u.length)===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:e?"No orders match your search criteria":i==="buyer"?"You haven't placed any orders yet":"You haven't received any orders yet"}),i==="buyer"&&s.jsx(De,{to:"/marketplace",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ajira-primary hover:bg-ajira-primary-dark",children:"Browse Marketplace"})]}):s.jsx("div",{className:"space-y-4",children:u==null?void 0:u.map(d=>s.jsxs(De,{to:`/orders/${d.id}`,className:"block bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:d.gigTitle}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",d.id.slice(-8)]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="delivered"?"bg-blue-100 text-blue-800":d.status==="active"?"bg-yellow-100 text-yellow-800":d.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-500",children:[s.jsx(Ft,{className:"inline-block w-4 h-4 mr-1"}),sf(d.createdAt.toDate(),{addSuffix:!0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:i==="buyer"?"Seller":"Buyer"}),s.jsx("p",{className:"font-medium text-gray-900",children:i==="buyer"?d.sellerName:d.buyerName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Package"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.packageName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["KES ",d.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Due Date"}),s.jsx("p",{className:"font-medium text-gray-900",children:new Date(d.deliveryDate.toDate()).toLocaleDateString()})]})]}),d.status==="delivered"&&i==="buyer"&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-ajira-primary",children:[s.jsx("span",{children:"Review delivery"}),s.jsx("span",{children:""})]})]},d.id))})]})},mh="http://localhost:5000/api";class v8{async checkSupport(){try{const e=typeof window<"u"&&window.PublicKeyCredential&&await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable(),r=typeof window<"u"&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=typeof window<"u"&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia;return{fingerprint:e,face:r,voice:n}}catch(e){return console.error("Error checking biometric support:",e),{fingerprint:!1,face:!1,voice:!1}}}async registerFingerprint(){try{if(!window.PublicKeyCredential)throw new Error("WebAuthn is not supported in this browser");if(!await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable())throw new Error("Fingerprint authentication is not available on this device");const r=this.generateChallenge(),n=await navigator.credentials.create({publicKey:{challenge:this.base64ToArrayBuffer(r),rp:{name:"Ajira Digital KiNaP Club",id:window.location.hostname},user:{id:this.stringToArrayBuffer("user-id"),name:"user@example.com",displayName:"User"},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4}});if(!n)throw new Error("Failed to create biometric credential");const a=this.arrayBufferToBase64(n.response.clientDataJSON);return{credentialId:n.id,publicKey:a}}catch(e){throw console.error("Fingerprint registration error:",e),e}}async verifyFingerprint(e){try{if(!await navigator.credentials.get({publicKey:{challenge:this.generateChallenge(),rpId:window.location.hostname,allowCredentials:[{type:"public-key",id:this.base64ToArrayBuffer(e)}],userVerification:"required",timeout:6e4}}))throw new Error("Fingerprint verification failed");return!0}catch(r){return console.error("Fingerprint verification error:",r),!1}}async registerWithBackend(e,r){try{const n=localStorage.getItem("token");if(!n)throw new Error("No authentication token found");const i=await(await fetch(`${mh}/api/biometric/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({type:e,publicKey:r})})).json();if(!i.success)throw new Error(i.message);return i.data.credentialId}catch(n){throw console.error("Backend registration error:",n),n}}async verifyWithBackend(e,r,n,a){try{return(await(await fetch(`${mh}/api/biometric/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,credentialId:r,signature:n,type:a})})).json()).success}catch(i){return console.error("Backend verification error:",i),!1}}async getCredentials(){try{const e=localStorage.getItem("token");if(!e)return[];const n=await(await fetch(`${mh}/api/biometric/credentials`,{headers:{Authorization:`Bearer ${e}`}})).json();return n.success?n.data:[]}catch(e){return console.error("Get credentials error:",e),[]}}async removeCredential(e){try{const r=localStorage.getItem("token");if(!r)throw new Error("No authentication token found");return(await(await fetch(`${mh}/api/biometric/credentials/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})).json()).success}catch(r){return console.error("Remove credential error:",r),!1}}generateChallenge(){const e=new Uint8Array(32);return crypto.getRandomValues(e),this.arrayBufferToBase64(e)}generateCredentialId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),this.arrayBufferToBase64(e)}hashData(e){const n=new TextEncoder().encode(e);return crypto.subtle.digest("SHA-256",n).then(a=>this.arrayBufferToBase64(a))}base64ToArrayBuffer(e){const r=window.atob(e),n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n.buffer}arrayBufferToBase64(e){const r=new Uint8Array(e);let n="";for(let a=0;a<r.byteLength;a++)n+=String.fromCharCode(r[a]);return window.btoa(n)}stringToArrayBuffer(e){return new TextEncoder().encode(e).buffer}}const un=new v8,b8=({onSuccess:t,onCancel:e,mode:r="register"})=>{Ur();const[n,a]=P.useState(null),[i,o]=P.useState([]),[l,c]=P.useState(!1),[u,d]=P.useState(null),[h,m]=P.useState(null),[f,g]=P.useState(null),[v,b]=P.useState(!1);P.useEffect(()=>{y(),r==="verify"&&p()},[r]);const y=async()=>{try{const N=await un.checkSupport();a(N)}catch(N){console.error("Error checking biometric support:",N)}},p=async()=>{try{const N=await un.getCredentials();o(N)}catch(N){console.error("Error loading credentials:",N)}},w=async N=>{try{c(!0),d(null),b(!0),g(N);let E;switch(N){case"fingerprint":E=await un.registerFingerprint();break;default:throw new Error("Only fingerprint authentication is currently supported")}const T=await un.registerWithBackend(N,E.publicKey);m(`${N.replace("-"," ")} registered successfully!`),await p(),setTimeout(()=>{t==null||t()},2e3)}catch(E){d(E.message||"Registration failed")}finally{c(!1),b(!1),g(null)}},j=async N=>{try{c(!0),d(null),g(N.type);let E=!1;switch(N.type){case"fingerprint":E=await un.verifyFingerprint(N.id);break;default:throw new Error("Unsupported biometric method")}E?(m("Biometric authentication successful!"),setTimeout(()=>{t==null||t()},2e3)):d("Biometric verification failed. Please try again.")}catch(E){d(E.message||"Verification failed")}finally{c(!1),g(null)}},S=async N=>{try{await un.removeCredential(N)?(m("Biometric credential removed successfully!"),await p()):d("Failed to remove credential")}catch(E){d(E.message||"Failed to remove credential")}},R=N=>{switch(N){case"fingerprint":return s.jsx(yl,{className:"w-6 h-6"});case"face-recognition":return s.jsx(Fv,{className:"w-6 h-6"});case"voice-recognition":return s.jsx(u4,{className:"w-6 h-6"});default:return s.jsx(xn,{className:"w-6 h-6"})}},k=N=>{switch(N){case"fingerprint":return"Fingerprint";case"face-recognition":return"Face Recognition";case"voice-recognition":return"Voice Recognition";default:return N}};return l&&!v?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processing..."})]}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r==="register"?"Setup Biometric Authentication":"Biometric Login"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r==="register"?"Choose a biometric method to secure your account":"Select your preferred authentication method"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Xr,{className:"w-5 h-5 text-gray-500"})})]}),u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:u})]})}),h&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-5 h-5 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:h})]})}),r==="register"?s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-3",children:[(n==null?void 0:n.fingerprint)&&s.jsxs("button",{onClick:()=>w("fingerprint"),disabled:l,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(yl,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Fingerprint"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use your device's fingerprint sensor"})]})]}),f==="fingerprint"&&l&&s.jsx(Ye,{className:"w-5 h-5 animate-spin text-ajira-primary"})]}),!(n!=null&&n.fingerprint)&&s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:s.jsx(yl,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-500",children:"Fingerprint"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Not available on this device"})]})]})})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(xn,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Note"}),s.jsx("p",{children:"Your biometric data is stored securely on your device and is never shared with our servers."})]})]})})]}):s.jsx("div",{children:i.length>0?s.jsx("div",{className:"space-y-3",children:i.map(N=>s.jsxs("button",{onClick:()=>j(N),disabled:l,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:R(N.type)}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:k(N.type)}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Registered on ",new Date(N.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f===N.type&&l&&s.jsx(Ye,{className:"w-5 h-5 animate-spin text-ajira-primary"}),s.jsx("button",{onClick:E=>{E.stopPropagation(),S(N.id)},className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Remove credential",children:s.jsx(la,{className:"w-4 h-4 text-red-500"})})]})]},N.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(cD,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Biometric Credentials"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't set up any biometric authentication methods yet."}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Set Up Now"})]})})]})},j8=({onBack:t,onSuccess:e})=>{const[r,n]=P.useState(""),[a,i]=P.useState(""),[o,l]=P.useState(""),[c,u]=P.useState(""),[d,h]=P.useState("email"),[m,f]=P.useState(!1),[g,v]=P.useState(null),[b,y]=P.useState(null),[p,w]=P.useState(0);P.useEffect(()=>{if(p>0){const R=setTimeout(()=>w(p-1),1e3);return()=>clearTimeout(R)}},[p]);const j=async R=>{if(R.preventDefault(),d==="email"){if(!r.trim()){v("Please enter your email address");return}try{f(!0),v(null),y(null),await V1(r.trim()),y("Verification code sent to your email."),h("verify")}catch(k){v(k.message||"Failed to send verification code")}finally{f(!1)}}else if(d==="verify"){if(!a.trim()){v("Please enter the verification code");return}try{f(!0),v(null),y(null),h("reset"),y("Code verified. Please enter your new password.")}catch(k){v(k.message||"Failed to verify code")}finally{f(!1)}}else if(d==="reset"){if(!o.trim()){v("Please enter a new password");return}if(o!==c){v("Passwords do not match");return}if(o.length<6){v("Password must be at least 6 characters long");return}try{f(!0),v(null),y(null),await XM(r.trim(),a.trim(),o),y("Password reset successfully! Redirecting..."),setTimeout(()=>{e==null||e()},2e3)}catch(k){v(k.message||"Failed to reset password")}finally{f(!1)}}},S=async()=>{if(!(p>0))try{f(!0),v(null),await V1(r.trim()),y("New verification code sent to your email."),w(60)}catch(R){v(R.message||"Failed to resend code")}finally{f(!1)}};return s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jr,{className:"w-8 h-8 text-ajira-primary"})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[d==="email"&&"Forgot Password?",d==="verify"&&"Verify Your Email",d==="reset"&&"Reset Your Password"]}),s.jsxs("p",{className:"text-gray-600",children:[d==="email"&&"Enter your email address and we'll send you a verification code to reset your password.",d==="verify"&&`We've sent a verification code to ${r}`,d==="reset"&&"Enter your new password below."]})]}),s.jsxs("button",{onClick:t,className:"flex items-center text-ajira-primary hover:text-ajira-primary/80 mb-6 transition-colors",children:[s.jsx(rp,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d==="email"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:r,onChange:R=>n(R.target.value),placeholder:"Enter your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m})]}),d==="verify"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),s.jsx("input",{type:"text",id:"verificationCode",value:a,onChange:R=>i(R.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m}),s.jsx("button",{type:"button",onClick:S,disabled:m||p>0,className:"mt-2 text-sm text-ajira-primary hover:text-ajira-primary/80 disabled:opacity-50",children:p>0?`Resend in ${p}s`:"Resend Code"})]}),d==="reset"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",id:"newPassword",value:o,onChange:R=>l(R.target.value),placeholder:"Enter new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:R=>u(R.target.value),placeholder:"Confirm new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m})]})]}),g&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:g})]})}),b&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:b})]})}),s.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),d==="email"&&"Sending...",d==="verify"&&"Verifying...",d==="reset"&&"Resetting..."]}):s.jsxs(s.Fragment,{children:[d==="email"&&"Send Verification Code",d==="verify"&&"Verify Code",d==="reset"&&"Reset Password"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Sign up here"})]})})]})},w8=({value:t,onChange:e,disabled:r})=>{const n=P.useRef([]);P.useEffect(()=>{var c;(c=n.current[0])==null||c.focus()},[]);const a=c=>c.replace(/[^0-9]/g,"").slice(0,6),i=(c,u)=>{var m;const d=t.padEnd(6," ").split("");d[c]=u;const h=a(d.join(""));e(h),u&&c<5&&((m=n.current[c+1])==null||m.focus())},o=(c,u)=>{var d;c.key==="Backspace"&&!t[u]&&u>0&&((d=n.current[u-1])==null||d.focus())},l=P.useMemo(()=>{const c=a(t);return[0,1,2,3,4,5].map(u=>c[u]||"")},[t]);return s.jsx("div",{className:"flex gap-2",children:l.map((c,u)=>s.jsx("input",{ref:d=>n.current[u]=d,type:"text",inputMode:"numeric",maxLength:1,value:c,disabled:r,onKeyDown:d=>o(d,u),onChange:d=>i(u,d.target.value.replace(/\D/g,"").slice(0,1)),className:"w-12 h-12 text-center text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"},u))})},N8=({email:t,title:e,message:r,onBack:n,onSuccess:a,onVerify:i,onResendCode:o})=>{const[l,c]=P.useState(""),[u,d]=P.useState(!1),[h,m]=P.useState(!1),[f,g]=P.useState(0);P.useEffect(()=>{if(f>0){const y=setTimeout(()=>g(f-1),1e3);return()=>clearTimeout(y)}},[f]);const v=async y=>{var w;y.preventDefault();const p=l.replace(/\D/g,"");if(p.length!==6){At.error("Please enter the 6-digit verification code");return}d(!0);try{const j=await i(t,p);if(j&&(((w=j==null?void 0:j.data)==null?void 0:w.user)||(j==null?void 0:j.success))){At.success(" Verification successful! Redirecting..."),setTimeout(()=>a(),200);return}const R=(j==null?void 0:j.message)||(j==null?void 0:j.error)||"Verification failed";At.error(` ${R}`)}catch(j){const S=(j==null?void 0:j.message)||"Invalid or expired verification code";At.error(` ${S}`)}finally{d(!1)}},b=async()=>{if(!(f>0)){m(!0);try{await o(t),At.success(" New verification code sent! Check your email."),g(60)}catch(y){At.error(` ${(y==null?void 0:y.message)||"Failed to resend code"}`)}finally{m(!1)}}};return s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r}),s.jsx("p",{className:"text-sm font-medium text-ajira-primary",children:t})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(jr,{className:"h-5 w-5 text-gray-400"}),s.jsx(w8,{value:l,onChange:c,disabled:u})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{type:"submit",disabled:u||l.replace(/\D/g,"").length!==6,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Verifying..."]}):"Verify Code"}),s.jsx("button",{type:"button",onClick:b,disabled:h||f>0,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Sending..."]}):f>0?`Resend in ${f}s`:s.jsxs(s.Fragment,{children:[s.jsx(m4,{className:"w-5 h-5 mr-2"}),"Resend Code"]})}),s.jsxs("button",{type:"button",onClick:n,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(rp,{className:"w-5 h-5 mr-2"}),"Back"]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the code? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:b,disabled:f>0,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium disabled:opacity-50",children:"request a new one"})]})})]})},k8=()=>{var X,G;const t=En(),r=((G=(X=Ys().state)==null?void 0:X.from)==null?void 0:G.pathname)||"/";console.log(" AuthPage - from path:",r);const{user:n,isLoading:a,error:i,isAuthenticated:o,signIn:l,signUp:c,signOut:u,verifyCode:d,resendCode:h}=Ur(),[m,f]=P.useState(!1),[g,v]=P.useState(!1),[b,y]=P.useState(!1),[p,w]=P.useState(!1),[j,S]=P.useState("register"),[R,k]=P.useState(!1),[N,E]=P.useState(!1),[T,_]=P.useState(""),[A,C]=P.useState("signin"),[O,V]=P.useState({email:"",password:"",confirmPassword:"",displayName:"",phoneNumber:"",course:"",year:"",skills:"",ajiraGoals:"",experienceLevel:"",preferredLearningMode:"",otherInfo:"",interests:[]});P.useEffect(()=>{console.log(" AuthPage useEffect triggered - isAuthenticated:",o,"user:",n,"from:",r),o&&n?(console.log(" User is authenticated, navigating to:",r),t(r,{replace:!0})):console.log(" User not authenticated or no user data")},[o,n,t,r]),P.useEffect(()=>{if(i){let K="Authentication failed";typeof i=="string"?K=i:i&&typeof i=="object"&&(K=i.message||i.statusText||"Authentication failed"),At.error(` ${K}`)}},[i]);const L=K=>{const{name:J,value:$}=K.target;V(Z=>({...Z,[J]:$}))},q=async K=>{K.preventDefault();try{if(m){if(O.password!==O.confirmPassword){At.error(" Passwords do not match");return}console.log("Attempting sign up with:",O.email);const J=await c(O.email,O.password,{displayName:O.displayName,phoneNumber:O.phoneNumber,course:O.course,year:O.year,skills:O.skills,ajiraGoals:O.ajiraGoals,experienceLevel:O.experienceLevel,preferredLearningMode:O.preferredLearningMode,otherInfo:O.otherInfo,interests:O.interests});console.log("Sign up result:",J),J!=null&&J.requiresVerification?(console.log(" Sign up requires verification - showing modal"),_(O.email),C("signup"),E(!0),At.success(` ${J.message||"Verification code sent to your email"}`)):J!=null&&J.error?(console.log(" Sign up error:",J.error),At.error(` ${J.error}`)):(console.log(" Sign up successful - redirecting"),At.success(" Account created successfully! Redirecting..."),setTimeout(()=>{t(r,{replace:!0})},2e3))}else{console.log("Attempting sign in with:",O.email);const J=await l(O.email,O.password);console.log("Sign in result:",J),J!=null&&J.requiresVerification?(console.log(" Sign in requires verification - showing modal"),_(O.email),C("signin"),E(!0),At.success(` ${J.message||"Verification code sent to your email"}`)):J!=null&&J.error?(console.log(" Sign in error:",J.error),At.error(` ${J.error}`)):(console.log(" Sign in successful - redirecting"),At.success(" Signed in successfully! Redirecting..."),setTimeout(()=>{t(r,{replace:!0})},2e3))}}catch(J){console.error("Auth error:",J),At.error(` ${J.message||"Authentication failed"}`)}},M=()=>{console.log(" handleVerificationSuccess called, navigating to:",r),console.log(" Current auth state - isAuthenticated:",o,"user:",n),E(!1),setTimeout(()=>{console.log(" After delay - isAuthenticated:",o,"user:",n),t(r,{replace:!0})},100)},z=()=>{E(!1),_("")},D=async K=>{try{const J=await h(K);J!=null&&J.message?At.success(` ${J.message}`):At.success(" New verification code sent to your email")}catch(J){At.error(` ${J.message||"Failed to resend code"}`)}},F=()=>{S("register"),w(!0)},W=()=>{S("verify"),w(!0)},H=()=>{w(!1),t(r,{replace:!0})},Q=()=>{w(!1)};return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading authentication..."})]})}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-ajira-primary/5 via-white to-ajira-secondary/5 py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club",className:"h-16 w-auto drop-shadow-lg rounded-lg mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:m?"Join KiNaP Ajira Digital Club":"Welcome back to KiNaP Ajira"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[m?"Already a member?":"New to Ajira Digital?"," ",s.jsx("button",{onClick:()=>f(!m),className:"font-medium text-ajira-accent hover:text-ajira-accent/80 transition-colors",children:m?"Sign in here":"Sign up here"})]})]}),s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:O.email,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your email"}),s.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),!m&&s.jsx("button",{type:"button",onClick:()=>k(!0),className:"text-sm text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:g?"text":"password",id:"password",name:"password",required:!0,value:O.password,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-10 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your password"}),s.jsx(Ty,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?s.jsx(ii,{className:"h-5 w-5"}):s.jsx(zt,{className:"h-5 w-5"})})]})]}),m&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:b?"text":"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:O.confirmPassword,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-10 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Confirm your password"}),s.jsx(Ty,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("button",{type:"button",onClick:()=>y(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?s.jsx(ii,{className:"h-5 w-5"}):s.jsx(zt,{className:"h-5 w-5"})})]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",id:"displayName",name:"displayName",required:!0,value:O.displayName,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your full name"}),s.jsx(or,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:O.phoneNumber,onChange:L,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"+254 700 000 000"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsx("div",{className:"mt-4 space-y-3",children:s.jsxs("button",{type:"button",onClick:m?F:W,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(yl,{className:"w-5 h-5 mr-2 text-ajira-primary"}),m?"Setup Biometric Auth":"Use Biometric Login"]})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kenya-red disabled:opacity-50 transition-all duration-300",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),m?"Creating account...":"Signing in..."]}):m?"Create Account":"Sign In"})})]})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsx(b8,{mode:j,onSuccess:H,onCancel:Q})})}),R&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsx(j8,{onBack:()=>k(!1),onSuccess:()=>k(!1)})})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6",children:s.jsx(N8,{email:T,onBack:z,onSuccess:M,onVerify:d,onResendCode:D,title:A==="signin"?"Verify Your Sign In":"Verify Your Account",message:A==="signin"?"We've sent a verification code to your email address to complete your sign in.":"We've sent a verification code to your email address to verify your account."})})})]})},S8=()=>{const t=En(),[e]=Rv(),[r,n]=P.useState(""),[a,i]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(null),[d,h]=P.useState(null),[m,f]=P.useState(!1),[g,v]=P.useState(0);P.useEffect(()=>{const w=e.get("email"),j=localStorage.getItem("pendingVerificationEmail");w?(i(w),localStorage.setItem("pendingVerificationEmail",w)):j?i(j):t("/auth")},[e,t]),P.useEffect(()=>{if(g>0){const w=setTimeout(()=>v(g-1),1e3);return()=>clearTimeout(w)}},[g]);const b=async w=>{if(w.preventDefault(),!r.trim()){u("Please enter the verification code");return}l(!0),u(null);try{const j=await fetch("http://localhost:5000/api/better-auth/verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code:r})}),S=await j.json();j.ok&&S.success?(h("Email verified successfully! Redirecting..."),localStorage.removeItem("pendingVerificationEmail"),S.data&&(localStorage.setItem("token",S.data.token),localStorage.setItem("userData",JSON.stringify(S.data.user))),setTimeout(()=>{t("/")},2e3)):u(S.message||"Verification failed")}catch(j){console.error("Verification error:",j),u("Network error. Please try again.")}finally{l(!1)}},y=async()=>{if(!(g>0)){f(!0),u(null);try{const w=await fetch("http://localhost:5000/api/better-auth/resend-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),j=await w.json();w.ok?(h("New verification code sent! Check your email."),v(60)):u(j.message||"Failed to resend code")}catch(w){console.error("Resend error:",w),u("Network error. Please try again.")}finally{f(!1)}}},p=()=>{localStorage.removeItem("pendingVerificationEmail"),t("/auth")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-ajira-primary/5 via-white to-ajira-secondary/5 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club",className:"h-16 w-auto drop-shadow-lg rounded-lg mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Your Email"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a verification code to"}),s.jsx("p",{className:"text-sm font-medium text-ajira-primary",children:a})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qt,{className:"h-5 w-5 text-red-400"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ke,{className:"h-5 w-5 text-green-400"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-green-800",children:d})})]})}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",id:"verificationCode",value:r,onChange:w=>n(w.target.value),className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter 6-digit code",maxLength:6,required:!0}),s.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{type:"submit",disabled:o||!r.trim(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Verifying..."]}):"Verify Email"}),s.jsx("button",{type:"button",onClick:y,disabled:m||g>0,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Sending..."]}):g>0?`Resend in ${g}s`:s.jsxs(s.Fragment,{children:[s.jsx(m4,{className:"w-5 h-5 mr-2"}),"Resend Code"]})}),s.jsxs("button",{type:"button",onClick:p,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(rp,{className:"w-5 h-5 mr-2"}),"Back to Login"]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the code? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:y,disabled:g>0,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium disabled:opacity-50",children:"request a new one"})]})})]})})},_8=({isVisible:t,onClose:e,title:r,message:n,type:a="success",completionPercentage:i,completedFields:o=[],hasInterests:l=!1})=>{const[c,u]=P.useState(!1);P.useEffect(()=>{if(t){u(!0);const m=setTimeout(()=>{d()},a==="complete"?8e3:5e3);return()=>clearTimeout(m)}},[t,a]);const d=()=>{u(!1),setTimeout(()=>{e()},300)};if(!t)return null;const h=a==="complete"&&i===100;return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsxs("div",{className:`
        transform transition-all duration-300 ease-out
        ${c?"scale-100 opacity-100":"scale-95 opacity-0"}
        max-w-md w-full bg-white rounded-2xl shadow-2xl border border-gray-100
      `,children:[s.jsxs("div",{className:`
          relative p-6 rounded-t-2xl
          ${h?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-ajira-primary to-blue-600"}
        `,children:[s.jsx("button",{onClick:d,className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors",children:s.jsx(Yr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:h?s.jsx(p4,{className:"w-8 h-8 text-white"}):s.jsx(du,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:r}),i!==void 0&&s.jsxs("p",{className:"text-white/90 text-sm font-medium",children:[i,"% Complete"]})]})]}),!h&&i!==void 0&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-500",style:{width:`${i}%`}})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:n}),o.length>0&&s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:"Updated Fields:"}),s.jsx("div",{className:"space-y-1",children:o.map((m,f)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("div",{className:`
                      w-4 h-4 rounded-full flex items-center justify-center
                      ${m.completed?"bg-green-100":"bg-gray-100"}
                    `,children:m.completed?s.jsx(du,{className:"w-3 h-3 text-green-600"}):s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"})}),s.jsx("span",{className:m.completed?"text-green-700":"text-gray-500",children:m.name})]},f))})]}),l&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ve,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold text-blue-800",children:"Auto-Added to Groups!"})]}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"You've been automatically added to relevant groups based on your interests and skills."}),s.jsxs("div",{className:"flex items-center justify-between bg-blue-100 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx(Ve,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-blue-800 font-medium",children:"Visit Community Hub"})]}),s.jsx(Un,{className:"w-4 h-4 text-blue-600"})]}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Check out your new groups, connect with like-minded members, and start collaborating!"})]}),h&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ss,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-800",children:"You're all set!"})]}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsx("span",{children:"Access all community features"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dl,{className:"w-4 h-4"}),s.jsx("span",{children:"Apply for ambassador roles"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"w-4 h-4"}),s.jsx("span",{children:"Use the marketplace"})]})]})]}),s.jsx("button",{onClick:d,className:`
              w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200
              ${h?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white":"bg-gradient-to-r from-ajira-primary to-blue-600 hover:from-ajira-primary/90 hover:to-blue-700 text-white"}
              transform hover:scale-[1.02] active:scale-[0.98]
            `,children:h?" Awesome!":"Great!"})]})]})})},fh="http://localhost:5000/api",Ug=t=>{if(!t.trim())return!1;const e=/^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_.]+\/?$/,r=/^[a-zA-Z0-9-_.]+$/;return e.test(t.trim())||r.test(t.trim())},W1=()=>{const{user:t,isLoading:e}=Ur(),[r,n]=P.useState(!1),[a,i]=P.useState("overview"),[o,l]=P.useState({isVisible:!1,title:"",message:"",type:"success",completionPercentage:0,completedFields:[],hasInterests:!1}),[c,u]=P.useState({displayName:(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",photoURL:"",bio:"",course:"",year:"",skills:[],preferredPlatforms:[],experienceLevel:"",ajiraGoals:"",preferredLearningMode:"",linkedinProfile:"",githubProfile:"",portfolioUrl:"",phoneNumber:"",idNumber:"",achievements:[],completedProjects:0,mentorshipInterest:!1,availableForFreelance:!1,joinedDate:new Date().toISOString(),lastActive:new Date().toISOString(),interests:[]}),{data:d}=Ct("ajira-trainings",async()=>(await be.get(`${fh}/students/ajira-trainings`)).data.trainings),h=d||[];if(e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Log In"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view and manage your Ajira Digital KiNaP Club profile."}),s.jsx("a",{href:"/auth",className:"inline-flex items-center px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Go to Login"})]})});P.useEffect(()=>{let j=!0,S=!1;return(async()=>{if(!(!(t!=null&&t.email)||S)){S=!0;try{const k=await be.post(`${fh}/better-auth/get-profile`,{email:t.email},{headers:{"Content-Type":"application/json"}});if(!j)return;const N=k.data;console.log("Loaded profile data:",N),console.log("PhotoURL from backend:",N.photoURL),console.log("All profile completion fields:"),console.log("- Bio:",N.bio),console.log("- Goals:",N.ajiraGoals),console.log("- LinkedIn:",N.linkedinProfile),console.log("- Photo:",!!N.photoURL),u(E=>({...E,displayName:N.fullname||E.displayName,course:N.course||E.course,year:N.year||E.year,skills:typeof N.skills=="string"?N.skills.split(",").map(T=>T.trim()):N.skills||E.skills,experienceLevel:N.experience||E.experienceLevel,phoneNumber:N.phone||E.phoneNumber,idNumber:N.idNo||E.idNumber,bio:N.bio||E.bio,ajiraGoals:N.ajiraGoals||E.ajiraGoals,linkedinProfile:N.linkedinProfile||E.linkedinProfile,photoURL:N.photoURL||E.photoURL,lastActive:N.lastActive||E.lastActive,interests:N.interests||[]}))}catch(k){j&&console.warn("Failed to load profile",k)}}})(),()=>{j=!1}},[t==null?void 0:t.email]);const f=(()=>{console.log(" Debugging profile completion:"),console.log("FormData passed to utility:",c);const j=["photoURL","bio","ajiraGoals","linkedinProfile"],S=["displayName","email","interests"];console.log(" Required Field Analysis:"),j.forEach(k=>{const N=c[k],E=N!=null&&N!=="",T=Array.isArray(N),_=T&&N.length>0;console.log(`${E||_?"":""} ${k}:`,T?`[${N.length} items]`:E?"":"")}),console.log(" Optional Field Analysis:"),S.forEach(k=>{const N=c[k],E=N!=null&&N!=="",T=Array.isArray(N),_=T&&N.length>0;console.log(`${E||_?"":""} ${k}:`,T?`[${N.length} items]`:E?"":"")});const R=Dy(c);return console.log(" Calculated completion:",R+"%"),R})(),g=async j=>{var S;if(!(!t||!((S=j.target.files)!=null&&S[0])))try{const R=j.target.files[0];if(R.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!R.type.startsWith("image/")){alert("Please select a valid image file");return}const k=await v(R,800,800,.8),N=new FileReader;N.onload=async()=>{const E=N.result;console.log("Base64 image size:",E.length,"characters"),u(T=>({...T,photoURL:E}));try{console.log("Saving profile image to MongoDB..."),await be.post(`${fh}/better-auth/update-profile`,{email:t.email,photoURL:E},{headers:{"Content-Type":"application/json"}}),console.log("Profile image saved successfully!"),alert("Profile picture uploaded and saved!")}catch(T){console.error("Failed to save profile image:",T),alert("Failed to save profile picture. Please try again."),u(_=>({..._,photoURL:""}))}},N.readAsDataURL(k)}catch(R){console.error("Error uploading profile image:",R)}},v=(j,S,R,k)=>new Promise(N=>{const E=document.createElement("canvas"),T=E.getContext("2d"),_=new Image;_.onload=()=>{let{width:A,height:C}=_;A>C?A>S&&(C=C*S/A,A=S):C>R&&(A=A*R/C,C=R),E.width=A,E.height=C,T.drawImage(_,0,0,A,C),E.toBlob(O=>{if(O){const V=new File([O],j.name,{type:j.type,lastModified:Date.now()});N(V)}else N(j)},j.type,k)},_.src=URL.createObjectURL(j)}),b=tt(async()=>{var R,k,N,E;if(!(t!=null&&t.email))return;if(!c.bio.trim())throw new Error("Bio is required");if(!c.ajiraGoals.trim())throw new Error("Digital goals are required");let j=c.linkedinProfile.trim();if(/^[a-zA-Z0-9-_.]+$/.test(j)&&(j=`https://linkedin.com/in/${j}`),!Ug(j))throw new Error("Please enter a valid LinkedIn profile URL (e.g., https://linkedin.com/in/yourname) or handle (e.g., yourname)");if(!c.photoURL.trim())throw new Error("Profile picture is required. Please upload an image.");const S={bio:c.bio,ajiraGoals:c.ajiraGoals,linkedinProfile:j,photoURL:c.photoURL,lastActive:new Date,interests:c.interests||[],skills:Array.isArray(c.skills)?c.skills:[]};console.log("Saving profile data to MongoDB:",S);try{await be.post(`${fh}/better-auth/update-profile`,{email:t.email,...S},{headers:{"Content-Type":"application/json"}}),console.log("Profile data saved successfully!");const T=Dy({...c,lastActive:new Date().toISOString()});u(A=>({...A,lastActive:new Date().toISOString()}));const _=[{name:"Profile Photo",completed:!!c.photoURL},{name:"Bio/About Me",completed:!!c.bio},{name:"Digital Goals",completed:!!c.ajiraGoals},{name:"LinkedIn Profile",completed:!!c.linkedinProfile},...(R=c.interests)!=null&&R.length?[{name:`Interests (${c.interests.length} selected)`,completed:!0}]:[]];T>=100?setTimeout(()=>{l({isVisible:!0,title:"Profile Complete! ",message:"Congratulations! Your profile is now 100% complete and you have access to all Ajira Digital KiNaP features.",type:"complete",completionPercentage:T,completedFields:_,hasInterests:!!(c.interests&&c.interests.length>0)})},500):setTimeout(()=>{l({isVisible:!0,title:"Profile Updated Successfully!",message:`Your profile has been updated and saved. ${T<100?"Complete the remaining fields to unlock all features!":""}`,type:"success",completionPercentage:T,completedFields:_,hasInterests:!!(c.interests&&c.interests.length>0)})},500),n(!1)}catch(T){throw console.error("Failed to update profile:",T),console.error("Error details:",(k=T.response)==null?void 0:k.data),console.error("Request data:",{email:t.email,...S}),alert(`Failed to save profile data. Error: ${((E=(N=T.response)==null?void 0:N.data)==null?void 0:E.message)||T.message}

Please check the console for more details.`),new Error("Failed to update profile")}}),y=j=>{const{name:S,value:R,type:k}=j.target;if(k==="checkbox"){const N=j.target.checked;u(E=>({...E,[S]:N}))}else u(N=>({...N,[S]:R})),S==="linkedinProfile"&&R.trim()&&(Ug(R)?j.target.style.borderColor="#10b981":j.target.style.borderColor="#ef4444")},p=["Upwork","Fiverr","Freelancer.com","LinkedIn","GitHub","Behance","Dribbble","99designs","Toptal","Guru.com","PeoplePerHour","Local Clients"],w={"Web Development":["HTML/CSS","JavaScript","React","Node.js","Python","PHP","WordPress"],"Mobile Development":["React Native","Flutter","iOS (Swift)","Android (Kotlin/Java)"],Design:["UI/UX Design","Graphic Design","Logo Design","Branding","Figma","Adobe Creative Suite"],"Digital Marketing":["SEO","Social Media Marketing","Content Marketing","Email Marketing","PPC Advertising"],"Data & Analytics":["Data Analysis","Excel","Python","SQL","Power BI","Tableau"],"Writing & Content":["Content Writing","Copywriting","Technical Writing","Blog Writing","Translation"],Business:["Project Management","Business Analysis","Consulting","Virtual Assistant"]};return s.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-8 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg mb-8 w-full",children:[s.jsxs("div",{className:"relative h-48 rounded-t-lg bg-gradient-to-r from-ajira-primary to-ajira-accent w-full",children:[s.jsx("div",{className:"absolute -bottom-16 left-4 sm:left-8",children:s.jsxs("div",{className:"relative",children:[!c.photoURL&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Required"}),s.jsx("img",{src:c.photoURL||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSIzMCIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMzAgMTgwQzMwIDE0MCA2MCAxMDAgMTAwIDEwMEMxNDAgMTAwIDE3MCAxNDAgMTcwIDE4MEgzMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+",alt:c.displayName,className:`w-24 sm:w-32 h-24 sm:h-32 rounded-full border-4 object-cover ${c.photoURL?"border-white":"border-red-300 border-dashed"}`}),s.jsxs("label",{htmlFor:"profile-image",className:`absolute bottom-0 right-0 rounded-full p-2 shadow-lg cursor-pointer ${c.photoURL?"bg-white hover:bg-gray-50":"bg-red-500 hover:bg-red-600 text-white"}`,children:[s.jsx(Fv,{className:`w-5 h-5 ${c.photoURL?"text-gray-600":"text-white"}`}),s.jsx("input",{type:"file",id:"profile-image",accept:"image/*",onChange:g,className:"hidden"})]})]})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-white rounded-full p-4 shadow-lg",children:s.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16",children:[s.jsxs("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:f>=100?"#10b981":f>=70?"#f59e0b":"#ef4444",strokeWidth:"2",strokeDasharray:`${f}, 100`})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs sm:text-sm font-bold text-gray-700",children:[f,"%"]})})]})})})]}),s.jsxs("div",{className:"pt-20 px-2 sm:px-8 pb-8 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-6 w-full gap-4",children:[s.jsxs("div",{className:"w-full",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary break-words",children:c.displayName||"Club Member"}),s.jsxs("p",{className:"text-gray-600 flex items-center mt-1 break-all",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),c.email]}),c.phoneNumber&&s.jsxs("p",{className:"text-gray-600 flex items-center mt-1 break-all",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),c.phoneNumber]}),s.jsxs("div",{className:"flex flex-wrap items-center mt-2 gap-2",children:[c.course&&s.jsx("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-xs sm:text-sm",children:c.course}),c.year&&s.jsx("span",{className:"bg-ajira-accent/10 text-ajira-accent px-3 py-1 rounded-full text-xs sm:text-sm",children:c.year}),c.experienceLevel&&s.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs sm:text-sm",children:c.experienceLevel})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[s.jsx("strong",{children:"Basic Info Complete:"})," Your name, email, course, year, phone, skills, and experience were collected during signup. Now add: bio, goals, LinkedIn, and profile photo for 100%!"]})})]}),s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 bg-ajira-accent text-white px-4 py-2 rounded-lg hover:bg-ajira-accent/90 w-full sm:w-auto mt-4 sm:mt-0",children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsx("span",{children:r?"Cancel":"Edit Profile"})]})]}),f>=100?s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(du,{className:"w-5 h-5 text-green-600 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-green-800",children:" Profile Complete! "}),s.jsx("p",{className:"text-xs sm:text-sm text-green-700 mt-1",children:"Congratulations! Your profile is 100% complete. You now have access to all features including community groups, marketplace, and ambassador applications!"})]})]})}):s.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(qt,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-medium text-yellow-800",children:["Profile ",f,"% complete - missing fields detected"]}),s.jsx("p",{className:"text-xs sm:text-sm text-yellow-700 mt-1",children:"Complete your profile to unlock all features. Check the console for detailed field analysis."})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-8 w-full",children:[s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:c.completedProjects}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Projects Completed"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:c.skills.length}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Skills Listed"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:c.achievements.length}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Achievements"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:Math.floor((new Date().getTime()-new Date(c.joinedDate).getTime())/(1e3*60*60*24))}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Days Active"})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6 overflow-x-auto",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 w-full",children:["overview","skills","goals","platforms","portfolio"].map(j=>s.jsx("button",{onClick:()=>i(j),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm capitalize whitespace-nowrap ${a===j?"border-ajira-accent text-ajira-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:j},j))})}),r?s.jsxs("form",{onSubmit:j=>{j.preventDefault(),b.mutateAsync()},className:"space-y-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Complete Your Profile (",f,"% complete)"]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Fill out these ",f<100?"remaining ":"","fields to complete your profile:"]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Fields:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("li",{className:`flex items-center ${c.photoURL?"text-green-600":""}`,children:[c.photoURL?"":""," Profile Photo"]}),s.jsxs("li",{className:`flex items-center ${c.bio?"text-green-600":""}`,children:[c.bio?"":""," About Me/Bio"]}),s.jsxs("li",{className:`flex items-center ${c.ajiraGoals?"text-green-600":""}`,children:[c.ajiraGoals?"":""," Your Digital Goals"]}),s.jsxs("li",{className:`flex items-center ${c.linkedinProfile?"text-green-600":""}`,children:[c.linkedinProfile?"":""," LinkedIn Profile"]})]}),f>=100&&s.jsx("p",{className:"text-green-700 font-medium mt-2",children:" Profile Complete!"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tell us about yourself *"}),s.jsx("textarea",{name:"bio",value:c.bio,onChange:y,rows:4,required:!0,placeholder:"Briefly describe yourself, your interests, and what you hope to achieve...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are your digital goals? *"}),s.jsx("textarea",{name:"ajiraGoals",value:c.ajiraGoals,onChange:y,rows:3,required:!0,placeholder:"What do you want to achieve? (e.g., Learn new skills, find freelance work, start a business)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile *"}),s.jsx("input",{type:"text",name:"linkedinProfile",value:c.linkedinProfile,onChange:y,required:!0,placeholder:"e.g., https://linkedin.com/in/yourname or just yourname",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your full LinkedIn profile URL or just your handle (e.g., yourname)"}),c.linkedinProfile&&!Ug(c.linkedinProfile)&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please enter a valid LinkedIn URL or handle"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Your Interests (Ajira Trainings)"}),s.jsx("p",{className:"text-xs text-blue-600 mb-2",children:"For each interest you choose, you will be automatically added to the corresponding group in the Community Hub."}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(j=>{var S;return s.jsxs("label",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-1 rounded-full cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((S=c.interests)==null?void 0:S.includes(j))||!1,onChange:R=>{u(k=>({...k,interests:R.target.checked?[...k.interests||[],j]:(k.interests||[]).filter(N=>N!==j)}))},className:"form-checkbox accent-ajira-accent"}),s.jsx("span",{children:j})]},j)})})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:b.isLoading,className:"px-8 py-3 bg-ajira-accent text-white rounded-lg hover:bg-ajira-accent/90 disabled:opacity-50 flex items-center space-x-2",children:b.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Profile"})]})})]})]}):s.jsxs("div",{className:"space-y-8",children:[a==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"About Me"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.bio||'No bio provided yet. Click "Edit Profile" to add your story!'})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(ss,{className:"w-5 h-5 mr-2"}),"Digital Goals"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.ajiraGoals||'No goals specified yet. Click "Edit Profile" to add your goals!'})]}),c.linkedinProfile&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Professional Links"]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("a",{href:c.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-ajira-primary hover:text-ajira-accent",children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"LinkedIn Profile"]})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(mu,{className:"w-5 h-5 mr-2"}),"Digital Skills"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.skills.length>0?c.skills.map((j,S)=>s.jsx("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-sm",children:j},S)):s.jsx("span",{className:"text-gray-500 text-sm",children:"No skills listed"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Skills collected during signup"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Academic Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Course:"})," ",c.course||"Not specified"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Year:"})," ",c.year||"Not specified"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Experience:"})," ",c.experienceLevel||"Not specified"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Contact Information"}),s.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:s.jsxs("p",{className:"flex items-center",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),c.phoneNumber||"Not provided"]})})]})]}),c.achievements.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(vt,{className:"w-5 h-5 mr-2"}),"Achievements & Certifications"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.achievements.map((j,S)=>s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center",children:[s.jsx(du,{className:"w-4 h-4 mr-1"}),j]},S))})]})]}),a==="skills"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(mu,{className:"w-5 h-5 mr-2"}),"Digital Skills"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.skills.length>0?c.skills.map((j,S)=>s.jsx("span",{className:"px-4 py-2 bg-ajira-primary/10 text-ajira-primary rounded-lg text-sm font-medium",children:j},S)):s.jsx("p",{className:"text-gray-600",children:"No skills listed yet. Add your skills to showcase your abilities!"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Skill Development Suggestions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(w).map(([j,S])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-ajira-primary mb-2",children:j}),s.jsx("div",{className:"space-y-1",children:S.slice(0,4).map((R,k)=>s.jsxs("div",{className:"text-sm text-gray-600",children:[" ",R]},k))})]},j))})]})]}),a==="goals"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(ss,{className:"w-5 h-5 mr-2"}),"Ajira Goals"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-lg",children:c.ajiraGoals||"No goals specified yet. Set your digital transformation goals!"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(eo,{className:"w-5 h-5 mr-2"}),"Learning Preferences"]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Preferred Mode:"})," ",c.preferredLearningMode||"Not specified"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[s.jsx(hs,{className:"w-5 h-5 mr-2"}),"Mentorship"]}),s.jsx("p",{className:"text-sm text-gray-600",children:c.mentorshipInterest?" Open to mentoring other members":"Not currently interested in mentoring"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[s.jsx(Dl,{className:"w-5 h-5 mr-2"}),"Freelance Availability"]}),s.jsx("p",{className:"text-sm text-gray-600",children:c.availableForFreelance?" Available for freelance projects":"Not currently available for freelance work"})]})]})]}),a==="platforms"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Preferred Work Platforms"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.preferredPlatforms.length>0?c.preferredPlatforms.map((j,S)=>s.jsx("span",{className:"px-4 py-2 bg-ajira-accent/10 text-ajira-accent rounded-lg text-sm font-medium",children:j},S)):s.jsx("p",{className:"text-gray-600",children:"No platforms specified yet. Add platforms where you want to find work!"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Available Platforms"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.map((j,S)=>s.jsx("div",{className:`p-3 rounded-lg border text-center text-sm ${c.preferredPlatforms.includes(j)?"border-ajira-accent bg-ajira-accent/10 text-ajira-accent":"border-gray-200 text-gray-600"}`,children:j},S))})]})]}),a==="portfolio"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Professional Links"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.linkedinProfile&&s.jsxs("a",{href:c.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"in"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"LinkedIn"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Professional Profile"})]})]}),c.githubProfile&&s.jsxs("a",{href:c.githubProfile,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded flex items-center justify-center mr-3",children:s.jsx(mu,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"GitHub"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Code Repository"})]})]}),c.portfolioUrl&&s.jsxs("a",{href:c.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent rounded flex items-center justify-center mr-3",children:s.jsx(Ss,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Portfolio"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Personal Website"})]})]})]}),!c.linkedinProfile&&!c.githubProfile&&!c.portfolioUrl&&s.jsx("p",{className:"text-gray-600",children:"No professional links added yet. Add your LinkedIn, GitHub, or portfolio links!"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Project Portfolio"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx(d4,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h5",{className:"text-lg font-medium text-gray-700 mb-2",children:"Showcase Your Work"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Upload screenshots, links, or descriptions of your projects to showcase your skills."}),s.jsx("button",{className:"bg-ajira-accent text-white px-6 py-2 rounded-lg hover:bg-ajira-accent/90",children:"Add Project"})]})]})]})]})]})]}),s.jsx(_8,{isVisible:o.isVisible,onClose:()=>l(j=>({...j,isVisible:!1})),title:o.title,message:o.message,type:o.type,completionPercentage:o.completionPercentage,completedFields:o.completedFields,hasInterests:o.hasInterests})]})},Q4=P.createContext(void 0),E8=()=>{const t=P.useContext(Q4);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},T8=({children:t})=>{const{user:e}=Ur(),[r,n]=P.useState([]);P.useEffect(()=>{if(e!=null&&e.email){const h=localStorage.getItem(`notifications_${e.email}`);if(h)try{const m=JSON.parse(h);n(m.map(f=>({...f,timestamp:new Date(f.timestamp)})))}catch(m){console.error("Error loading notifications:",m)}}},[e==null?void 0:e.email]),P.useEffect(()=>{e!=null&&e.email&&localStorage.setItem(`notifications_${e.email}`,JSON.stringify(r))},[r,e==null?void 0:e.email]);const a=h=>{const m={...h,id:Date.now().toString(),timestamp:new Date,read:!1};n(f=>[m,...f])},i=h=>{n(m=>m.map(f=>f.id===h?{...f,read:!0}:f))},o=()=>{n(h=>h.map(m=>({...m,read:!0})))},l=h=>{n(m=>m.filter(f=>f.id!==h))},c=()=>{n([])},u=r.filter(h=>!h.read).length,d={notifications:r,addNotification:a,markAsRead:i,markAllAsRead:o,removeNotification:l,clearAll:c,unreadCount:u};return s.jsx(Q4.Provider,{value:d,children:t})},Bg=10,C8=()=>{const{notifications:t,markAsRead:e,markAllAsRead:r}=E8(),[n,a]=P.useState(1),[i]=P.useState("all"),o=t.filter(m=>i==="all"?!0:i==="unread"?!m.isRead:m.type===i),l=Math.ceil(o.length/Bg),c=(n-1)*Bg,u=c+Bg,d=o.slice(c,u),h=m=>{switch(m){case"message":return s.jsx(Gh,{className:"w-5 h-5 text-red-500"});case"order":return s.jsx(d4,{className:"w-5 h-5 text-green-500"});case"review":return s.jsx(lt,{className:"w-5 h-5 text-yellow-500"});case"payment":return s.jsx(Yn,{className:"w-5 h-5 text-emerald-500"});case"system":return s.jsx(qt,{className:"w-5 h-5 text-red-500"})}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," notifications"]}),t.some(m=>!m.isRead)&&s.jsx("button",{onClick:()=>r(),className:"text-sm text-ajira-primary hover:text-ajira-primary-dark",children:"Mark all as read"})]}),s.jsx("div",{className:"space-y-4",children:d.length===0?s.jsx("div",{className:"text-center py-8 text-gray-600",children:"No notifications found"}):d.map(m=>s.jsx("div",{className:`bg-white rounded-lg border p-4 transition-colors ${m.isRead?"":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[h(m.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:m.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:m.message})]}),s.jsx("button",{onClick:()=>e(m.id),className:`text-sm ${m.isRead?"text-gray-400":"text-ajira-primary hover:text-ajira-primary-dark"}`,children:m.isRead?"Read":"Mark as read"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:sf(m.createdAt.toDate(),{addSuffix:!0})}),m.link&&s.jsx(De,{to:m.link,className:"text-sm text-ajira-primary hover:text-ajira-primary-dark",children:"View details"})]})]})]})},m.id))}),l>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>a(m=>Math.max(1,m-1)),disabled:n===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Previous"}),Array.from({length:l},(m,f)=>f+1).map(m=>s.jsx("button",{onClick:()=>a(m),className:`px-3 py-1 rounded text-sm ${n===m?"bg-ajira-primary text-white":"border text-gray-600 hover:bg-gray-50"}`,children:m},m)),s.jsx("button",{onClick:()=>a(m=>Math.min(l,m+1)),disabled:n===l,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Next"})]})]})},A8=()=>{const[t,e]=P.useState("all");return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{className:"w-8 h-8 text-ajira-primary"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="all"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),s.jsx("button",{onClick:()=>e("unread"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="unread"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Unread"}),s.jsx("button",{onClick:()=>e("message"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="message"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Messages"}),s.jsx("button",{onClick:()=>e("order"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="order"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Orders"}),s.jsx("button",{onClick:()=>e("review"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="review"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Reviews"}),s.jsx("button",{onClick:()=>e("payment"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="payment"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Payments"}),s.jsx("button",{onClick:()=>e("system"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="system"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"System"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsx(C8,{})})]})};let K1=0;const P8=2e3,Pr=({children:t,requiredRole:e})=>{const{user:r,isLoading:n}=Ur(),a=Ys();if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin"})});if(!r){const i=Date.now();return i-K1<P8?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin"})}):(K1=i,s.jsx(Zw,{to:"/auth",state:{from:a},replace:!0}))}return e&&r.role!==e?s.jsx(Zw,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:t})},G1={greeting:["Hello!  I'm Kinap AI, your friendly assistant! How can I help you today?","Hi there!  I'm here to help you with programming, studying, and more. What's on your mind?","Hey!  Welcome to the KiNaP community. How can I assist you today?"],programming:["I'd love to help you with programming!  What specific language or framework are you working with?","Programming is exciting!  Tell me more about what you're building or learning.","Great! Let's dive into some code!  What programming challenge are you facing?"],study:["Learning is a journey!  What are you currently studying? I can help you with strategies and resources.","Education is the key to success!  What subject or topic are you working on?","Studying can be challenging but rewarding!  How can I help you with your studies?"],project:["Building projects is the best way to learn!  What kind of project are you working on?","Projects are where theory meets practice!  Tell me about what you're building.","Creating something new is always exciting!  What project are you developing?"],career:["Career development is important!  What are your professional goals?","Building a career in tech is exciting!  How can I help you with your career path?","Your future is bright!  What career advice are you looking for?"],default:["That's interesting!  Tell me more about that.","I'd love to help you with that!  What specific questions do you have?","Great question!  Let me think about that...","I'm here to help!  Could you give me a bit more context?","That sounds fascinating!  I'd be happy to discuss this further.","Thanks for sharing!  How can I assist you with this?","I'm all ears!  What would you like to explore together?","That's a good point!  Let's dive deeper into this topic."]};class I8{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.listeners=new Map,this.messageQueue=[],this.reconnectTimer=null}connect(e,r){return this.socket&&this.isConnected?(console.log(" Already connected to WebSocket"),Promise.resolve()):(this.currentUserId=e,this.currentUserName=r,console.log(" Attempting to connect to WebSocket at ws://localhost:5000..."),console.log(" User:",{userId:e,userName:r}),new Promise((n,a)=>{try{this.socket=new WebSocket("ws://localhost:5000"),this.socket.onopen=()=>{for(console.log(" WebSocket connected successfully!"),this.isConnected=!0,this.reconnectAttempts=0,this.send({type:"join_community",data:{userId:e,userName:r}});this.messageQueue.length>0;){const i=this.messageQueue.shift();this.socket.send(JSON.stringify(i))}n()},this.socket.onclose=i=>{console.log(" WebSocket disconnected:",i.code,i.reason),this.isConnected=!1,i.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect()},this.socket.onerror=i=>{console.error(" WebSocket connection error:",i),console.error(" Check if backend server is running on port 5000"),this.isConnected=!1,a(i)},this.socket.onmessage=i=>{try{const o=JSON.parse(i.data);this.handleMessage(o)}catch(o){console.error("Error parsing WebSocket message:",o)}}}catch(i){console.error("Error creating WebSocket connection:",i),a(i)}}))}scheduleReconnect(){this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(` Scheduling reconnect attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${e/1e3}s`),this.reconnectTimer=setTimeout(()=>{this.reconnectAttempts<=this.maxReconnectAttempts&&(console.log(` Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect(this.currentUserId,this.currentUserName).catch(r=>{console.error(` Reconnect attempt ${this.reconnectAttempts} failed:`,r),this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():console.log(" Max reconnect attempts reached. Stopping reconnection.")}))},e)}send(e){if(!this.socket||this.socket.readyState!==WebSocket.OPEN){console.warn(" WebSocket not ready, queuing message"),this.messageQueue.push(e);return}(e.type==="join_community"||e.type==="join_group")&&console.log(" Sending WebSocket message:",e.type),this.socket.send(JSON.stringify(e))}handleMessage(e){const{type:r,data:n}=e;(r==="user_joined"||r==="user_left"||r==="error")&&console.log(" Received WebSocket message:",r),(this.listeners.get(r)||[]).forEach(i=>{try{i(n)}catch(o){console.error(" Error in event listener:",o)}})}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.socket&&(this.socket.close(1e3,"User disconnected"),this.socket=null,this.isConnected=!1)}joinGroup(e,r){if(!this.isConnected){console.warn("WebSocket not connected");return}this.send({type:"join_group",data:{groupId:e,userId:r}})}leaveGroup(e,r){this.isConnected&&this.send({type:"leave_group",data:{groupId:e,userId:r}})}sendMessage(e){return this.isConnected?new Promise((r,n)=>{try{this.send({type:"send_group_message",data:e}),setTimeout(()=>r(),100)}catch(a){n(a)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}loadGroupMessages(e,r=50,n=0){return this.isConnected?new Promise((a,i)=>{try{this.send({type:"load_group_messages",data:{groupId:e,limit:r,offset:n}});const o=c=>{this.off("group_messages_loaded",o),a(c)},l=c=>{this.off("load_messages_error",l),i(c)};this.on("group_messages_loaded",o),this.on("load_messages_error",l),setTimeout(()=>{this.off("group_messages_loaded",o),this.off("load_messages_error",l),i(new Error("Load messages timeout"))},1e4)}catch(o){i(o)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}deleteMessage(e,r){return this.isConnected?new Promise((n,a)=>{try{this.send({type:"delete_message",data:{messageId:e,userId:r}});const i=l=>{this.off("message_deleted_success",i),n(l)},o=l=>{this.off("delete_message_error",o),a(l)};this.on("message_deleted_success",i),this.on("delete_message_error",o),setTimeout(()=>{this.off("message_deleted_success",i),this.off("delete_message_error",o),a(new Error("Delete message timeout"))},1e4)}catch(i){a(i)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}startTyping(e,r){this.isConnected&&this.send({type:"typing_start",data:{groupId:e,userName:r}})}stopTyping(e,r){this.isConnected&&this.send({type:"typing_stop",data:{groupId:e,userName:r}})}updateStatus(e,r){this.isConnected&&this.send({type:"update_status",data:{userId:e,status:r}})}getUserStatus(e){return this.isConnected?new Promise((r,n)=>{try{this.send({type:"get_user_status",data:{userIds:e}});const a=i=>{this.off("user_status_info",a),r(i)};this.on("user_status_info",a),setTimeout(()=>{this.off("user_status_info",a),n(new Error("Get user status timeout"))},5e3)}catch(a){n(a)}}):Promise.reject(new Error("WebSocket not connected"))}on(e,r){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(r)}off(e,r){if(!this.listeners.has(e))return;const n=this.listeners.get(e),a=n.indexOf(r);a>-1&&n.splice(a,1)}onMessage(e){this.on("group_message",e)}onUserJoined(e){this.on("user_joined",e)}onUserLeft(e){this.on("user_left",e)}onTyping(e){this.on("typing",e)}onStopTyping(e){this.on("stop_typing",e)}onMessageDeleted(e){this.on("message_deleted",e)}onUserStatusUpdate(e){this.on("user_status_update",e)}onUserStatusInfo(e){this.on("user_status_info",e)}removeAllListeners(){this.listeners.clear()}getConnectionStatus(){return{isConnected:this.isConnected,reconnectAttempts:this.reconnectAttempts,readyState:this.socket?this.socket.readyState:null}}}const Kr=new I8,R8=[{id:"account",name:"Account",icon:tD,description:"Security notifications, account info"},{id:"chats",name:"Chats",icon:Gs,description:"Theme, wallpaper, chat settings"},{id:"notifications",name:"Notifications",icon:Bs,description:"Message notifications"},{id:"keyboard",name:"Keyboard shortcuts",icon:rD,description:"Quick actions"}],O8=[{id:"display",name:"Display",hasArrow:!0},{id:"theme",name:"Theme",hasArrow:!0},{id:"wallpaper",name:"Wallpaper",hasArrow:!0},{id:"chat_settings",name:"Chat settings",hasArrow:!0},{id:"media_upload_quality",name:"Media upload quality",hasArrow:!0},{id:"media_auto_download",name:"Media auto-download",hasArrow:!0},{id:"spell_check",name:"Spell check",description:"Check spelling while typing",toggle:!0,value:!1},{id:"replace_text_with_emoji",name:"Replace text with emoji",description:"Emoji will replace specific text as you type",toggle:!0,value:!1}],ba=[{id:"default",name:"Default",color:"#f0f2f5",pattern:"none",preview:"default",text:"dark"},{id:"cape-honey",name:"Cape Honey",color:"#f7dc6f",pattern:"doodles",preview:"cape-honey",text:"dark"},{id:"light-blue",name:"Light Blue",color:"#e3f2fd",pattern:"doodles",preview:"light-blue",text:"dark"},{id:"light-green",name:"Light Green",color:"#e8f5e8",pattern:"doodles",preview:"light-green",text:"dark"},{id:"light-purple",name:"Light Purple",color:"#f3e5f5",pattern:"doodles",preview:"light-purple",text:"dark"},{id:"light-gray",name:"Light Gray",color:"#f5f5f5",pattern:"doodles",preview:"light-gray",text:"dark"},{id:"light-yellow",name:"Light Yellow",color:"#fffde7",pattern:"doodles",preview:"light-yellow",text:"dark"},{id:"light-orange",name:"Light Orange",color:"#fff3e0",pattern:"doodles",preview:"light-orange",text:"dark"},{id:"light-pink",name:"Light Pink",color:"#fce4ec",pattern:"doodles",preview:"light-pink",text:"dark"},{id:"light-red",name:"Light Red",color:"#ffebee",pattern:"doodles",preview:"light-red",text:"dark"},{id:"dark-blue",name:"Dark Blue",color:"#1a237e",pattern:"doodles",preview:"dark-blue",text:"light"},{id:"dark-green",name:"Dark Green",color:"#1b5e20",pattern:"doodles",preview:"dark-green",text:"light"},{id:"dark-purple",name:"Dark Purple",color:"#4a148c",pattern:"doodles",preview:"dark-purple",text:"light"},{id:"dark-gray",name:"Dark Gray",color:"#424242",pattern:"doodles",preview:"dark-gray",text:"light"},{id:"dark-yellow",name:"Dark Yellow",color:"#f57f17",pattern:"doodles",preview:"dark-yellow",text:"dark"},{id:"dark-orange",name:"Dark Orange",color:"#e65100",pattern:"doodles",preview:"dark-orange",text:"light"},{id:"dark-pink",name:"Dark Pink",color:"#880e4f",pattern:"doodles",preview:"dark-pink",text:"light"},{id:"dark-red",name:"Dark Red",color:"#b71c1c",pattern:"doodles",preview:"dark-red",text:"light"}],D8=()=>{var Po,fa,tn,Io,Dd,yc,vc,bc,Ro;const[t,e]=P.useState([]),[r,n]=P.useState(null),[a,i]=P.useState(""),[o,l]=P.useState(window.innerWidth<1024),[c,u]=P.useState(!1),[d,h]=P.useState(!1);P.useState(!1);const[m,f]=P.useState("chats"),[g,v]=P.useState(window.innerWidth<1024),[b,y]=P.useState(!1),{user:p}=Ur(),[w,j]=P.useState({}),[S,R]=P.useState(!0),[k,N]=P.useState({darkTheme:!1,enterToSend:!0,messageNotifications:!0,sound:!0,spellCheck:!1,replaceTextWithEmoji:!1,messagePreview:!1,readReceipts:!1,typingIndicators:!1,autoSaveMedia:!1,lastSeen:!1,profilePhoto:!1,about:!1,groups:!1,status:!1,showPreviews:!1,reactionNotifications:!1,backgroundSync:!1,incomingSounds:!1,outgoingSounds:!1,vibration:!1,ledLight:!1});P.useState({name:"",description:"",category:""});const E=P.useRef(null),[T,_]=P.useState(!1),[A,C]=P.useState(""),[O,V]=P.useState(""),[L,q]=P.useState(""),[M,z]=P.useState(!1),[D,F]=P.useState(!1),[W,H]=P.useState([]),[Q,X]=P.useState(!1),[G,K]=P.useState(!1),{theme:J,setTheme:$}=z4();P.useState(!1);const[Z,se]=P.useState(!1),[pe,te]=P.useState(!1),[ge,Pe]=P.useState([]),[Xe,pt]=P.useState(!1),[oe,ue]=P.useState(!1),[ye,we]=P.useState(null);P.useRef(null),P.useRef(null);const ne=p?{id:p.id||p._id||"anonymous",name:p.displayName||p.name||p.email||"Anonymous User",avatar:p.photoURL||p.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(p.displayName||p.name||p.email||"A")}&background=1B4F72&color=fff`,status:"online"}:{id:"anonymous",name:"Anonymous User",avatar:"https://ui-avatars.com/api/?name=A&background=1B4F72&color=fff",status:"offline"},qe=B=>{try{const le=B instanceof Date?B:new Date(B);return isNaN(le.getTime())?"":le.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}},Ue=async(B,le)=>{if(!r)throw new Error("No group selected");const ce={messageId:le,groupId:r.id,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:B.content,content:B.content,messageType:B.messageType||"text",status:"sent",replyTo:B.replyTo,mediaUrl:B.mediaUrl,fileName:B.fileName,fileSize:B.fileSize};console.log(" Sending message via REST API:",ce);const ve=await fetch("http://localhost:5000/api/chat-messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!ve.ok){const ke=await ve.text();throw console.error("REST API Error Response:",ve.status,ke),new Error(`Failed to save message: ${ve.status} - ${ke}`)}const Te=await ve.json();return console.log(" Message saved to database via REST API:",Te),Te},ze=async(B,le)=>{try{const ce="http://localhost:5000/api",ve=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous",Te=await fetch(`${ce}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:B.content,conversationId:le,userId:ve})});if(Te.ok)return console.log(" User message saved successfully to Kinap AI MongoDB"),!0;{const ke=await Te.text();return console.error("Failed to save user message to Kinap AI:",Te.status,ke),!1}}catch(ce){return console.error("Error saving user message to Kinap AI:",ce),!1}},Wt=async(B,le,ce,ve)=>{try{const Te="http://localhost:5000/api",ke=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous",Ne=await fetch(`${Te}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:ce,conversationId:le,userId:ke,isAIResponse:!0,messageId:B})});if(Ne.ok)return console.log(" AI message saved successfully to Kinap AI MongoDB"),!0;{const _e=await Ne.text();return console.error("Failed to save AI message to Kinap AI MongoDB:",Ne.status,_e),!1}}catch(Te){return console.error("Error saving AI message to Kinap AI MongoDB:",Te),!1}},dt=async(B,le,ce,ve)=>{try{const ke=await fetch("http://localhost:5000/api/chat-messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:B,groupId:le,userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:ce,content:ce,messageType:"text",status:"sent",isAIMessage:!0,userProfile:ve})});if(ke.ok)console.log(" AI message saved successfully to MongoDB");else{const Ne=await ke.text();console.error("Failed to save AI message to MongoDB:",ke.status,Ne),At.error("Failed to save AI message to database")}}catch(Te){console.error("Error saving AI message to MongoDB:",Te),At.error("Failed to save AI message to database")}};P.useEffect(()=>{p&&j({displayName:p.displayName||p.name,email:p.email,photoURL:p.photoURL||p.avatar,bio:p.bio,location:p.location,course:p.course,year:p.year,skills:p.skills||[],preferredPlatforms:p.preferredPlatforms||[],experienceLevel:p.experienceLevel,ajiraGoals:p.ajiraGoals,preferredLearningMode:p.preferredLearningMode,linkedinProfile:p.linkedinProfile,githubProfile:p.githubProfile,portfolioUrl:p.portfolioUrl,phoneNumber:p.phoneNumber,idNumber:p.idNumber,achievements:p.achievements||[],completedProjects:p.completedProjects,mentorshipInterest:p.mentorshipInterest,availableForFreelance:p.availableForFreelance,joinedDate:p.joinedDate,lastActive:p.lastActive})},[p]),P.useEffect(()=>{(async()=>{if(!p||!p.id){j({});return}try{const ce=await fetch(`http://localhost:5000/api/users/profile/${p.id}`);if(ce.ok){const ve=await ce.json();j(ve.profile||{})}else console.log(" Could not load user profile, using empty data"),j({})}catch(le){console.error(" Error loading user profile:",le),j({})}})()},[p]);const Ge=P.useRef(null),_r=P.useRef(null);P.useRef(!1);const[bt,Jt]=P.useState(!1),[Rs,Tn]=P.useState(()=>localStorage.getItem("kinap-media-quality")||"standard"),[No,wi]=P.useState(!1),[Xs,ko]=P.useState(()=>{const B=localStorage.getItem("kinap-media-auto-download");return B?JSON.parse(B):{photos:!0,audio:!0,videos:!1,documents:!1}}),[ee,fe]=P.useState(!1),[et,mr]=P.useState(!1),[Br,gc]=P.useState(new Map),[xs,ys]=P.useState(!1),[as,Ni]=P.useState("default"),[vs,ha]=P.useState("default"),[ki,fr]=P.useState([]);P.useEffect(()=>{const B=()=>{v(window.innerWidth<768),l(window.innerWidth<1024)};return window.addEventListener("resize",B),B(),()=>window.removeEventListener("resize",B)},[]);const xc=async()=>{if(!(!a.trim()&&W.length===0||!r)&&(a.trim()&&W.length>0,a.trim())){const B=`${Date.now()}-${Math.random().toString(36).slice(2)}`,le=a.trim(),ce={id:B,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:le,timestamp:new Date,messageType:"text",status:"sending",isOwn:!0,content:le,replyTo:ye==null?void 0:ye.id};n(ke=>{if(!ke)return null;const Ne={...ke,messages:[...ke.messages,ce]};if(ke.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Ne.messages)),console.log(" Saved user message to Kinap AI localStorage:",ce.content)}catch(_e){console.error("Error saving Kinap AI messages to localStorage:",_e)}return Ne}),e(ke=>ke.map(Ne=>Ne.id===r.id?{...Ne,messages:[...Ne.messages,ce],lastMessage:le,lastMessageTime:new Date}:Ne)),i(""),we(null);const ve=ke=>{n(Ne=>Ne?{...Ne,messages:Ne.messages.map(_e=>_e.id===B?{..._e,status:ke}:_e)}:null),e(Ne=>Ne.map(_e=>_e.id===r.id?{..._e,messages:_e.messages.map(Le=>Le.id===B?{...Le,status:ke}:Le)}:_e))};if(await(async(ke=3)=>{for(let Ne=1;Ne<=ke;Ne++)try{if(r.id==="kinap-ai"){const _e=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";if(await ze(ce,_e))return ve("sent"),!0;throw new Error("Failed to save to Kinap AI")}else return await Ue(ce,B),ve("sent"),!0}catch{if(Ne===ke)return ve("failed"),!1;const Le=Math.min(1e3*Math.pow(2,Ne-1),5e3);await new Promise(Ie=>setTimeout(Ie,Le))}return!1})(),xs)try{await Kr.sendMessage({groupId:r.id,userId:ne.id,userName:ne.name,content:le,messageType:"text",replyTo:ye==null?void 0:ye.id})}catch{}if(k.typingIndicators&&(Pe(ke=>[...ke,"demo-user"]),setTimeout(()=>{Pe(ke=>ke.filter(Ne=>Ne!=="demo-user"))},2e3)),k.outgoingSounds&&So(as||"notification"),k.readReceipts&&setTimeout(()=>{e(ke=>ke.map(Ne=>Ne.id===r.id?{...Ne,messages:Ne.messages.map(_e=>_e.id===ce.id?{..._e,status:"read"}:_e)}:Ne))},1e3),r.name==="Kinap AI"&&!pe){te(!0),se(!0),setTimeout(()=>{se(!0)},0);const ke=setTimeout(()=>{console.log("AI processing timeout - resetting state"),se(!1),te(!1);const _e="I'm having trouble responding right now. Please try again in a moment! ",Le={id:Date.now().toString()+"-ai-timeout",userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:_e,timestamp:new Date,messageType:"text",status:"sent",content:_e};e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:[...Ae.messages,Le]}:Ae)),n(Ie=>Ie?{...Ie,messages:[...Ie.messages,Le]}:null);try{dt(Le.id,r.id,_e,Ne)}catch(Ie){console.error("Failed to save timeout message:",Ie)}},1e4),Ne={name:(p==null?void 0:p.displayName)||"Student",course:(p==null?void 0:p.course)||"Not specified",year:(p==null?void 0:p.year)||"Not specified",skills:(p==null?void 0:p.skills)||[]};try{const _e="http://localhost:5000/api",Le={greeting:[" Hello! How can I help you with Ajira Digital today?"," Hi there! What would you like to know about our platform?"," Hey! Welcome to KiNaP Ajira Club. How can I assist you?"],help:[" I'm here to help with mentorship, marketplace, training, and community topics!"," Let me guide you through our amazing Ajira Digital features!"," I can help with programming, career advice, project ideas, and more!"],thanks:[" You're welcome! Happy to help!"," Anytime! That's what I'm here for!"," My pleasure! Feel free to ask anything else!"]},Ie=le.toLowerCase();let Ae;if(Ie.includes("hello")||Ie.includes("hi")||Ie.includes("hey"))Ae=Le.greeting[Math.floor(Math.random()*Le.greeting.length)];else if(Ie.includes("help")||Ie.includes("what can you do"))Ae=Le.help[Math.floor(Math.random()*Le.help.length)];else if(Ie.includes("thank")||Ie.includes("thanks"))Ae=Le.thanks[Math.floor(Math.random()*Le.thanks.length)];else{const Qe=new AbortController,Xt=setTimeout(()=>Qe.abort(),5e3),gr=await fetch(`${_e}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:le,userId:(p==null?void 0:p.id)||"anonymous",conversationId:r.id}),signal:Qe.signal});if(clearTimeout(Xt),!gr.ok)throw new Error(`HTTP ${gr.status}`);const rn=await gr.json();Ae=rn.response||rn.message||G1.default[Math.floor(Math.random()*G1.default.length)]}const Re=Date.now().toString()+"-ai",pr={id:Re,userId:"kinap-ai",userName:"Kinap AI",userAvatar:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4QjVDRjY7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzYzNjZGMjtzdG9wLW9wYWNpdHk6MSIgLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8dGV4dCB4PSIyMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5LPC90ZXh0Pgo8L3N2Zz4=",message:Ae,timestamp:new Date,messageType:"text",status:"sent",content:Ae};clearTimeout(ke),e(Qe=>Qe.map(Xt=>Xt.id===r.id?{...Xt,messages:[...Xt.messages,pr]}:Xt)),n(Qe=>{if(!Qe)return null;const Xt={...Qe,messages:[...Qe.messages,pr]};if(Qe.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Xt.messages)),console.log(" Saved AI response to Kinap AI localStorage:",pr.content)}catch(gr){console.error("Error saving Kinap AI messages to localStorage:",gr)}return Xt}),se(!1),te(!1),setTimeout(()=>{Xe||Ds(!0)},50);try{if(r.id==="kinap-ai"){const Qe=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";await Wt(Re,Qe,Ae,Ne)?console.log(" AI message saved to Kinap AI MongoDB successfully"):(console.error(" Failed to save AI message to Kinap AI backend"),At.error("Failed to save AI message. Please try again."))}else await dt(Re,r.id,Ae,Ne),console.log(" AI message saved to MongoDB successfully")}catch(Qe){console.error(" Failed to save AI message to backend:",Qe),At.error("Failed to save AI message. Please try again.")}}catch(_e){console.error("Kinap AI error:",_e),clearTimeout(ke),se(!1),te(!1),At.error("AI is having trouble responding. Please try again!");const Le="I'm having trouble connecting right now. Please try again in a moment! ";console.log("Using fallback response:",Le);const Ie={id:Date.now().toString()+"-ai",userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:Le,timestamp:new Date,messageType:"text",status:"sent",content:Le};e(Ae=>Ae.map(Re=>Re.id===r.id?{...Re,messages:[...Re.messages,Ie]}:Re)),n(Ae=>{if(!Ae)return null;const Re={...Ae,messages:[...Ae.messages,Ie]};if(Ae.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Re.messages)),console.log(" Saved fallback AI response to Kinap AI localStorage:",Ie.content)}catch(pr){console.error("Error saving fallback AI message to localStorage:",pr)}return Re}),se(!1),te(!1);try{const Ae=Date.now().toString()+"-ai-fallback";if(r.id==="kinap-ai"){const Re=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";await Wt(Ae,Re,Le,Ne)?console.log(" Fallback AI message saved to Kinap AI MongoDB successfully"):console.error(" Failed to save fallback AI message to Kinap AI backend")}else await dt(Ae,r.id,Le,Ne),console.log(" Fallback AI message saved to MongoDB successfully")}catch(Ae){console.error(" Failed to save fallback AI message to backend:",Ae)}setTimeout(()=>{Xe||Ds(!0)},50),k.incomingSounds&&So(as||"notification")}}}},Cn=async()=>{if(!r||W.length===0)return;const B=Array.isArray(W)?W:[];for(const le of B)try{const ce=`${Date.now()}-${Math.random().toString(36).slice(2)}`,ve=(le==null?void 0:le.originalName)||(le==null?void 0:le.name)||"File",Te=(le==null?void 0:le.fileSize)||(le!=null&&le.size?`${Math.round(le.size/1024)} KB`:""),ke=(le==null?void 0:le.mimeType)||(le==null?void 0:le.type)||"application/octet-stream";let Ne="file";ke.startsWith("image/")?Ne="image":ke.startsWith("video/")?Ne="video":ke.startsWith("audio/")&&(Ne="audio");const _e=(le==null?void 0:le.downloadUrl)||(le==null?void 0:le.previewUrl)||(le==null?void 0:le.url)||(typeof URL<"u"&&le instanceof Blob?URL.createObjectURL(le):void 0),Le={id:ce,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:` ${ve}`,content:` ${ve}`,timestamp:new Date,messageType:Ne,status:"sending",isOwn:!0,mediaUrl:_e,fileName:ve,fileSize:Te};n(Ie=>Ie?{...Ie,messages:[...Ie.messages,Le]}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:[...Ae.messages,Le],lastMessage:Le.content||Le.message,lastMessageTime:new Date}:Ae));try{await Ue(Le,ce),n(Ie=>Ie?{...Ie,messages:Ie.messages.map(Ae=>Ae.id===ce?{...Ae,status:"sent"}:Ae)}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:Ae.messages.map(Re=>Re.id===ce?{...Re,status:"sent"}:Re)}:Ae))}catch{n(Ie=>Ie?{...Ie,messages:Ie.messages.map(Ae=>Ae.id===ce?{...Ae,status:"failed"}:Ae)}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:Ae.messages.map(Re=>Re.id===ce?{...Re,status:"failed"}:Re)}:Ae))}}catch{}H([]),F(!1)},Si=B=>{const le=typeof B=="string"?B:(B==null?void 0:B.native)||(B==null?void 0:B.emoji)||"";le&&(i(ce=>`${ce||""}${le}`),z(!1))},Wp=B=>{!B||B.length===0||H(le=>[...le,...B])},Kp=B=>{H(le=>le.filter(ce=>(ce==null?void 0:ce.id)!==B))},ma=B=>{C(B)},Gp=B=>B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Qp=(B,le)=>le?B.split(new RegExp(`(${Gp(le)})`,"gi")).map((ve,Te)=>ve.toLowerCase()===le.toLowerCase()?s.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-600/60 px-0.5 rounded",children:ve},Te):s.jsx("span",{children:ve},Te)):B;P.useMemo(()=>{try{const B=bl(w,"community"),le=!!(w.displayName&&w.email);return{allowed:!0,completion:(B==null?void 0:B.completion)??100,requiredCompletion:(B==null?void 0:B.requiredCompletion)??70,missingFields:le?[]:(B==null?void 0:B.missingFields)??[]}}catch{return{allowed:!0,completion:100,requiredCompletion:70,missingFields:[]}}},[w]),P.useEffect(()=>{try{const B=localStorage.getItem("kinap-hide-community-banner")==="1",le=bl(w,"community"),ce=!!(w.displayName&&w.email),ve=((le==null?void 0:le.completion)??100)<((le==null?void 0:le.requiredCompletion)??70)&&!ce;R(!B&&ve)}catch{R(!1)}},[w]);const _i=[{id:"over-the-horizon",name:"Over the Horizon",description:"Signature"},{id:"calypso",name:"Calypso",description:"Bright marimba"},{id:"morning-flower",name:"Morning Flower",description:"Light chime"},{id:"skyline",name:"Skyline",description:"Soft synth"},{id:"atomic-bell",name:"Atomic Bell",description:"Classic bell"},{id:"basic-call",name:"Basic Call",description:"Clean tone"},{id:"beep-once",name:"Beep Once",description:"Short alert"},{id:"crystal",name:"Crystal",description:"Glass sparkle"},{id:"crescendo",name:"Crescendo",description:"Rising tone"},{id:"hologram",name:"Hologram",description:"Digital sweep"},{id:"moon",name:"Moon",description:"Ambient pad"},{id:"nostalgia",name:"Nostalgia",description:"Soft melody"},{id:"orchid",name:"Orchid",description:"Gentle pluck"},{id:"plum",name:"Plum",description:"Warm chime"},{id:"sunrise",name:"Sunrise",description:"Uplifting tone"}],So=P.useCallback(B=>{if(typeof window.playRingtone=="function")try{window.playRingtone(B);return}catch{}try{const ce={"over-the-horizon":"/ringtones/samsung/over-the-horizon.mp3",calypso:"/ringtones/samsung/calypso.mp3","morning-flower":"/ringtones/samsung/morning-flower.mp3",skyline:"/ringtones/samsung/skyline.mp3","atomic-bell":"/ringtones/samsung/atomic-bell.mp3","basic-call":"/ringtones/samsung/basic-call.mp3","beep-once":"/ringtones/samsung/beep-once.mp3",crystal:"/ringtones/samsung/crystal.mp3",crescendo:"/ringtones/samsung/crescendo.mp3",hologram:"/ringtones/samsung/hologram.mp3",moon:"/ringtones/samsung/moon.mp3",nostalgia:"/ringtones/samsung/nostalgia.mp3",orchid:"/ringtones/samsung/orchid.mp3",plum:"/ringtones/samsung/plum.mp3",sunrise:"/ringtones/samsung/sunrise.mp3"}[B];if(ce){const _e=new Audio(ce);if(_e.volume=.7,_e.play().catch(()=>{}),navigator.vibrate)try{navigator.vibrate(60)}catch{}return}const ve=window.AudioContext||window.webkitAudioContext,Te=new ve,ke=Te.createOscillator(),Ne=Te.createGain();if(ke.type="sine",ke.frequency.setValueAtTime(900,Te.currentTime),Ne.gain.setValueAtTime(.14,Te.currentTime),ke.connect(Ne),Ne.connect(Te.destination),ke.start(),ke.stop(Te.currentTime+.2),navigator.vibrate)try{navigator.vibrate(40)}catch{}}catch{}},[]);P.useEffect(()=>{const B=localStorage.getItem("kinap-chat-settings");if(B)try{const _e=JSON.parse(B);N(Le=>({...Le,..._e}))}catch(_e){console.error("Error loading settings:",_e)}const le=localStorage.getItem("kinap-selected-ringtone");le&&Ni(le);const ce=localStorage.getItem("kinap-wallpaper");ce&&ha(ce);const ve=localStorage.getItem("kinap-starred-messages");if(ve)try{const _e=JSON.parse(ve);fr(_e)}catch(_e){console.error("Error loading starred messages:",_e)}const Te=localStorage.getItem("kinap-chat-groups");if(Te)try{const _e=JSON.parse(Te);Array.isArray(_e)&&_e.length>0&&(e(_e),r||n(_e[0]))}catch{}(()=>{try{const _e=localStorage.getItem("kinap-ai-conversation");if(_e){const Le=JSON.parse(_e);Array.isArray(Le)&&Le.length>0&&(e(Ie=>Ie.map(Ae=>Ae.id==="kinap-ai"?{...Ae,messages:Le}:Ae)),n(Ie=>Ie&&Ie.id==="kinap-ai"?{...Ie,messages:Le}:Ie))}}catch(_e){console.error("Error loading Kinap AI history from localStorage:",_e)}})(),(()=>{try{const _e=localStorage.getItem("kinap-ai-conversation");console.log(" Current Kinap AI localStorage:",_e?JSON.parse(_e):"empty")}catch(_e){console.error("Error reading localStorage:",_e)}})()},[]);const Zs=P.useMemo(()=>{const B=(A||"").toLowerCase();return t.filter(ce=>ce.name.toLowerCase().includes(B)||ce.description.toLowerCase().includes(B)).sort((ce,ve)=>{if(ce.name==="Kinap AI")return-1;if(ve.name==="Kinap AI")return 1;const Te=ce.messages.length>0?new Date(ce.messages[ce.messages.length-1].timestamp).getTime():0;return(ve.messages.length>0?new Date(ve.messages[ve.messages.length-1].timestamp).getTime():0)-Te})},[t,A]),_o=O8.map(B=>{var le;return B.id==="media_upload_quality"?s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>Jt(!0),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl group-hover:from-blue-500/20 group-hover:to-purple-500/20 transition-all duration-200",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4zM9 6v11h6V6H9z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 font-medium",children:Rs==="hd"?" HD Quality":" Standard Quality"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"px-3 py-1 bg-ajira-primary/10 text-ajira-primary rounded-full text-sm font-medium",children:Rs==="hd"?"HD":"Standard"}),s.jsx(Un,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]})]},B.id):B.id==="media_auto_download"?s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>wi(!0),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl group-hover:from-green-500/20 group-hover:to-emerald-500/20 transition-all duration-200",children:s.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:" Auto-download media files"})]})]}),s.jsx(Un,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]},B.id):s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>{B.id==="theme"?X(!0):B.id==="wallpaper"&&K(!0)},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`p-3 rounded-xl transition-all duration-200 ${B.id==="display"?"bg-gradient-to-br from-purple-500/10 to-pink-500/10 group-hover:from-purple-500/20 group-hover:to-pink-500/20":B.id==="theme"?"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 group-hover:from-indigo-500/20 group-hover:to-blue-500/20":B.id==="wallpaper"?"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 group-hover:from-emerald-500/20 group-hover:to-teal-500/20":B.id==="chat_settings"?"bg-gradient-to-br from-orange-500/10 to-red-500/10 group-hover:from-orange-500/20 group-hover:to-red-500/20":"bg-gradient-to-br from-gray-500/10 to-slate-500/10 group-hover:from-gray-500/20 group-hover:to-slate-500/20"}`,children:[B.id==="display"&&s.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),B.id==="theme"&&s.jsx("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})}),B.id==="wallpaper"&&s.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),B.id==="chat_settings"&&s.jsx("svg",{className:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),B.description&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:B.description}),B.id==="theme"?s.jsx("div",{className:"text-sm text-ajira-primary dark:text-ajira-accent mt-1 font-medium",children:J==="system"?" System default":J==="light"?" Light":" Dark"}):B.id==="wallpaper"?s.jsxs("div",{className:"text-sm text-ajira-primary dark:text-ajira-accent mt-1 font-medium",children:[" ",((le=ba.find(ce=>ce.id===vs))==null?void 0:le.name)||"Default"]}):null]})]}),B.hasArrow&&s.jsx(Un,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]},B.id)}),en=async()=>{try{const B=(p==null?void 0:p.email)||(p==null?void 0:p.googleEmail)||ne.name;console.log(" Loading groups for user:",B),console.log(" User object:",p),console.log(" Active user:",ne);const le="http://localhost:5000/api",ce=(p==null?void 0:p.id)||(p==null?void 0:p._id);let ve;if(B){if(ve=await fetch(`${le}/groups/user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B})}),ve.status===404&&ce)try{ve=await fetch(`${le}/groups/user/${ce}`)}catch{}}else if(ce)ve=await fetch(`${le}/groups/user/${ce}`);else{const Te=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! ",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(Te),r||Os(Te[0]);return}if(console.log(" Groups API response status:",ve.status),ve.ok){const Te=await ve.json();if(console.log(" Groups data received:",Te),Te.groups&&Te.groups.length>0){console.log(" Found",Te.groups.length,"groups");const ke=Te.groups.map(Ne=>{var _e;return{id:Ne._id||Ne.id,name:Ne.name,description:Ne.description||`Community group for ${Ne.name}`,avatar:Ne.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(Ne.name)}&background=1B4F72&color=fff`,members:((_e=Ne.members)==null?void 0:_e.length)||1,messages:[],lastMessage:"No messages yet",lastMessageTime:new Date,unreadCount:0,admins:Ne.admins||[ne.id],type:Ne.type||"group",category:Ne.name}});e(ke),!r&&ke.length>0&&Os(ke[0]),ke.forEach(async Ne=>{try{const _e=await fetch(`${le}/chat-messages/group/${Ne.id}`);if(_e.ok){const Le=await _e.json();if(Le.success&&Le.messages.length>0){const Ie=Le.messages.map(Re=>({id:Re.messageId,userId:Re.userId,userName:Re.userName,userAvatar:Re.userAvatar,message:Re.message,timestamp:new Date(Re.timestamp),messageType:Re.messageType,status:Re.status,content:Re.content,mediaUrl:Re.mediaUrl,fileName:Re.fileName,fileSize:Re.fileSize,fileType:Re.fileType,duration:Re.duration,isEdited:Re.isEdited,reactions:Re.reactions,replyTo:Re.replyTo}));let Ae=Ie;if(Ne.id==="kinap-ai")try{const Re=localStorage.getItem("kinap-ai-conversation");if(Re){const pr=JSON.parse(Re);if(Array.isArray(pr)&&pr.length>0){const Qe=new Set(Ie.map(gr=>gr.id)),Xt=pr.filter(gr=>!Qe.has(gr.id));Ae=[...Ie,...Xt].sort((gr,rn)=>new Date(gr.timestamp).getTime()-new Date(rn.timestamp).getTime()),console.log(" Merged Kinap AI messages from backend and localStorage")}}}catch(Re){console.error("Error merging Kinap AI messages:",Re)}e(Re=>Re.map(pr=>{var Qe,Xt;return pr.id===Ne.id?{...pr,messages:Ae,lastMessage:((Qe=Ae[Ae.length-1])==null?void 0:Qe.content)||"No messages yet",lastMessageTime:((Xt=Ae[Ae.length-1])==null?void 0:Xt.timestamp)||new Date}:pr})),n(Re=>Re&&Re.id===Ne.id?{...Re,messages:Ae}:Re)}}}catch{}})}else{console.log(" No groups found for user; showing Kinap AI");const ke=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! ",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(ke),r||Os(ke[0]),loadKinapAIHistoryFromBackend()}}else{console.error(" Failed to load groups:",ve==null?void 0:ve.status);const Te=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! ",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(Te),r||Os(Te[0]),loadKinapAIHistoryFromBackend()}}catch(B){console.error(" Error loading groups:",B);const le=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! ",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(le),r||Os(le[0])}},Os=P.useCallback(async B=>{if(r&&xs)try{await Kr.leaveGroup(r.id,ne.id)}catch{}if(n(B),xs)try{if(await Kr.joinGroup(B.id,ne.id),B.messages.length===0)try{const le=await Kr.loadGroupMessages(B.id,50,0);if(le.messages&&le.messages.length>0){const ce=le.messages.map(ve=>({id:ve.id,userId:ve.userId,userName:ve.userName,userAvatar:ve.userAvatar,message:ve.content,timestamp:new Date(ve.timestamp),messageType:ve.messageType,status:ve.status,content:ve.content,mediaUrl:ve.mediaUrl,fileSize:ve.fileSize,duration:ve.duration,isEdited:ve.isEdited,reactions:ve.reactions,replyTo:ve.replyTo}));e(ve=>ve.map(Te=>Te.id===B.id?{...Te,messages:ce}:Te)),n(ve=>ve?{...ve,messages:ce}:null)}}catch{}}catch{}window.innerWidth<1024&&l(!0)},[r,xs,ne.id]);P.useEffect(()=>{if(!p||!ne.id)return;const B=Kr.getConnectionStatus();if(console.log(" WebSocket connection status:",B),B.isConnected){console.log(" WebSocket already connected, skipping..."),ys(!0);return}return(async()=>{try{await Kr.connect(ne.id,ne.name),ys(!0),console.log(" WebSocket connected successfully"),Kr.onMessage(ce=>{if(console.log(" Received WebSocket message:",ce),ce.userId===ne.id){console.log(" Skipping own message from WebSocket to avoid duplicate");return}if(r==null?void 0:r.messages.find(ke=>ke.content===ce.content&&ke.userId===ne.id&&Date.now()-new Date(ke.timestamp).getTime()<3e3)){console.log(" Skipping recent own message from WebSocket");return}const Te={id:ce.id,userId:ce.userId,userName:ce.userName,userAvatar:ce.userAvatar,message:ce.content,timestamp:new Date(ce.timestamp),messageType:ce.messageType,status:ce.status,content:ce.content,mediaUrl:ce.mediaUrl,fileSize:ce.fileSize,duration:ce.duration,replyTo:ce.replyTo};e(ke=>ke.map(Ne=>Ne.id===ce.groupId&&!Ne.messages.some(Le=>Le.id===ce.id)?{...Ne,messages:[...Ne.messages,Te],lastMessage:ce.content,lastMessageTime:new Date(ce.timestamp)}:Ne)),n(ke=>ke&&ke.id===ce.groupId&&!ke.messages.some(_e=>_e.id===ce.id)?(Xe||setTimeout(()=>Ds(!0),50),{...ke,messages:[...ke.messages,Te],lastMessage:ce.content,lastMessageTime:new Date(ce.timestamp)}):ke)}),Kr.onUserStatusUpdate(ce=>{gc(ve=>{const Te=new Map(ve);return Te.set(ce.userId,{status:ce.status,lastSeen:new Date(ce.lastSeen),userName:ce.userName||"Unknown"}),Te})})}catch(ce){console.error(" WebSocket connection failed:",ce),ys(!1)}})(),()=>{Kr.disconnect(),ys(!1)}},[p,ne.id]),P.useEffect(()=>{if(!p||!p.id){console.log(" User not authenticated, skipping group loading"),e([]),n(null);return}if(bl(w).completionPercentage<70){console.log(" Profile incomplete, skipping group loading"),e([]),n(null);return}console.log(" User authenticated and profile complete, loading groups"),en()},[p,w]),P.useEffect(()=>{xs&&(Kr.onTyping(B=>{e(le=>le.map(ce=>ce.id===B.groupId?{...ce,isTyping:!0,typingUsers:[...ce.typingUsers||[],B.userName]}:ce))}),Kr.onStopTyping(B=>{e(le=>le.map(ce=>{if(ce.id===B.groupId){const ve=(ce.typingUsers||[]).filter(Te=>Te!==B.userName);return{...ce,isTyping:ve.length>0,typingUsers:ve}}return ce}))}))},[xs]),P.useEffect(()=>{if(!xs||!ne)return;Kr.updateStatus(ne.id,"online");const B=()=>{document.hidden?Kr.updateStatus(ne.id,"away"):Kr.updateStatus(ne.id,"online")};return document.addEventListener("visibilitychange",B),()=>{document.removeEventListener("visibilitychange",B)}},[xs,ne]);const Ds=P.useCallback((B=!1)=>{Ge.current&&Ge.current.scrollIntoView({behavior:B?"smooth":"auto",block:"end"})},[]);P.useEffect(()=>{const B=le=>{le.target.closest(".chat-menu-dropdown")||fe(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),P.useEffect(()=>{const B=()=>{window.innerWidth<1024?(l(!0),v(!0)):(l(!1),v(!1))};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),P.useEffect(()=>{if(r&&r.messages.length>0&&!Xe){const B=window.setTimeout(()=>{Ds(!0)},100);return()=>window.clearTimeout(B)}},[(Po=r==null?void 0:r.messages)==null?void 0:Po.length,r==null?void 0:r.id,Ds,Xe]);const Eo=ba.find(B=>B.id===vs)||ba[0];Eo.text,Eo.text;const To=B=>{Tn(B),Jt(!1),localStorage.setItem("kinap-media-quality",B)},Id=B=>{ko(le=>{const ce={...le,[B]:!le[B]};return localStorage.setItem("kinap-media-auto-download",JSON.stringify(ce)),ce})},Co=B=>{$(B),X(!1)},Rd=B=>{ha(B);try{localStorage.setItem("kinap-wallpaper",B)}catch{}K(!1)},Ao=()=>{r&&mr(!0)},Od=async()=>{if(r)try{(await fetch(`http://localhost:5000/api/chat-messages/group/${r.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ne.id})})).ok?(e(le=>le.map(ce=>ce.id===r.id?{...ce,messages:[]}:ce)),n(le=>le?{...le,messages:[]}:null),console.log("Chat deleted successfully")):console.error("Failed to delete chat")}catch(B){console.error("Error deleting chat:",B)}finally{mr(!1)}};return P.useEffect(()=>{r&&r.messages.length>0&&(Ds(!1),pt(!1))},[r==null?void 0:r.id,Ds]),P.useEffect(()=>{const B=_r.current;if(!B)return;const le=()=>{const{scrollTop:ce,scrollHeight:ve,clientHeight:Te}=B,ke=Math.abs(ve-Te-ce)<50;pt(!ke)};return B.addEventListener("scroll",le),le(),()=>B.removeEventListener("scroll",le)},[r==null?void 0:r.id]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-settings",JSON.stringify(k));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[k]),P.useEffect(()=>{_(!0);try{localStorage.setItem("kinap-selected-ringtone",as)}catch{}const B=window.setTimeout(()=>_(!1),300);return()=>window.clearTimeout(B)},[as]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-starred-messages",JSON.stringify(ki));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[ki]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-groups",JSON.stringify(t));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[t]),P.useEffect(()=>{const B=le=>{E.current&&!E.current.contains(le.target)&&(le.target.closest(".menu-dropdown")||u(!1))};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-settings",JSON.stringify(k));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[k]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-selected-ringtone",as);const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[as]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-starred-messages",JSON.stringify(ki));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[ki]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-groups",JSON.stringify(t));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[t]),P.useEffect(()=>{const B=le=>{E.current&&!E.current.contains(le.target)&&(le.target.closest(".menu-dropdown")||u(!1))};return document.addEventListener("click",B),()=>{document.removeEventListener("click",B)}},[]),s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("div",{className:`hidden lg:flex ${o?"w-16":"w-80"} bg-white border-r border-gray-200 transition-all duration-300 flex-col min-h-0`,children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!o&&s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Community"}),s.jsx("button",{onClick:()=>l(!o),className:"p-2 rounded-lg hover:bg-gray-100",children:s.jsx(Gs,{className:"w-5 h-5 text-gray-600"})})]})}),!o&&s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search groups...",value:A,onChange:B=>ma(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Zs.length>0?Zs.map(B=>{var le;return s.jsx("div",{onClick:()=>Os(B),className:`p-3 sm:p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors touch-manipulation ${B.name==="Kinap AI"?(r==null?void 0:r.id)===B.id?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 dark:from-purple-500/30 dark:to-indigo-500/30 border-l-4 border-purple-500":"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 border-l-4 border-purple-300":(r==null?void 0:r.id)===B.id?"bg-ajira-primary/10 dark:bg-ajira-primary/20":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[B.name==="Kinap AI"?s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full ring-2 ring-purple-300 dark:ring-purple-600 shadow-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:"K"})}):s.jsx("img",{src:B.avatar,alt:B.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover"}),B.name==="Kinap AI"?s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-gradient-to-r from-purple-500 to-indigo-600 border-2 border-white dark:border-gray-800 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] sm:text-[10px] text-white font-bold",children:"AI"})}):B.isOnline?s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 border-2 border-white dark:border-gray-800 rounded-full"}):null]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:`font-semibold text-sm sm:text-base truncate ${B.name==="Kinap AI"?"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-indigo-400":"text-gray-900 dark:text-white"}`,children:B.name==="Kinap AI"?" "+B.name:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:qe(B.lastMessageTime)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[B.name==="Kinap AI"&&s.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-[10px] rounded-full font-semibold flex-shrink-0",children:"PINNED"}),s.jsx("p",{className:`text-sm truncate ${B.name==="Kinap AI"?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300"}`,children:B.lastMessage})]}),B.unreadCount>0&&s.jsx("span",{className:"ml-2 bg-ajira-primary text-white text-xs rounded-full px-2 py-0.5 min-w-[1.25rem] h-5 flex items-center justify-center flex-shrink-0",children:B.unreadCount>99?"99+":B.unreadCount})]}),B.isTyping&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce"}),s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsxs("span",{className:"text-xs text-ajira-primary ml-1",children:[(le=B.typingUsers)==null?void 0:le.join(", ")," typing..."]})]})]})]})},B.id)}):s.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx(Gs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No chats yet"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start a conversation with Kinap AI or join a group to begin chatting."})]})})]}),!r&&s.jsxs("div",{className:"lg:hidden flex-1 flex flex-col min-h-0",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-3 flex items-center justify-between",children:s.jsx("h2",{className:"font-semibold text-gray-900",children:"Chats"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Zs.length>0?Zs.map(B=>s.jsx("div",{onClick:()=>Os(B),className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer transition-colors ${B.name==="Kinap AI"?"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 border-l-4 border-purple-300":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[B.name==="Kinap AI"?s.jsx("div",{className:"w-12 h-12 rounded-full ring-2 ring-purple-300 dark:ring-purple-600 shadow-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"K"})}):s.jsx("img",{src:B.avatar,alt:B.name,className:"w-12 h-12 rounded-full object-cover"}),B.name==="Kinap AI"&&s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-gradient-to-r from-purple-500 to-indigo-600 border-2 border-white dark:border-gray-800 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] text-white font-bold",children:"AI"})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:`font-semibold truncate ${B.name==="Kinap AI"?"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-indigo-400":"text-gray-900 dark:text-white"}`,children:B.name==="Kinap AI"?" "+B.name:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:qe(B.lastMessageTime)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[B.name==="Kinap AI"&&s.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-[10px] rounded-full font-semibold",children:"PINNED"}),s.jsx("p",{className:`text-sm truncate ${B.name==="Kinap AI"?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300"}`,children:B.lastMessage})]})]})]})},B.id)):s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No chats yet"})})]}),s.jsxs("div",{className:`${d?"hidden":""} ${r?"flex":"hidden lg:flex"} flex-1 min-w-0 flex-col relative min-h-0`,style:{backgroundColor:((fa=ba.find(B=>B.id===vs))==null?void 0:fa.color)||"#f0f2f5"},children:[s.jsx("div",{className:"sticky top-0 z-10 bg-[#113A59] text-white",children:s.jsxs("div",{className:"max-w-full px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold text-base sm:text-lg",children:"Community Hub"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("input",{type:"text",placeholder:"Search messages...",value:L,onChange:B=>q(B.target.value),className:"px-3 py-2 rounded-md bg-white/10 text-white placeholder-white/80 text-sm w-56 focus:outline-none focus:ring-2 focus:ring-white/30"})}),s.jsx("button",{onClick:()=>h(!0),className:"p-2 hover:bg-white/10 rounded-md","aria-label":"Options",title:"Options",children:s.jsx(N1,{className:"w-5 h-5"})})]})]})}),((tn=ba.find(B=>B.id===vs))==null?void 0:tn.pattern)==="doodles"&&s.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:s.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center text-gray-600 text-xs p-4",children:[s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""})]})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[s.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Back to chats",onClick:()=>n(null),children:s.jsx(gl,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),s.jsx("img",{src:r.avatar,alt:r.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base truncate",children:r.name}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:[r.members," members"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0 relative",children:[s.jsx("button",{onClick:()=>fe(!ee),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Chat menu",children:s.jsx(N1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"})}),ee&&s.jsxs("div",{className:"chat-menu-dropdown absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-[100]",children:[s.jsx("button",{onClick:()=>{ue(!0),fe(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white font-medium rounded-t-lg text-sm sm:text-base",children:"Starred messages"}),s.jsx("button",{onClick:()=>{h(!0),fe(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white font-medium text-sm sm:text-base",children:"Settings"}),s.jsx("button",{onClick:()=>{fe(!1),Ao()},className:"w-full text-left px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 font-medium rounded-b-lg text-sm sm:text-base",children:"Delete chat"})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0 max-h-full",children:[s.jsxs("div",{ref:_r,className:"flex-1 overflow-y-auto p-2 sm:p-6 space-y-3 sm:space-y-6 scroll-smooth relative bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{scrollBehavior:"smooth",minHeight:"0",maxHeight:"100%"},children:[(r.messages.length>5||Xe)&&s.jsx("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),Ds(!0),pt(!1)},className:`fixed bottom-32 right-8 z-50 p-3 text-white rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 active:scale-95 ${Xe?"bg-gradient-to-r from-red-500 to-orange-500 animate-pulse":"bg-gradient-to-r from-ajira-primary to-ajira-secondary"}`,title:Xe?"New messages available - Click to scroll to bottom":"Scroll to bottom",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.messages.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-ajira-primary/20 to-ajira-secondary/20 rounded-full flex items-center justify-center mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-ajira-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r.name==="Kinap AI"?"Start chatting with Kinap AI!":`Welcome to ${r.name}`}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:r.name==="Kinap AI"?"Ask me anything about programming, studies, or career advice. I'm here to help!":"This is the beginning of your conversation. Share ideas, collaborate, and connect!"})]}),(r.messages||[]).filter(B=>{if(!L)return!0;const le=L.toLowerCase(),ce=(B.content||B.message||"").toLowerCase(),ve=(B.userName||"").toLowerCase();return ce.includes(le)||ve.includes(le)}).map((B,le)=>(console.log(` Message ${le}:`,{messageUserId:B.userId,activeUserId:ne.id,isOwn:B.userId===ne.id,userName:B.userName,content:B.content}),s.jsx("div",{"data-message-id":B.id,className:`flex ${B.userId===ne.id?"justify-end":"justify-start"} mb-2 sm:mb-4 px-2 sm:px-6`,children:s.jsxs("div",{className:`max-w-[90vw] sm:max-w-xs md:max-w-md px-4 py-2 rounded-2xl shadow-sm hover:shadow-md transition-all duration-200 ${B.userId===ne.id?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-br-none":B.userName==="Kinap AI"?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-bl-none shadow-lg":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 rounded-bl-none"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"block text-xs font-semibold mb-1",children:B.userId===ne.id?"You":B.userName}),s.jsx("span",{className:"text-xs opacity-70",children:qe(B.timestamp)})]}),s.jsxs("div",{className:"text-sm sm:text-base",children:[B.messageType==="image"&&(B.mediaUrl||B.previewUrl)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("img",{src:B.previewUrl||B.mediaUrl,alt:"Image",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const ce=document.createElement("div");ce.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999] cursor-pointer",ce.onclick=()=>ce.remove();const ve=document.createElement("img");ve.src=B.previewUrl||B.mediaUrl||"",ve.className="max-w-full max-h-full object-contain",ve.alt="Fullscreen Image",ce.appendChild(ve),document.body.appendChild(ce)}}),B.content&&B.content!=="Image"&&B.content!==` ${B.fileName||""}`&&s.jsx("p",{children:B.content})]}):B.messageType==="video"&&(B.mediaUrl||B.previewUrl)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("video",{controls:!0,className:"max-w-full rounded-lg",preload:"metadata",children:[s.jsx("source",{src:B.previewUrl||B.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("p",{children:B.content||B.message})]}):B.messageType==="audio"&&B.mediaUrl?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:B.mediaUrl,type:"audio/mpeg"}),"Your browser does not support the audio tag."]}),s.jsx("p",{children:B.content||B.message})]}):B.messageType==="file"&&B.mediaUrl?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:B.mediaUrl,download:B.fileName,className:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:B.fileName||"File"}),B.fileSize&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.fileSize})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),s.jsx("p",{children:B.content||B.message})]}):s.jsx("div",{children:L?Qp(B.content||B.message||"",L):B.content||B.message}),B.userId===ne.id&&s.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[B.status==="sending"&&s.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),B.status==="sent"&&s.jsx("span",{className:"text-xs opacity-70",children:""}),B.status==="delivered"&&s.jsx("span",{className:"text-xs opacity-70",children:""}),B.status==="read"&&s.jsx("span",{className:"text-xs opacity-70 text-blue-300",children:""}),B.status==="failed"&&s.jsx("span",{className:"text-xs text-red-300",children:""})]})]})]})},le))),Z&&(r==null?void 0:r.name)==="Kinap AI"&&s.jsx("div",{className:"flex justify-start mb-4 px-2 sm:px-6 animate-pulse",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-2xl rounded-bl-none px-4 py-3 shadow-lg max-w-[90vw] sm:max-w-xs md:max-w-md border-2 border-purple-300",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce"}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsx("div",{className:"text-sm font-semibold",children:" Kinap AI is typing..."})]}),s.jsx("button",{onClick:()=>{se(!1),te(!1),At.error("AI response cancelled. Please try again!")},className:"text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors",children:"Cancel"})]})})}),s.jsx("div",{ref:Ge})]}),s.jsxs("div",{className:"px-2 sm:px-6 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 z-10",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>F(!D),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Attach files",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:a,onChange:B=>i(B.target.value),onKeyPress:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),xc())},placeholder:(r==null?void 0:r.name)==="Kinap AI"?" Ask Kinap AI anything...":" Type a message...",rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent resize-none text-sm leading-relaxed bg-gray-50 placeholder-gray-500 transition-all duration-200",style:{minHeight:"44px",maxHeight:"120px"},disabled:Z}),M&&s.jsx("div",{className:"absolute bottom-full left-0 mb-2",children:s.jsx(g4,{onEmojiSelect:Si,onClose:()=>z(!1)})})]}),s.jsx("button",{onClick:()=>z(!M),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.trim()||W.length>0?s.jsx("button",{onClick:a.trim()?xc:Cn,disabled:Z,className:"p-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-full hover:from-ajira-primary/90 hover:to-ajira-secondary/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed","aria-label":a.trim()?"Send message":"Send files",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}):s.jsx("button",{className:"p-3 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]}),W.length>0&&s.jsxs("div",{className:"mt-3 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-600 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-4",children:W.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden",children:[s.jsx("img",{src:((Io=W.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:Io.downloadUrl)||((Dd=W.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:Dd.url)||((yc=W.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:yc.previewUrl)||"",alt:"Preview",className:"w-full h-64 object-cover"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[W.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length," image",W.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length>1?"s":""]})]})})}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[W.length," file",W.length>1?"s":""," selected"]})]}),s.jsx("button",{onClick:()=>H([]),className:"text-gray-500 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-3 space-y-2",children:W.map(B=>s.jsxs("div",{className:`flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border transition-all duration-200 ${(B==null?void 0:B.status)==="completed"?"border-green-200 dark:border-green-700":(B==null?void 0:B.status)==="uploading"?"border-blue-200 dark:border-blue-700":"border-gray-200 dark:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")?s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center border border-blue-200 dark:border-blue-700",children:s.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}):B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("video/")?s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center border border-red-200 dark:border-red-700",children:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(B==null?void 0:B.status)==="completed"&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]}):B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("audio/")?s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center border border-green-200 dark:border-green-700",children:s.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})})}):s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center border border-gray-200 dark:border-gray-600",children:s.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(B==null?void 0:B.originalName)||(B==null?void 0:B.name)||"File"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(B==null?void 0:B.fileSize)||(B!=null&&B.size?`${Math.round(B.size/1024)} KB`:"")}),(B==null?void 0:B.status)==="uploading"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-xs text-blue-500",children:"Uploading..."})]}),(B==null?void 0:B.status)==="completed"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"text-xs text-green-500",children:"Ready"})]}),(B==null?void 0:B.status)==="failed"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"text-xs text-red-500",children:"Failed"})]})]})]})]}),s.jsx("button",{onClick:()=>Kp((B==null?void 0:B.id)||(B==null?void 0:B.name)),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B.id||B.name))}),s.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"You can review files before sending"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>H([]),className:"px-3 py-2 text-sm rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",children:"Clear"}),s.jsx("button",{onClick:Cn,className:"px-3 py-2 text-sm rounded-lg bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white shadow hover:from-ajira-primary/90 hover:to-ajira-secondary/90",children:"Send Files"})]})]}),s.jsx("div",{className:"p-3",children:s.jsx("div",{className:"flex justify-end mt-1",children:(()=>{const B=W.filter(Te=>(Te==null?void 0:Te.status)==="completed"),le=W.filter(Te=>(Te==null?void 0:Te.status)==="uploading"),ce=B.length>0,ve=le.length>0;return s.jsxs("div",{className:"flex items-center gap-3",children:[ve&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-spin"}),s.jsxs("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:[le.length," uploading..."]})]}),s.jsxs("button",{onClick:Cn,disabled:!ce,className:`px-6 py-3 rounded-xl transition-all duration-200 shadow-lg text-sm font-semibold flex items-center gap-2 ${ce?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white hover:from-ajira-primary/90 hover:to-ajira-secondary/90 hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send ",B.length," File",B.length>1?"s":""]})]})})()})})]}),D&&s.jsxs("div",{className:"absolute bottom-20 left-2 sm:left-6 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 w-80 max-w-[90vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:" Attach Files"}),s.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx(x4,{onFileSelect:Wp,uploadContext:"chat",uploadedBy:ne.id,relatedId:r==null?void 0:r.id,multiple:!0,maxFiles:10,maxSize:100})]})]})]})]})]}),b&&s.jsx("div",{className:"fixed inset-0 z-[70] bg-black/40 lg:hidden",onClick:()=>y(!1),children:s.jsxs("div",{className:"absolute left-0 top-0 h-full w-4/5 max-w-sm bg-white dark:bg-gray-900 shadow-xl",onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chats"}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>y(!1),children:s.jsx(Yr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),s.jsx("div",{className:"overflow-y-auto h-full",children:Zs.length>0?Zs.map(B=>s.jsx("div",{onClick:()=>{Os(B),y(!1)},className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer ${(r==null?void 0:r.id)===B.id?"bg-ajira-primary/10 dark:bg-ajira-primary/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:B.avatar,alt:B.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:qe(B.lastMessageTime)})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:B.lastMessage})]})]})},B.id)):s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No chats yet"})})]})}),d&&s.jsxs("div",{className:`flex-1 ${o?"block":"hidden lg:flex"} flex relative min-h-0 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800`,children:[s.jsxs("div",{className:"w-80 shrink-0 hidden lg:flex flex-col border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 min-h-0",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close settings",children:s.jsx(gl,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search settings...",value:O,onChange:B=>V(B.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-ajira-primary"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:R8.map(B=>s.jsxs("button",{onClick:()=>f(B.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${m===B.id?"bg-ajira-primary/10 text-ajira-primary":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white"}`,children:[s.jsx(B.icon,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:B.name}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.description})]})]},B.id))})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[s.jsxs("div",{className:"lg:hidden p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx(gl,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("div",{className:"w-9"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[m==="chats"&&s.jsx(s.Fragment,{children:_o}),m==="notifications"&&s.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Notifications (Community Hub)"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Incoming sounds"}),s.jsx("button",{onClick:()=>N(B=>({...B,incomingSounds:!B.incomingSounds})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.incomingSounds?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.incomingSounds?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Outgoing sounds"}),s.jsx("button",{onClick:()=>N(B=>({...B,outgoingSounds:!B.outgoingSounds})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.outgoingSounds?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.outgoingSounds?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Selected ringtone"}),s.jsx("select",{value:as,onChange:B=>Ni(B.target.value),className:"text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-1 text-gray-700 dark:text-gray-200",children:_i.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))})]}),s.jsxs("div",{className:"pt-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Current: ",((vc=_i.find(B=>B.id===as))==null?void 0:vc.name)||"None"]}),s.jsx("button",{onClick:()=>{try{localStorage.setItem("kinap-selected-ringtone",as)}catch{}So(as||"over-the-horizon")},className:"px-3 py-2 rounded-lg bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white shadow hover:from-ajira-primary/90 hover:to-ajira-secondary/90",children:"Set as Ringtone"})]})]})]})})]})]}),S&&p&&s.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-6 md:right-auto z-[60] max-w-xl",children:s.jsx(Yv,{profileData:w,feature:"community",onComplete:()=>{R(!1);try{localStorage.setItem("kinap-hide-community-banner","1")}catch{}}})}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000]",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Theme"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>Co("light"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="light"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Light"}),J==="light"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>Co("dark"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="dark"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Dark"}),J==="dark"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>Co("system"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="system"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"System default"}),J==="system"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-4",children:s.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Close"})})]})}),G&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-[600px] max-w-[90vw] max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Set chat wallpaper"}),s.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Yr,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-4 overflow-hidden",children:[s.jsx("div",{className:"w-full sm:w-1/2 pr-0 sm:pr-4 overflow-y-auto max-h-60 sm:max-h-none",children:s.jsx("div",{className:"space-y-3",children:ba.map(B=>s.jsxs("button",{onClick:()=>Rd(B.id),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-colors ${vs===B.id?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("div",{className:"w-8 h-8 rounded-md border border-gray-200 dark:border-gray-600 flex-shrink-0 flex items-center justify-center relative",style:{backgroundColor:B.color},children:B.pattern==="doodles"&&s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-400",children:""})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Background color"})]}),vs===B.id&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},B.id))})}),s.jsxs("div",{className:"w-full sm:w-1/2 bg-gray-100 dark:bg-gray-900 rounded-lg p-4 flex flex-col min-h-40 border border-gray-200 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Wallpaper preview"}),s.jsxs("div",{className:"flex-1 rounded-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden min-h-32 flex items-center justify-center",style:{backgroundColor:((bc=ba.find(B=>B.id===vs))==null?void 0:bc.color)||"#f0f2f5"},children:[((Ro=ba.find(B=>B.id===vs))==null?void 0:Ro.pattern)==="doodles"&&s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:s.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center text-gray-600 text-xs p-4",children:[s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"mx-1",children:""})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-3 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"U"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"User"}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Online"})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[s.jsx("div",{className:"text-sm",children:"Chat preview"}),s.jsx("div",{className:"text-xs mt-1",children:"Messages will appear here"})]})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>Rd(vs),className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Set Wallpaper"})]})]})}),bt&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-80 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Media upload quality"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>To("standard"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary active:scale-95 ${Rs==="standard"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Standard"}),Rs==="standard"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>To("hd"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary active:scale-95 ${Rs==="hd"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"HD"}),Rs==="hd"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-4",children:s.jsx("button",{onClick:()=>Jt(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})})]})}),No&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Media auto-download"}),s.jsx("div",{className:"space-y-4",children:["photos","audio","videos","documents"].map(B=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:B}),s.jsx("button",{onClick:()=>Id(B),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary ${Xs[B]?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Xs[B]?"translate-x-6":"translate-x-1"}`})})]},B))}),s.jsx("div",{className:"my-6 text-xs text-gray-600 dark:text-gray-400",children:"Voice messages are always automatically downloaded for the best communication experience."}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed mb-4",disabled:!0,children:[s.jsx("span",{className:"text-base",children:""})," Reset auto-download settings"]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx("button",{onClick:()=>wi(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Close"})})]})}),et&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Chat"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete all messages in this chat? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>mr(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Od,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Chat"})]})]})}),Rs==="hd"&&s.jsx("div",{className:"absolute top-2 right-2 z-20",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-ajira-primary text-white shadow",children:"HD Mode Active"})}),s.jsx("style",{children:`
        .scroll-smooth {
          scroll-behavior: smooth;
        }
        
        /* Custom scrollbar for webkit browsers */
        .overflow-y-auto::-webkit-scrollbar {
          width: 6px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-track {
          background: transparent;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(156, 163, 175, 0.3);
          border-radius: 3px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(156, 163, 175, 0.5);
        }
        
        /* Dark mode scrollbar */
        .dark .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(75, 85, 99, 0.3);
        }
        
        .dark .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(75, 85, 99, 0.5);
        }
      `})]})};function M8(){this.__data__=[],this.size=0}var L8=M8;function F8(t,e){return t===e||t!==t&&e!==e}var Y4=F8,V8=Y4;function U8(t,e){for(var r=t.length;r--;)if(V8(t[r][0],e))return r;return-1}var mp=U8,B8=mp,$8=Array.prototype,q8=$8.splice;function z8(t){var e=this.__data__,r=B8(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():q8.call(e,r,1),--this.size,!0}var H8=z8,W8=mp;function K8(t){var e=this.__data__,r=W8(e,t);return r<0?void 0:e[r][1]}var G8=K8,Q8=mp;function Y8(t){return Q8(this.__data__,t)>-1}var J8=Y8,X8=mp;function Z8(t,e){var r=this.__data__,n=X8(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var eF=Z8,tF=L8,rF=H8,sF=G8,nF=J8,aF=eF;function rc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rc.prototype.clear=tF;rc.prototype.delete=rF;rc.prototype.get=sF;rc.prototype.has=nF;rc.prototype.set=aF;var fp=rc,iF=fp;function oF(){this.__data__=new iF,this.size=0}var lF=oF;function cF(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var uF=cF;function dF(t){return this.__data__.get(t)}var hF=dF;function mF(t){return this.__data__.has(t)}var fF=mF,pF=typeof ls=="object"&&ls&&ls.Object===Object&&ls,J4=pF,gF=J4,xF=typeof self=="object"&&self&&self.Object===Object&&self,yF=gF||xF||Function("return this")(),ua=yF,vF=ua,bF=vF.Symbol,Zv=bF,Q1=Zv,X4=Object.prototype,jF=X4.hasOwnProperty,wF=X4.toString,Uc=Q1?Q1.toStringTag:void 0;function NF(t){var e=jF.call(t,Uc),r=t[Uc];try{t[Uc]=void 0;var n=!0}catch{}var a=wF.call(t);return n&&(e?t[Uc]=r:delete t[Uc]),a}var kF=NF,SF=Object.prototype,_F=SF.toString;function EF(t){return _F.call(t)}var TF=EF,Y1=Zv,CF=kF,AF=TF,PF="[object Null]",IF="[object Undefined]",J1=Y1?Y1.toStringTag:void 0;function RF(t){return t==null?t===void 0?IF:PF:J1&&J1 in Object(t)?CF(t):AF(t)}var pp=RF;function OF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Z4=OF,DF=pp,MF=Z4,LF="[object AsyncFunction]",FF="[object Function]",VF="[object GeneratorFunction]",UF="[object Proxy]";function BF(t){if(!MF(t))return!1;var e=DF(t);return e==FF||e==VF||e==LF||e==UF}var eT=BF,$F=ua,qF=$F["__core-js_shared__"],zF=qF,$g=zF,X1=function(){var t=/[^.]+$/.exec($g&&$g.keys&&$g.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function HF(t){return!!X1&&X1 in t}var WF=HF,KF=Function.prototype,GF=KF.toString;function QF(t){if(t!=null){try{return GF.call(t)}catch{}try{return t+""}catch{}}return""}var tT=QF,YF=eT,JF=WF,XF=Z4,ZF=tT,e9=/[\\^$.*+?()[\]{}|]/g,t9=/^\[object .+?Constructor\]$/,r9=Function.prototype,s9=Object.prototype,n9=r9.toString,a9=s9.hasOwnProperty,i9=RegExp("^"+n9.call(a9).replace(e9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o9(t){if(!XF(t)||JF(t))return!1;var e=YF(t)?i9:t9;return e.test(ZF(t))}var l9=o9;function c9(t,e){return t==null?void 0:t[e]}var u9=c9,d9=l9,h9=u9;function m9(t,e){var r=h9(t,e);return d9(r)?r:void 0}var sc=m9,f9=sc,p9=ua,g9=f9(p9,"Map"),eb=g9,x9=sc,y9=x9(Object,"create"),gp=y9,Z1=gp;function v9(){this.__data__=Z1?Z1(null):{},this.size=0}var b9=v9;function j9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var w9=j9,N9=gp,k9="__lodash_hash_undefined__",S9=Object.prototype,_9=S9.hasOwnProperty;function E9(t){var e=this.__data__;if(N9){var r=e[t];return r===k9?void 0:r}return _9.call(e,t)?e[t]:void 0}var T9=E9,C9=gp,A9=Object.prototype,P9=A9.hasOwnProperty;function I9(t){var e=this.__data__;return C9?e[t]!==void 0:P9.call(e,t)}var R9=I9,O9=gp,D9="__lodash_hash_undefined__";function M9(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=O9&&e===void 0?D9:e,this}var L9=M9,F9=b9,V9=w9,U9=T9,B9=R9,$9=L9;function nc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nc.prototype.clear=F9;nc.prototype.delete=V9;nc.prototype.get=U9;nc.prototype.has=B9;nc.prototype.set=$9;var q9=nc,eN=q9,z9=fp,H9=eb;function W9(){this.size=0,this.__data__={hash:new eN,map:new(H9||z9),string:new eN}}var K9=W9;function G9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Q9=G9,Y9=Q9;function J9(t,e){var r=t.__data__;return Y9(e)?r[typeof e=="string"?"string":"hash"]:r.map}var xp=J9,X9=xp;function Z9(t){var e=X9(this,t).delete(t);return this.size-=e?1:0,e}var eV=Z9,tV=xp;function rV(t){return tV(this,t).get(t)}var sV=rV,nV=xp;function aV(t){return nV(this,t).has(t)}var iV=aV,oV=xp;function lV(t,e){var r=oV(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var cV=lV,uV=K9,dV=eV,hV=sV,mV=iV,fV=cV;function ac(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ac.prototype.clear=uV;ac.prototype.delete=dV;ac.prototype.get=hV;ac.prototype.has=mV;ac.prototype.set=fV;var rT=ac,pV=fp,gV=eb,xV=rT,yV=200;function vV(t,e){var r=this.__data__;if(r instanceof pV){var n=r.__data__;if(!gV||n.length<yV-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new xV(n)}return r.set(t,e),this.size=r.size,this}var bV=vV,jV=fp,wV=lF,NV=uF,kV=hF,SV=fF,_V=bV;function ic(t){var e=this.__data__=new jV(t);this.size=e.size}ic.prototype.clear=wV;ic.prototype.delete=NV;ic.prototype.get=kV;ic.prototype.has=SV;ic.prototype.set=_V;var EV=ic,TV="__lodash_hash_undefined__";function CV(t){return this.__data__.set(t,TV),this}var AV=CV;function PV(t){return this.__data__.has(t)}var IV=PV,RV=rT,OV=AV,DV=IV;function nf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new RV;++e<r;)this.add(t[e])}nf.prototype.add=nf.prototype.push=OV;nf.prototype.has=DV;var MV=nf;function LV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var FV=LV;function VV(t,e){return t.has(e)}var UV=VV,BV=MV,$V=FV,qV=UV,zV=1,HV=2;function WV(t,e,r,n,a,i){var o=r&zV,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var h=-1,m=!0,f=r&HV?new BV:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var g=t[h],v=e[h];if(n)var b=o?n(v,g,h,e,t,i):n(g,v,h,t,e,i);if(b!==void 0){if(b)continue;m=!1;break}if(f){if(!$V(e,function(y,p){if(!qV(f,p)&&(g===y||a(g,y,r,n,i)))return f.push(p)})){m=!1;break}}else if(!(g===v||a(g,v,r,n,i))){m=!1;break}}return i.delete(t),i.delete(e),m}var sT=WV,KV=ua,GV=KV.Uint8Array,QV=GV;function YV(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var JV=YV;function XV(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ZV=XV,tN=Zv,rN=QV,e7=Y4,t7=sT,r7=JV,s7=ZV,n7=1,a7=2,i7="[object Boolean]",o7="[object Date]",l7="[object Error]",c7="[object Map]",u7="[object Number]",d7="[object RegExp]",h7="[object Set]",m7="[object String]",f7="[object Symbol]",p7="[object ArrayBuffer]",g7="[object DataView]",sN=tN?tN.prototype:void 0,qg=sN?sN.valueOf:void 0;function x7(t,e,r,n,a,i,o){switch(r){case g7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case p7:return!(t.byteLength!=e.byteLength||!i(new rN(t),new rN(e)));case i7:case o7:case u7:return e7(+t,+e);case l7:return t.name==e.name&&t.message==e.message;case d7:case m7:return t==e+"";case c7:var l=r7;case h7:var c=n&n7;if(l||(l=s7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=a7,o.set(t,e);var d=t7(l(t),l(e),n,a,i,o);return o.delete(t),d;case f7:if(qg)return qg.call(t)==qg.call(e)}return!1}var y7=x7;function v7(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var b7=v7,j7=Array.isArray,tb=j7,w7=b7,N7=tb;function k7(t,e,r){var n=e(t);return N7(t)?n:w7(n,r(t))}var S7=k7;function _7(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var E7=_7;function T7(){return[]}var C7=T7,A7=E7,P7=C7,I7=Object.prototype,R7=I7.propertyIsEnumerable,nN=Object.getOwnPropertySymbols,O7=nN?function(t){return t==null?[]:(t=Object(t),A7(nN(t),function(e){return R7.call(t,e)}))}:P7,D7=O7;function M7(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var L7=M7;function F7(t){return t!=null&&typeof t=="object"}var yp=F7,V7=pp,U7=yp,B7="[object Arguments]";function $7(t){return U7(t)&&V7(t)==B7}var q7=$7,aN=q7,z7=yp,nT=Object.prototype,H7=nT.hasOwnProperty,W7=nT.propertyIsEnumerable,K7=aN(function(){return arguments}())?aN:function(t){return z7(t)&&H7.call(t,"callee")&&!W7.call(t,"callee")},G7=K7,af={exports:{}};function Q7(){return!1}var Y7=Q7;af.exports;(function(t,e){var r=ua,n=Y7,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(af,af.exports);var aT=af.exports,J7=9007199254740991,X7=/^(?:0|[1-9]\d*)$/;function Z7(t,e){var r=typeof t;return e=e??J7,!!e&&(r=="number"||r!="symbol"&&X7.test(t))&&t>-1&&t%1==0&&t<e}var eU=Z7,tU=9007199254740991;function rU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tU}var iT=rU,sU=pp,nU=iT,aU=yp,iU="[object Arguments]",oU="[object Array]",lU="[object Boolean]",cU="[object Date]",uU="[object Error]",dU="[object Function]",hU="[object Map]",mU="[object Number]",fU="[object Object]",pU="[object RegExp]",gU="[object Set]",xU="[object String]",yU="[object WeakMap]",vU="[object ArrayBuffer]",bU="[object DataView]",jU="[object Float32Array]",wU="[object Float64Array]",NU="[object Int8Array]",kU="[object Int16Array]",SU="[object Int32Array]",_U="[object Uint8Array]",EU="[object Uint8ClampedArray]",TU="[object Uint16Array]",CU="[object Uint32Array]",St={};St[jU]=St[wU]=St[NU]=St[kU]=St[SU]=St[_U]=St[EU]=St[TU]=St[CU]=!0;St[iU]=St[oU]=St[vU]=St[lU]=St[bU]=St[cU]=St[uU]=St[dU]=St[hU]=St[mU]=St[fU]=St[pU]=St[gU]=St[xU]=St[yU]=!1;function AU(t){return aU(t)&&nU(t.length)&&!!St[sU(t)]}var PU=AU;function IU(t){return function(e){return t(e)}}var RU=IU,of={exports:{}};of.exports;(function(t,e){var r=J4,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(of,of.exports);var OU=of.exports,DU=PU,MU=RU,iN=OU,oN=iN&&iN.isTypedArray,LU=oN?MU(oN):DU,oT=LU,FU=L7,VU=G7,UU=tb,BU=aT,$U=eU,qU=oT,zU=Object.prototype,HU=zU.hasOwnProperty;function WU(t,e){var r=UU(t),n=!r&&VU(t),a=!r&&!n&&BU(t),i=!r&&!n&&!a&&qU(t),o=r||n||a||i,l=o?FU(t.length,String):[],c=l.length;for(var u in t)(e||HU.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$U(u,c)))&&l.push(u);return l}var KU=WU,GU=Object.prototype;function QU(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||GU;return t===r}var YU=QU;function JU(t,e){return function(r){return t(e(r))}}var XU=JU,ZU=XU,eB=ZU(Object.keys,Object),tB=eB,rB=YU,sB=tB,nB=Object.prototype,aB=nB.hasOwnProperty;function iB(t){if(!rB(t))return sB(t);var e=[];for(var r in Object(t))aB.call(t,r)&&r!="constructor"&&e.push(r);return e}var oB=iB,lB=eT,cB=iT;function uB(t){return t!=null&&cB(t.length)&&!lB(t)}var dB=uB,hB=KU,mB=oB,fB=dB;function pB(t){return fB(t)?hB(t):mB(t)}var gB=pB,xB=S7,yB=D7,vB=gB;function bB(t){return xB(t,vB,yB)}var jB=bB,lN=jB,wB=1,NB=Object.prototype,kB=NB.hasOwnProperty;function SB(t,e,r,n,a,i){var o=r&wB,l=lN(t),c=l.length,u=lN(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in e:kB.call(e,m)))return!1}var f=i.get(t),g=i.get(e);if(f&&g)return f==e&&g==t;var v=!0;i.set(t,e),i.set(e,t);for(var b=o;++h<c;){m=l[h];var y=t[m],p=e[m];if(n)var w=o?n(p,y,m,e,t,i):n(y,p,m,t,e,i);if(!(w===void 0?y===p||a(y,p,r,n,i):w)){v=!1;break}b||(b=m=="constructor")}if(v&&!b){var j=t.constructor,S=e.constructor;j!=S&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(v=!1)}return i.delete(t),i.delete(e),v}var _B=SB,EB=sc,TB=ua,CB=EB(TB,"DataView"),AB=CB,PB=sc,IB=ua,RB=PB(IB,"Promise"),OB=RB,DB=sc,MB=ua,LB=DB(MB,"Set"),FB=LB,VB=sc,UB=ua,BB=VB(UB,"WeakMap"),$B=BB,My=AB,Ly=eb,Fy=OB,Vy=FB,Uy=$B,lT=pp,oc=tT,cN="[object Map]",qB="[object Object]",uN="[object Promise]",dN="[object Set]",hN="[object WeakMap]",mN="[object DataView]",zB=oc(My),HB=oc(Ly),WB=oc(Fy),KB=oc(Vy),GB=oc(Uy),Ri=lT;(My&&Ri(new My(new ArrayBuffer(1)))!=mN||Ly&&Ri(new Ly)!=cN||Fy&&Ri(Fy.resolve())!=uN||Vy&&Ri(new Vy)!=dN||Uy&&Ri(new Uy)!=hN)&&(Ri=function(t){var e=lT(t),r=e==qB?t.constructor:void 0,n=r?oc(r):"";if(n)switch(n){case zB:return mN;case HB:return cN;case WB:return uN;case KB:return dN;case GB:return hN}return e});var QB=Ri,zg=EV,YB=sT,JB=y7,XB=_B,fN=QB,pN=tb,gN=aT,ZB=oT,e$=1,xN="[object Arguments]",yN="[object Array]",ph="[object Object]",t$=Object.prototype,vN=t$.hasOwnProperty;function r$(t,e,r,n,a,i){var o=pN(t),l=pN(e),c=o?yN:fN(t),u=l?yN:fN(e);c=c==xN?ph:c,u=u==xN?ph:u;var d=c==ph,h=u==ph,m=c==u;if(m&&gN(t)){if(!gN(e))return!1;o=!0,d=!1}if(m&&!d)return i||(i=new zg),o||ZB(t)?YB(t,e,r,n,a,i):JB(t,e,c,r,n,a,i);if(!(r&e$)){var f=d&&vN.call(t,"__wrapped__"),g=h&&vN.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,b=g?e.value():e;return i||(i=new zg),a(v,b,r,n,i)}}return m?(i||(i=new zg),XB(t,e,r,n,a,i)):!1}var s$=r$,n$=s$,bN=yp;function cT(t,e,r,n,a){return t===e?!0:t==null||e==null||!bN(t)&&!bN(e)?t!==t&&e!==e:n$(t,e,r,n,cT,a)}var a$=cT,i$=a$;function o$(t,e){return i$(t,e)}var l$=o$,uT={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,a){t.exports=a()})(typeof self<"u"?self:ls,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(17),o=a(18),l=a(19),c=a(45),u=a(46),d=a(47),h=a(48),m=a(49),f=a(12),g=a(32),v=a(33),b=a(31),y=a(1),p={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:m.default,Attributor:{Attribute:f.default,Class:g.default,Style:v.default,Store:b.default}};n.default=p},function(r,n,a){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var w in p)p.hasOwnProperty(w)&&(y[w]=p[w])};return function(y,p){b(y,p);function w(){this.constructor=y}y.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(b){i(y,b);function y(p){var w=this;return p="[Parchment] "+p,w=b.call(this,p)||this,w.message=p,w.name=w.constructor.name,w}return y}(Error);n.ParchmentError=o;var l={},c={},u={},d={};n.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=n.Scope||(n.Scope={}));function m(b,y){var p=g(b);if(p==null)throw new o("Unable to create "+b+" blot");var w=p,j=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(y);return new w(j,y)}n.create=m;function f(b,y){return y===void 0&&(y=!1),b==null?null:b[n.DATA_KEY]!=null?b[n.DATA_KEY].blot:y?f(b.parentNode,y):null}n.find=f;function g(b,y){y===void 0&&(y=h.ANY);var p;if(typeof b=="string")p=d[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)p=d.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?p=d.block:b&h.LEVEL&h.INLINE&&(p=d.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var j in w)if(p=c[w[j]],p)break;p=p||u[b.tagName]}return p==null?null:y&h.LEVEL&p.scope&&y&h.TYPE&p.scope?p:null}n.query=g;function v(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];if(b.length>1)return b.map(function(j){return v(j)});var p=b[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new o("Invalid definition");if(p.blotName==="abstract")throw new o("Cannot register abstract class");if(d[p.blotName||p.attrName]=p,typeof p.keyName=="string")l[p.keyName]=p;else if(p.className!=null&&(c[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(j){return j.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var w=Array.isArray(p.tagName)?p.tagName:[p.tagName];w.forEach(function(j){(u[j]==null||p.className==null)&&(u[j]=p)})}return p}n.register=v},function(r,n,a){var i=a(51),o=a(11),l=a(3),c=a(20),u=String.fromCharCode(0),d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,m){var f={};return h.length===0?this:(f.insert=h,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(f.attributes=m),this.push(f))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,m){if(h<=0)return this;var f={retain:h};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(f.attributes=m),this.push(f)},d.prototype.push=function(h){var m=this.ops.length,f=this.ops[m-1];if(h=l(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[m-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(m-=1,f=this.ops[m-1],typeof f!="object"))return this.ops.unshift(h),this;if(o(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[m-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[m-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this}}return m===this.ops.length?this.ops.push(h):this.ops.splice(m,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var m=[],f=[];return this.forEach(function(g){var v=h(g)?m:f;v.push(g)}),[m,f]},d.prototype.reduce=function(h,m){return this.ops.reduce(h,m)},d.prototype.changeLength=function(){return this.reduce(function(h,m){return m.insert?h+c.length(m):m.delete?h-m.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,m){return h+c.length(m)},0)},d.prototype.slice=function(h,m){h=h||0,typeof m!="number"&&(m=1/0);for(var f=[],g=c.iterator(this.ops),v=0;v<m&&g.hasNext();){var b;v<h?b=g.next(h-v):(b=g.next(m-v),f.push(b)),v+=c.length(b)}return new d(f)},d.prototype.compose=function(h){var m=c.iterator(this.ops),f=c.iterator(h.ops),g=[],v=f.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;m.peekType()==="insert"&&m.peekLength()<=b;)b-=m.peekLength(),g.push(m.next());v.retain-b>0&&f.next(v.retain-b)}for(var y=new d(g);m.hasNext()||f.hasNext();)if(f.peekType()==="insert")y.push(f.next());else if(m.peekType()==="delete")y.push(m.next());else{var p=Math.min(m.peekLength(),f.peekLength()),w=m.next(p),j=f.next(p);if(typeof j.retain=="number"){var S={};typeof w.retain=="number"?S.retain=p:S.insert=w.insert;var R=c.attributes.compose(w.attributes,j.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),y.push(S),!f.hasNext()&&o(y.ops[y.ops.length-1],S)){var k=new d(m.rest());return y.concat(k).chop()}}else typeof j.delete=="number"&&typeof w.retain=="number"&&y.push(j)}return y.chop()},d.prototype.concat=function(h){var m=new d(this.ops.slice());return h.ops.length>0&&(m.push(h.ops[0]),m.ops=m.ops.concat(h.ops.slice(1))),m},d.prototype.diff=function(h,m){if(this.ops===h.ops)return new d;var f=[this,h].map(function(p){return p.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var j=p===h?"on":"with";throw new Error("diff() called "+j+" non-document")}).join("")}),g=new d,v=i(f[0],f[1],m),b=c.iterator(this.ops),y=c.iterator(h.ops);return v.forEach(function(p){for(var w=p[1].length;w>0;){var j=0;switch(p[0]){case i.INSERT:j=Math.min(y.peekLength(),w),g.push(y.next(j));break;case i.DELETE:j=Math.min(w,b.peekLength()),b.next(j),g.delete(j);break;case i.EQUAL:j=Math.min(b.peekLength(),y.peekLength(),w);var S=b.next(j),R=y.next(j);o(S.insert,R.insert)?g.retain(j,c.attributes.diff(S.attributes,R.attributes)):g.push(R).delete(j);break}w-=j}}),g.chop()},d.prototype.eachLine=function(h,m){m=m||`
`;for(var f=c.iterator(this.ops),g=new d,v=0;f.hasNext();){if(f.peekType()!=="insert")return;var b=f.peek(),y=c.length(b)-f.peekLength(),p=typeof b.insert=="string"?b.insert.indexOf(m,y)-y:-1;if(p<0)g.push(f.next());else if(p>0)g.push(f.next(p));else{if(h(g,f.next(1).attributes||{},v)===!1)return;v+=1,g=new d}}g.length()>0&&h(g,{},v)},d.prototype.transform=function(h,m){if(m=!!m,typeof h=="number")return this.transformPosition(h,m);for(var f=c.iterator(this.ops),g=c.iterator(h.ops),v=new d;f.hasNext()||g.hasNext();)if(f.peekType()==="insert"&&(m||g.peekType()!=="insert"))v.retain(c.length(f.next()));else if(g.peekType()==="insert")v.push(g.next());else{var b=Math.min(f.peekLength(),g.peekLength()),y=f.next(b),p=g.next(b);if(y.delete)continue;p.delete?v.push(p):v.retain(b,c.attributes.transform(y.attributes,p.attributes,m))}return v.chop()},d.prototype.transformPosition=function(h,m){m=!!m;for(var f=c.iterator(this.ops),g=0;f.hasNext()&&g<=h;){var v=f.peekLength(),b=f.peekType();if(f.next(),b==="delete"){h-=Math.min(v,h-g);continue}else b==="insert"&&(g<h||!m)&&(h+=v);g+=v}return h},r.exports=d},function(r,n){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(f){return typeof Array.isArray=="function"?Array.isArray(f):i.call(f)==="[object Array]"},u=function(f){if(!f||i.call(f)!=="[object Object]")return!1;var g=a.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&a.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!v)return!1;var b;for(b in f);return typeof b>"u"||a.call(f,b)},d=function(f,g){o&&g.name==="__proto__"?o(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},h=function(f,g){if(g==="__proto__")if(a.call(f,g)){if(l)return l(f,g).value}else return;return f[g]};r.exports=function m(){var f,g,v,b,y,p,w=arguments[0],j=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<S;++j)if(f=arguments[j],f!=null)for(g in f)v=h(w,g),b=h(f,g),w!==b&&(R&&b&&(u(b)||(y=c(b)))?(y?(y=!1,p=v&&c(v)?v:[]):p=v&&u(v)?v:{},d(w,{name:g,newValue:m(R,p,b)})):typeof b<"u"&&d(w,{name:g,newValue:b}));return w}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function _(A,C){for(var O=0;O<C.length;O++){var V=C[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,V.key,V)}}return function(A,C,O){return C&&_(A.prototype,C),O&&_(A,O),A}}(),o=function _(A,C,O){A===null&&(A=Function.prototype);var V=Object.getOwnPropertyDescriptor(A,C);if(V===void 0){var L=Object.getPrototypeOf(A);return L===null?void 0:_(L,C,O)}else{if("value"in V)return V.value;var q=V.get;return q===void 0?void 0:q.call(O)}},l=a(3),c=w(l),u=a(2),d=w(u),h=a(0),m=w(h),f=a(16),g=w(f),v=a(6),b=w(v),y=a(7),p=w(y);function w(_){return _&&_.__esModule?_:{default:_}}function j(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function S(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function R(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var k=1,N=function(_){R(A,_);function A(){return j(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,V){var L=m.default.query(O,m.default.Scope.BLOCK_ATTRIBUTE);L!=null&&this.attributes.attribute(L,V)}},{key:"formatAt",value:function(O,V,L,q){this.format(L,q)}},{key:"insertAt",value:function(O,V,L){if(typeof V=="string"&&V.endsWith(`
`)){var q=m.default.create(E.blotName);this.parent.insertBefore(q,O===0?this:this.next),q.insertAt(0,V.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,V,L)}}]),A}(m.default.Embed);N.scope=m.default.Scope.BLOCK_BLOT;var E=function(_){R(A,_);function A(C){j(this,A);var O=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C));return O.cache={},O}return i(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(O,V){return V.length()===0?O:O.insert(V.value(),T(V))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(O,V){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,O,V),this.cache={}}},{key:"formatAt",value:function(O,V,L,q){V<=0||(m.default.query(L,m.default.Scope.BLOCK)?O+V===this.length()&&this.format(L,q):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,O,Math.min(V,this.length()-O-1),L,q),this.cache={})}},{key:"insertAt",value:function(O,V,L){if(L!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,V,L);if(V.length!==0){var q=V.split(`
`),M=q.shift();M.length>0&&(O<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),M):this.children.tail.insertAt(this.children.tail.length(),M),this.cache={});var z=this;q.reduce(function(D,F){return z=z.split(D,!0),z.insertAt(0,F),F.length},O+M.length)}}},{key:"insertBefore",value:function(O,V){var L=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,O,V),L instanceof g.default&&L.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(O,V){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,O,V),this.cache={}}},{key:"optimize",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&(O===0||O>=this.length()-k)){var L=this.clone();return O===0?(this.parent.insertBefore(L,this),this):(this.parent.insertBefore(L,this.next),L)}else{var q=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,O,V);return this.cache={},q}}}]),A}(m.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[b.default,m.default.Embed,p.default];function T(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(A=(0,c.default)(A,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?A:T(_.parent,A)}n.bubbleFormats=T,n.BlockEmbed=N,n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(D,F){var W=[],H=!0,Q=!1,X=void 0;try{for(var G=D[Symbol.iterator](),K;!(H=(K=G.next()).done)&&(W.push(K.value),!(F&&W.length===F));H=!0);}catch(J){Q=!0,X=J}finally{try{!H&&G.return&&G.return()}finally{if(Q)throw X}}return W}return function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return z(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(D,F){for(var W=0;W<F.length;W++){var H=F[W];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,H.key,H)}}return function(D,F,W){return F&&z(D.prototype,F),W&&z(D,W),D}}();a(50);var c=a(2),u=T(c),d=a(14),h=T(d),m=a(8),f=T(m),g=a(9),v=T(g),b=a(0),y=T(b),p=a(15),w=T(p),j=a(3),S=T(j),R=a(10),k=T(R),N=a(34),E=T(N);function T(z){return z&&z.__esModule?z:{default:z}}function _(z,D,F){return D in z?Object.defineProperty(z,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[D]=F,z}function A(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var C=(0,k.default)("quill"),O=function(){l(z,null,[{key:"debug",value:function(F){F===!0&&(F="log"),k.default.level(F)}},{key:"find",value:function(F){return F.__quill||y.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&C.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,W){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var X=F.attrName||F.blotName;typeof X=="string"?this.register("formats/"+X,F,W):Object.keys(F).forEach(function(G){H.register(G,F[G],W)})}else this.imports[F]!=null&&!Q&&C.warn("Overwriting "+F+" with",W),this.imports[F]=W,(F.startsWith("blots/")||F.startsWith("formats/"))&&W.blotName!=="abstract"?y.default.register(W):F.startsWith("modules")&&typeof W.register=="function"&&W.register()}}]);function z(D){var F=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,z),this.options=V(D,W),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",D);this.options.debug&&z.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(X){X===f.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(X,G){var K=F.selection.lastRange,J=K&&K.length===0?K.index:void 0;L.call(F,function(){return F.editor.update(null,G,J)},X)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(z,[{key:"addContainer",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var H=F;F=document.createElement("div"),F.classList.add(H)}return this.container.insertBefore(F,W),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,W,H){var Q=this,X=q(F,W,H),G=o(X,4);return F=G[0],W=G[1],H=G[3],L.call(this,function(){return Q.editor.deleteText(F,W)},H,F,-1*W)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,W){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return L.call(this,function(){var X=H.getSelection(!0),G=new u.default;if(X==null)return G;if(y.default.query(F,y.default.Scope.BLOCK))G=H.editor.formatLine(X.index,X.length,_({},F,W));else{if(X.length===0)return H.selection.format(F,W),G;G=H.editor.formatText(X.index,X.length,_({},F,W))}return H.setSelection(X,f.default.sources.SILENT),G},Q)}},{key:"formatLine",value:function(F,W,H,Q,X){var G=this,K=void 0,J=q(F,W,H,Q,X),$=o(J,4);return F=$[0],W=$[1],K=$[2],X=$[3],L.call(this,function(){return G.editor.formatLine(F,W,K)},X,F,0)}},{key:"formatText",value:function(F,W,H,Q,X){var G=this,K=void 0,J=q(F,W,H,Q,X),$=o(J,4);return F=$[0],W=$[1],K=$[2],X=$[3],L.call(this,function(){return G.editor.formatText(F,W,K)},X,F,0)}},{key:"getBounds",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof F=="number"?H=this.selection.getBounds(F,W):H=this.selection.getBounds(F.index,F.length);var Q=this.container.getBoundingClientRect();return{bottom:H.bottom-Q.top,height:H.height,left:H.left-Q.left,right:H.right-Q.left,top:H.top-Q.top,width:H.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,H=q(F,W),Q=o(H,2);return F=Q[0],W=Q[1],this.editor.getContents(F,W)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,W):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,W)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,H=q(F,W),Q=o(H,2);return F=Q[0],W=Q[1],this.editor.getText(F,W)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,W,H){var Q=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return L.call(this,function(){return Q.editor.insertEmbed(F,W,H)},X,F)}},{key:"insertText",value:function(F,W,H,Q,X){var G=this,K=void 0,J=q(F,0,H,Q,X),$=o(J,4);return F=$[0],K=$[2],X=$[3],L.call(this,function(){return G.editor.insertText(F,W,K)},X,F,W.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,W,H){this.clipboard.dangerouslyPasteHTML(F,W,H)}},{key:"removeFormat",value:function(F,W,H){var Q=this,X=q(F,W,H),G=o(X,4);return F=G[0],W=G[1],H=G[3],L.call(this,function(){return Q.editor.removeFormat(F,W)},H,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var W=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return L.call(this,function(){F=new u.default(F);var Q=W.getLength(),X=W.editor.deleteText(0,Q),G=W.editor.applyDelta(F),K=G.ops[G.ops.length-1];K!=null&&typeof K.insert=="string"&&K.insert[K.insert.length-1]===`
`&&(W.editor.deleteText(W.getLength()-1,1),G.delete(1));var J=X.compose(G);return J},H)}},{key:"setSelection",value:function(F,W,H){if(F==null)this.selection.setRange(null,W||z.sources.API);else{var Q=q(F,W,H),X=o(Q,4);F=X[0],W=X[1],H=X[3],this.selection.setRange(new p.Range(F,W),H),H!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,H=new u.default().insert(F);return this.setContents(H,W)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,W=this.scroll.update(F);return this.selection.update(F),W}},{key:"updateContents",value:function(F){var W=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return L.call(this,function(){return F=new u.default(F),W.editor.applyDelta(F,H)},H,!0)}}]),z}();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=f.default.events,O.sources=f.default.sources,O.version="1.3.7",O.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":E.default};function V(z,D){if(D=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===O.DEFAULTS.theme)D.theme=E.default;else if(D.theme=O.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var F=(0,S.default)(!0,{},D.theme.DEFAULTS);[F,D].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(X){Q.modules[X]===!0&&(Q.modules[X]={})})});var W=Object.keys(F.modules).concat(Object.keys(D.modules)),H=W.reduce(function(Q,X){var G=O.import("modules/"+X);return G==null?C.error("Cannot load "+X+" module. Are you sure you registered it?"):Q[X]=G.DEFAULTS||{},Q},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,S.default)(!0,{},O.DEFAULTS,{modules:H},F,D),["bounds","container","scrollingContainer"].forEach(function(Q){typeof D[Q]=="string"&&(D[Q]=document.querySelector(D[Q]))}),D.modules=Object.keys(D.modules).reduce(function(Q,X){return D.modules[X]&&(Q[X]=D.modules[X]),Q},{}),D}function L(z,D,F,W){if(this.options.strict&&!this.isEnabled()&&D===f.default.sources.USER)return new u.default;var H=F==null?null:this.getSelection(),Q=this.editor.delta,X=z();if(H!=null&&(F===!0&&(F=H.index),W==null?H=M(H,X,D):W!==0&&(H=M(H,F,W,D)),this.setSelection(H,f.default.sources.SILENT)),X.length()>0){var G,K=[f.default.events.TEXT_CHANGE,X,Q,D];if((G=this.emitter).emit.apply(G,[f.default.events.EDITOR_CHANGE].concat(K)),D!==f.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,K)}}return X}function q(z,D,F,W,H){var Q={};return typeof z.index=="number"&&typeof z.length=="number"?typeof D!="number"?(H=W,W=F,F=D,D=z.length,z=z.index):(D=z.length,z=z.index):typeof D!="number"&&(H=W,W=F,F=D,D=0),(typeof F>"u"?"undefined":i(F))==="object"?(Q=F,H=W):typeof F=="string"&&(W!=null?Q[F]=W:H=F),H=H||f.default.sources.API,[z,D,Q,H]}function M(z,D,F,W){if(z==null)return null;var H=void 0,Q=void 0;if(D instanceof u.default){var X=[z.index,z.index+z.length].map(function($){return D.transformPosition($,W!==f.default.sources.USER)}),G=o(X,2);H=G[0],Q=G[1]}else{var K=[z.index,z.index+z.length].map(function($){return $<D||$===D&&W===f.default.sources.USER?$:F>=0?$+F:Math.max(D,$+F)}),J=o(K,2);H=J[0],Q=J[1]}return new p.Range(H,Q-H)}n.expandConfig=V,n.overload=q,n.default=O},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(y,p){for(var w=0;w<p.length;w++){var j=p[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,p,w){return p&&b(y.prototype,p),w&&b(y,w),y}}(),o=function b(y,p,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,p);if(j===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,p,w)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(w)}},l=a(7),c=h(l),u=a(0),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function f(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function g(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var v=function(b){g(y,b);function y(){return m(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"formatAt",value:function(w,j,S,R){if(y.compare(this.statics.blotName,S)<0&&d.default.query(S,d.default.Scope.BLOT)){var k=this.isolate(w,j);R&&k.wrap(S,R)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,j,S,R)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var j=this.parent.isolate(this.offset(),this.length());this.moveChildren(j),j.wrap(this)}}}],[{key:"compare",value:function(w,j){var S=y.order.indexOf(w),R=y.order.indexOf(j);return S>=0||R>=0?S-R:w===j?0:w<j?-1:1}}]),y}(d.default.Inline);v.allowedChildren=[v,d.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function u(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function d(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){d(f,m);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(w,j){for(var S=0;S<j.length;S++){var R=j[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,j,S){return j&&p(w.prototype,j),S&&p(w,S),w}}(),o=function p(w,j,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,j);if(R===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:p(k,j,S)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(S)}},l=a(54),c=h(l),u=a(10),d=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function m(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function f(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function g(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var v=(0,d.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(p){document.addEventListener(p,function(){for(var w=arguments.length,j=Array(w),S=0;S<w;S++)j[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var k;(k=R.__quill.emitter).handleDOM.apply(k,j)}})})});var y=function(p){g(w,p);function w(){m(this,w);var j=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return j.listeners={},j.on("error",v.error),j}return i(w,[{key:"emit",value:function(){v.log.apply(v,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,k=Array(R>1?R-1:0),N=1;N<R;N++)k[N-1]=arguments[N];(this.listeners[S.type]||[]).forEach(function(E){var T=E.node,_=E.handler;(S.target===T||T.contains(S.target))&&_.apply(void 0,[S].concat(k))})}},{key:"listenDOM",value:function(S,R,k){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:k})}}]),w}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var d,h=arguments.length,m=Array(h>1?h-1:0),f=1;f<h;f++)m[f-1]=arguments[f];(d=console)[u].apply(d,m)}}function c(u){return i.reduce(function(d,h){return d[h]=l.bind(console,h,u),d},{})}l.level=c.level=function(u){o=u},n.default=c},function(r,n,a){var i=Array.prototype.slice,o=a(52),l=a(53),c=r.exports=function(m,f,g){return g||(g={}),m===f?!0:m instanceof Date&&f instanceof Date?m.getTime()===f.getTime():!m||!f||typeof m!="object"&&typeof f!="object"?g.strict?m===f:m==f:h(m,f,g)};function u(m){return m==null}function d(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function h(m,f,g){var v,b;if(u(m)||u(f)||m.prototype!==f.prototype)return!1;if(l(m))return l(f)?(m=i.call(m),f=i.call(f),c(m,f,g)):!1;if(d(m)){if(!d(f)||m.length!==f.length)return!1;for(v=0;v<m.length;v++)if(m[v]!==f[v])return!1;return!0}try{var y=o(m),p=o(f)}catch{return!1}if(y.length!=p.length)return!1;for(y.sort(),p.sort(),v=y.length-1;v>=0;v--)if(y[v]!=p[v])return!1;for(v=y.length-1;v>=0;v--)if(b=y[v],!c(m[b],f[b],g))return!1;return typeof m==typeof f}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var h=i.Scope.TYPE&i.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&i.Scope.LEVEL|h:this.scope=i.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function N(E,T){var _=[],A=!0,C=!1,O=void 0;try{for(var V=E[Symbol.iterator](),L;!(A=(L=V.next()).done)&&(_.push(L.value),!(T&&_.length===T));A=!0);}catch(q){C=!0,O=q}finally{try{!A&&V.return&&V.return()}finally{if(C)throw O}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return N(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&N(E.prototype,T),_&&N(E,_),E}}(),l=function N(E,T,_){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:N(C,T,_)}else{if("value"in A)return A.value;var O=A.get;return O===void 0?void 0:O.call(_)}},c=a(2),u=p(c),d=a(0),h=p(d),m=a(4),f=p(m),g=a(6),v=p(g),b=a(7),y=p(b);function p(N){return N&&N.__esModule?N:{default:N}}function w(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function j(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function S(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var R=function(N){S(E,N);function E(){return w(this,E),j(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(v.default);R.blotName="code",R.tagName="CODE";var k=function(N){S(E,N);function E(){return w(this,E),j(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var _=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(C,O){return C.insert(O).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,A){if(!(_===this.statics.blotName&&A)){var C=this.descendant(y.default,this.length()-1),O=i(C,1),V=O[0];V!=null&&V.deleteAt(V.length()-1,1),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,_,A)}}},{key:"formatAt",value:function(_,A,C,O){if(A!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&O===this.statics.formats(this.domNode))){var V=this.newlineIndex(_);if(!(V<0||V>=_+A)){var L=this.newlineIndex(_,!0)+1,q=V-L+1,M=this.isolate(L,q),z=M.next;M.format(C,O),z instanceof E&&z.formatAt(0,_-L+A-q,C,O)}}}},{key:"insertAt",value:function(_,A,C){if(C==null){var O=this.descendant(y.default,_),V=i(O,2),L=V[0],q=V[1];L.insertAt(q,A)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var C=this.domNode.textContent.slice(_).indexOf(`
`);return C>-1?_+C:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,_);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(_),A.moveChildren(this),A.remove())}},{key:"replace",value:function(_){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var C=h.default.find(A);C==null?A.parentNode.removeChild(A):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(_){var A=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,_);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),E}(f.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",n.Code=R,n.default=k},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(D,F){var W=[],H=!0,Q=!1,X=void 0;try{for(var G=D[Symbol.iterator](),K;!(H=(K=G.next()).done)&&(W.push(K.value),!(F&&W.length===F));H=!0);}catch(J){Q=!0,X=J}finally{try{!H&&G.return&&G.return()}finally{if(Q)throw X}}return W}return function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return z(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(D,F){for(var W=0;W<F.length;W++){var H=F[W];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,H.key,H)}}return function(D,F,W){return F&&z(D.prototype,F),W&&z(D,W),D}}(),c=a(2),u=A(c),d=a(20),h=A(d),m=a(0),f=A(m),g=a(13),v=A(g),b=a(24),y=A(b),p=a(4),w=A(p),j=a(16),S=A(j),R=a(21),k=A(R),N=a(11),E=A(N),T=a(3),_=A(T);function A(z){return z&&z.__esModule?z:{default:z}}function C(z,D,F){return D in z?Object.defineProperty(z,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[D]=F,z}function O(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,L=function(){function z(D){O(this,z),this.scroll=D,this.delta=this.getDelta()}return l(z,[{key:"applyDelta",value:function(F){var W=this,H=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),F=M(F),F.reduce(function(X,G){var K=G.retain||G.delete||G.insert.length||1,J=G.attributes||{};if(G.insert!=null){if(typeof G.insert=="string"){var $=G.insert;$.endsWith(`
`)&&H&&(H=!1,$=$.slice(0,-1)),X>=Q&&!$.endsWith(`
`)&&(H=!0),W.scroll.insertAt(X,$);var Z=W.scroll.line(X),se=o(Z,2),pe=se[0],te=se[1],ge=(0,_.default)({},(0,p.bubbleFormats)(pe));if(pe instanceof w.default){var Pe=pe.descendant(f.default.Leaf,te),Xe=o(Pe,1),pt=Xe[0];ge=(0,_.default)(ge,(0,p.bubbleFormats)(pt))}J=h.default.attributes.diff(ge,J)||{}}else if(i(G.insert)==="object"){var oe=Object.keys(G.insert)[0];if(oe==null)return X;W.scroll.insertAt(X,oe,G.insert[oe])}Q+=K}return Object.keys(J).forEach(function(ue){W.scroll.formatAt(X,K,ue,J[ue])}),X+K},0),F.reduce(function(X,G){return typeof G.delete=="number"?(W.scroll.deleteAt(X,G.delete),X):X+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,W){return this.scroll.deleteAt(F,W),this.update(new u.default().retain(F).delete(W))}},{key:"formatLine",value:function(F,W){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(X){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[X])){var G=H.scroll.lines(F,Math.max(W,1)),K=W;G.forEach(function(J){var $=J.length();if(!(J instanceof v.default))J.format(X,Q[X]);else{var Z=F-J.offset(H.scroll),se=J.newlineIndex(Z+K)-Z+1;J.formatAt(Z,se,X,Q[X])}K-=$})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(W,(0,k.default)(Q)))}},{key:"formatText",value:function(F,W){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(X){H.scroll.formatAt(F,W,X,Q[X])}),this.update(new u.default().retain(F).retain(W,(0,k.default)(Q)))}},{key:"getContents",value:function(F,W){return this.delta.slice(F,F+W)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,W){return F.concat(W.delta())},new u.default)}},{key:"getFormat",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],Q=[];W===0?this.scroll.path(F).forEach(function(G){var K=o(G,1),J=K[0];J instanceof w.default?H.push(J):J instanceof f.default.Leaf&&Q.push(J)}):(H=this.scroll.lines(F,W),Q=this.scroll.descendants(f.default.Leaf,F,W));var X=[H,Q].map(function(G){if(G.length===0)return{};for(var K=(0,p.bubbleFormats)(G.shift());Object.keys(K).length>0;){var J=G.shift();if(J==null)return K;K=q((0,p.bubbleFormats)(J),K)}return K});return _.default.apply(_.default,X)}},{key:"getText",value:function(F,W){return this.getContents(F,W).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(F,W,H){return this.scroll.insertAt(F,W,H),this.update(new u.default().retain(F).insert(C({},W,H)))}},{key:"insertText",value:function(F,W){var H=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W=W.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,W),Object.keys(Q).forEach(function(X){H.scroll.formatAt(F,W.length,X,Q[X])}),this.update(new u.default().retain(F).insert(W,(0,k.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==w.default.blotName||F.children.length>1?!1:F.children.head instanceof S.default}},{key:"removeFormat",value:function(F,W){var H=this.getText(F,W),Q=this.scroll.line(F+W),X=o(Q,2),G=X[0],K=X[1],J=0,$=new u.default;G!=null&&(G instanceof v.default?J=G.newlineIndex(K)-K+1:J=G.length()-K,$=G.delta().slice(K,K+J-1).insert(`
`));var Z=this.getContents(F,W+J),se=Z.diff(new u.default().insert(H).concat($)),pe=new u.default().retain(F).concat(se);return this.applyDelta(pe)}},{key:"update",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(W.length===1&&W[0].type==="characterData"&&W[0].target.data.match(V)&&f.default.find(W[0].target)){var X=f.default.find(W[0].target),G=(0,p.bubbleFormats)(X),K=X.offset(this.scroll),J=W[0].oldValue.replace(y.default.CONTENTS,""),$=new u.default().insert(J),Z=new u.default().insert(X.value()),se=new u.default().retain(K).concat($.diff(Z,H));F=se.reduce(function(pe,te){return te.insert?pe.insert(te.insert,G):pe.push(te)},new u.default),this.delta=Q.compose(F)}else this.delta=this.getDelta(),(!F||!(0,E.default)(Q.compose(F),this.delta))&&(F=Q.diff(this.delta,H));return F}}]),z}();function q(z,D){return Object.keys(D).reduce(function(F,W){return z[W]==null||(D[W]===z[W]?F[W]=D[W]:Array.isArray(D[W])?D[W].indexOf(z[W])<0&&(F[W]=D[W].concat([z[W]])):F[W]=[D[W],z[W]]),F},{})}function M(z){return z.reduce(function(D,F){if(F.insert===1){var W=(0,k.default)(F.attributes);return delete W.image,D.insert({image:F.attributes.image},W)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,k.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var H=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(H,F.attributes)}return D.push(F)},new u.default)}n.default=L},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function N(E,T){var _=[],A=!0,C=!1,O=void 0;try{for(var V=E[Symbol.iterator](),L;!(A=(L=V.next()).done)&&(_.push(L.value),!(T&&_.length===T));A=!0);}catch(q){C=!0,O=q}finally{try{!A&&V.return&&V.return()}finally{if(C)throw O}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return N(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function N(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&N(E.prototype,T),_&&N(E,_),E}}(),l=a(0),c=y(l),u=a(21),d=y(u),h=a(11),m=y(h),f=a(8),g=y(f),v=a(10),b=y(v);function y(N){return N&&N.__esModule?N:{default:N}}function p(N){if(Array.isArray(N)){for(var E=0,T=Array(N.length);E<N.length;E++)T[E]=N[E];return T}else return Array.from(N)}function w(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}var j=(0,b.default)("quill:selection"),S=function N(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,N),this.index=E,this.length=T},R=function(){function N(E,T){var _=this;w(this,N),this.emitter=T,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(A,C){A===g.default.events.TEXT_CHANGE&&C.length()>0&&_.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var A=_.getNativeRange();A!=null&&A.start.node!==_.cursor.textNode&&_.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(A,C){if(C.range){var O=C.range,V=O.startNode,L=O.startOffset,q=O.endNode,M=O.endOffset;_.setNativeRange(V,L,q,M)}}),this.update(g.default.sources.SILENT)}return o(N,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var _=T.cursor.restore();if(!_)return;setTimeout(function(){T.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(T,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var C=c.default.find(A.start.node,!1);if(C==null)return;if(C instanceof c.default.Leaf){var O=C.split(A.start.offset);C.parent.insertBefore(this.cursor,O)}else C.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(T,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();T=Math.min(T,A-1),_=Math.min(T+_,A-1)-T;var C=void 0,O=this.scroll.leaf(T),V=i(O,2),L=V[0],q=V[1];if(L==null)return null;var M=L.position(q,!0),z=i(M,2);C=z[0],q=z[1];var D=document.createRange();if(_>0){D.setStart(C,q);var F=this.scroll.leaf(T+_),W=i(F,2);if(L=W[0],q=W[1],L==null)return null;var H=L.position(q,!0),Q=i(H,2);return C=Q[0],q=Q[1],D.setEnd(C,q),D.getBoundingClientRect()}else{var X="left",G=void 0;return C instanceof Text?(q<C.data.length?(D.setStart(C,q),D.setEnd(C,q+1)):(D.setStart(C,q-1),D.setEnd(C,q),X="right"),G=D.getBoundingClientRect()):(G=L.domNode.getBoundingClientRect(),q>0&&(X="right")),{bottom:G.top+G.height,height:G.height,left:G[X],right:G[X],top:G.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var _=T.getRangeAt(0);if(_==null)return null;var A=this.normalizeNative(_);return j.info("getNativeRange",A),A}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var _=this.normalizedToRange(T);return[_,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var _=this,A=[[T.start.node,T.start.offset]];T.native.collapsed||A.push([T.end.node,T.end.offset]);var C=A.map(function(L){var q=i(L,2),M=q[0],z=q[1],D=c.default.find(M,!0),F=D.offset(_.scroll);return z===0?F:D instanceof c.default.Container?F+D.length():F+D.index(M,z)}),O=Math.min(Math.max.apply(Math,p(C)),this.scroll.length()-1),V=Math.min.apply(Math,[O].concat(p(C)));return new S(V,O-V)}},{key:"normalizeNative",value:function(T){if(!k(this.root,T.startContainer)||!T.collapsed&&!k(this.root,T.endContainer))return null;var _={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[_.start,_.end].forEach(function(A){for(var C=A.node,O=A.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>O)C=C.childNodes[O],O=0;else if(C.childNodes.length===O)C=C.lastChild,O=C instanceof Text?C.data.length:C.childNodes.length+1;else break;A.node=C,A.offset=O}),_}},{key:"rangeToNative",value:function(T){var _=this,A=T.collapsed?[T.index]:[T.index,T.index+T.length],C=[],O=this.scroll.length();return A.forEach(function(V,L){V=Math.min(O-1,V);var q=void 0,M=_.scroll.leaf(V),z=i(M,2),D=z[0],F=z[1],W=D.position(F,L!==0),H=i(W,2);q=H[0],F=H[1],C.push(q,F)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(T){var _=this.lastRange;if(_!=null){var A=this.getBounds(_.index,_.length);if(A!=null){var C=this.scroll.length()-1,O=this.scroll.line(Math.min(_.index,C)),V=i(O,1),L=V[0],q=L;if(_.length>0){var M=this.scroll.line(Math.min(_.index+_.length,C)),z=i(M,1);q=z[0]}if(!(L==null||q==null)){var D=T.getBoundingClientRect();A.top<D.top?T.scrollTop-=D.top-A.top:A.bottom>D.bottom&&(T.scrollTop+=A.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(T,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(j.info("setNativeRange",T,_,A,C),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||A.parentNode==null))){var V=document.getSelection();if(V!=null)if(T!=null){this.hasFocus()||this.root.focus();var L=(this.getNativeRange()||{}).native;if(L==null||O||T!==L.startContainer||_!==L.startOffset||A!==L.endContainer||C!==L.endOffset){T.tagName=="BR"&&(_=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),A.tagName=="BR"&&(C=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var q=document.createRange();q.setStart(T,_),q.setEnd(A,C),V.removeAllRanges(),V.addRange(q)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof _=="string"&&(A=_,_=!1),j.info("setRange",T),T!=null){var C=this.rangeToNative(T);this.setNativeRange.apply(this,p(C).concat([_]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,_=this.lastRange,A=this.getRange(),C=i(A,2),O=C[0],V=C[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(_,this.lastRange)){var L;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(_),T];if((L=this.emitter).emit.apply(L,[g.default.events.EDITOR_CHANGE].concat(q)),T!==g.default.sources.SILENT){var M;(M=this.emitter).emit.apply(M,q)}}}}]),N}();function k(N,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),N.contains(E)}n.Range=S,n.default=R},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(v,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,b,y){return b&&g(v.prototype,b),y&&g(v,y),v}}(),o=function g(v,b,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,b);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,y)}else{if("value"in p)return p.value;var j=p.get;return j===void 0?void 0:j.call(y)}},l=a(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(y,p){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);f.blotName="break",f.tagName="BR",n.default=f},function(r,n,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),c=a(1),u=function(h){i(m,h);function m(f){var g=h.call(this,f)||this;return g.build(),g}return m.prototype.appendChild=function(f){this.insertBefore(f)},m.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},m.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var v=d(g);f.insertBefore(v,f.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},m.prototype.deleteAt=function(f,g){if(f===0&&g===this.length())return this.remove();this.children.forEachAt(f,g,function(v,b,y){v.deleteAt(b,y)})},m.prototype.descendant=function(f,g){var v=this.children.find(g),b=v[0],y=v[1];return f.blotName==null&&f(b)||f.blotName!=null&&b instanceof f?[b,y]:b instanceof m?b.descendant(f,y):[null,-1]},m.prototype.descendants=function(f,g,v){g===void 0&&(g=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],y=v;return this.children.forEachAt(g,v,function(p,w,j){(f.blotName==null&&f(p)||f.blotName!=null&&p instanceof f)&&b.push(p),p instanceof m&&(b=b.concat(p.descendants(f,w,y))),y-=j}),b},m.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},m.prototype.formatAt=function(f,g,v,b){this.children.forEachAt(f,g,function(y,p,w){y.formatAt(p,w,v,b)})},m.prototype.insertAt=function(f,g,v){var b=this.children.find(f),y=b[0],p=b[1];if(y)y.insertAt(p,g,v);else{var w=v==null?c.create("text",g):c.create(g,v);this.appendChild(w)}},m.prototype.insertBefore=function(f,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return f instanceof v}))throw new c.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,g)},m.prototype.length=function(){return this.children.reduce(function(f,g){return f+g.length()},0)},m.prototype.moveChildren=function(f,g){this.children.forEach(function(v){f.insertBefore(v,g)})},m.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(f)}else this.remove()},m.prototype.path=function(f,g){g===void 0&&(g=!1);var v=this.children.find(f,g),b=v[0],y=v[1],p=[[this,f]];return b instanceof m?p.concat(b.path(y,g)):(b!=null&&p.push([b,y]),p)},m.prototype.removeChild=function(f){this.children.remove(f)},m.prototype.replace=function(f){f instanceof m&&f.moveChildren(this),h.prototype.replace.call(this,f)},m.prototype.split=function(f,g){if(g===void 0&&(g=!1),!g){if(f===0)return this;if(f===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(f,this.length(),function(b,y,p){b=b.split(y,g),v.appendChild(b)}),v},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(f,g){var v=this,b=[],y=[];f.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(b.push.apply(b,p.addedNodes),y.push.apply(y,p.removedNodes))}),y.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=c.find(p);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),b.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,w){return p===w?0:p.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var w=null;p.nextSibling!=null&&(w=c.find(p.nextSibling));var j=d(p);(j.next!=w||j.next==null)&&(j.parent!=null&&j.parent.removeChild(v),v.insertBefore(j,w||void 0))})},m}(l.default);function d(h){var m=c.find(h);if(m==null)try{m=c.create(h)}catch{m=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(g){m.domNode.appendChild(g)}),h.parentNode&&h.parentNode.replaceChild(m.domNode,h),m.attach()}return m}n.default=u},function(r,n,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),c=a(17),u=a(1),d=function(h){i(m,h);function m(f){var g=h.call(this,f)||this;return g.attributes=new l.default(g.domNode),g}return m.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},m.prototype.format=function(f,g){var v=u.query(f);v instanceof o.default?this.attributes.attribute(v,g):g&&v!=null&&(f!==this.statics.blotName||this.formats()[f]!==g)&&this.replaceWith(f,g)},m.prototype.formats=function(){var f=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(f[this.statics.blotName]=g),f},m.prototype.replaceWith=function(f,g){var v=h.prototype.replaceWith.call(this,f,g);return this.attributes.copy(v),v},m.prototype.update=function(f,g){var v=this;h.prototype.update.call(this,f,g),f.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(f,g){var v=h.prototype.wrap.call(this,f,g);return v instanceof m&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},m}(c.default);n.default=d},function(r,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,m){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},d.prototype.position=function(h,m){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=l.Scope.INLINE_BLOT,d}(o.default);n.default=c},function(r,n,a){var i=a(11),o=a(3),l={attributes:{compose:function(u,d,h){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var m=o(!0,{},d);h||(m=Object.keys(m).reduce(function(g,v){return m[v]!=null&&(g[v]=m[v]),g},{}));for(var f in u)u[f]!==void 0&&d[f]===void 0&&(m[f]=u[f]);return Object.keys(m).length>0?m:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=Object.keys(u).concat(Object.keys(d)).reduce(function(m,f){return i(u[f],d[f])||(m[f]=d[f]===void 0?null:d[f]),m},{});return Object.keys(h).length>0?h:void 0},transform:function(u,d,h){if(typeof u!="object")return d;if(typeof d=="object"){if(!h)return d;var m=Object.keys(d).reduce(function(f,g){return u[g]===void 0&&(f[g]=d[g]),f},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var h=this.offset,m=l.length(d);if(u>=m-h?(u=m-h,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var f={};return d.attributes&&(f.attributes=d.attributes),typeof d.retain=="number"?f.retain=u:typeof d.insert=="string"?f.insert=d.insert.substr(h,u):f.insert=d.insert,f}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,h=this.next(),m=this.ops.slice(this.index);return this.offset=u,this.index=d,[h].concat(m)}else return[]},r.exports=l},function(r,n){var a=function(){function i(v,b){return b!=null&&v instanceof b}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,b,y,p,w){typeof b=="object"&&(y=b.depth,p=b.prototype,w=b.includeNonEnumerable,b=b.circular);var j=[],S=[],R=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof y>"u"&&(y=1/0);function k(N,E){if(N===null)return null;if(E===0)return N;var T,_;if(typeof N!="object")return N;if(i(N,o))T=new o;else if(i(N,l))T=new l;else if(i(N,c))T=new c(function(D,F){N.then(function(W){D(k(W,E-1))},function(W){F(k(W,E-1))})});else if(u.__isArray(N))T=[];else if(u.__isRegExp(N))T=new RegExp(N.source,g(N)),N.lastIndex&&(T.lastIndex=N.lastIndex);else if(u.__isDate(N))T=new Date(N.getTime());else{if(R&&Buffer.isBuffer(N))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(N.length):T=new Buffer(N.length),N.copy(T),T;i(N,Error)?T=Object.create(N):typeof p>"u"?(_=Object.getPrototypeOf(N),T=Object.create(_)):(T=Object.create(p),_=p)}if(b){var A=j.indexOf(N);if(A!=-1)return S[A];j.push(N),S.push(T)}i(N,o)&&N.forEach(function(D,F){var W=k(F,E-1),H=k(D,E-1);T.set(W,H)}),i(N,l)&&N.forEach(function(D){var F=k(D,E-1);T.add(F)});for(var C in N){var O;_&&(O=Object.getOwnPropertyDescriptor(_,C)),!(O&&O.set==null)&&(T[C]=k(N[C],E-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(N),C=0;C<V.length;C++){var L=V[C],q=Object.getOwnPropertyDescriptor(N,L);q&&!q.enumerable&&!w||(T[L]=k(N[L],E-1),q.enumerable||Object.defineProperty(T,L,{enumerable:!1}))}if(w)for(var M=Object.getOwnPropertyNames(N),C=0;C<M.length;C++){var z=M[C],q=Object.getOwnPropertyDescriptor(N,z);q&&q.enumerable||(T[z]=k(N[z],E-1),Object.defineProperty(T,z,{enumerable:!1}))}return T}return k(v,y)}u.clonePrototype=function(b){if(b===null)return null;var y=function(){};return y.prototype=b,new y};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function h(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=h;function m(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=m;function f(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=f;function g(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return u.__getRegExpFlags=g,u}();typeof r=="object"&&r.exports&&(r.exports=a)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function T(_,A){var C=[],O=!0,V=!1,L=void 0;try{for(var q=_[Symbol.iterator](),M;!(O=(M=q.next()).done)&&(C.push(M.value),!(A&&C.length===A));O=!0);}catch(z){V=!0,L=z}finally{try{!O&&q.return&&q.return()}finally{if(V)throw L}}return C}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(_,A){for(var C=0;C<A.length;C++){var O=A[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,A,C){return A&&T(_.prototype,A),C&&T(_,C),_}}(),l=function T(_,A,C){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,A);if(O===void 0){var V=Object.getPrototypeOf(_);return V===null?void 0:T(V,A,C)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(C)}},c=a(0),u=j(c),d=a(8),h=j(d),m=a(4),f=j(m),g=a(16),v=j(g),b=a(13),y=j(b),p=a(25),w=j(p);function j(T){return T&&T.__esModule?T:{default:T}}function S(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function R(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function k(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}function N(T){return T instanceof f.default||T instanceof m.BlockEmbed}var E=function(T){k(_,T);function _(A,C){S(this,_);var O=R(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return O.emitter=C.emitter,Array.isArray(C.whitelist)&&(O.whitelist=C.whitelist.reduce(function(V,L){return V[L]=!0,V},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,O){var V=this.line(C),L=i(V,2),q=L[0],M=L[1],z=this.line(C+O),D=i(z,1),F=D[0];if(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,C,O),F!=null&&q!==F&&M>0){if(q instanceof m.BlockEmbed||F instanceof m.BlockEmbed){this.optimize();return}if(q instanceof y.default){var W=q.newlineIndex(q.length(),!0);if(W>-1&&(q=q.split(W+1),q===F)){this.optimize();return}}else if(F instanceof y.default){var H=F.newlineIndex(0);H>-1&&F.split(H+1)}var Q=F.children.head instanceof v.default?null:F.children.head;q.moveChildren(F,Q),q.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,O,V,L){this.whitelist!=null&&!this.whitelist[V]||(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,C,O,V,L),this.optimize())}},{key:"insertAt",value:function(C,O,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[O])){if(C>=this.length())if(V==null||u.default.query(O,u.default.Scope.BLOCK)==null){var L=u.default.create(this.statics.defaultChild);this.appendChild(L),V==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),L.insertAt(0,O,V)}else{var q=u.default.create(O,V);this.appendChild(q)}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,C,O,V);this.optimize()}}},{key:"insertBefore",value:function(C,O){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var V=u.default.create(this.statics.defaultChild);V.appendChild(C),C=V}l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,C,O)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(N,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function L(q,M,z){var D=[],F=z;return q.children.forEachAt(M,z,function(W,H,Q){N(W)?D.push(W):W instanceof u.default.Container&&(D=D.concat(L(W,H,F))),F-=Q}),D};return V(this,C,O)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,C,O),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,O))}},{key:"path",value:function(C){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var O=h.default.sources.USER;typeof C=="string"&&(O=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,O,C),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,O,C)}}}]),_}(u.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[f.default,m.BlockEmbed,w.default],n.default=E},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(K,J){var $=[],Z=!0,se=!1,pe=void 0;try{for(var te=K[Symbol.iterator](),ge;!(Z=(ge=te.next()).done)&&($.push(ge.value),!(J&&$.length===J));Z=!0);}catch(Pe){se=!0,pe=Pe}finally{try{!Z&&te.return&&te.return()}finally{if(se)throw pe}}return $}return function(K,J){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return G(K,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(K,J){for(var $=0;$<J.length;$++){var Z=J[$];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(K,Z.key,Z)}}return function(K,J,$){return J&&G(K.prototype,J),$&&G(K,$),K}}(),c=a(21),u=T(c),d=a(11),h=T(d),m=a(3),f=T(m),g=a(2),v=T(g),b=a(20),y=T(b),p=a(0),w=T(p),j=a(5),S=T(j),R=a(10),k=T(R),N=a(9),E=T(N);function T(G){return G&&G.__esModule?G:{default:G}}function _(G,K,J){return K in G?Object.defineProperty(G,K,{value:J,enumerable:!0,configurable:!0,writable:!0}):G[K]=J,G}function A(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function C(G,K){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:G}function O(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(G,K):G.__proto__=K)}var V=(0,k.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(G){O(K,G),l(K,null,[{key:"match",value:function($,Z){return Z=X(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(se){return!!Z[se]!==$[se]&&Z[se]!==null})?!1:Z.key===($.which||$.keyCode)}}]);function K(J,$){A(this,K);var Z=C(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,J,$));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(se){se==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||Z.options.bindings[se]&&Z.addBinding(Z.options.bindings[se])}),Z.addBinding({key:K.keys.ENTER,shiftKey:null},W),Z.addBinding({key:K.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!0},z),Z.addBinding({key:K.keys.DELETE},{collapsed:!0},D)):(Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Z.addBinding({key:K.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!1},F),Z.addBinding({key:K.keys.DELETE},{collapsed:!1},F),Z.addBinding({key:K.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Z.listen(),Z}return l(K,[{key:"addBinding",value:function($){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=X($);if(pe==null||pe.key==null)return V.warn("Attempted to add invalid keyboard binding",pe);typeof Z=="function"&&(Z={handler:Z}),typeof se=="function"&&(se={handler:se}),pe=(0,f.default)(pe,Z,se),this.bindings[pe.key]=this.bindings[pe.key]||[],this.bindings[pe.key].push(pe)}},{key:"listen",value:function(){var $=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var se=Z.which||Z.keyCode,pe=($.bindings[se]||[]).filter(function(bt){return K.match(Z,bt)});if(pe.length!==0){var te=$.quill.getSelection();if(!(te==null||!$.quill.hasFocus())){var ge=$.quill.getLine(te.index),Pe=o(ge,2),Xe=Pe[0],pt=Pe[1],oe=$.quill.getLeaf(te.index),ue=o(oe,2),ye=ue[0],we=ue[1],ne=te.length===0?[ye,we]:$.quill.getLeaf(te.index+te.length),qe=o(ne,2),Ue=qe[0],ze=qe[1],Wt=ye instanceof w.default.Text?ye.value().slice(0,we):"",dt=Ue instanceof w.default.Text?Ue.value().slice(ze):"",Ge={collapsed:te.length===0,empty:te.length===0&&Xe.length()<=1,format:$.quill.getFormat(te),offset:pt,prefix:Wt,suffix:dt},_r=pe.some(function(bt){if(bt.collapsed!=null&&bt.collapsed!==Ge.collapsed||bt.empty!=null&&bt.empty!==Ge.empty||bt.offset!=null&&bt.offset!==Ge.offset)return!1;if(Array.isArray(bt.format)){if(bt.format.every(function(Jt){return Ge.format[Jt]==null}))return!1}else if(i(bt.format)==="object"&&!Object.keys(bt.format).every(function(Jt){return bt.format[Jt]===!0?Ge.format[Jt]!=null:bt.format[Jt]===!1?Ge.format[Jt]==null:(0,h.default)(bt.format[Jt],Ge.format[Jt])}))return!1;return bt.prefix!=null&&!bt.prefix.test(Ge.prefix)||bt.suffix!=null&&!bt.suffix.test(Ge.suffix)?!1:bt.handler.call($,te,Ge)!==!0});_r&&Z.preventDefault()}}}})}}]),K}(E.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(K,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(K,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(K,J){J.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(K){this.quill.deleteText(K.index-1,1,S.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(K){this.quill.history.cutoff();var J=new v.default().retain(K.index).delete(K.length).insert("	");this.quill.updateContents(J,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,S.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(K,J){this.quill.format("list",!1,S.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(K){var J=this.quill.getLine(K.index),$=o(J,2),Z=$[0],se=$[1],pe=(0,f.default)({},Z.formats(),{list:"checked"}),te=new v.default().retain(K.index).insert(`
`,pe).retain(Z.length()-se-1).retain(1,{list:"unchecked"});this.quill.updateContents(te,S.default.sources.USER),this.quill.setSelection(K.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(K,J){var $=this.quill.getLine(K.index),Z=o($,2),se=Z[0],pe=Z[1],te=new v.default().retain(K.index).insert(`
`,J.format).retain(se.length()-pe-1).retain(1,{header:null});this.quill.updateContents(te,S.default.sources.USER),this.quill.setSelection(K.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(K,J){var $=J.prefix.length,Z=this.quill.getLine(K.index),se=o(Z,2),pe=se[0],te=se[1];if(te>$)return!0;var ge=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(K.index," ",S.default.sources.USER),this.quill.history.cutoff();var Pe=new v.default().retain(K.index-te).delete($+1).retain(pe.length()-2-te).retain(1,{list:ge});this.quill.updateContents(Pe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-$,S.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(K){var J=this.quill.getLine(K.index),$=o(J,2),Z=$[0],se=$[1],pe=new v.default().retain(K.index+Z.length()-se-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(pe,S.default.sources.USER)}},"embed left":M(q.keys.LEFT,!1),"embed left shift":M(q.keys.LEFT,!0),"embed right":M(q.keys.RIGHT,!1),"embed right shift":M(q.keys.RIGHT,!0)}};function M(G,K){var J,$=G===q.keys.LEFT?"prefix":"suffix";return J={key:G,shiftKey:K,altKey:null},_(J,$,/^$/),_(J,"handler",function(se){var pe=se.index;G===q.keys.RIGHT&&(pe+=se.length+1);var te=this.quill.getLeaf(pe),ge=o(te,1),Pe=ge[0];return Pe instanceof w.default.Embed?(G===q.keys.LEFT?K?this.quill.setSelection(se.index-1,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index-1,S.default.sources.USER):K?this.quill.setSelection(se.index,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index+se.length+1,S.default.sources.USER),!1):!0}),J}function z(G,K){if(!(G.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(G.index),$=o(J,1),Z=$[0],se={};if(K.offset===0){var pe=this.quill.getLine(G.index-1),te=o(pe,1),ge=te[0];if(ge!=null&&ge.length()>1){var Pe=Z.formats(),Xe=this.quill.getFormat(G.index-1,1);se=y.default.attributes.diff(Pe,Xe)||{}}}var pt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(K.prefix)?2:1;this.quill.deleteText(G.index-pt,pt,S.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(G.index-pt,pt,se,S.default.sources.USER),this.quill.focus()}}function D(G,K){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(K.suffix)?2:1;if(!(G.index>=this.quill.getLength()-J)){var $={},Z=0,se=this.quill.getLine(G.index),pe=o(se,1),te=pe[0];if(K.offset>=te.length()-1){var ge=this.quill.getLine(G.index+1),Pe=o(ge,1),Xe=Pe[0];if(Xe){var pt=te.formats(),oe=this.quill.getFormat(G.index,1);$=y.default.attributes.diff(pt,oe)||{},Z=Xe.length()}}this.quill.deleteText(G.index,J,S.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(G.index+Z-1,J,$,S.default.sources.USER)}}function F(G){var K=this.quill.getLines(G),J={};if(K.length>1){var $=K[0].formats(),Z=K[K.length-1].formats();J=y.default.attributes.diff(Z,$)||{}}this.quill.deleteText(G,S.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(G.index,1,J,S.default.sources.USER),this.quill.setSelection(G.index,S.default.sources.SILENT),this.quill.focus()}function W(G,K){var J=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var $=Object.keys(K.format).reduce(function(Z,se){return w.default.query(se,w.default.Scope.BLOCK)&&!Array.isArray(K.format[se])&&(Z[se]=K.format[se]),Z},{});this.quill.insertText(G.index,`
`,$,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(K.format).forEach(function(Z){$[Z]==null&&(Array.isArray(K.format[Z])||Z!=="link"&&J.quill.format(Z,K.format[Z],S.default.sources.USER))})}function H(G){return{key:q.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(J){var $=w.default.query("code-block"),Z=J.index,se=J.length,pe=this.quill.scroll.descendant($,Z),te=o(pe,2),ge=te[0],Pe=te[1];if(ge!=null){var Xe=this.quill.getIndex(ge),pt=ge.newlineIndex(Pe,!0)+1,oe=ge.newlineIndex(Xe+Pe+se),ue=ge.domNode.textContent.slice(pt,oe).split(`
`);Pe=0,ue.forEach(function(ye,we){G?(ge.insertAt(pt+Pe,$.TAB),Pe+=$.TAB.length,we===0?Z+=$.TAB.length:se+=$.TAB.length):ye.startsWith($.TAB)&&(ge.deleteAt(pt+Pe,$.TAB.length),Pe-=$.TAB.length,we===0?Z-=$.TAB.length:se-=$.TAB.length),Pe+=ye.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Z,se,S.default.sources.SILENT)}}}}function Q(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(J,$){this.quill.format(G,!$.format[G],S.default.sources.USER)}}}function X(G){if(typeof G=="string"||typeof G=="number")return X({key:G});if((typeof G>"u"?"undefined":i(G))==="object"&&(G=(0,u.default)(G,!1)),typeof G.key=="string")if(q.keys[G.key.toUpperCase()]!=null)G.key=q.keys[G.key.toUpperCase()];else if(G.key.length===1)G.key=G.key.toUpperCase().charCodeAt(0);else return null;return G.shortKey&&(G[L]=G.shortKey,delete G.shortKey),G}n.default=q,n.SHORTKEY=L},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(p,w){var j=[],S=!0,R=!1,k=void 0;try{for(var N=p[Symbol.iterator](),E;!(S=(E=N.next()).done)&&(j.push(E.value),!(w&&j.length===w));S=!0);}catch(T){R=!0,k=T}finally{try{!S&&N.return&&N.return()}finally{if(R)throw k}}return j}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return y(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(p,w,j){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,w);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,w,j)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(j)}},l=function(){function y(p,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,w,j){return w&&y(p.prototype,w),j&&y(p,j),p}}(),c=a(0),u=m(c),d=a(7),h=m(d);function m(y){return y&&y.__esModule?y:{default:y}}function f(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function g(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function v(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var b=function(y){v(p,y),l(p,null,[{key:"value",value:function(){}}]);function p(w,j){f(this,p);var S=g(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return S.selection=j,S.textNode=document.createTextNode(p.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return l(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(j,S){if(this._length!==0)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,j,S);for(var R=this,k=0;R!=null&&R.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=p.CONTENTS.length,R.optimize(),R.formatAt(k,p.CONTENTS.length,j,S),this._length=0)}},{key:"index",value:function(j,S){return j===this.textNode?0:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,j,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var j=this.textNode,S=this.selection.getNativeRange(),R=void 0,k=void 0,N=void 0;if(S!=null&&S.start.node===j&&S.end.node===j){var E=[j,S.start.offset,S.end.offset];R=E[0],k=E[1],N=E[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(R=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var _=[k,N].map(function(C){return Math.max(0,Math.min(R.data.length,C-1))}),A=i(_,2);return k=A[0],N=A[1],{startNode:R,startOffset:k,endNode:R,endOffset:N}}}}},{key:"update",value:function(j,S){var R=this;if(j.some(function(N){return N.type==="characterData"&&N.target===R.textNode})){var k=this.restore();k&&(S.range=k)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",n.default=b},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=u(i),l=a(4),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);f.allowedChildren=[c.default,l.BlockEmbed,f],n.default=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function b(y,p){for(var w=0;w<p.length;w++){var j=p[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,p,w){return p&&b(y.prototype,p),w&&b(y,w),y}}(),o=function b(y,p,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,p);if(j===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,p,w)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(w)}},l=a(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function h(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function m(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var f=function(b){m(y,b);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"value",value:function(w){var j=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return j.startsWith("rgb(")?(j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+j.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):j}}]),y}(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new f("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=f,n.ColorClass=g,n.ColorStyle=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function v(b,y){for(var p=0;p<y.length;p++){var w=y[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,p){return y&&v(b.prototype,y),p&&v(b,p),b}}(),o=function v(b,y,p){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,y,p)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(p)}},l=a(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var f=function(v){m(b,v);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(p,w){if(p!==this.statics.blotName||!w)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,p,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(p){var w=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,p);return p=this.sanitize(p),w.setAttribute("href",p),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return g(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),b}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(v,b){var y=document.createElement("a");y.href=v;var p=y.href.slice(0,y.href.indexOf(":"));return b.indexOf(p)>-1}n.default=f,n.sanitize=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(y,p){for(var w=0;w<p.length;w++){var j=p[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,p,w){return p&&b(y.prototype,p),w&&b(y,w),y}}(),l=a(23),c=h(l),u=a(107),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}var f=0;function g(b,y){b.setAttribute(y,b.getAttribute(y)!=="true")}var v=function(){function b(y){var p=this;m(this,b),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case c.default.keys.ENTER:p.togglePicker();break;case c.default.keys.ESCAPE:p.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var w=this,j=document.createElement("span");return j.tabIndex="0",j.setAttribute("role","button"),j.classList.add("ql-picker-item"),p.hasAttribute("value")&&j.setAttribute("data-value",p.getAttribute("value")),p.textContent&&j.setAttribute("data-label",p.textContent),j.addEventListener("click",function(){w.selectItem(j,!0)}),j.addEventListener("keydown",function(S){switch(S.keyCode){case c.default.keys.ENTER:w.selectItem(j,!0),S.preventDefault();break;case c.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),j}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=d.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(j){var S=p.buildItem(j);w.appendChild(S),j.selected===!0&&p.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(w){p.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=this.container.querySelector(".ql-selected");if(p!==j&&(j!=null&&j.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var j=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",j)}}]),b}();n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=V(i),l=a(5),c=V(l),u=a(4),d=V(u),h=a(16),m=V(h),f=a(25),g=V(f),v=a(24),b=V(v),y=a(35),p=V(y),w=a(6),j=V(w),S=a(22),R=V(S),k=a(7),N=V(k),E=a(55),T=V(E),_=a(42),A=V(_),C=a(23),O=V(C);function V(L){return L&&L.__esModule?L:{default:L}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":m.default,"blots/container":g.default,"blots/cursor":b.default,"blots/embed":p.default,"blots/inline":j.default,"blots/scroll":R.default,"blots/text":N.default,"modules/clipboard":T.default,"modules/history":A.default,"modules/keyboard":O.default}),o.default.register(d.default,m.default,b.default,j.default,R.default,N.default),n.default=c.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,h){var m=this.isolate(c,u);if(i.query(d,i.Scope.BLOT)!=null&&h)m.wrap(d,h);else if(i.query(d,i.Scope.ATTRIBUTE)!=null){var f=i.create(this.statics.scope);m.wrap(f),f.format(d,h)}},l.prototype.insertAt=function(c,u,d){var h=d==null?i.create("text",u):i.create(u,d),m=this.split(c);this.parent.insertBefore(h,m)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();n.default=o},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(12),o=a(32),l=a(33),c=a(1),u=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,m){m?h.add(this.domNode,m)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var m=i.default.keys(this.domNode),f=o.default.keys(this.domNode),g=l.default.keys(this.domNode);m.concat(f).concat(g).forEach(function(v){var b=c.query(v,c.Scope.ATTRIBUTE);b instanceof i.default&&(h.attributes[b.attrName]=b)})},d.prototype.copy=function(h){var m=this;Object.keys(this.attributes).forEach(function(f){var g=m.attributes[f].value(m.domNode);h.format(f,g)})},d.prototype.move=function(h){var m=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){m.attributes[f].remove(m.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(m,f){return m[f]=h.attributes[f].value(h.domNode),m},{})},d}();n.default=u},function(r,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u,d){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(m){return m.indexOf(d+"-")===0})}var c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(this.remove(h),h.classList.add(this.keyName+"-"+m),!0):!1},d.prototype.remove=function(h){var m=l(h,this.keyName);m.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var m=l(h,this.keyName)[0]||"",f=m.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},d}(o.default);n.default=c},function(r,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u){var d=u.split("-"),h=d.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return d[0]+h}var c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(m){var f=m.split(":");return f[0].trim()})},d.prototype.add=function(h,m){return this.canAdd(h,m)?(h.style[l(this.keyName)]=m,!0):!1},d.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var m=h.style[l(this.keyName)];return this.canAdd(h,m)?m:""},d}(o.default);n.default=c},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){o(this,c),this.quill=u,this.options=d,this.modules={}}return i(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(p,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,w,j){return w&&y(p.prototype,w),j&&y(p,j),p}}(),o=function y(p,w,j){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,w);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,w,j)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(j)}},l=a(0),c=h(l),u=a(7),d=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function f(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function g(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var v="\uFEFF",b=function(y){g(p,y);function p(w){m(this,p);var j=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return j.contentNode=document.createElement("span"),j.contentNode.setAttribute("contenteditable",!1),[].slice.call(j.domNode.childNodes).forEach(function(S){j.contentNode.appendChild(S)}),j.leftGuard=document.createTextNode(v),j.rightGuard=document.createTextNode(v),j.domNode.appendChild(j.leftGuard),j.domNode.appendChild(j.contentNode),j.domNode.appendChild(j.rightGuard),j}return i(p,[{key:"index",value:function(j,S){return j===this.leftGuard?0:j===this.rightGuard?1:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,j,S)}},{key:"restore",value:function(j){var S=void 0,R=void 0,k=j.data.split(v).join("");if(j===this.leftGuard)if(this.prev instanceof d.default){var N=this.prev.length();this.prev.insertAt(N,k),S={startNode:this.prev.domNode,startOffset:N+k.length}}else R=document.createTextNode(k),this.parent.insertBefore(c.default.create(R),this),S={startNode:R,startOffset:k.length};else j===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,k),S={startNode:this.next.domNode,startOffset:k.length}):(R=document.createTextNode(k),this.parent.insertBefore(c.default.create(R),this.next),S={startNode:R,startOffset:k.length}));return j.data=v,S}},{key:"update",value:function(j,S){var R=this;j.forEach(function(k){if(k.type==="characterData"&&(k.target===R.leftGuard||k.target===R.rightGuard)){var N=R.restore(k.target);N&&(S.range=N)}})}}]),p}(c.default.Embed);n.default=b},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=a(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),d=new o.default.Attributor.Class("align","ql-align",c),h=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=d,n.AlignStyle=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=a(0),o=c(i),l=a(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=d},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=a(0),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),d=new o.default.Attributor.Class("direction","ql-direction",c),h=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=d,n.DirectionStyle=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function y(p,w){for(var j=0;j<w.length;j++){var S=w[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,w,j){return w&&y(p.prototype,w),j&&y(p,j),p}}(),o=function y(p,w,j){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,w);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,w,j)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(j)}},l=a(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function h(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function m(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var f={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",f),v=function(y){m(p,y);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"value",value:function(j){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),p}(c.default.Attributor.Style),b=new v("font","font-family",f);n.FontStyle=b,n.FontClass=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=a(0),o=l(i);function l(d){return d&&d.__esModule?d:{default:d}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u},function(r,n,a){r.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function w(j,S){for(var R=0;R<S.length;R++){var k=S[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}return function(j,S,R){return S&&w(j.prototype,S),R&&w(j,R),j}}(),o=a(0),l=m(o),c=a(5),u=m(c),d=a(9),h=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function f(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function g(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function v(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var b=function(w){v(j,w);function j(S,R){f(this,j);var k=g(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,S,R));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(N,E,T,_){N!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||_===u.default.sources.USER?k.record(E,T):k.transform(E))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return i(j,[{key:"change",value:function(R,k){if(this.stack[R].length!==0){var N=this.stack[R].pop();this.stack[k].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[R],u.default.sources.USER),this.ignoreChange=!1;var E=p(N[R]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,k){if(R.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(k),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var T=this.stack.undo.pop();N=N.compose(T.undo),R=T.redo.compose(R)}else this.lastRecorded=E;this.stack.undo.push({redo:R,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(k){k.undo=R.transform(k.undo,!0),k.redo=R.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=R.transform(k.undo,!0),k.redo=R.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),j}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var j=w.ops[w.ops.length-1];return j==null?!1:j.insert!=null?typeof j.insert=="string"&&j.insert.endsWith(`
`):j.attributes!=null?Object.keys(j.attributes).some(function(S){return l.default.query(S,l.default.Scope.BLOCK)!=null}):!1}function p(w){var j=w.reduce(function(R,k){return R+=k.delete||0,R},0),S=w.length()-j;return y(w)&&(S-=1),S}n.default=b,n.getLastChangeIndex=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function W(H,Q){for(var X=0;X<Q.length;X++){var G=Q[X];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}return function(H,Q,X){return Q&&W(H.prototype,Q),X&&W(H,X),H}}(),o=function W(H,Q,X){H===null&&(H=Function.prototype);var G=Object.getOwnPropertyDescriptor(H,Q);if(G===void 0){var K=Object.getPrototypeOf(H);return K===null?void 0:W(K,Q,X)}else{if("value"in G)return G.value;var J=G.get;return J===void 0?void 0:J.call(X)}},l=a(3),c=E(l),u=a(2),d=E(u),h=a(8),m=E(h),f=a(23),g=E(f),v=a(34),b=E(v),y=a(59),p=E(y),w=a(60),j=E(w),S=a(28),R=E(S),k=a(61),N=E(k);function E(W){return W&&W.__esModule?W:{default:W}}function T(W,H){if(!(W instanceof H))throw new TypeError("Cannot call a class as a function")}function _(W,H){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:W}function A(W,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);W.prototype=Object.create(H&&H.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(W,H):W.__proto__=H)}var C=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],L=["1","2","3",!1],q=["small",!1,"large","huge"],M=function(W){A(H,W);function H(Q,X){T(this,H);var G=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q,X)),K=function J($){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",J);G.tooltip!=null&&!G.tooltip.root.contains($.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(Z){Z.container.contains($.target)||Z.close()})};return Q.emitter.listenDOM("click",document.body,K),G}return i(H,[{key:"addModule",value:function(X){var G=o(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(X,G){X.forEach(function(K){var J=K.getAttribute("class")||"";J.split(/\s+/).forEach(function($){if($.startsWith("ql-")&&($=$.slice(3),G[$]!=null))if($==="direction")K.innerHTML=G[$][""]+G[$].rtl;else if(typeof G[$]=="string")K.innerHTML=G[$];else{var Z=K.value||"";Z!=null&&G[$][Z]&&(K.innerHTML=G[$][Z])}})})}},{key:"buildPickers",value:function(X,G){var K=this;this.pickers=X.map(function($){if($.classList.contains("ql-align"))return $.querySelector("option")==null&&F($,C),new j.default($,G.align);if($.classList.contains("ql-background")||$.classList.contains("ql-color")){var Z=$.classList.contains("ql-background")?"background":"color";return $.querySelector("option")==null&&F($,O,Z==="background"?"#ffffff":"#000000"),new p.default($,G[Z])}else return $.querySelector("option")==null&&($.classList.contains("ql-font")?F($,V):$.classList.contains("ql-header")?F($,L):$.classList.contains("ql-size")&&F($,q)),new R.default($)});var J=function(){K.pickers.forEach(function(Z){Z.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,J)}}]),H}(b.default);M.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var X=new FileReader;X.onload=function(G){var K=H.quill.getSelection(!0);H.quill.updateContents(new d.default().retain(K.index).delete(K.length).insert({image:G.target.result}),m.default.sources.USER),H.quill.setSelection(K.index+1,m.default.sources.SILENT),Q.value=""},X.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(W){A(H,W);function H(Q,X){T(this,H);var G=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Q,X));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return i(H,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(G){g.default.match(G,"enter")?(X.save(),G.preventDefault()):g.default.match(G,"escape")&&(X.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,m.default.sources.USER)),this.quill.root.scrollTop=G;break}case"video":X=D(X);case"formula":{if(!X)break;var K=this.quill.getSelection(!0);if(K!=null){var J=K.index+K.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),X,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",m.default.sources.USER),this.quill.setSelection(J+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(N.default);function D(W){var H=W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=W.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":W}function F(W,H){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(X){var G=document.createElement("option");X===Q?G.setAttribute("selected","selected"):G.setAttribute("value",X),W.appendChild(G)})}n.BaseTooltip=z,n.default=M},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var h=u.length();if(l<h||c&&l===h&&(u.next==null||u.next.length()!==0))return[u,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),h=d[0],m=d[1],f,g=l-m,v=this.iterator(h);(f=v())&&g<l+c;){var b=f.length();l>g?u(f,l-g,Math.min(c,g+b-l)):u(f,0,Math.min(b,l+c-g)),g+=b}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},o}();n.default=i},function(r,n,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(h){i(m,h);function m(f){var g=h.call(this,f)||this;return g.scroll=g,g.observer=new MutationObserver(function(v){g.update(v)}),g.observer.observe(g.domNode,c),g.attach(),g}return m.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(f,g){this.update(),f===0&&g===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,f,g)},m.prototype.formatAt=function(f,g,v,b){this.update(),h.prototype.formatAt.call(this,f,g,v,b)},m.prototype.insertAt=function(f,g,v){this.update(),h.prototype.insertAt.call(this,f,g,v)},m.prototype.optimize=function(f,g){var v=this;f===void 0&&(f=[]),g===void 0&&(g={}),h.prototype.optimize.call(this,g);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)f.push(b.pop());for(var y=function(S,R){R===void 0&&(R=!0),!(S==null||S===v)&&S.domNode.parentNode!=null&&(S.domNode[l.DATA_KEY].mutations==null&&(S.domNode[l.DATA_KEY].mutations=[]),R&&y(S.parent))},p=function(S){S.domNode[l.DATA_KEY]==null||S.domNode[l.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(p),S.optimize(g))},w=f,j=0;w.length>0;j+=1){if(j>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=l.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(y(l.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(k){var N=l.find(k,!1);y(N,!1),N instanceof o.default&&N.children.forEach(function(E){y(E,!1)})})):S.type==="attributes"&&y(R.prev)),y(R))}),this.children.forEach(p),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)f.push(b.pop())}},m.prototype.update=function(f,g){var v=this;g===void 0&&(g={}),f=f||this.observer.takeRecords(),f.map(function(b){var y=l.find(b.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[b],y):(y.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],g)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,g),this.optimize(f,g)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m}(o.default);n.default=d},function(r,n,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var f in m)m.hasOwnProperty(f)&&(h[f]=m[f])};return function(h,m){d(h,m);function f(){this.constructor=h}h.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function c(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var m in d)if(d[m]!==h[m])return!1;return!0}var u=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(m){if(m.tagName!==h.tagName)return d.formats.call(this,m)},h.prototype.format=function(m,f){var g=this;m===this.statics.blotName&&!f?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(h.blotName,!0)),g.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,m,f)},h.prototype.formatAt=function(m,f,g,v){if(this.formats()[g]!=null||l.query(g,l.Scope.ATTRIBUTE)){var b=this.isolate(m,f);b.format(g,v)}else d.prototype.formatAt.call(this,m,f,g,v)},h.prototype.optimize=function(m){d.prototype.optimize.call(this,m);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof h&&g.prev===this&&c(f,g.formats())&&(g.moveChildren(this),g.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);n.default=u},function(r,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),c=function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){var m=l.query(d.blotName).tagName;if(h.tagName!==m)return u.formats.call(this,h)},d.prototype.format=function(h,m){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!m?this.replaceWith(d.blotName):u.prototype.format.call(this,h,m))},d.prototype.formatAt=function(h,m,f,g){l.query(f,l.Scope.BLOCK)!=null?this.format(f,g):u.prototype.formatAt.call(this,h,m,f,g)},d.prototype.insertAt=function(h,m,f){if(f==null||l.query(m,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,m,f);else{var g=this.split(h),v=l.create(m,f);g.parent.insertBefore(v,g)}},d.prototype.update=function(h,m){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,m)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);n.default=c},function(r,n,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,h){c.prototype.formatAt.call(this,0,this.length(),d,h)},u.prototype.formatAt=function(d,h,m,f){d===0&&h===this.length()?this.format(m,f):c.prototype.formatAt.call(this,d,h,m,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=l},function(r,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){u(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),c=function(u){i(d,u);function d(h){var m=u.call(this,h)||this;return m.text=m.statics.value(m.domNode),m}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var m=h.data;return m.normalize&&(m=m.normalize()),m},d.prototype.deleteAt=function(h,m){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+m)},d.prototype.index=function(h,m){return this.domNode===h?m:-1},d.prototype.insertAt=function(h,m,f){f==null?(this.text=this.text.slice(0,h)+m+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,m,f)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,m){return[this.domNode,h]},d.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var f=l.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},d.prototype.update=function(h,m){var f=this;h.some(function(g){return g.type==="characterData"&&g.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(o.default);n.default=c},function(r,n,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,h=arguments[1],m,f=0;f<d;f++)if(m=u[f],c.call(h,m,f,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var a=-1,i=1,o=0;function l(j,S,R){if(j==S)return j?[[o,j]]:[];(R<0||j.length<R)&&(R=null);var k=h(j,S),N=j.substring(0,k);j=j.substring(k),S=S.substring(k),k=m(j,S);var E=j.substring(j.length-k);j=j.substring(0,j.length-k),S=S.substring(0,S.length-k);var T=c(j,S);return N&&T.unshift([o,N]),E&&T.push([o,E]),g(T),R!=null&&(T=y(T,R)),T=p(T),T}function c(j,S){var R;if(!j)return[[i,S]];if(!S)return[[a,j]];var k=j.length>S.length?j:S,N=j.length>S.length?S:j,E=k.indexOf(N);if(E!=-1)return R=[[i,k.substring(0,E)],[o,N],[i,k.substring(E+N.length)]],j.length>S.length&&(R[0][0]=R[2][0]=a),R;if(N.length==1)return[[a,j],[i,S]];var T=f(j,S);if(T){var _=T[0],A=T[1],C=T[2],O=T[3],V=T[4],L=l(_,C),q=l(A,O);return L.concat([[o,V]],q)}return u(j,S)}function u(j,S){for(var R=j.length,k=S.length,N=Math.ceil((R+k)/2),E=N,T=2*N,_=new Array(T),A=new Array(T),C=0;C<T;C++)_[C]=-1,A[C]=-1;_[E+1]=0,A[E+1]=0;for(var O=R-k,V=O%2!=0,L=0,q=0,M=0,z=0,D=0;D<N;D++){for(var F=-D+L;F<=D-q;F+=2){var W=E+F,H;F==-D||F!=D&&_[W-1]<_[W+1]?H=_[W+1]:H=_[W-1]+1;for(var Q=H-F;H<R&&Q<k&&j.charAt(H)==S.charAt(Q);)H++,Q++;if(_[W]=H,H>R)q+=2;else if(Q>k)L+=2;else if(V){var X=E+O-F;if(X>=0&&X<T&&A[X]!=-1){var G=R-A[X];if(H>=G)return d(j,S,H,Q)}}}for(var K=-D+M;K<=D-z;K+=2){var X=E+K,G;K==-D||K!=D&&A[X-1]<A[X+1]?G=A[X+1]:G=A[X-1]+1;for(var J=G-K;G<R&&J<k&&j.charAt(R-G-1)==S.charAt(k-J-1);)G++,J++;if(A[X]=G,G>R)z+=2;else if(J>k)M+=2;else if(!V){var W=E+O-K;if(W>=0&&W<T&&_[W]!=-1){var H=_[W],Q=E+H-W;if(G=R-G,H>=G)return d(j,S,H,Q)}}}}return[[a,j],[i,S]]}function d(j,S,R,k){var N=j.substring(0,R),E=S.substring(0,k),T=j.substring(R),_=S.substring(k),A=l(N,E),C=l(T,_);return A.concat(C)}function h(j,S){if(!j||!S||j.charAt(0)!=S.charAt(0))return 0;for(var R=0,k=Math.min(j.length,S.length),N=k,E=0;R<N;)j.substring(E,N)==S.substring(E,N)?(R=N,E=R):k=N,N=Math.floor((k-R)/2+R);return N}function m(j,S){if(!j||!S||j.charAt(j.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,k=Math.min(j.length,S.length),N=k,E=0;R<N;)j.substring(j.length-N,j.length-E)==S.substring(S.length-N,S.length-E)?(R=N,E=R):k=N,N=Math.floor((k-R)/2+R);return N}function f(j,S){var R=j.length>S.length?j:S,k=j.length>S.length?S:j;if(R.length<4||k.length*2<R.length)return null;function N(q,M,z){for(var D=q.substring(z,z+Math.floor(q.length/4)),F=-1,W="",H,Q,X,G;(F=M.indexOf(D,F+1))!=-1;){var K=h(q.substring(z),M.substring(F)),J=m(q.substring(0,z),M.substring(0,F));W.length<J+K&&(W=M.substring(F-J,F)+M.substring(F,F+K),H=q.substring(0,z-J),Q=q.substring(z+K),X=M.substring(0,F-J),G=M.substring(F+K))}return W.length*2>=q.length?[H,Q,X,G,W]:null}var E=N(R,k,Math.ceil(R.length/4)),T=N(R,k,Math.ceil(R.length/2)),_;if(!E&&!T)return null;T?E?_=E[4].length>T[4].length?E:T:_=T:_=E;var A,C,O,V;j.length>S.length?(A=_[0],C=_[1],O=_[2],V=_[3]):(O=_[0],V=_[1],A=_[2],C=_[3]);var L=_[4];return[A,C,O,V,L]}function g(j){j.push([o,""]);for(var S=0,R=0,k=0,N="",E="",T;S<j.length;)switch(j[S][0]){case i:k++,E+=j[S][1],S++;break;case a:R++,N+=j[S][1],S++;break;case o:R+k>1?(R!==0&&k!==0&&(T=h(E,N),T!==0&&(S-R-k>0&&j[S-R-k-1][0]==o?j[S-R-k-1][1]+=E.substring(0,T):(j.splice(0,0,[o,E.substring(0,T)]),S++),E=E.substring(T),N=N.substring(T)),T=m(E,N),T!==0&&(j[S][1]=E.substring(E.length-T)+j[S][1],E=E.substring(0,E.length-T),N=N.substring(0,N.length-T))),R===0?j.splice(S-k,R+k,[i,E]):k===0?j.splice(S-R,R+k,[a,N]):j.splice(S-R-k,R+k,[a,N],[i,E]),S=S-R-k+(R?1:0)+(k?1:0)+1):S!==0&&j[S-1][0]==o?(j[S-1][1]+=j[S][1],j.splice(S,1)):S++,k=0,R=0,N="",E="";break}j[j.length-1][1]===""&&j.pop();var _=!1;for(S=1;S<j.length-1;)j[S-1][0]==o&&j[S+1][0]==o&&(j[S][1].substring(j[S][1].length-j[S-1][1].length)==j[S-1][1]?(j[S][1]=j[S-1][1]+j[S][1].substring(0,j[S][1].length-j[S-1][1].length),j[S+1][1]=j[S-1][1]+j[S+1][1],j.splice(S-1,1),_=!0):j[S][1].substring(0,j[S+1][1].length)==j[S+1][1]&&(j[S-1][1]+=j[S+1][1],j[S][1]=j[S][1].substring(j[S+1][1].length)+j[S+1][1],j.splice(S+1,1),_=!0)),S++;_&&g(j)}var v=l;v.INSERT=i,v.DELETE=a,v.EQUAL=o,r.exports=v;function b(j,S){if(S===0)return[o,j];for(var R=0,k=0;k<j.length;k++){var N=j[k];if(N[0]===a||N[0]===o){var E=R+N[1].length;if(S===E)return[k+1,j];if(S<E){j=j.slice();var T=S-R,_=[N[0],N[1].slice(0,T)],A=[N[0],N[1].slice(T)];return j.splice(k,1,_,A),[k+1,j]}else R=E}}throw new Error("cursor_pos is out of bounds!")}function y(j,S){var R=b(j,S),k=R[1],N=R[0],E=k[N],T=k[N+1];if(E==null)return j;if(E[0]!==o)return j;if(T!=null&&E[1]+T[1]===T[1]+E[1])return k.splice(N,2,T,E),w(k,N,2);if(T!=null&&T[1].indexOf(E[1])===0){k.splice(N,2,[T[0],E[1]],[0,E[1]]);var _=T[1].slice(E[1].length);return _.length>0&&k.splice(N+2,0,[T[0],_]),w(k,N,3)}else return j}function p(j){for(var S=!1,R=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},k=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},N=2;N<j.length;N+=1)j[N-2][0]===o&&k(j[N-2][1])&&j[N-1][0]===a&&R(j[N-1][1])&&j[N][0]===i&&R(j[N][1])&&(S=!0,j[N-1][1]=j[N-2][1].slice(-1)+j[N-1][1],j[N][1]=j[N-2][1].slice(-1)+j[N][1],j[N-2][1]=j[N-2][1].slice(0,-1));if(!S)return j;for(var E=[],N=0;N<j.length;N+=1)j[N][1].length>0&&E.push(j[N]);return E}function w(j,S,R){for(var k=S+R-1;k>=0&&k>=S-1;k--)if(k+1<j.length){var N=j[k],E=j[k+1];N[0]===E[1]&&j.splice(k,2,[N[0],N[1]+E[1]])}return j}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(i){var o=[];for(var l in i)o.push(l);return o}},function(r,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=a?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)a.call(h,m)&&d.push(i?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d,h){var m=i?i+d:d,f=this._events[m];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,b=new Array(v);g<v;g++)b[g]=f[g].fn;return b},c.prototype.emit=function(d,h,m,f,g,v){var b=i?i+d:d;if(!this._events[b])return!1;var y=this._events[b],p=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,f),!0;case 5:return y.fn.call(y.context,h,m,f,g),!0;case 6:return y.fn.call(y.context,h,m,f,g,v),!0}for(j=1,w=new Array(p-1);j<p;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var S=y.length,R;for(j=0;j<S;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),p){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,h);break;case 3:y[j].fn.call(y[j].context,h,m);break;case 4:y[j].fn.call(y[j].context,h,m,f);break;default:if(!w)for(R=1,w=new Array(p-1);R<p;R++)w[R-1]=arguments[R];y[j].fn.apply(y[j].context,w)}}return!0},c.prototype.on=function(d,h,m){var f=new l(h,m||this),g=i?i+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.once=function(d,h,m){var f=new l(h,m||this,!0),g=i?i+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.removeListener=function(d,h,m,f){var g=i?i+d:d;if(!this._events[g])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var v=this._events[g];if(v.fn)v.fn===h&&(!f||v.once)&&(!m||v.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var b=0,y=[],p=v.length;b<p;b++)(v[b].fn!==h||f&&!v[b].once||m&&v[b].context!==m)&&y.push(v[b]);y.length?this._events[g]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=i?i+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o=function(){function oe(ue,ye){var we=[],ne=!0,qe=!1,Ue=void 0;try{for(var ze=ue[Symbol.iterator](),Wt;!(ne=(Wt=ze.next()).done)&&(we.push(Wt.value),!(ye&&we.length===ye));ne=!0);}catch(dt){qe=!0,Ue=dt}finally{try{!ne&&ze.return&&ze.return()}finally{if(qe)throw Ue}}return we}return function(ue,ye){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return oe(ue,ye);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function oe(ue,ye){for(var we=0;we<ye.length;we++){var ne=ye[we];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ue,ne.key,ne)}}return function(ue,ye,we){return ye&&oe(ue.prototype,ye),we&&oe(ue,we),ue}}(),c=a(3),u=A(c),d=a(2),h=A(d),m=a(0),f=A(m),g=a(5),v=A(g),b=a(10),y=A(b),p=a(9),w=A(p),j=a(36),S=a(37),R=a(13),k=A(R),N=a(26),E=a(38),T=a(39),_=a(40);function A(oe){return oe&&oe.__esModule?oe:{default:oe}}function C(oe,ue,ye){return ue in oe?Object.defineProperty(oe,ue,{value:ye,enumerable:!0,configurable:!0,writable:!0}):oe[ue]=ye,oe}function O(oe,ue){if(!(oe instanceof ue))throw new TypeError("Cannot call a class as a function")}function V(oe,ue){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue&&(typeof ue=="object"||typeof ue=="function")?ue:oe}function L(oe,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);oe.prototype=Object.create(ue&&ue.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ue):oe.__proto__=ue)}var q=(0,y.default)("quill:clipboard"),M="__ql-matcher",z=[[Node.TEXT_NODE,pt],[Node.TEXT_NODE,ge],["br",se],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Pe],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,Xe],["li",te],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",pe]],D=[j.AlignAttribute,E.DirectionAttribute].reduce(function(oe,ue){return oe[ue.keyName]=ue,oe},{}),F=[j.AlignStyle,S.BackgroundStyle,N.ColorStyle,E.DirectionStyle,T.FontStyle,_.SizeStyle].reduce(function(oe,ue){return oe[ue.keyName]=ue,oe},{}),W=function(oe){L(ue,oe);function ue(ye,we){O(this,ue);var ne=V(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,ye,we));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],z.concat(ne.options.matchers).forEach(function(qe){var Ue=o(qe,2),ze=Ue[0],Wt=Ue[1];!we.matchVisual&&Wt===Pe||ne.addMatcher(ze,Wt)}),ne}return l(ue,[{key:"addMatcher",value:function(we,ne){this.matchers.push([we,ne])}},{key:"convert",value:function(we){if(typeof we=="string")return this.container.innerHTML=we.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[k.default.blotName]){var qe=this.container.innerText;return this.container.innerHTML="",new h.default().insert(qe,C({},k.default.blotName,ne[k.default.blotName]))}var Ue=this.prepareMatching(),ze=o(Ue,2),Wt=ze[0],dt=ze[1],Ge=K(this.container,Wt,dt);return X(Ge,`
`)&&Ge.ops[Ge.ops.length-1].attributes==null&&(Ge=Ge.compose(new h.default().retain(Ge.length()-1).delete(1))),q.log("convert",this.container.innerHTML,Ge),this.container.innerHTML="",Ge}},{key:"dangerouslyPasteHTML",value:function(we,ne){var qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof we=="string")this.quill.setContents(this.convert(we),ne),this.quill.setSelection(0,v.default.sources.SILENT);else{var Ue=this.convert(ne);this.quill.updateContents(new h.default().retain(we).concat(Ue),qe),this.quill.setSelection(we+Ue.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(we){var ne=this;if(!(we.defaultPrevented||!this.quill.isEnabled())){var qe=this.quill.getSelection(),Ue=new h.default().retain(qe.index),ze=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Ue=Ue.concat(ne.convert()).delete(qe.length),ne.quill.updateContents(Ue,v.default.sources.USER),ne.quill.setSelection(Ue.length()-qe.length,v.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=ze,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var we=this,ne=[],qe=[];return this.matchers.forEach(function(Ue){var ze=o(Ue,2),Wt=ze[0],dt=ze[1];switch(Wt){case Node.TEXT_NODE:qe.push(dt);break;case Node.ELEMENT_NODE:ne.push(dt);break;default:[].forEach.call(we.container.querySelectorAll(Wt),function(Ge){Ge[M]=Ge[M]||[],Ge[M].push(dt)});break}}),[ne,qe]}}]),ue}(w.default);W.DEFAULTS={matchers:[],matchVisual:!0};function H(oe,ue,ye){return(typeof ue>"u"?"undefined":i(ue))==="object"?Object.keys(ue).reduce(function(we,ne){return H(we,ne,ue[ne])},oe):oe.reduce(function(we,ne){return ne.attributes&&ne.attributes[ue]?we.push(ne):we.insert(ne.insert,(0,u.default)({},C({},ue,ye),ne.attributes))},new h.default)}function Q(oe){if(oe.nodeType!==Node.ELEMENT_NODE)return{};var ue="__ql-computed-style";return oe[ue]||(oe[ue]=window.getComputedStyle(oe))}function X(oe,ue){for(var ye="",we=oe.ops.length-1;we>=0&&ye.length<ue.length;--we){var ne=oe.ops[we];if(typeof ne.insert!="string")break;ye=ne.insert+ye}return ye.slice(-1*ue.length)===ue}function G(oe){if(oe.childNodes.length===0)return!1;var ue=Q(oe);return["block","list-item"].indexOf(ue.display)>-1}function K(oe,ue,ye){return oe.nodeType===oe.TEXT_NODE?ye.reduce(function(we,ne){return ne(oe,we)},new h.default):oe.nodeType===oe.ELEMENT_NODE?[].reduce.call(oe.childNodes||[],function(we,ne){var qe=K(ne,ue,ye);return ne.nodeType===oe.ELEMENT_NODE&&(qe=ue.reduce(function(Ue,ze){return ze(ne,Ue)},qe),qe=(ne[M]||[]).reduce(function(Ue,ze){return ze(ne,Ue)},qe)),we.concat(qe)},new h.default):new h.default}function J(oe,ue,ye){return H(ye,oe,!0)}function $(oe,ue){var ye=f.default.Attributor.Attribute.keys(oe),we=f.default.Attributor.Class.keys(oe),ne=f.default.Attributor.Style.keys(oe),qe={};return ye.concat(we).concat(ne).forEach(function(Ue){var ze=f.default.query(Ue,f.default.Scope.ATTRIBUTE);ze!=null&&(qe[ze.attrName]=ze.value(oe),qe[ze.attrName])||(ze=D[Ue],ze!=null&&(ze.attrName===Ue||ze.keyName===Ue)&&(qe[ze.attrName]=ze.value(oe)||void 0),ze=F[Ue],ze!=null&&(ze.attrName===Ue||ze.keyName===Ue)&&(ze=F[Ue],qe[ze.attrName]=ze.value(oe)||void 0))}),Object.keys(qe).length>0&&(ue=H(ue,qe)),ue}function Z(oe,ue){var ye=f.default.query(oe);if(ye==null)return ue;if(ye.prototype instanceof f.default.Embed){var we={},ne=ye.value(oe);ne!=null&&(we[ye.blotName]=ne,ue=new h.default().insert(we,ye.formats(oe)))}else typeof ye.formats=="function"&&(ue=H(ue,ye.blotName,ye.formats(oe)));return ue}function se(oe,ue){return X(ue,`
`)||ue.insert(`
`),ue}function pe(){return new h.default}function te(oe,ue){var ye=f.default.query(oe);if(ye==null||ye.blotName!=="list-item"||!X(ue,`
`))return ue;for(var we=-1,ne=oe.parentNode;!ne.classList.contains("ql-clipboard");)(f.default.query(ne)||{}).blotName==="list"&&(we+=1),ne=ne.parentNode;return we<=0?ue:ue.compose(new h.default().retain(ue.length()-1).retain(1,{indent:we}))}function ge(oe,ue){return X(ue,`
`)||(G(oe)||ue.length()>0&&oe.nextSibling&&G(oe.nextSibling))&&ue.insert(`
`),ue}function Pe(oe,ue){if(G(oe)&&oe.nextElementSibling!=null&&!X(ue,`

`)){var ye=oe.offsetHeight+parseFloat(Q(oe).marginTop)+parseFloat(Q(oe).marginBottom);oe.nextElementSibling.offsetTop>oe.offsetTop+ye*1.5&&ue.insert(`
`)}return ue}function Xe(oe,ue){var ye={},we=oe.style||{};return we.fontStyle&&Q(oe).fontStyle==="italic"&&(ye.italic=!0),we.fontWeight&&(Q(oe).fontWeight.startsWith("bold")||parseInt(Q(oe).fontWeight)>=700)&&(ye.bold=!0),Object.keys(ye).length>0&&(ue=H(ue,ye)),parseFloat(we.textIndent||0)>0&&(ue=new h.default().insert("	").concat(ue)),ue}function pt(oe,ue){var ye=oe.data;if(oe.parentNode.tagName==="O:P")return ue.insert(ye.trim());if(ye.trim().length===0&&oe.parentNode.classList.contains("ql-clipboard"))return ue;if(!Q(oe.parentNode).whiteSpace.startsWith("pre")){var we=function(qe,Ue){return Ue=Ue.replace(/[^\u00a0]/g,""),Ue.length<1&&qe?" ":Ue};ye=ye.replace(/\r\n/g," ").replace(/\n/g," "),ye=ye.replace(/\s\s+/g,we.bind(we,!0)),(oe.previousSibling==null&&G(oe.parentNode)||oe.previousSibling!=null&&G(oe.previousSibling))&&(ye=ye.replace(/^\s+/,we.bind(we,!1))),(oe.nextSibling==null&&G(oe.parentNode)||oe.nextSibling!=null&&G(oe.nextSibling))&&(ye=ye.replace(/\s+$/,we.bind(we,!1)))}return ue.insert(ye)}n.default=W,n.matchAttributor=$,n.matchBlot=Z,n.matchNewline=ge,n.matchSpacing=Pe,n.matchText=pt},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(v,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,b,y){return b&&g(v.prototype,b),y&&g(v,y),v}}(),o=function g(v,b,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,b);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,y)}else{if("value"in p)return p.value;var j=p.get;return j===void 0?void 0:j.call(y)}},l=a(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);f.blotName="bold",f.tagName=["STRONG","B"],n.default=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function _(A,C){var O=[],V=!0,L=!1,q=void 0;try{for(var M=A[Symbol.iterator](),z;!(V=(z=M.next()).done)&&(O.push(z.value),!(C&&O.length===C));V=!0);}catch(D){L=!0,q=D}finally{try{!V&&M.return&&M.return()}finally{if(L)throw q}}return O}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(A,C){for(var O=0;O<C.length;O++){var V=C[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,V.key,V)}}return function(A,C,O){return C&&_(A.prototype,C),O&&_(A,O),A}}(),l=a(2),c=y(l),u=a(0),d=y(u),h=a(5),m=y(h),f=a(10),g=y(f),v=a(9),b=y(v);function y(_){return _&&_.__esModule?_:{default:_}}function p(_,A,C){return A in _?Object.defineProperty(_,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[A]=C,_}function w(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function j(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function S(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var R=(0,g.default)("quill:toolbar"),k=function(_){S(A,_);function A(C,O){w(this,A);var V=j(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,O));if(Array.isArray(V.options.container)){var L=document.createElement("div");E(L,V.options.container),C.container.parentNode.insertBefore(L,C.container),V.container=L}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var q;return q=R.error("Container required for toolbar",V.options),j(V,q)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(M){V.addHandler(M,V.options.handlers[M])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(M){V.attach(M)}),V.quill.on(m.default.events.EDITOR_CHANGE,function(M,z){M===m.default.events.SELECTION_CHANGE&&V.update(z)}),V.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var M=V.quill.selection.getRange(),z=i(M,1),D=z[0];V.update(D)}),V}return o(A,[{key:"addHandler",value:function(O,V){this.handlers[O]=V}},{key:"attach",value:function(O){var V=this,L=[].find.call(O.classList,function(M){return M.indexOf("ql-")===0});if(L){if(L=L.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[L]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[L]==null){R.warn("ignoring attaching to disabled format",L,O);return}if(d.default.query(L)==null){R.warn("ignoring attaching to nonexistent format",L,O);return}}var q=O.tagName==="SELECT"?"change":"click";O.addEventListener(q,function(M){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var D=O.options[O.selectedIndex];D.hasAttribute("selected")?z=!1:z=D.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),M.preventDefault();V.quill.focus();var F=V.quill.selection.getRange(),W=i(F,1),H=W[0];if(V.handlers[L]!=null)V.handlers[L].call(V,z);else if(d.default.query(L).prototype instanceof d.default.Embed){if(z=prompt("Enter "+L),!z)return;V.quill.updateContents(new c.default().retain(H.index).delete(H.length).insert(p({},L,z)),m.default.sources.USER)}else V.quill.format(L,z,m.default.sources.USER);V.update(H)}),this.controls.push([L,O])}}},{key:"update",value:function(O){var V=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(L){var q=i(L,2),M=q[0],z=q[1];if(z.tagName==="SELECT"){var D=void 0;if(O==null)D=null;else if(V[M]==null)D=z.querySelector("option[selected]");else if(!Array.isArray(V[M])){var F=V[M];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),D=z.querySelector('option[value="'+F+'"]')}D==null?(z.value="",z.selectedIndex=-1):D.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var W=V[M]===z.getAttribute("value")||V[M]!=null&&V[M].toString()===z.getAttribute("value")||V[M]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",W)}else z.classList.toggle("ql-active",V[M]!=null)})}}]),A}(b.default);k.DEFAULTS={};function N(_,A,C){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+A),C!=null&&(O.value=C),_.appendChild(O)}function E(_,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(C){var O=document.createElement("span");O.classList.add("ql-formats"),C.forEach(function(V){if(typeof V=="string")N(O,V);else{var L=Object.keys(V)[0],q=V[L];Array.isArray(q)?T(O,L,q):N(O,L,q)}}),_.appendChild(O)})}function T(_,A,C){var O=document.createElement("select");O.classList.add("ql-"+A),C.forEach(function(V){var L=document.createElement("option");V!==!1?L.setAttribute("value",V):L.setAttribute("selected","selected"),O.appendChild(L)}),_.appendChild(O)}k.DEFAULTS={container:null,handlers:{clean:function(){var A=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(V){d.default.query(V,d.default.Scope.INLINE)!=null&&A.quill.format(V,!1)})}else this.quill.removeFormat(C,m.default.sources.USER)},direction:function(A){var C=this.quill.getFormat().align;A==="rtl"&&C==null?this.quill.format("align","right",m.default.sources.USER):!A&&C==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",A,m.default.sources.USER)},indent:function(A){var C=this.quill.getSelection(),O=this.quill.getFormat(C),V=parseInt(O.indent||0);if(A==="+1"||A==="-1"){var L=A==="+1"?1:-1;O.direction==="rtl"&&(L*=-1),this.quill.format("indent",V+L,m.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,m.default.sources.USER)},list:function(A){var C=this.quill.getSelection(),O=this.quill.getFormat(C);A==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",A,m.default.sources.USER)}}},n.default=k,n.addControls=E},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(v,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,b,y){return b&&g(v.prototype,b),y&&g(v,y),v}}(),o=function g(v,b,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,b);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,y)}else{if("value"in p)return p.value;var j=p.get;return j===void 0?void 0:j.call(y)}},l=a(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(b,y){d(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return p.label.innerHTML=y,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),p}return i(v,[{key:"buildItem",value:function(y){var p=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return p.style.backgroundColor=y.getAttribute("value")||"",p}},{key:"selectItem",value:function(y,p){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,p);var w=this.label.querySelector(".ql-color-label"),j=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=j:w.style.fill=j)}}]),v}(c.default);n.default=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(v,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,b,y){return b&&g(v.prototype,b),y&&g(v,y),v}}(),o=function g(v,b,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,b);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,y)}else{if("value"in p)return p.value;var j=p.get;return j===void 0?void 0:j.call(y)}},l=a(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(b,y){d(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return i(v,[{key:"selectItem",value:function(y,p){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,p),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(c.default);n.default=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(u,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){var h=this;o(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,m=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),v=0;if(g.right>f.right&&(v=f.right-g.right,this.root.style.left=h+v+"px"),g.left<f.left&&(v=f.left-g.left,this.root.style.left=h+v+"px"),g.bottom>f.bottom){var b=g.bottom-g.top,y=d.bottom-d.top+b;this.root.style.top=m-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function T(_,A){var C=[],O=!0,V=!1,L=void 0;try{for(var q=_[Symbol.iterator](),M;!(O=(M=q.next()).done)&&(C.push(M.value),!(A&&C.length===A));O=!0);}catch(z){V=!0,L=z}finally{try{!O&&q.return&&q.return()}finally{if(V)throw L}}return C}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function T(_,A,C){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,A);if(O===void 0){var V=Object.getPrototypeOf(_);return V===null?void 0:T(V,A,C)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(C)}},l=function(){function T(_,A){for(var C=0;C<A.length;C++){var O=A[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,A,C){return A&&T(_.prototype,A),C&&T(_,C),_}}(),c=a(3),u=w(c),d=a(8),h=w(d),m=a(43),f=w(m),g=a(27),v=w(g),b=a(15),y=a(41),p=w(y);function w(T){return T&&T.__esModule?T:{default:T}}function j(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function S(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function R(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(T){R(_,T);function _(A,C){j(this,_),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=k);var O=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,C));return O.quill.container.classList.add("ql-snow"),O}return l(_,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),p.default),this.tooltip=new E(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,V){C.handlers.link.call(C,!V.format.link)})}}]),_}(f.default);N.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var A=this.quill.getSelection();if(A==null||A.length==0)return;var C=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var O=this.quill.theme.tooltip;O.edit("link",C)}else this.quill.format("link",!1)}}}}});var E=function(T){R(_,T);function _(A,C){j(this,_);var O=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,C));return O.preview=O.root.querySelector("a.ql-preview"),O}return l(_,[{key:"listen",value:function(){var C=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(C.linkRange!=null){var V=C.linkRange;C.restoreFocus(),C.quill.formatText(V,"link",!1,h.default.sources.USER),delete C.linkRange}O.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(O,V,L){if(O!=null){if(O.length===0&&L===h.default.sources.USER){var q=C.quill.scroll.descendant(v.default,O.index),M=i(q,2),z=M[0],D=M[1];if(z!=null){C.linkRange=new b.Range(O.index-D,z.length());var F=v.default.formats(z.domNode);C.preview.textContent=F,C.preview.setAttribute("href",F),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(m.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=N},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(29),o=ne(i),l=a(36),c=a(38),u=a(64),d=a(65),h=ne(d),m=a(66),f=ne(m),g=a(67),v=ne(g),b=a(37),y=a(26),p=a(39),w=a(40),j=a(56),S=ne(j),R=a(68),k=ne(R),N=a(27),E=ne(N),T=a(69),_=ne(T),A=a(70),C=ne(A),O=a(71),V=ne(O),L=a(72),q=ne(L),M=a(73),z=ne(M),D=a(13),F=ne(D),W=a(74),H=ne(W),Q=a(75),X=ne(Q),G=a(57),K=ne(G),J=a(41),$=ne(J),Z=a(28),se=ne(Z),pe=a(59),te=ne(pe),ge=a(60),Pe=ne(ge),Xe=a(61),pt=ne(Xe),oe=a(108),ue=ne(oe),ye=a(62),we=ne(ye);function ne(qe){return qe&&qe.__esModule?qe:{default:qe}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":p.FontClass,"formats/size":w.SizeClass,"formats/blockquote":h.default,"formats/code-block":F.default,"formats/header":f.default,"formats/list":v.default,"formats/bold":S.default,"formats/code":D.Code,"formats/italic":k.default,"formats/link":E.default,"formats/script":_.default,"formats/strike":C.default,"formats/underline":V.default,"formats/image":q.default,"formats/video":z.default,"formats/list/item":g.ListItem,"modules/formula":H.default,"modules/syntax":X.default,"modules/toolbar":K.default,"themes/bubble":ue.default,"themes/snow":we.default,"ui/icons":$.default,"ui/picker":se.default,"ui/icon-picker":Pe.default,"ui/color-picker":te.default,"ui/tooltip":pt.default},!0),n.default=o.default},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function v(b,y){for(var p=0;p<y.length;p++){var w=y[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,p){return y&&v(b.prototype,y),p&&v(b,p),b}}(),o=function v(b,y,p){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,y,p)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(p)}},l=a(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var f=function(v){m(b,v);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(p,w){if(w==="+1"||w==="-1"){var j=this.value(p)||0;w=w==="+1"?j+1:j-1}return w===0?(this.remove(p),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,p,w)}},{key:"canAdd",value:function(p,w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,p,w)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,p,parseInt(w))}},{key:"value",value:function(p){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,p))||void 0}}]),b}(c.default.Attributor.Class),g=new f("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(4),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function u(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function d(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){d(f,m);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="blockquote",h.tagName="blockquote",n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function f(g,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,b){return v&&f(g.prototype,v),b&&f(g,b),g}}(),o=a(4),l=c(o);function c(f){return f&&f.__esModule?f:{default:f}}function u(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function d(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function h(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var m=function(f){h(g,f);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),g}(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function j(S,R){for(var k=0;k<R.length;k++){var N=R[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(S,N.key,N)}}return function(S,R,k){return R&&j(S.prototype,R),k&&j(S,k),S}}(),o=function j(S,R,k){S===null&&(S=Function.prototype);var N=Object.getOwnPropertyDescriptor(S,R);if(N===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:j(E,R,k)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(k)}},l=a(0),c=f(l),u=a(4),d=f(u),h=a(25),m=f(h);function f(j){return j&&j.__esModule?j:{default:j}}function g(j,S,R){return S in j?Object.defineProperty(j,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):j[S]=R,j}function v(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function b(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function y(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var p=function(j){y(S,j);function S(){return v(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,[{key:"format",value:function(k,N){k===w.blotName&&!N?this.replaceWith(c.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,k,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,N){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,N),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,k,N))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,k)}}]),S}(d.default);p.blotName="list-item",p.tagName="LI";var w=function(j){y(S,j),i(S,null,[{key:"create",value:function(k){var N=k==="ordered"?"OL":"UL",E=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,N);return(k==="checked"||k==="unchecked")&&E.setAttribute("data-checked",k==="checked"),E}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){v(this,S);var k=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),N=function(T){if(T.target.parentNode===R){var _=k.statics.formats(R),A=c.default.find(T.target);_==="checked"?A.format("list","unchecked"):_==="unchecked"&&A.format("list","checked")}};return R.addEventListener("touchstart",N),R.addEventListener("mousedown",N),k}return i(S,[{key:"format",value:function(k,N){this.children.length>0&&this.children.tail.format(k,N)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,N){if(k instanceof p)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,k,N);else{var E=N==null?this.length():N.offset(this),T=this.split(E);T.parent.insertBefore(k,T)}}},{key:"optimize",value:function(k){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,k);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var N=c.default.create(this.statics.defaultChild);k.moveChildren(N),this.appendChild(N)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,k)}}]),S}(m.default);w.blotName="list",w.scope=c.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[p],n.ListItem=p,n.default=w},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(56),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function u(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function d(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){d(f,m);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="italic",h.tagName=["EM","I"],n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(v,b){for(var y=0;y<b.length;y++){var p=b[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,b,y){return b&&g(v.prototype,b),y&&g(v,y),v}}(),o=function g(v,b,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,b);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,y)}else{if("value"in p)return p.value;var j=p.get;return j===void 0?void 0:j.call(y)}},l=a(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){m(v,g);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(c.default);f.blotName="script",f.tagName=["SUB","SUP"],n.default=f},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function u(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function d(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){d(f,m);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="strike",h.tagName="S",n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function u(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function d(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){d(f,m);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="underline",h.tagName="U",n.default=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(y,p){for(var w=0;w<p.length;w++){var j=p[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,p,w){return p&&b(y.prototype,p),w&&b(y,w),y}}(),o=function b(y,p,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,p);if(j===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,p,w)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(w)}},l=a(0),c=d(l),u=a(27);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function m(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function f(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=["alt","height","width"],v=function(b){f(y,b);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){g.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return g.reduce(function(j,S){return w.hasAttribute(S)&&(j[S]=w.getAttribute(S)),j},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(c.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(y,p){for(var w=0;w<p.length;w++){var j=p[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,p,w){return p&&b(y.prototype,p),w&&b(y,w),y}}(),o=function b(y,p,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,p);if(j===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,p,w)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(w)}},l=a(4),c=a(27),u=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function m(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function f(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var g=["height","width"],v=function(b){f(y,b);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){g.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return j.setAttribute("frameborder","0"),j.setAttribute("allowfullscreen",!0),j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return g.reduce(function(j,S){return w.hasAttribute(S)&&(j[S]=w.getAttribute(S)),j},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function w(j,S){for(var R=0;R<S.length;R++){var k=S[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}return function(j,S,R){return S&&w(j.prototype,S),R&&w(j,R),j}}(),o=function w(j,S,R){j===null&&(j=Function.prototype);var k=Object.getOwnPropertyDescriptor(j,S);if(k===void 0){var N=Object.getPrototypeOf(j);return N===null?void 0:w(N,S,R)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(R)}},l=a(35),c=f(l),u=a(5),d=f(u),h=a(9),m=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function v(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function b(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var y=function(w){b(j,w);function j(){return g(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,null,[{key:"create",value:function(R){var k=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",R)),k}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),j}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var p=function(w){b(j,w),i(j,null,[{key:"register",value:function(){d.default.register(y,!0)}}]);function j(){g(this,j);var S=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return j}(m.default);n.FormulaBlot=y,n.default=p},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function R(k,N){for(var E=0;E<N.length;E++){var T=N[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,N,E){return N&&R(k.prototype,N),E&&R(k,E),k}}(),o=function R(k,N,E){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,N);if(T===void 0){var _=Object.getPrototypeOf(k);return _===null?void 0:R(_,N,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},l=a(0),c=v(l),u=a(5),d=v(u),h=a(9),m=v(h),f=a(13),g=v(f);function v(R){return R&&R.__esModule?R:{default:R}}function b(R,k){if(!(R instanceof k))throw new TypeError("Cannot call a class as a function")}function y(R,k){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:R}function p(R,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);R.prototype=Object.create(k&&k.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(R,k):R.__proto__=k)}var w=function(R){p(k,R);function k(){return b(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return i(k,[{key:"replaceWith",value:function(E){this.domNode.textContent=this.domNode.textContent,this.attach(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,E)}},{key:"highlight",value:function(E){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=E(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),k}(g.default);w.className="ql-syntax";var j=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),S=function(R){p(k,R),i(k,null,[{key:"register",value:function(){d.default.register(j,!0),d.default.register(w,!0)}}]);function k(N,E){b(this,k);var T=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N,E));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){T.highlight(),_=null},T.options.interval)}),T.highlight(),T}return i(k,[{key:"highlight",value:function(){var E=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(_){_.highlight(E.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),k}(m.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var k=window.hljs.highlightAuto(R);return k.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=j,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function k(N,E,T){N===null&&(N=Function.prototype);var _=Object.getOwnPropertyDescriptor(N,E);if(_===void 0){var A=Object.getPrototypeOf(N);return A===null?void 0:k(A,E,T)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(T)}},o=function(){function k(N,E){for(var T=0;T<E.length;T++){var _=E[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(N,_.key,_)}}return function(N,E,T){return E&&k(N.prototype,E),T&&k(N,T),N}}(),l=a(3),c=b(l),u=a(8),d=b(u),h=a(43),m=b(h),f=a(15),g=a(41),v=b(g);function b(k){return k&&k.__esModule?k:{default:k}}function y(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function p(k,N){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:k}function w(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(k,N):k.__proto__=N)}var j=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(k){w(N,k);function N(E,T){y(this,N),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=j);var _=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,E,T));return _.quill.container.classList.add("ql-bubble"),_}return o(N,[{key:"extendToolbar",value:function(T){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),N}(m.default);S.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(k){w(N,k);function N(E,T){y(this,N);var _=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,E,T));return _.quill.on(d.default.events.EDITOR_CHANGE,function(A,C,O,V){if(A===d.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&V===d.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var L=_.quill.getLines(C.index,C.length);if(L.length===1)_.position(_.quill.getBounds(C));else{var q=L[L.length-1],M=_.quill.getIndex(q),z=Math.min(q.length()-1,C.index+C.length-M),D=_.quill.getBounds(new f.Range(M,z));_.position(D)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(N,[{key:"listen",value:function(){var T=this;i(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var _=T.quill.getSelection();_!=null&&T.position(T.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var _=i(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,T),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",_===0)return _;A.style.marginLeft=-1*_-A.offsetWidth/2+"px"}}]),N}(h.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=R,n.default=S},function(r,n,a){r.exports=a(63)}]).default})})(uT);var c$=uT.exports,u$=ls&&ls.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lf=ls&&ls.__assign||function(){return lf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},lf.apply(this,arguments)},d$=ls&&ls.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n},vp=ls&&ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},an=vp(P),h$=vp(Av),Bc=vp(l$),jN=vp(c$),m$=function(t){u$(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(i,o,l,c){var u,d,h,m;i==="text-change"?(d=(u=n).onEditorChangeText)===null||d===void 0||d.call(u,n.editor.root.innerHTML,o,c,n.unprivilegedEditor):i==="selection-change"&&((m=(h=n).onEditorChangeSelection)===null||m===void 0||m.call(h,o,c,n.unprivilegedEditor))};var a=n.isControlled()?r.value:r.defaultValue;return n.value=a??"",n}return e.prototype.validateProps=function(r){var n;if(an.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(an.default.Children.count(r.children)){var a=an.default.Children.only(r.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var a=this,i;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(i=r.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),d$(this.cleanProps,this.dirtyProps).some(function(c){return!Bc.default(r[c],a.props[c])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(a){return!Bc.default(r[a],n.props[a])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(r)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),wN(function(){return a.setEditorSelection(u,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var a=new jN.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Bc.default(r.ops,n.ops):Bc.default(r,n)},e.prototype.setEditorContents=function(r,n){var a=this;this.value=n;var i=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),wN(function(){return a.setEditorSelection(r,i)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var a=r.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var a,i;!((i=(a=r)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=h$.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,a=n.children,i=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){r.editingArea=c}};return an.default.Children.count(a)?an.default.cloneElement(an.default.Children.only(a),l):i?an.default.createElement("pre",lf({},l)):an.default.createElement("div",lf({},l))},e.prototype.render=function(){var r;return an.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,a,i){var o,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,a,i))}},e.prototype.onEditorChangeSelection=function(r,n,a){var i,o,l,c,u,d;if(this.editor){var h=this.getEditorSelection(),m=!h&&r,f=h&&!r;Bc.default(r,h)||(this.selection=r,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,r,n,a),m?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,a):f&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,h,n,a)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=jN.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(an.default.Component);function wN(t){Promise.resolve().then(t)}var f$=m$;const p$=aa(f$);const g$=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},x$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],o=t[r++],l=t[r++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],o=a+1<t.length,l=o?t[a+1]:0,c=a+2<t.length,u=c?t[a+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(m=64)),n.push(r[d],r[h],r[m],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],l=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const h=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||l==null||u==null||h==null)throw new y$;const m=i<<2|l>>4;if(n.push(m),u!==64){const f=l<<4&240|u>>2;if(n.push(f),h!==64){const g=u<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v$=function(t){const e=dT(t);return hT.encodeByteArray(e,!0)},cf=function(t){return v$(t).replace(/\./g,"")},mT=function(t){try{return hT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=()=>b$().__FIREBASE_DEFAULTS__,w$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return g$()||j$()||w$()||N$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fT=t=>{var e,r;return(r=(e=bp())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},k$=t=>{const e=fT(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},pT=()=>{var t;return(t=bp())==null?void 0:t.config},gT=t=>{var e;return(e=bp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[cf(JSON.stringify(r)),cf(JSON.stringify(o)),l].join(".")}const fu={};function E$(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function T$(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let NN=!1;function yT(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||fu[t]===e||fu[t]||NN)return;fu[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",i=E$().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,f){m.setAttribute("width","24"),m.setAttribute("id",f),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{NN=!0,o()},m}function d(m,f){m.setAttribute("id",f),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=T$(n),f=r("text"),g=document.getElementById(f)||document.createElement("span"),v=r("learnmore"),b=document.getElementById(v)||document.createElement("a"),y=r("preprendIcon"),p=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(b,v);const j=u();c(p,y),w.append(p,g,b,j),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}function A$(){var e;const t=(e=bp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O$(){const t=Vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D$(){return!A$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M$(){try{return typeof indexedDB=="object"}catch{return!1}}function L$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="FirebaseError";class da extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=F$,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?V$(i,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new da(a,l,n)}}function V$(t,e){return t.replace(U$,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const U$=/\{\$([^}]+)}/g;function B$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],o=e[a];if(kN(i)&&kN(o)){if(!no(i,o))return!1}else if(i!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function kN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $$(t,e){const r=new q$(t,e);return r.subscribe.bind(r)}class q${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");z$(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=Hg),a.error===void 0&&(a.error=Hg),a.complete===void 0&&(a.complete=Hg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new S$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K$(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:W$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W$(t){return t===Oi?void 0:t}function K$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new H$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const Q$={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Y$=at.INFO,J$={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},X$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=J$[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rb{constructor(e){this.name=e,this._logLevel=Y$,this._logHandler=X$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const Z$=(t,e)=>e.some(r=>t instanceof r);let SN,_N;function eq(){return SN||(SN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tq(){return _N||(_N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,By=new WeakMap,bT=new WeakMap,Wg=new WeakMap,sb=new WeakMap;function rq(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Ya(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&vT.set(r,t)}).catch(()=>{}),sb.set(e,t),e}function sq(t){if(By.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});By.set(t,e)}let $y={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bT.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ya(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nq(t){$y=t($y)}function aq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Kg(this),e,...r);return bT.set(n,e.sort?e.sort():[e]),Ya(n)}:tq().includes(t)?function(...e){return t.apply(Kg(this),e),Ya(vT.get(this))}:function(...e){return Ya(t.apply(Kg(this),e))}}function iq(t){return typeof t=="function"?aq(t):(t instanceof IDBTransaction&&sq(t),Z$(t,eq())?new Proxy(t,$y):t)}function Ya(t){if(t instanceof IDBRequest)return rq(t);if(Wg.has(t))return Wg.get(t);const e=iq(t);return e!==t&&(Wg.set(t,e),sb.set(e,t)),e}const Kg=t=>sb.get(t);function oq(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(t,e),l=Ya(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ya(o.result),c.oldVersion,c.newVersion,Ya(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const lq=["get","getKey","getAll","getAllKeys","count"],cq=["put","add","delete","clear"],Gg=new Map;function EN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gg.get(e))return Gg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=cq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||lq.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return Gg.set(e,i),i}nq(t=>({...t,get:(e,r,n)=>EN(e,r)||t.get(e,r,n),has:(e,r)=>!!EN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(dq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function dq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qy="@firebase/app",TN="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new rb("@firebase/app"),hq="@firebase/app-compat",mq="@firebase/analytics-compat",fq="@firebase/analytics",pq="@firebase/app-check-compat",gq="@firebase/app-check",xq="@firebase/auth",yq="@firebase/auth-compat",vq="@firebase/database",bq="@firebase/data-connect",jq="@firebase/database-compat",wq="@firebase/functions",Nq="@firebase/functions-compat",kq="@firebase/installations",Sq="@firebase/installations-compat",_q="@firebase/messaging",Eq="@firebase/messaging-compat",Tq="@firebase/performance",Cq="@firebase/performance-compat",Aq="@firebase/remote-config",Pq="@firebase/remote-config-compat",Iq="@firebase/storage",Rq="@firebase/storage-compat",Oq="@firebase/firestore",Dq="@firebase/ai",Mq="@firebase/firestore-compat",Lq="firebase",Fq="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="[DEFAULT]",Vq={[qy]:"fire-core",[hq]:"fire-core-compat",[fq]:"fire-analytics",[mq]:"fire-analytics-compat",[gq]:"fire-app-check",[pq]:"fire-app-check-compat",[xq]:"fire-auth",[yq]:"fire-auth-compat",[vq]:"fire-rtdb",[bq]:"fire-data-connect",[jq]:"fire-rtdb-compat",[wq]:"fire-fn",[Nq]:"fire-fn-compat",[kq]:"fire-iid",[Sq]:"fire-iid-compat",[_q]:"fire-fcm",[Eq]:"fire-fcm-compat",[Tq]:"fire-perf",[Cq]:"fire-perf-compat",[Aq]:"fire-rc",[Pq]:"fire-rc-compat",[Iq]:"fire-gcs",[Rq]:"fire-gcs-compat",[Oq]:"fire-fst",[Mq]:"fire-fst-compat",[Dq]:"fire-vertex","fire-js":"fire-js",[Lq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,Uq=new Map,Hy=new Map;function CN(t,e){try{t.container.addComponent(e)}catch(r){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ll(t){const e=t.name;if(Hy.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const r of uf.values())CN(r,t);for(const r of Uq.values())CN(r,t);return!0}function nb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new yd("app","Firebase",Bq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=Fq;function jT(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:zy,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Ja.create("bad-app-name",{appName:String(a)});if(r||(r=pT()),!r)throw Ja.create("no-options");const i=uf.get(a);if(i){if(no(r,i.options)&&no(n,i.config))return i;throw Ja.create("duplicate-app",{appName:a})}const o=new G$(a);for(const c of Hy.values())o.addComponent(c);const l=new $q(r,n,o);return uf.set(a,l),l}function wT(t=zy){const e=uf.get(t);if(!e&&t===zy&&pT())return jT();if(!e)throw Ja.create("no-app",{appName:t});return e}function Xa(t,e,r){let n=Vq[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const o=[`Unable to register library "${n}" with version "${e}":`];a&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(o.join(" "));return}Ll(new ao(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="firebase-heartbeat-database",zq=1,Wu="firebase-heartbeat-store";let Qg=null;function NT(){return Qg||(Qg=oq(qq,zq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function Hq(t){try{const r=(await NT()).transaction(Wu),n=await r.objectStore(Wu).get(kT(t));return await r.done,n}catch(e){if(e instanceof da)Zn.warn(e.message);else{const r=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(r.message)}}}async function AN(t,e){try{const n=(await NT()).transaction(Wu,"readwrite");await n.objectStore(Wu).put(e,kT(t)),await n.done}catch(r){if(r instanceof da)Zn.warn(r.message);else{const n=Ja.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zn.warn(n.message)}}}function kT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=1024,Kq=30;class Gq{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Yq(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Kq){const o=Jq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Zn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=PN(),{heartbeatsToSend:n,unsentEntries:a}=Qq(this._heartbeatsCache.heartbeats),i=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Zn.warn(r),""}}}function PN(){return new Date().toISOString().substring(0,10)}function Qq(t,e=Wq){const r=[];let n=t.slice();for(const a of t){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),IN(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),IN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Yq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M$()?L$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Hq(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return AN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return AN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function IN(t){return cf(JSON.stringify({version:2,heartbeats:t})).length}function Jq(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){Ll(new ao("platform-logger",e=>new uq(e),"PRIVATE")),Ll(new ao("heartbeat",e=>new Gq(e),"PRIVATE")),Xa(qy,TN,t),Xa(qy,TN,"esm2020"),Xa("fire-js","")}Xq("");var RN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,ST;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function E(){}E.prototype=N.prototype,k.D=N.prototype,k.prototype=new E,k.prototype.constructor=k,k.C=function(T,_,A){for(var C=Array(arguments.length-2),O=2;O<arguments.length;O++)C[O-2]=arguments[O];return N.prototype[_].apply(T,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,N,E){E||(E=0);var T=Array(16);if(typeof N=="string")for(var _=0;16>_;++_)T[_]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(_=0;16>_;++_)T[_]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=k.g[0],E=k.g[1],_=k.g[2];var A=k.g[3],C=N+(A^E&(_^A))+T[0]+3614090360&4294967295;N=E+(C<<7&4294967295|C>>>25),C=A+(_^N&(E^_))+T[1]+3905402710&4294967295,A=N+(C<<12&4294967295|C>>>20),C=_+(E^A&(N^E))+T[2]+606105819&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(N^_&(A^N))+T[3]+3250441966&4294967295,E=_+(C<<22&4294967295|C>>>10),C=N+(A^E&(_^A))+T[4]+4118548399&4294967295,N=E+(C<<7&4294967295|C>>>25),C=A+(_^N&(E^_))+T[5]+1200080426&4294967295,A=N+(C<<12&4294967295|C>>>20),C=_+(E^A&(N^E))+T[6]+2821735955&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(N^_&(A^N))+T[7]+4249261313&4294967295,E=_+(C<<22&4294967295|C>>>10),C=N+(A^E&(_^A))+T[8]+1770035416&4294967295,N=E+(C<<7&4294967295|C>>>25),C=A+(_^N&(E^_))+T[9]+2336552879&4294967295,A=N+(C<<12&4294967295|C>>>20),C=_+(E^A&(N^E))+T[10]+4294925233&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(N^_&(A^N))+T[11]+2304563134&4294967295,E=_+(C<<22&4294967295|C>>>10),C=N+(A^E&(_^A))+T[12]+1804603682&4294967295,N=E+(C<<7&4294967295|C>>>25),C=A+(_^N&(E^_))+T[13]+4254626195&4294967295,A=N+(C<<12&4294967295|C>>>20),C=_+(E^A&(N^E))+T[14]+2792965006&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(N^_&(A^N))+T[15]+1236535329&4294967295,E=_+(C<<22&4294967295|C>>>10),C=N+(_^A&(E^_))+T[1]+4129170786&4294967295,N=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(N^E))+T[6]+3225465664&4294967295,A=N+(C<<9&4294967295|C>>>23),C=_+(N^E&(A^N))+T[11]+643717713&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^N&(_^A))+T[0]+3921069994&4294967295,E=_+(C<<20&4294967295|C>>>12),C=N+(_^A&(E^_))+T[5]+3593408605&4294967295,N=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(N^E))+T[10]+38016083&4294967295,A=N+(C<<9&4294967295|C>>>23),C=_+(N^E&(A^N))+T[15]+3634488961&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^N&(_^A))+T[4]+3889429448&4294967295,E=_+(C<<20&4294967295|C>>>12),C=N+(_^A&(E^_))+T[9]+568446438&4294967295,N=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(N^E))+T[14]+3275163606&4294967295,A=N+(C<<9&4294967295|C>>>23),C=_+(N^E&(A^N))+T[3]+4107603335&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^N&(_^A))+T[8]+1163531501&4294967295,E=_+(C<<20&4294967295|C>>>12),C=N+(_^A&(E^_))+T[13]+2850285829&4294967295,N=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(N^E))+T[2]+4243563512&4294967295,A=N+(C<<9&4294967295|C>>>23),C=_+(N^E&(A^N))+T[7]+1735328473&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^N&(_^A))+T[12]+2368359562&4294967295,E=_+(C<<20&4294967295|C>>>12),C=N+(E^_^A)+T[5]+4294588738&4294967295,N=E+(C<<4&4294967295|C>>>28),C=A+(N^E^_)+T[8]+2272392833&4294967295,A=N+(C<<11&4294967295|C>>>21),C=_+(A^N^E)+T[11]+1839030562&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^N)+T[14]+4259657740&4294967295,E=_+(C<<23&4294967295|C>>>9),C=N+(E^_^A)+T[1]+2763975236&4294967295,N=E+(C<<4&4294967295|C>>>28),C=A+(N^E^_)+T[4]+1272893353&4294967295,A=N+(C<<11&4294967295|C>>>21),C=_+(A^N^E)+T[7]+4139469664&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^N)+T[10]+3200236656&4294967295,E=_+(C<<23&4294967295|C>>>9),C=N+(E^_^A)+T[13]+681279174&4294967295,N=E+(C<<4&4294967295|C>>>28),C=A+(N^E^_)+T[0]+3936430074&4294967295,A=N+(C<<11&4294967295|C>>>21),C=_+(A^N^E)+T[3]+3572445317&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^N)+T[6]+76029189&4294967295,E=_+(C<<23&4294967295|C>>>9),C=N+(E^_^A)+T[9]+3654602809&4294967295,N=E+(C<<4&4294967295|C>>>28),C=A+(N^E^_)+T[12]+3873151461&4294967295,A=N+(C<<11&4294967295|C>>>21),C=_+(A^N^E)+T[15]+530742520&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^N)+T[2]+3299628645&4294967295,E=_+(C<<23&4294967295|C>>>9),C=N+(_^(E|~A))+T[0]+4096336452&4294967295,N=E+(C<<6&4294967295|C>>>26),C=A+(E^(N|~_))+T[7]+1126891415&4294967295,A=N+(C<<10&4294967295|C>>>22),C=_+(N^(A|~E))+T[14]+2878612391&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~N))+T[5]+4237533241&4294967295,E=_+(C<<21&4294967295|C>>>11),C=N+(_^(E|~A))+T[12]+1700485571&4294967295,N=E+(C<<6&4294967295|C>>>26),C=A+(E^(N|~_))+T[3]+2399980690&4294967295,A=N+(C<<10&4294967295|C>>>22),C=_+(N^(A|~E))+T[10]+4293915773&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~N))+T[1]+2240044497&4294967295,E=_+(C<<21&4294967295|C>>>11),C=N+(_^(E|~A))+T[8]+1873313359&4294967295,N=E+(C<<6&4294967295|C>>>26),C=A+(E^(N|~_))+T[15]+4264355552&4294967295,A=N+(C<<10&4294967295|C>>>22),C=_+(N^(A|~E))+T[6]+2734768916&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~N))+T[13]+1309151649&4294967295,E=_+(C<<21&4294967295|C>>>11),C=N+(_^(E|~A))+T[4]+4149444226&4294967295,N=E+(C<<6&4294967295|C>>>26),C=A+(E^(N|~_))+T[11]+3174756917&4294967295,A=N+(C<<10&4294967295|C>>>22),C=_+(N^(A|~E))+T[2]+718787259&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~N))+T[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(_+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+_&4294967295,k.g[3]=k.g[3]+A&4294967295}n.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var E=N-this.blockSize,T=this.B,_=this.h,A=0;A<N;){if(_==0)for(;A<=E;)a(this,k,A),A+=this.blockSize;if(typeof k=="string"){for(;A<N;)if(T[_++]=k.charCodeAt(A++),_==this.blockSize){a(this,T),_=0;break}}else for(;A<N;)if(T[_++]=k[A++],_==this.blockSize){a(this,T),_=0;break}}this.h=_,this.o+=N},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var E=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=E&255,E/=256;for(this.u(k),k=Array(16),N=E=0;4>N;++N)for(var T=0;32>T;T+=8)k[E++]=this.g[N]>>>T&255;return k};function i(k,N){var E=l;return Object.prototype.hasOwnProperty.call(E,k)?E[k]:E[k]=N(k)}function o(k,N){this.h=N;for(var E=[],T=!0,_=k.length-1;0<=_;_--){var A=k[_]|0;T&&A==N||(E[_]=A,T=!1)}this.g=E}var l={};function c(k){return-128<=k&&128>k?i(k,function(N){return new o([N|0],0>N?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return b(u(-k));for(var N=[],E=1,T=0;k>=E;T++)N[T]=k/E|0,E*=4294967296;return new o(N,0)}function d(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return b(d(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(N,8)),T=h,_=0;_<k.length;_+=8){var A=Math.min(8,k.length-_),C=parseInt(k.substring(_,_+A),N);8>A?(A=u(Math.pow(N,A)),T=T.j(A).add(u(C))):(T=T.j(E),T=T.add(u(C)))}return T}var h=c(0),m=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var k=0,N=1,E=0;E<this.g.length;E++){var T=this.i(E);k+=(0<=T?T:4294967296+T)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(g(this))return"0";if(v(this))return"-"+b(this).toString(k);for(var N=u(Math.pow(k,6)),E=this,T="";;){var _=j(E,N).g;E=y(E,_.j(N));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(k);if(E=_,g(E))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function g(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function v(k){return k.h==-1}t.l=function(k){return k=y(this,k),v(k)?-1:g(k)?0:1};function b(k){for(var N=k.g.length,E=[],T=0;T<N;T++)E[T]=~k.g[T];return new o(E,~k.h).add(m)}t.abs=function(){return v(this)?b(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),E=[],T=0,_=0;_<=N;_++){var A=T+(this.i(_)&65535)+(k.i(_)&65535),C=(A>>>16)+(this.i(_)>>>16)+(k.i(_)>>>16);T=C>>>16,A&=65535,C&=65535,E[_]=C<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(k,N){return k.add(b(N))}t.j=function(k){if(g(this)||g(k))return h;if(v(this))return v(k)?b(this).j(b(k)):b(b(this).j(k));if(v(k))return b(this.j(b(k)));if(0>this.l(f)&&0>k.l(f))return u(this.m()*k.m());for(var N=this.g.length+k.g.length,E=[],T=0;T<2*N;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var _=0;_<k.g.length;_++){var A=this.i(T)>>>16,C=this.i(T)&65535,O=k.i(_)>>>16,V=k.i(_)&65535;E[2*T+2*_]+=C*V,p(E,2*T+2*_),E[2*T+2*_+1]+=A*V,p(E,2*T+2*_+1),E[2*T+2*_+1]+=C*O,p(E,2*T+2*_+1),E[2*T+2*_+2]+=A*O,p(E,2*T+2*_+2)}for(T=0;T<N;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=N;T<2*N;T++)E[T]=0;return new o(E,0)};function p(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function w(k,N){this.g=k,this.h=N}function j(k,N){if(g(N))throw Error("division by zero");if(g(k))return new w(h,h);if(v(k))return N=j(b(k),N),new w(b(N.g),b(N.h));if(v(N))return N=j(k,b(N)),new w(b(N.g),N.h);if(30<k.g.length){if(v(k)||v(N))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=N;0>=T.l(k);)E=S(E),T=S(T);var _=R(E,1),A=R(T,1);for(T=R(T,2),E=R(E,2);!g(T);){var C=A.add(T);0>=C.l(k)&&(_=_.add(E),A=C),T=R(T,1),E=R(E,1)}return N=y(k,_.j(N)),new w(_,N)}for(_=h;0<=k.l(N);){for(E=Math.max(1,Math.floor(k.m()/N.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=u(E),C=A.j(N);v(C)||0<C.l(k);)E-=T,A=u(E),C=A.j(N);g(A)&&(A=m),_=_.add(A),k=y(k,C)}return new w(_,k)}t.A=function(k){return j(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),E=[],T=0;T<N;T++)E[T]=this.i(T)&k.i(T);return new o(E,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),E=[],T=0;T<N;T++)E[T]=this.i(T)|k.i(T);return new o(E,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),E=[],T=0;T<N;T++)E[T]=this.i(T)^k.i(T);return new o(E,this.h^k.h)};function S(k){for(var N=k.g.length+1,E=[],T=0;T<N;T++)E[T]=k.i(T)<<1|k.i(T-1)>>>31;return new o(E,k.h)}function R(k,N){var E=N>>5;N%=32;for(var T=k.g.length-E,_=[],A=0;A<T;A++)_[A]=0<N?k.i(A+E)>>>N|k.i(A+E+1)<<32-N:k.i(A+E);return new o(_,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ST=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Za=o}).apply(typeof RN<"u"?RN:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Qc,ET,tm,Wy,TT,CT,AT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,I,U){return x==Array.prototype||x==Object.prototype||(x[I]=U.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var I=0;I<x.length;++I){var U=x[I];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function a(x,I){if(I)e:{var U=n;x=x.split(".");for(var Y=0;Y<x.length-1;Y++){var re=x[Y];if(!(re in U))break e;U=U[re]}x=x[x.length-1],Y=U[x],I=I(Y),I!=Y&&I!=null&&e(U,x,{configurable:!0,writable:!0,value:I})}}function i(x,I){x instanceof String&&(x+="");var U=0,Y=!1,re={next:function(){if(!Y&&U<x.length){var ae=U++;return{value:I(ae,x[ae]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}a("Array.prototype.values",function(x){return x||function(){return i(this,function(I,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(x){var I=typeof x;return I=I!="object"?I:x?Array.isArray(x)?"array":I:"null",I=="array"||I=="object"&&typeof x.length=="number"}function u(x){var I=typeof x;return I=="object"&&x!=null||I=="function"}function d(x,I,U){return x.call.apply(x.bind,arguments)}function h(x,I,U){if(!x)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,Y),x.apply(I,re)}}return function(){return x.apply(I,arguments)}}function m(x,I,U){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function f(x,I){var U=Array.prototype.slice.call(arguments,1);return function(){var Y=U.slice();return Y.push.apply(Y,arguments),x.apply(this,Y)}}function g(x,I){function U(){}U.prototype=I.prototype,x.aa=I.prototype,x.prototype=new U,x.prototype.constructor=x,x.Qb=function(Y,re,ae){for(var je=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)je[jt-2]=arguments[jt];return I.prototype[re].apply(Y,je)}}function v(x){const I=x.length;if(0<I){const U=Array(I);for(let Y=0;Y<I;Y++)U[Y]=x[Y];return U}return[]}function b(x,I){for(let U=1;U<arguments.length;U++){const Y=arguments[U];if(c(Y)){const re=x.length||0,ae=Y.length||0;x.length=re+ae;for(let je=0;je<ae;je++)x[re+je]=Y[je]}else x.push(Y)}}class y{constructor(I,U){this.i=I,this.j=U,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function p(x){return/^[\s\xa0]*$/.test(x)}function w(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function j(x){return j[" "](x),x}j[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(x,I,U){for(const Y in x)I.call(U,x[Y],Y,x)}function k(x,I){for(const U in x)I.call(void 0,x[U],U,x)}function N(x){const I={};for(const U in x)I[U]=x[U];return I}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(x,I){let U,Y;for(let re=1;re<arguments.length;re++){Y=arguments[re];for(U in Y)x[U]=Y[U];for(let ae=0;ae<E.length;ae++)U=E[ae],Object.prototype.hasOwnProperty.call(Y,U)&&(x[U]=Y[U])}}function _(x){var I=1;x=x.split(":");const U=[];for(;0<I&&x.length;)U.push(x.shift()),I--;return x.length&&U.push(x.join(":")),U}function A(x){l.setTimeout(()=>{throw x},0)}function C(){var x=z;let I=null;return x.g&&(I=x.g,x.g=x.g.next,x.g||(x.h=null),I.next=null),I}class O{constructor(){this.h=this.g=null}add(I,U){const Y=V.get();Y.set(I,U),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var V=new y(()=>new L,x=>x.reset());class L{constructor(){this.next=this.g=this.h=null}set(I,U){this.h=I,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let q,M=!1,z=new O,D=()=>{const x=l.Promise.resolve(void 0);q=()=>{x.then(F)}};var F=()=>{for(var x;x=C();){try{x.h.call(x.g)}catch(U){A(U)}var I=V;I.j(x),100>I.h&&(I.h++,x.next=I.g,I.g=x)}M=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(x,I){this.type=x,this.g=this.target=I,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,I=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const U=()=>{};l.addEventListener("test",U,I),l.removeEventListener("test",U,I)}catch{}return x}();function X(x,I){if(H.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var U=this.type=x.type,Y=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=I,I=x.relatedTarget){if(S){e:{try{j(I.nodeName);var re=!0;break e}catch{}re=!1}re||(I=null)}}else U=="mouseover"?I=x.fromElement:U=="mouseout"&&(I=x.toElement);this.relatedTarget=I,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:G[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&X.aa.h.call(this)}}g(X,H);var G={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),J=0;function $(x,I,U,Y,re){this.listener=x,this.proxy=null,this.src=I,this.type=U,this.capture=!!Y,this.ha=re,this.key=++J,this.da=this.fa=!1}function Z(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function se(x){this.src=x,this.g={},this.h=0}se.prototype.add=function(x,I,U,Y,re){var ae=x.toString();x=this.g[ae],x||(x=this.g[ae]=[],this.h++);var je=te(x,I,Y,re);return-1<je?(I=x[je],U||(I.fa=!1)):(I=new $(I,this.src,ae,!!Y,re),I.fa=U,x.push(I)),I};function pe(x,I){var U=I.type;if(U in x.g){var Y=x.g[U],re=Array.prototype.indexOf.call(Y,I,void 0),ae;(ae=0<=re)&&Array.prototype.splice.call(Y,re,1),ae&&(Z(I),x.g[U].length==0&&(delete x.g[U],x.h--))}}function te(x,I,U,Y){for(var re=0;re<x.length;++re){var ae=x[re];if(!ae.da&&ae.listener==I&&ae.capture==!!U&&ae.ha==Y)return re}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Pe={};function Xe(x,I,U,Y,re){if(Y&&Y.once)return ue(x,I,U,Y,re);if(Array.isArray(I)){for(var ae=0;ae<I.length;ae++)Xe(x,I[ae],U,Y,re);return null}return U=Wt(U),x&&x[K]?x.K(I,U,u(Y)?!!Y.capture:!!Y,re):pt(x,I,U,!1,Y,re)}function pt(x,I,U,Y,re,ae){if(!I)throw Error("Invalid event type");var je=u(re)?!!re.capture:!!re,jt=Ue(x);if(jt||(x[ge]=jt=new se(x)),U=jt.add(I,U,Y,je,ae),U.proxy)return U;if(Y=oe(),U.proxy=Y,Y.src=x,Y.listener=U,x.addEventListener)Q||(re=je),re===void 0&&(re=!1),x.addEventListener(I.toString(),Y,re);else if(x.attachEvent)x.attachEvent(ne(I.toString()),Y);else if(x.addListener&&x.removeListener)x.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return U}function oe(){function x(U){return I.call(x.src,x.listener,U)}const I=qe;return x}function ue(x,I,U,Y,re){if(Array.isArray(I)){for(var ae=0;ae<I.length;ae++)ue(x,I[ae],U,Y,re);return null}return U=Wt(U),x&&x[K]?x.L(I,U,u(Y)?!!Y.capture:!!Y,re):pt(x,I,U,!0,Y,re)}function ye(x,I,U,Y,re){if(Array.isArray(I))for(var ae=0;ae<I.length;ae++)ye(x,I[ae],U,Y,re);else Y=u(Y)?!!Y.capture:!!Y,U=Wt(U),x&&x[K]?(x=x.i,I=String(I).toString(),I in x.g&&(ae=x.g[I],U=te(ae,U,Y,re),-1<U&&(Z(ae[U]),Array.prototype.splice.call(ae,U,1),ae.length==0&&(delete x.g[I],x.h--)))):x&&(x=Ue(x))&&(I=x.g[I.toString()],x=-1,I&&(x=te(I,U,Y,re)),(U=-1<x?I[x]:null)&&we(U))}function we(x){if(typeof x!="number"&&x&&!x.da){var I=x.src;if(I&&I[K])pe(I.i,x);else{var U=x.type,Y=x.proxy;I.removeEventListener?I.removeEventListener(U,Y,x.capture):I.detachEvent?I.detachEvent(ne(U),Y):I.addListener&&I.removeListener&&I.removeListener(Y),(U=Ue(I))?(pe(U,x),U.h==0&&(U.src=null,I[ge]=null)):Z(x)}}}function ne(x){return x in Pe?Pe[x]:Pe[x]="on"+x}function qe(x,I){if(x.da)x=!0;else{I=new X(I,this);var U=x.listener,Y=x.ha||x.src;x.fa&&we(x),x=U.call(Y,I)}return x}function Ue(x){return x=x[ge],x instanceof se?x:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(x){return typeof x=="function"?x:(x[ze]||(x[ze]=function(I){return x.handleEvent(I)}),x[ze])}function dt(){W.call(this),this.i=new se(this),this.M=this,this.F=null}g(dt,W),dt.prototype[K]=!0,dt.prototype.removeEventListener=function(x,I,U,Y){ye(this,x,I,U,Y)};function Ge(x,I){var U,Y=x.F;if(Y)for(U=[];Y;Y=Y.F)U.push(Y);if(x=x.M,Y=I.type||I,typeof I=="string")I=new H(I,x);else if(I instanceof H)I.target=I.target||x;else{var re=I;I=new H(Y,x),T(I,re)}if(re=!0,U)for(var ae=U.length-1;0<=ae;ae--){var je=I.g=U[ae];re=_r(je,Y,!0,I)&&re}if(je=I.g=x,re=_r(je,Y,!0,I)&&re,re=_r(je,Y,!1,I)&&re,U)for(ae=0;ae<U.length;ae++)je=I.g=U[ae],re=_r(je,Y,!1,I)&&re}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var x=this.i,I;for(I in x.g){for(var U=x.g[I],Y=0;Y<U.length;Y++)Z(U[Y]);delete x.g[I],x.h--}}this.F=null},dt.prototype.K=function(x,I,U,Y){return this.i.add(String(x),I,!1,U,Y)},dt.prototype.L=function(x,I,U,Y){return this.i.add(String(x),I,!0,U,Y)};function _r(x,I,U,Y){if(I=x.i.g[String(I)],!I)return!0;I=I.concat();for(var re=!0,ae=0;ae<I.length;++ae){var je=I[ae];if(je&&!je.da&&je.capture==U){var jt=je.listener,xr=je.ha||je.src;je.fa&&pe(x.i,je),re=jt.call(xr,Y)!==!1&&re}}return re&&!Y.defaultPrevented}function bt(x,I,U){if(typeof x=="function")U&&(x=m(x,U));else if(x&&typeof x.handleEvent=="function")x=m(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(x,I||0)}function Jt(x){x.g=bt(()=>{x.g=null,x.i&&(x.i=!1,Jt(x))},x.l);const I=x.h;x.h=null,x.m.apply(null,I)}class Rs extends W{constructor(I,U){super(),this.m=I,this.l=U,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(x){W.call(this),this.h=x,this.g={}}g(Tn,W);var No=[];function wi(x){R(x.g,function(I,U){this.g.hasOwnProperty(U)&&we(I)},x),x.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),wi(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=l.JSON.stringify,ko=l.JSON.parse,ee=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function fe(){}fe.prototype.h=null;function et(x){return x.h||(x.h=x.i())}function mr(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gc(){H.call(this,"d")}g(gc,H);function xs(){H.call(this,"c")}g(xs,H);var ys={},as=null;function Ni(){return as=as||new dt}ys.La="serverreachability";function vs(x){H.call(this,ys.La,x)}g(vs,H);function ha(x){const I=Ni();Ge(I,new vs(I))}ys.STAT_EVENT="statevent";function ki(x,I){H.call(this,ys.STAT_EVENT,x),this.stat=I}g(ki,H);function fr(x){const I=Ni();Ge(I,new ki(I,x))}ys.Ma="timingevent";function xc(x,I){H.call(this,ys.Ma,x),this.size=I}g(xc,H);function Cn(x,I){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},I)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function Wp(x,I,U,Y,re,ae){x.info(function(){if(x.g)if(ae)for(var je="",jt=ae.split("&"),xr=0;xr<jt.length;xr++){var ft=jt[xr].split("=");if(1<ft.length){var Er=ft[0];ft=ft[1];var Tr=Er.split("_");je=2<=Tr.length&&Tr[1]=="type"?je+(Er+"="+ft+"&"):je+(Er+"=redacted&")}}else je=null;else je=ae;return"XMLHTTP REQ ("+Y+") [attempt "+re+"]: "+I+`
`+U+`
`+je})}function Kp(x,I,U,Y,re,ae,je){x.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+re+"]: "+I+`
`+U+`
`+ae+" "+je})}function ma(x,I,U,Y){x.info(function(){return"XMLHTTP TEXT ("+I+"): "+Qp(x,U)+(Y?" "+Y:"")})}function Gp(x,I){x.info(function(){return"TIMEOUT: "+I})}Si.prototype.info=function(){};function Qp(x,I){if(!x.g)return I;if(!I)return null;try{var U=JSON.parse(I);if(U){for(x=0;x<U.length;x++)if(Array.isArray(U[x])){var Y=U[x];if(!(2>Y.length)){var re=Y[1];if(Array.isArray(re)&&!(1>re.length)){var ae=re[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var je=1;je<re.length;je++)re[je]=""}}}}return Xs(U)}catch{return I}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},So={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zs;function _o(){}g(_o,fe),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},Zs=new _o;function en(x,I,U,Y){this.j=x,this.i=I,this.l=U,this.R=Y||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var Ds={},Eo={};function To(x,I,U){x.L=1,x.v=Xt(Ie(I)),x.m=U,x.P=!0,Id(x,null)}function Id(x,I){x.F=Date.now(),Ao(x),x.A=Ie(x.v);var U=x.A,Y=x.R;Array.isArray(Y)||(Y=[String(Y)]),xj(U.i,"t",Y),x.C=0,U=x.j.J,x.h=new Os,x.g=Dj(x.j,U?I:null,!x.m),0<x.O&&(x.M=new Rs(m(x.Y,x,x.g),x.O)),I=x.U,U=x.g,Y=x.ca;var re="readystatechange";Array.isArray(re)||(re&&(No[0]=re.toString()),re=No);for(var ae=0;ae<re.length;ae++){var je=Xe(U,re[ae],Y||I.handleEvent,!1,I.h||I);if(!je)break;I.g[je.key]=je}I=x.H?N(x.H):{},x.m?(x.u||(x.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,I)):(x.u="GET",x.g.ea(x.A,x.u,null,I)),ha(),Wp(x.i,x.u,x.A,x.l,x.R,x.m)}en.prototype.ca=function(x){x=x.target;const I=this.M;I&&An(x)==3?I.j():this.Y(x)},en.prototype.Y=function(x){try{if(x==this.g)e:{const Tr=An(this.g);var I=this.g.Ba();const Mo=this.g.Z();if(!(3>Tr)&&(Tr!=3||this.g&&(this.h.h||this.g.oa()||kj(this.g)))){this.J||Tr!=4||I==7||(I==8||0>=Mo?ha(3):ha(2)),Po(this);var U=this.g.Z();this.X=U;t:if(Co(this)){var Y=kj(this.g);x="";var re=Y.length,ae=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),fa(this);var je="";break t}this.h.i=new l.TextDecoder}for(I=0;I<re;I++)this.h.h=!0,x+=this.h.i.decode(Y[I],{stream:!(ae&&I==re-1)});Y.length=0,this.h.g+=x,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=U==200,Kp(this.i,this.u,this.A,this.l,this.R,Tr,U),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,xr=this.g;if((jt=xr.g?xr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(jt)){var ft=jt;break t}}ft=null}if(U=ft)ma(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,U);else{this.o=!1,this.s=3,fr(12),tn(this),fa(this);break e}}if(this.P){U=!0;let Ms;for(;!this.J&&this.C<je.length;)if(Ms=Rd(this,je),Ms==Eo){Tr==4&&(this.s=4,fr(14),U=!1),ma(this.i,this.l,null,"[Incomplete Response]");break}else if(Ms==Ds){this.s=4,fr(15),ma(this.i,this.l,je,"[Invalid Chunk]"),U=!1;break}else ma(this.i,this.l,Ms,null),Io(this,Ms);if(Co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tr!=4||je.length!=0||this.h.h||(this.s=1,fr(16),U=!1),this.o=this.o&&U,!U)ma(this.i,this.l,je,"[Invalid Chunked Response]"),tn(this),fa(this);else if(0<je.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),Zp(Er),Er.M=!0,fr(11))}}else ma(this.i,this.l,je,null),Io(this,je);Tr==4&&tn(this),this.o&&!this.J&&(Tr==4?Pj(this.j,this):(this.o=!1,Ao(this)))}else f3(this.g),U==400&&0<je.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),tn(this),fa(this)}}}catch{}finally{}};function Co(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function Rd(x,I){var U=x.C,Y=I.indexOf(`
`,U);return Y==-1?Eo:(U=Number(I.substring(U,Y)),isNaN(U)?Ds:(Y+=1,Y+U>I.length?Eo:(I=I.slice(Y,Y+U),x.C=Y+U,I)))}en.prototype.cancel=function(){this.J=!0,tn(this)};function Ao(x){x.S=Date.now()+x.I,Od(x,x.I)}function Od(x,I){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Cn(m(x.ba,x),I)}function Po(x){x.B&&(l.clearTimeout(x.B),x.B=null)}en.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Gp(this.i,this.A),this.L!=2&&(ha(),fr(17)),tn(this),this.s=2,fa(this)):Od(this,this.S-x)};function fa(x){x.j.G==0||x.J||Pj(x.j,x)}function tn(x){Po(x);var I=x.M;I&&typeof I.ma=="function"&&I.ma(),x.M=null,wi(x.U),x.g&&(I=x.g,x.g=null,I.abort(),I.ma())}function Io(x,I){try{var U=x.j;if(U.G!=0&&(U.g==x||Ro(U.h,x))){if(!x.K&&Ro(U.h,x)&&U.G==3){try{var Y=U.Da.g.parse(I)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var re=Y;if(re[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<x.F)Bd(U),Vd(U);else break e;Xp(U),fr(18)}}else U.za=re[1],0<U.za-U.T&&37500>re[2]&&U.F&&U.v==0&&!U.C&&(U.C=Cn(m(U.Za,U),6e3));if(1>=bc(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Ei(U,11)}else if((x.K||U.g==x)&&Bd(U),!p(I))for(re=U.Da.g.parse(I),I=0;I<re.length;I++){let ft=re[I];if(U.T=ft[0],ft=ft[1],U.G==2)if(ft[0]=="c"){U.K=ft[1],U.ia=ft[2];const Er=ft[3];Er!=null&&(U.la=Er,U.j.info("VER="+U.la));const Tr=ft[4];Tr!=null&&(U.Aa=Tr,U.j.info("SVER="+U.Aa));const Mo=ft[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(Y=1.5*Mo,U.L=Y,U.j.info("backChannelRequestTimeoutMs_="+Y)),Y=U;const Ms=x.g;if(Ms){const qd=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var ae=Y.h;ae.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(B(ae,ae.h),ae.h=null))}if(Y.D){const eg=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;eg&&(Y.ya=eg,Qe(Y.I,Y.D,eg))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-x.F,U.j.info("Handshake RTT: "+U.R+"ms")),Y=U;var je=x;if(Y.qa=Oj(Y,Y.J?Y.ia:null,Y.W),je.K){le(Y.h,je);var jt=je,xr=Y.L;xr&&(jt.I=xr),jt.B&&(Po(jt),Ao(jt)),Y.g=je}else Cj(Y);0<U.i.length&&Ud(U)}else ft[0]!="stop"&&ft[0]!="close"||Ei(U,7);else U.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Ei(U,7):Jp(U):ft[0]!="noop"&&U.l&&U.l.ta(ft),U.v=0)}}ha(4)}catch{}}var Dd=class{constructor(x,I){this.g=x,this.map=I}};function yc(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vc(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function bc(x){return x.h?1:x.g?x.g.size:0}function Ro(x,I){return x.h?x.h==I:x.g?x.g.has(I):!1}function B(x,I){x.g?x.g.add(I):x.h=I}function le(x,I){x.h&&x.h==I?x.h=null:x.g&&x.g.has(I)&&x.g.delete(I)}yc.prototype.cancel=function(){if(this.i=ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ce(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let I=x.i;for(const U of x.g.values())I=I.concat(U.D);return I}return v(x.i)}function ve(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var I=[],U=x.length,Y=0;Y<U;Y++)I.push(x[Y]);return I}I=[],U=0;for(Y in x)I[U++]=x[Y];return I}function Te(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var I=[];x=x.length;for(var U=0;U<x;U++)I.push(U);return I}I=[],U=0;for(const Y in x)I[U++]=Y;return I}}}function ke(x,I){if(x.forEach&&typeof x.forEach=="function")x.forEach(I,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,I,void 0);else for(var U=Te(x),Y=ve(x),re=Y.length,ae=0;ae<re;ae++)I.call(void 0,Y[ae],U&&U[ae],x)}var Ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _e(x,I){if(x){x=x.split("&");for(var U=0;U<x.length;U++){var Y=x[U].indexOf("="),re=null;if(0<=Y){var ae=x[U].substring(0,Y);re=x[U].substring(Y+1)}else ae=x[U];I(ae,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Le(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Le){this.h=x.h,Ae(this,x.j),this.o=x.o,this.g=x.g,Re(this,x.s),this.l=x.l;var I=x.i,U=new jc;U.i=I.i,I.g&&(U.g=new Map(I.g),U.h=I.h),pr(this,U),this.m=x.m}else x&&(I=String(x).match(Ne))?(this.h=!1,Ae(this,I[1]||"",!0),this.o=gr(I[2]||""),this.g=gr(I[3]||"",!0),Re(this,I[4]),this.l=gr(I[5]||"",!0),pr(this,I[6]||"",!0),this.m=gr(I[7]||"")):(this.h=!1,this.i=new jc(null,this.h))}Le.prototype.toString=function(){var x=[],I=this.j;I&&x.push(rn(I,fj,!0),":");var U=this.g;return(U||I=="file")&&(x.push("//"),(I=this.o)&&x.push(rn(I,fj,!0),"@"),x.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&x.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&x.push("/"),x.push(rn(U,U.charAt(0)=="/"?n3:s3,!0))),(U=this.i.toString())&&x.push("?",U),(U=this.m)&&x.push("#",rn(U,i3)),x.join("")};function Ie(x){return new Le(x)}function Ae(x,I,U){x.j=U?gr(I,!0):I,x.j&&(x.j=x.j.replace(/:$/,""))}function Re(x,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);x.s=I}else x.s=null}function pr(x,I,U){I instanceof jc?(x.i=I,o3(x.i,x.h)):(U||(I=rn(I,a3)),x.i=new jc(I,x.h))}function Qe(x,I,U){x.i.set(I,U)}function Xt(x){return Qe(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function gr(x,I){return x?I?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function rn(x,I,U){return typeof x=="string"?(x=encodeURI(x).replace(I,r3),U&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function r3(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var fj=/[#\/\?@]/g,s3=/[#\?:]/g,n3=/[#\?]/g,a3=/[#\?@]/g,i3=/#/g;function jc(x,I){this.h=this.g=null,this.i=x||null,this.j=!!I}function pa(x){x.g||(x.g=new Map,x.h=0,x.i&&_e(x.i,function(I,U){x.add(decodeURIComponent(I.replace(/\+/g," ")),U)}))}t=jc.prototype,t.add=function(x,I){pa(this),this.i=null,x=Oo(this,x);var U=this.g.get(x);return U||this.g.set(x,U=[]),U.push(I),this.h+=1,this};function pj(x,I){pa(x),I=Oo(x,I),x.g.has(I)&&(x.i=null,x.h-=x.g.get(I).length,x.g.delete(I))}function gj(x,I){return pa(x),I=Oo(x,I),x.g.has(I)}t.forEach=function(x,I){pa(this),this.g.forEach(function(U,Y){U.forEach(function(re){x.call(I,re,Y,this)},this)},this)},t.na=function(){pa(this);const x=Array.from(this.g.values()),I=Array.from(this.g.keys()),U=[];for(let Y=0;Y<I.length;Y++){const re=x[Y];for(let ae=0;ae<re.length;ae++)U.push(I[Y])}return U},t.V=function(x){pa(this);let I=[];if(typeof x=="string")gj(this,x)&&(I=I.concat(this.g.get(Oo(this,x))));else{x=Array.from(this.g.values());for(let U=0;U<x.length;U++)I=I.concat(x[U])}return I},t.set=function(x,I){return pa(this),this.i=null,x=Oo(this,x),gj(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[I]),this.h+=1,this},t.get=function(x,I){return x?(x=this.V(x),0<x.length?String(x[0]):I):I};function xj(x,I,U){pj(x,I),0<U.length&&(x.i=null,x.g.set(Oo(x,I),v(U)),x.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],I=Array.from(this.g.keys());for(var U=0;U<I.length;U++){var Y=I[U];const ae=encodeURIComponent(String(Y)),je=this.V(Y);for(Y=0;Y<je.length;Y++){var re=ae;je[Y]!==""&&(re+="="+encodeURIComponent(String(je[Y]))),x.push(re)}}return this.i=x.join("&")};function Oo(x,I){return I=String(I),x.j&&(I=I.toLowerCase()),I}function o3(x,I){I&&!x.j&&(pa(x),x.i=null,x.g.forEach(function(U,Y){var re=Y.toLowerCase();Y!=re&&(pj(this,Y),xj(this,re,U))},x)),x.j=I}function l3(x,I){const U=new Si;if(l.Image){const Y=new Image;Y.onload=f(ga,U,"TestLoadImage: loaded",!0,I,Y),Y.onerror=f(ga,U,"TestLoadImage: error",!1,I,Y),Y.onabort=f(ga,U,"TestLoadImage: abort",!1,I,Y),Y.ontimeout=f(ga,U,"TestLoadImage: timeout",!1,I,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=x}else I(!1)}function c3(x,I){const U=new Si,Y=new AbortController,re=setTimeout(()=>{Y.abort(),ga(U,"TestPingServer: timeout",!1,I)},1e4);fetch(x,{signal:Y.signal}).then(ae=>{clearTimeout(re),ae.ok?ga(U,"TestPingServer: ok",!0,I):ga(U,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(re),ga(U,"TestPingServer: error",!1,I)})}function ga(x,I,U,Y,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),Y(U)}catch{}}function u3(){this.g=new ee}function d3(x,I,U){const Y=U||"";try{ke(x,function(re,ae){let je=re;u(re)&&(je=Xs(re)),I.push(Y+ae+"="+encodeURIComponent(je))})}catch(re){throw I.push(Y+"type="+encodeURIComponent("_badmap")),re}}function Md(x){this.l=x.Ub||null,this.j=x.eb||!1}g(Md,fe),Md.prototype.g=function(){return new Ld(this.l,this.j)},Md.prototype.i=function(x){return function(){return x}}({});function Ld(x,I){dt.call(this),this.D=x,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Ld,dt),t=Ld.prototype,t.open=function(x,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=I,this.readyState=1,Nc(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(I.body=x),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wc(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Nc(this)),this.g&&(this.readyState=3,Nc(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yj(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function yj(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var I=x.value?x.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!x.done}))&&(this.response=this.responseText+=I)}x.done?wc(this):Nc(this),this.readyState==3&&yj(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,wc(this))},t.Qa=function(x){this.g&&(this.response=x,wc(this))},t.ga=function(){this.g&&wc(this)};function wc(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Nc(x)}t.setRequestHeader=function(x,I){this.u.append(x,I)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],I=this.h.entries();for(var U=I.next();!U.done;)U=U.value,x.push(U[0]+": "+U[1]),U=I.next();return x.join(`\r
`)};function Nc(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function vj(x){let I="";return R(x,function(U,Y){I+=Y,I+=":",I+=U,I+=`\r
`}),I}function Yp(x,I,U){e:{for(Y in U){var Y=!1;break e}Y=!0}Y||(U=vj(U),typeof x=="string"?U!=null&&encodeURIComponent(String(U)):Qe(x,I,U))}function Ut(x){dt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ut,dt);var h3=/^https?$/i,m3=["POST","PUT"];t=Ut.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,I,U,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);I=I?I.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zs.g(),this.v=this.o?et(this.o):et(Zs),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(I,String(x),!0),this.B=!1}catch(ae){bj(this,ae);return}if(x=U||"",U=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var re in Y)U.set(re,Y[re]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ae of Y.keys())U.set(ae,Y.get(ae));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(U.keys()).find(ae=>ae.toLowerCase()=="content-type"),re=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(m3,I,void 0))||Y||re||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,je]of U)this.g.setRequestHeader(ae,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nj(this),this.u=!0,this.g.send(x),this.u=!1}catch(ae){bj(this,ae)}};function bj(x,I){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=I,x.m=5,jj(x),Fd(x)}function jj(x){x.A||(x.A=!0,Ge(x,"complete"),Ge(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Ge(this,"complete"),Ge(this,"abort"),Fd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fd(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wj(this):this.bb())},t.bb=function(){wj(this)};function wj(x){if(x.h&&typeof o<"u"&&(!x.v[1]||An(x)!=4||x.Z()!=2)){if(x.u&&An(x)==4)bt(x.Ea,0,x);else if(Ge(x,"readystatechange"),An(x)==4){x.h=!1;try{const je=x.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var U;if(!(U=I)){var Y;if(Y=je===0){var re=String(x.D).match(Ne)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),Y=!h3.test(re?re.toLowerCase():"")}U=Y}if(U)Ge(x,"complete"),Ge(x,"success");else{x.m=6;try{var ae=2<An(x)?x.g.statusText:""}catch{ae=""}x.l=ae+" ["+x.Z()+"]",jj(x)}}finally{Fd(x)}}}}function Fd(x,I){if(x.g){Nj(x);const U=x.g,Y=x.v[0]?()=>{}:null;x.g=null,x.v=null,I||Ge(x,"ready");try{U.onreadystatechange=Y}catch{}}}function Nj(x){x.I&&(l.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function An(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var I=this.g.responseText;return x&&I.indexOf(x)==0&&(I=I.substring(x.length)),ko(I)}};function kj(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function f3(x){const I={};x=(x.g&&2<=An(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<x.length;Y++){if(p(x[Y]))continue;var U=_(x[Y]);const re=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const ae=I[re]||[];I[re]=ae,ae.push(U)}k(I,function(Y){return Y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(x,I,U){return U&&U.internalChannelParams&&U.internalChannelParams[x]||I}function Sj(x){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,x),this.cb=kc("retryDelaySeedMs",1e4,x),this.Wa=kc("forwardChannelMaxRetries",2,x),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(x&&x.concurrentRequestLimit),this.Da=new u3,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sj.prototype,t.la=8,t.G=1,t.connect=function(x,I,U,Y){fr(0),this.W=x,this.H=I||{},U&&Y!==void 0&&(this.H.OSID=U,this.H.OAID=Y),this.F=this.X,this.I=Oj(this,null,this.W),Ud(this)};function Jp(x){if(_j(x),x.G==3){var I=x.U++,U=Ie(x.I);if(Qe(U,"SID",x.K),Qe(U,"RID",I),Qe(U,"TYPE","terminate"),Sc(x,U),I=new en(x,x.j,I),I.L=2,I.v=Xt(Ie(U)),U=!1,l.navigator&&l.navigator.sendBeacon)try{U=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!U&&l.Image&&(new Image().src=I.v,U=!0),U||(I.g=Dj(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Ao(I)}Rj(x)}function Vd(x){x.g&&(Zp(x),x.g.cancel(),x.g=null)}function _j(x){Vd(x),x.u&&(l.clearTimeout(x.u),x.u=null),Bd(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Ud(x){if(!vc(x.h)&&!x.s){x.s=!0;var I=x.Ga;q||D(),M||(q(),M=!0),z.add(I,x),x.B=0}}function p3(x,I){return bc(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=I.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Cn(m(x.Ga,x,I),Ij(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const re=new en(this,this.j,x);let ae=this.o;if(this.S&&(ae?(ae=N(ae),T(ae,this.S)):ae=this.S),this.m!==null||this.O||(re.H=ae,ae=null),this.P)e:{for(var I=0,U=0;U<this.i.length;U++){t:{var Y=this.i[U];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(I+=Y,4096<I){I=U;break e}if(I===4096||U===this.i.length-1){I=U+1;break e}}I=1e3}else I=1e3;I=Tj(this,re,I),U=Ie(this.I),Qe(U,"RID",x),Qe(U,"CVER",22),this.D&&Qe(U,"X-HTTP-Session-Id",this.D),Sc(this,U),ae&&(this.O?I="headers="+encodeURIComponent(String(vj(ae)))+"&"+I:this.m&&Yp(U,this.m,ae)),B(this.h,re),this.Ua&&Qe(U,"TYPE","init"),this.P?(Qe(U,"$req",I),Qe(U,"SID","null"),re.T=!0,To(re,U,null)):To(re,U,I),this.G=2}}else this.G==3&&(x?Ej(this,x):this.i.length==0||vc(this.h)||Ej(this))};function Ej(x,I){var U;I?U=I.l:U=x.U++;const Y=Ie(x.I);Qe(Y,"SID",x.K),Qe(Y,"RID",U),Qe(Y,"AID",x.T),Sc(x,Y),x.m&&x.o&&Yp(Y,x.m,x.o),U=new en(x,x.j,U,x.B+1),x.m===null&&(U.H=x.o),I&&(x.i=I.D.concat(x.i)),I=Tj(x,U,1e3),U.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),B(x.h,U),To(U,Y,I)}function Sc(x,I){x.H&&R(x.H,function(U,Y){Qe(I,Y,U)}),x.l&&ke({},function(U,Y){Qe(I,Y,U)})}function Tj(x,I,U){U=Math.min(x.i.length,U);var Y=x.l?m(x.l.Na,x.l,x):null;e:{var re=x.i;let ae=-1;for(;;){const je=["count="+U];ae==-1?0<U?(ae=re[0].g,je.push("ofs="+ae)):ae=0:je.push("ofs="+ae);let jt=!0;for(let xr=0;xr<U;xr++){let ft=re[xr].g;const Er=re[xr].map;if(ft-=ae,0>ft)ae=Math.max(0,re[xr].g-100),jt=!1;else try{d3(Er,je,"req"+ft+"_")}catch{Y&&Y(Er)}}if(jt){Y=je.join("&");break e}}}return x=x.i.splice(0,U),I.D=x,Y}function Cj(x){if(!x.g&&!x.u){x.Y=1;var I=x.Fa;q||D(),M||(q(),M=!0),z.add(I,x),x.v=0}}function Xp(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Cn(m(x.Fa,x),Ij(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,Aj(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Cn(m(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fr(10),Vd(this),Aj(this))};function Zp(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function Aj(x){x.g=new en(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var I=Ie(x.qa);Qe(I,"RID","rpc"),Qe(I,"SID",x.K),Qe(I,"AID",x.T),Qe(I,"CI",x.F?"0":"1"),!x.F&&x.ja&&Qe(I,"TO",x.ja),Qe(I,"TYPE","xmlhttp"),Sc(x,I),x.m&&x.o&&Yp(I,x.m,x.o),x.L&&(x.g.I=x.L);var U=x.g;x=x.ia,U.L=1,U.v=Xt(Ie(I)),U.m=null,U.P=!0,Id(U,x)}t.Za=function(){this.C!=null&&(this.C=null,Vd(this),Xp(this),fr(19))};function Bd(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function Pj(x,I){var U=null;if(x.g==I){Bd(x),Zp(x),x.g=null;var Y=2}else if(Ro(x.h,I))U=I.D,le(x.h,I),Y=1;else return;if(x.G!=0){if(I.o)if(Y==1){U=I.m?I.m.length:0,I=Date.now()-I.F;var re=x.B;Y=Ni(),Ge(Y,new xc(Y,U)),Ud(x)}else Cj(x);else if(re=I.s,re==3||re==0&&0<I.X||!(Y==1&&p3(x,I)||Y==2&&Xp(x)))switch(U&&0<U.length&&(I=x.h,I.i=I.i.concat(U)),re){case 1:Ei(x,5);break;case 4:Ei(x,10);break;case 3:Ei(x,6);break;default:Ei(x,2)}}}function Ij(x,I){let U=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(U*=2),U*I}function Ei(x,I){if(x.j.info("Error code "+I),I==2){var U=m(x.fb,x),Y=x.Xa;const re=!Y;Y=new Le(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ae(Y,"https"),Xt(Y),re?l3(Y.toString(),U):c3(Y.toString(),U)}else fr(2);x.G=0,x.l&&x.l.sa(I),Rj(x),_j(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))};function Rj(x){if(x.G=0,x.ka=[],x.l){const I=ce(x.h);(I.length!=0||x.i.length!=0)&&(b(x.ka,I),b(x.ka,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.ra()}}function Oj(x,I,U){var Y=U instanceof Le?Ie(U):new Le(U);if(Y.g!="")I&&(Y.g=I+"."+Y.g),Re(Y,Y.s);else{var re=l.location;Y=re.protocol,I=I?I+"."+re.hostname:re.hostname,re=+re.port;var ae=new Le(null);Y&&Ae(ae,Y),I&&(ae.g=I),re&&Re(ae,re),U&&(ae.l=U),Y=ae}return U=x.D,I=x.ya,U&&I&&Qe(Y,U,I),Qe(Y,"VER",x.la),Sc(x,Y),Y}function Dj(x,I,U){if(I&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=x.Ca&&!x.pa?new Ut(new Md({eb:U})):new Ut(x.pa),I.Ha(x.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mj(){}t=Mj.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $d(){}$d.prototype.g=function(x,I){return new is(x,I)};function is(x,I){dt.call(this),this.g=new Sj(I),this.l=x,this.h=I&&I.messageUrlParams||null,x=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(x?x["X-WebChannel-Content-Type"]=I.messageContentType:x={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(x?x["X-WebChannel-Client-Profile"]=I.va:x={"X-WebChannel-Client-Profile":I.va}),this.g.S=x,(x=I&&I.Sb)&&!p(x)&&(this.g.m=x),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!p(I)&&(this.g.D=I,x=this.h,x!==null&&I in x&&(x=this.h,I in x&&delete x[I])),this.j=new Do(this)}g(is,dt),is.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},is.prototype.close=function(){Jp(this.g)},is.prototype.o=function(x){var I=this.g;if(typeof x=="string"){var U={};U.__data__=x,x=U}else this.u&&(U={},U.__data__=Xs(x),x=U);I.i.push(new Dd(I.Ya++,x)),I.G==3&&Ud(I)},is.prototype.N=function(){this.g.l=null,delete this.j,Jp(this.g),delete this.g,is.aa.N.call(this)};function Lj(x){gc.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var I=x.__sm__;if(I){e:{for(const U in I){x=U;break e}x=void 0}(this.i=x)&&(x=this.i,I=I!==null&&x in I?I[x]:void 0),this.data=I}else this.data=x}g(Lj,gc);function Fj(){xs.call(this),this.status=1}g(Fj,xs);function Do(x){this.g=x}g(Do,Mj),Do.prototype.ua=function(){Ge(this.g,"a")},Do.prototype.ta=function(x){Ge(this.g,new Lj(x))},Do.prototype.sa=function(x){Ge(this.g,new Fj)},Do.prototype.ra=function(){Ge(this.g,"b")},$d.prototype.createWebChannel=$d.prototype.g,is.prototype.send=is.prototype.o,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,AT=function(){return new $d},CT=function(){return Ni()},TT=ys,Wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,tm=_i,So.COMPLETE="complete",ET=So,mr.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Qc=mr,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,_T=Ut}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const ON="@firebase/firestore",DN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new rb("@firebase/firestore");function Bo(){return io.logLevel}function Ee(t,...e){if(io.logLevel<=at.DEBUG){const r=e.map(ab);io.debug(`Firestore (${uc}): ${t}`,...r)}}function ea(t,...e){if(io.logLevel<=at.ERROR){const r=e.map(ab);io.error(`Firestore (${uc}): ${t}`,...r)}}function Fl(t,...e){if(io.logLevel<=at.WARN){const r=e.map(ab);io.warn(`Firestore (${uc}): ${t}`,...r)}}function ab(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,PT(t,n,r)}function PT(t,e,r){let n=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ea(n),new Error(n)}function gt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||PT(e,a,n)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends da{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Or.UNAUTHENTICATED))}shutdown(){}}class ez{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class tz{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let i=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ei,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ei)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string",31837,{l:n}),new IT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Or(e)}}class rz{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sz{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new rz(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nz{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){gt(this.o===void 0,3512);const n=i=>{i.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new MN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=az(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function Ky(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),i=e.charAt(n);if(a!==i)return Yg(a)===Yg(i)?it(a,i):Yg(a)?1:-1}return it(t.length,e.length)}const iz=55296,oz=57343;function Yg(t){const e=t.charCodeAt(0);return e>=iz&&e<=oz}function Vl(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__name__";class cn{constructor(e,r,n){r===void 0?r=0:r>e.length&&$e(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&$e(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return cn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof cn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=cn.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return it(e.length,r.length)}static compareSegments(e,r){const n=cn.isNumericId(e),a=cn.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?cn.extractNumericId(e).compare(cn.extractNumericId(r)):Ky(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class wt extends cn{construct(e,r,n){return new wt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const lz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends cn{construct(e,r,n){return new wr(e,r,n)}static isValidIdentifier(e){return lz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LN}static keyField(){return new wr([LN])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(i(),a++)}if(i(),o)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(r)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(wt.fromString(e))}static fromName(e){return new Oe(wt.fromString(e).popFirst(5))}static empty(){return new Oe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e,r){if(!r)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cz(t,e,r,n){if(e===!0&&n===!0)throw new Se(de.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function FN(t){if(!Oe.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VN(t){if(Oe.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function df(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=jp(t);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){const r={typeString:t};return e&&(r.value=e),r}function bd(t,e){if(!OT(t))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(a&&typeof o!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&o!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new Se(de.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=-62135596800,BN=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*BN);return new _t(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<UN)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BN}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:sr("string",_t._jsonSchemaVersion),seconds:sr("number"),nanoseconds:sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new _t(0,0))}static max(){return new We(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function uz(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=We.fromTimestamp(n===1e9?new _t(r+1,0):new _t(r,n));return new li(a,Oe.empty(),e)}function dz(t){return new li(t.readTime,t.key,Ku)}class li{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new li(We.min(),Oe.empty(),Ku)}static max(){return new li(We.max(),Oe.empty(),Ku)}}function hz(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Oe.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==mz)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new me((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof me?r:me.resolve(r)}catch(r){return me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):me.reject(r)}static resolve(e){return new me((r,n)=>{r(e)})}static reject(e){return new me((r,n)=>{n(e)})}static waitFor(e){return new me((r,n)=>{let a=0,i=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++i,o&&i===a&&r()},c=>n(c))}),o=!0,i===a&&r()})}static or(e){let r=me.resolve(!1);for(const n of e)r=r.next(a=>a?me.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new me((n,a)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===i&&n(o)},d=>a(d))}})}static doWhile(e,r){return new me((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function pz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function hc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=-1;function Np(t){return t==null}function hf(t){return t===0&&1/t==-1/0}function gz(t){return typeof t=="number"&&Number.isInteger(t)&&!hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function xz(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=$N(e)),e=yz(t.get(r),e);return $N(e)}function yz(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case DT:r+="";break;default:r+=i}}return r}function $N(t){return t+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function go(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function MT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,r){this.comparator=e,this.root=r||br.EMPTY}insert(e,r){return new Vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??br.RED,this.left=a??br.EMPTY,this.right=i??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new br(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return br.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new zN(this.data.getIterator())}getIteratorFrom(e){return new zN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new lr(this.comparator);return r.data=e,r}}class zN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new $s([])}unionWith(e){let r=new lr(wr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new $s(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LT("Invalid base64 string: "+i):i}}(e);return new Sr(r)}static fromUint8Array(e){const r=function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i}(e);return new Sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const vz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const r=vz.exec(t);if(gt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ui(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="server_timestamp",VT="__type__",UT="__previous_value__",BT="__local_write_time__";function lb(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[VT])==null?void 0:n.stringValue)===FT}function kp(t){const e=t.mapValue.fields[UT];return lb(e)?kp(e):e}function Gu(t){const e=ci(t.mapValue.fields[BT].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,r,n,a,i,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const mf="(default)";class Qu{constructor(e,r){this.projectId=e,this.database=r||mf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",qT="__max__",yh={mapValue:{fields:{__type__:{stringValue:qT}}}},zT="__vector__",ff="value";function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lb(t)?4:wz(t)?9007199254740991:jz(t)?10:11:$e(28295,{value:t})}function Sn(t,e){if(t===e)return!0;const r=di(t);if(r!==di(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=ci(a.timestampValue),l=ci(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ui(a.bytesValue).isEqual(ui(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return Gt(a.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Gt(a.integerValue)===Gt(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=Gt(a.doubleValue),l=Gt(i.doubleValue);return o===l?hf(o)===hf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:case 11:return function(a,i){const o=a.mapValue.fields||{},l=i.mapValue.fields||{};if(qN(o)!==qN(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Sn(o[c],l[c])))return!1;return!0}(t,e);default:return $e(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(r=>Sn(r,e))!==void 0}function Ul(t,e){if(t===e)return 0;const r=di(t),n=di(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Gt(i.integerValue||i.doubleValue),c=Gt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return HN(t.timestampValue,e.timestampValue);case 4:return HN(Gu(t),Gu(e));case 5:return Ky(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ui(i),c=ui(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=it(l[u],c[u]);if(d!==0)return d}return it(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=it(Gt(i.latitude),Gt(o.latitude));return l!==0?l:it(Gt(i.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WN(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,f,g,v;const l=i.fields||{},c=o.fields||{},u=(m=l[ff])==null?void 0:m.arrayValue,d=(f=c[ff])==null?void 0:f.arrayValue,h=it(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:WN(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===yh.mapValue&&o===yh.mapValue)return 0;if(i===yh.mapValue)return 1;if(o===yh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=Ky(c[h],d[h]);if(m!==0)return m;const f=Ul(l[c[h]],u[d[h]]);if(f!==0)return f}return it(c.length,d.length)}(t.mapValue,e.mapValue);default:throw $e(23264,{he:r})}}function HN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=ci(t),n=ci(e),a=it(r.seconds,n.seconds);return a!==0?a:it(r.nanos,n.nanos)}function WN(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Ul(r[a],n[a]);if(i)return i}return it(r.length,n.length)}function Bl(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ci(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ui(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Oe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=Gy(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const o of n)i?i=!1:a+=",",a+=`${o}:${Gy(r.fields[o])}`;return a+"}"}(t.mapValue):$e(61005,{value:t})}function rm(t){switch(di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kp(t);return e?16+rm(e):16;case 5:return 2*t.stringValue.length;case 6:return ui(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+rm(i),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return go(n.fields,(i,o)=>{a+=i.length+rm(o)}),a}(t.mapValue);default:throw $e(13486,{value:t})}}function KN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function cb(t){return!!t&&"arrayValue"in t}function GN(t){return!!t&&"nullValue"in t}function QN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function jz(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[$T])==null?void 0:n.stringValue)===zT}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=pu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=pu(t.arrayValue.values[r]);return e}return{...t}}function wz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!sm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(r)}setAll(e){let r=wr.emptyPath(),n={},a=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=l.popLast()}o?n[l.lastSegment()]=pu(o):a.push(l.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());sm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];sm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){go(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new _s(pu(this.value))}}function HT(t){const e=[];return go(t.fields,(r,n)=>{const a=new wr([r]);if(sm(n)){const i=HT(n.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)}),new $s(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,r,n,a,i,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mr(e,0,We.min(),We.min(),We.min(),_s.empty(),0)}static newFoundDocument(e,r,n,a){return new Mr(e,1,r,We.min(),n,a,0)}static newNoDocument(e,r){return new Mr(e,2,r,We.min(),We.min(),_s.empty(),0)}static newUnknownDocument(e,r){return new Mr(e,3,r,We.min(),We.min(),_s.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,r){this.position=e,this.inclusive=r}}function YN(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],o=t.position[a];if(i.field.isKeyField()?n=Oe.comparator(Oe.fromName(o.referenceValue),r.key):n=Ul(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function JN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Sn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,r="asc"){this.field=e,this.dir=r}}function Nz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{}class rr extends WT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Sz(e,r,n):r==="array-contains"?new Tz(e,n):r==="in"?new Cz(e,n):r==="not-in"?new Az(e,n):r==="array-contains-any"?new Pz(e,n):new rr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new _z(e,n):new Ez(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ul(r,this.value)):r!==null&&di(this.value)===di(r)&&this.matchesComparison(Ul(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends WT{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qs(e,r)}matches(e){return KT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(t){return t.op==="and"}function GT(t){return kz(t)&&KT(t)}function kz(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function Yy(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(GT(t))return t.filters.map(e=>Yy(e)).join(",");{const e=t.filters.map(r=>Yy(r)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof rr?function(n,a){return a instanceof rr&&n.op===a.op&&n.field.isEqual(a.field)&&Sn(n.value,a.value)}(t,e):t instanceof Qs?function(n,a){return a instanceof Qs&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,o,l)=>i&&QT(o,a.filters[l]),!0):!1}(t,e):void $e(19439)}function YT(t){return t instanceof rr?function(r){return`${r.field.canonicalString()} ${r.op} ${Bl(r.value)}`}(t):t instanceof Qs?function(r){return r.op.toString()+" {"+r.getFilters().map(YT).join(" ,")+"}"}(t):"Filter"}class Sz extends rr{constructor(e,r,n){super(e,r,n),this.key=Oe.fromName(n.referenceValue)}matches(e){const r=Oe.comparator(e.key,this.key);return this.matchesComparison(r)}}class _z extends rr{constructor(e,r){super(e,"in",r),this.keys=JT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ez extends rr{constructor(e,r){super(e,"not-in",r),this.keys=JT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function JT(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Oe.fromName(n.referenceValue))}class Tz extends rr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cb(r)&&Yu(r.arrayValue,this.value)}}class Cz extends rr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Yu(this.value.arrayValue,r)}}class Az extends rr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Yu(this.value.arrayValue,r)}}class Pz extends rr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cb(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Yu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,r=null,n=[],a=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function XN(t,e=null,r=[],n=[],a=null,i=null,o=null){return new Iz(t,e,r,n,a,i,o)}function ub(t){const e=Je(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Yy(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Np(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Bl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Bl(n)).join(",")),e.Te=r}return e.Te}function db(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Nz(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!QT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JN(t.startAt,e.startAt)&&JN(t.endAt,e.endAt)}function Jy(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r=null,n=[],a=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rz(t,e,r,n,a,i,o,l){return new mc(t,e,r,n,a,i,o,l)}function XT(t){return new mc(t)}function ZN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.collectionGroup!==null}function gu(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(wr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ju(i,n))}),r.has(wr.keyField().canonicalString())||e.Ie.push(new Ju(wr.keyField(),n))}return e.Ie}function yn(t){const e=Je(t);return e.Ee||(e.Ee=Oz(e,gu(t))),e.Ee}function Oz(t,e){if(t.limitType==="F")return XN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Ju(a.field,i)});const r=t.endAt?new pf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new pf(t.startAt.position,t.startAt.inclusive):null;return XN(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Xy(t,e){const r=t.filters.concat([e]);return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Zy(t,e,r){return new mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Sp(t,e){return db(yn(t),yn(e))&&t.limitType===e.limitType}function eC(t){return`${ub(yn(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>YT(a)).join(", ")}]`),Np(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Bl(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Bl(a)).join(",")),`Target(${n})`}(yn(t))}; limitType=${t.limitType})`}function _p(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of gu(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,l,c){const u=YN(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,gu(n),a)||n.endAt&&!function(o,l,c){const u=YN(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,gu(n),a))}(t,e)}function Dz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tC(t){return(e,r)=>{let n=!1;for(const a of gu(t)){const i=Mz(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Mz(t,e,r){const n=t.field.isKeyField()?Oe.comparator(e.key,r.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Ul(c,u):$e(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new Vt(Oe.comparator);function ta(){return Lz}const rC=new Vt(Oe.comparator);function Yc(...t){let e=rC;for(const r of t)e=e.insert(r.key,r);return e}function sC(t){let e=rC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function qi(){return xu()}function nC(){return xu()}function xu(){return new xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fz=new Vt(Oe.comparator),Vz=new lr(Oe.comparator);function ot(...t){let e=Vz;for(const r of t)e=e.add(r);return e}const Uz=new lr(it);function Bz(){return Uz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function aC(t){return{integerValue:""+t}}function $z(t,e){return gz(e)?aC(e):hb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this._=void 0}}function qz(t,e,r){return t instanceof Xu?function(a,i){const o={fields:{[VT]:{stringValue:FT},[BT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&lb(i)&&(i=kp(i)),i&&(o.fields[UT]=i),{mapValue:o}}(r,e):t instanceof Zu?oC(t,e):t instanceof ed?lC(t,e):function(a,i){const o=iC(a,i),l=e2(o)+e2(a.Ae);return Qy(o)&&Qy(a.Ae)?aC(l):hb(a.serializer,l)}(t,e)}function zz(t,e,r){return t instanceof Zu?oC(t,e):t instanceof ed?lC(t,e):r}function iC(t,e){return t instanceof gf?function(n){return Qy(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Xu extends Ep{}class Zu extends Ep{constructor(e){super(),this.elements=e}}function oC(t,e){const r=cC(e);for(const n of t.elements)r.some(a=>Sn(a,n))||r.push(n);return{arrayValue:{values:r}}}class ed extends Ep{constructor(e){super(),this.elements=e}}function lC(t,e){let r=cC(e);for(const n of t.elements)r=r.filter(a=>!Sn(a,n));return{arrayValue:{values:r}}}class gf extends Ep{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function e2(t){return Gt(t.integerValue||t.doubleValue)}function cC(t){return cb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,r){this.field=e,this.transform=r}}function Wz(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Zu&&a instanceof Zu||n instanceof ed&&a instanceof ed?Vl(n.elements,a.elements,Sn):n instanceof gf&&a instanceof gf?Sn(n.Ae,a.Ae):n instanceof Xu&&a instanceof Xu}(t.transform,e.transform)}class Kz{constructor(e,r){this.version=e,this.transformResults=r}}class $n{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tp{}function uC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hC(t.key,$n.none()):new jd(t.key,t.data,$n.none());{const r=t.data,n=_s.empty();let a=new lr(wr.comparator);for(let i of e.fields)if(!a.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),a=a.add(i)}return new yo(t.key,n,new $s(a.toArray()),$n.none())}}function Gz(t,e,r){t instanceof jd?function(a,i,o){const l=a.value.clone(),c=r2(a.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof yo?function(a,i,o){if(!nm(a.precondition,i))return void i.convertToUnknownDocument(o.version);const l=r2(a.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(dC(a)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function yu(t,e,r,n){return t instanceof jd?function(i,o,l,c){if(!nm(i.precondition,o))return l;const u=i.value.clone(),d=s2(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof yo?function(i,o,l,c){if(!nm(i.precondition,o))return l;const u=s2(i.fieldTransforms,c,o),d=o.data;return d.setAll(dC(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(i,o,l){return nm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Qz(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=iC(n.transform,a||null);i!=null&&(r===null&&(r=_s.empty()),r.set(n.field,i))}return r||null}function t2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Vl(n,a,(i,o)=>Wz(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jd extends Tp{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yo extends Tp{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function r2(t,e,r){const n=new Map;gt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let a=0;a<r.length;a++){const i=t[a],o=i.transform,l=e.data.field(i.field);n.set(i.field,zz(o,l,r[a]))}return n}function s2(t,e,r){const n=new Map;for(const a of t){const i=a.transform,o=r.data.field(a.field);n.set(a.field,qz(i,o,e))}return n}class hC extends Tp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yz extends Tp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&Gz(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=yu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=yu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=nC();return this.mutations.forEach(a=>{const i=e.get(a.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=r.has(a.key)?null:l;const c=uC(o,l);c!==null&&n.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(We.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ot())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(r,n)=>t2(r,n))&&Vl(this.baseMutations,e.baseMutations,(r,n)=>t2(r,n))}}class mb{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){gt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=function(){return Fz}();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,n[o].version);return new mb(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ct;function eH(t){switch(t){case de.OK:return $e(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function mC(t){if(t===void 0)return ea("GRPC error has no .code"),de.UNKNOWN;switch(t){case Zt.OK:return de.OK;case Zt.CANCELLED:return de.CANCELLED;case Zt.UNKNOWN:return de.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return de.INTERNAL;case Zt.UNAVAILABLE:return de.UNAVAILABLE;case Zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Zt.NOT_FOUND:return de.NOT_FOUND;case Zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Zt.ABORTED:return de.ABORTED;case Zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Zt.DATA_LOSS:return de.DATA_LOSS;default:return $e(39323,{code:t})}}(ct=Zt||(Zt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=new Za([4294967295,4294967295],0);function n2(t){const e=tH().encode(t),r=new ST;return r.update(e),new Uint8Array(r.digest())}function a2(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Za([r,n],0),new Za([a,i],0)]}class fb{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Jc(`Invalid padding: ${r}`);if(n<0)throw new Jc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Za.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(Za.fromNumber(n)));return a.compare(rH)===1&&(a=new Za([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=n2(e),[n,a]=a2(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,a,i);if(!this.we(o))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fb(i,a,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=n2(e),[n,a]=a2(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,a,i);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Cp(We.min(),a,new Vt(it),ta(),ot())}}class wd{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new wd(n,r,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,r,n,a){this.be=e,this.removedTargetIds=r,this.key=n,this.De=a}}class fC{constructor(e,r){this.targetId=e,this.Ce=r}}class pC{constructor(e,r,n=Sr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class i2{constructor(){this.ve=0,this.Fe=o2(),this.Me=Sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),r=ot(),n=ot();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:$e(38017,{changeType:i})}}),new wd(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=o2()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sH{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=vh(),this.He=vh(),this.Ye=new Vt(it)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const i=a.target;if(Jy(i))if(n===0){const o=new Oe(i.path);this.et(r,o,Mr.newNoDocument(o,We.min()))}else gt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let o,l;try{o=ui(n).toUint8Array()}catch(c){if(c instanceof LT)return Fl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new fb(o,a,i)}catch(c){return Fl(c instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(r,i,null),a++)}),a}Tt(e){const r=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Jy(l.target)){const c=new Oe(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Mr.newNoDocument(c,e))}i.Be&&(r.set(o,i.ke()),i.qe())}});let n=ot();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const a=new Cp(e,r,this.Ye,this.je,n);return this.je=ta(),this.Je=vh(),this.He=vh(),this.Ye=new Vt(it),a}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new i2,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new lr(it),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new lr(it),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i2),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function vh(){return new Vt(Oe.comparator)}function o2(){return new Vt(Oe.comparator)}const nH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iH=(()=>({and:"AND",or:"OR"}))();class oH{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function e0(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lH(t,e){return xf(t,e.toTimestamp())}function vn(t){return gt(!!t,49232),We.fromTimestamp(function(r){const n=ci(r);return new _t(n.seconds,n.nanos)}(t))}function pb(t,e){return t0(t,e).canonicalString()}function t0(t,e){const r=function(a){return new wt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function xC(t){const e=wt.fromString(t);return gt(wC(e),10190,{key:e.toString()}),e}function r0(t,e){return pb(t.databaseId,e.path)}function Jg(t,e){const r=xC(e);if(r.get(1)!==t.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Oe(vC(r))}function yC(t,e){return pb(t.databaseId,e)}function cH(t){const e=xC(t);return e.length===4?wt.emptyPath():vC(e)}function s0(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vC(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function l2(t,e,r){return{name:r0(t,e),fields:r.value.mapValue.fields}}function uH(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:$e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(gt(d===void 0||typeof d=="string",58123),Sr.fromBase64String(d||"")):(gt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?de.UNKNOWN:mC(u.code);return new Se(d,u.message||"")}(o);r=new pC(n,a,i,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Jg(t,n.document.name),i=vn(n.document.updateTime),o=n.document.createTime?vn(n.document.createTime):We.min(),l=new _s({mapValue:{fields:n.document.fields}}),c=Mr.newFoundDocument(a,i,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new am(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Jg(t,n.document),i=n.readTime?vn(n.readTime):We.min(),o=Mr.newNoDocument(a,i),l=n.removedTargetIds||[];r=new am([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Jg(t,n.document),i=n.removedTargetIds||[];r=new am([],i,a,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,o=new Zz(a,i),l=n.targetId;r=new fC(l,o)}}return r}function dH(t,e){let r;if(e instanceof jd)r={update:l2(t,e.key,e.value)};else if(e instanceof hC)r={delete:r0(t,e.key)};else if(e instanceof yo)r={update:l2(t,e.key,e.data),updateMask:bH(e.fieldMask)};else{if(!(e instanceof Yz))return $e(16599,{Vt:e.type});r={verify:r0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const l=o.transform;if(l instanceof Xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Zu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ed)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gf)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw $e(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:lH(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:$e(27497)}(t,e.precondition)),r}function hH(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map(r=>function(a,i){let o=a.updateTime?vn(a.updateTime):vn(i);return o.isEqual(We.min())&&(o=vn(i)),new Kz(o,a.transformResults||[])}(r,e))):[]}function mH(t,e){return{documents:[yC(t,e.path)]}}function fH(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=yC(t,a);const i=function(u){if(u.length!==0)return jC(Qs.create(u,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:qo(m.field),direction:xH(m.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=e0(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:a}}function pH(t){let e=cH(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){gt(n===1,65062);const d=r.from[0];d.allDescendants?a=d.collectionId:e=e.child(d.collectionId)}let i=[];r.where&&(i=function(h){const m=bC(h);return m instanceof Qs&&GT(m)?m.getFilters():[m]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(m=>function(g){return new Ju(zo(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m))}(r.orderBy));let l=null;r.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Np(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(h){const m=!!h.before,f=h.values||[];return new pf(f,m)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const m=!h.before,f=h.values||[];return new pf(f,m)}(r.endAt)),Rz(e,a,o,i,l,"F",c,u)}function gH(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zo(r.unaryFilter.field);return rr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(r.unaryFilter.field);return rr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zo(r.unaryFilter.field);return rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zo(r.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(t):t.fieldFilter!==void 0?function(r){return rr.create(zo(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qs.create(r.compositeFilter.filters.map(n=>bC(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(r.compositeFilter.op))}(t):$e(30097,{filter:t})}function xH(t){return nH[t]}function yH(t){return aH[t]}function vH(t){return iH[t]}function qo(t){return{fieldPath:t.canonicalString()}}function zo(t){return wr.fromServerFormat(t.fieldPath)}function jC(t){return t instanceof rr?function(r){if(r.op==="=="){if(QN(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NAN"}};if(GN(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(QN(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NAN"}};if(GN(r.value))return{unaryFilter:{field:qo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(r.field),op:yH(r.op),value:r.value}}}(t):t instanceof Qs?function(r){const n=r.getFilters().map(a=>jC(a));return n.length===1?n[0]:{compositeFilter:{op:vH(r.op),filters:n}}}(t):$e(54877,{filter:t})}function bH(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function wC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,r,n,a,i=We.min(),o=We.min(),l=Sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.yt=e}}function wH(t){const e=pH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.Cn=new kH}addToCollectionParentIndex(e,r){return this.Cn.add(r),me.resolve()}getCollectionParents(e,r){return me.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return me.resolve()}deleteFieldIndex(e,r){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,r){return me.resolve()}getDocumentsMatchingTarget(e,r){return me.resolve(null)}getIndexType(e,r){return me.resolve(0)}getFieldIndexes(e,r){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,r){return me.resolve(li.min())}getMinOffsetFromCollectionGroup(e,r){return me.resolve(li.min())}updateCollectionGroup(e,r,n){return me.resolve()}updateIndexEntries(e,r){return me.resolve()}}class kH{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new lr(wt.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new lr(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NC=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(NC,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $l(0)}static cr(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="LruGarbageCollector",SH=1048576;function d2([t,e],[r,n]){const a=it(t,r);return a===0?it(e,n):a}class _H{constructor(e){this.Ir=e,this.buffer=new lr(d2),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();d2(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class EH{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(u2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){hc(r)?Ee(u2,"Ignoring IndexedDB error during garbage collection: ",r):await dc(r)}await this.Vr(3e5)})}}class TH{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return me.resolve(wp.ce);const n=new _H(r);return this.mr.forEachTarget(e,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(c2)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c2):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,a,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,o=Date.now(),this.nthSequenceNumber(e,a))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),Bo()<=at.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:h})))}}function CH(t,e){return new TH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this.changes=new xo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?me.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&yu(n.mutation,a,$s.empty(),_t.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ot()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ot()){const a=qi();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let o=Yc();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=qi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ot()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,a){let i=ta();const o=xu(),l=function(){return xu()}();return r.forEach((c,u)=>{const d=n.get(u.key);a.has(u.key)&&(d===void 0||d.mutation instanceof yo)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),yu(d.mutation,u,d.mutation.getFieldMask(),_t.now())):o.set(u.key,$s.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new PH(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=xu();let a=new Vt((o,l)=>o-l),i=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||$s.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(a.get(l.batchId)||ot()).add(c);a=a.insert(l.batchId,h)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=nC();d.forEach(m=>{if(!i.has(m)){const f=uC(r.get(m),n.get(m));f!==null&&h.set(m,f),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return me.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ZT(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):me.resolve(qi());let l=Ku,c=i;return o.next(u=>me.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?me.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ot())).next(d=>({batchId:l,changes:sC(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Oe(r)).next(n=>{let a=Yc();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let o=Yc();return this.indexManager.getCollectionParents(e,i).next(l=>me.forEach(l,c=>{const u=function(h,m){return new mc(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mr.newInvalidDocument(d)))});let l=Yc();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&yu(d.mutation,u,$s.empty(),_t.now()),_p(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return me.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:vn(a.createTime)}}(r)),me.resolve()}getNamedQuery(e,r){return me.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(a){return{name:a.name,query:wH(a.bundledQuery),readTime:vn(a.readTime)}}(r)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.overlays=new Vt(Oe.comparator),this.qr=new Map}getOverlay(e,r){return me.resolve(this.overlays.get(r))}getOverlays(e,r){const n=qi();return me.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.St(e,r,i)}),me.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),me.resolve()}getOverlaysForCollection(e,r,n){const a=qi(),i=r.length+1,o=new Oe(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>n&&a.set(c.getKey(),c)}return me.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new Vt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=i.get(u.largestBatchId);d===null&&(d=qi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=qi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=a)););return me.resolve(l)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Xz(r,n));let i=this.qr.get(r);i===void 0&&(i=ot(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.Qr=new lr(cr.$r),this.Ur=new lr(cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new cr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new cr(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Oe(new wt([])),n=new cr(r,e),a=new cr(r,e+1),i=[];return this.Ur.forEachInRange([n,a],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Oe(new wt([])),n=new cr(r,e),a=new cr(r,e+1);let i=ot();return this.Ur.forEachInRange([n,a],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new cr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class cr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Oe.comparator(e.key,r.key)||it(e.Yr,r.Yr)}static Kr(e,r){return it(e.Yr,r.Yr)||Oe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new lr(cr.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jz(i,r,n,a);this.mutationQueue.push(o);for(const l of a)this.Zr=this.Zr.add(new cr(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,r){return me.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?ob:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new cr(r,0),a=new cr(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],o=>{const l=this.Xr(o.Yr);i.push(l)}),me.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new lr(it);return r.forEach(a=>{const i=new cr(a,0),o=new cr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{n=n.add(l.Yr)})}),me.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;Oe.isDocumentKey(i)||(i=i.child(""));const o=new cr(new Oe(i),0);let l=new lr(it);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Yr)),!0)},o),me.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){gt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return me.forEach(r.mutations,a=>{const i=new cr(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new cr(r,0),a=this.Zr.firstAfterOrEqual(n);return me.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.ri=e,this.docs=function(){return new Vt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return me.resolve(n?n.document.mutableCopy():Mr.newInvalidDocument(r))}getEntries(e,r){let n=ta();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Mr.newInvalidDocument(a))}),me.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=ta();const o=r.path,l=new Oe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||hz(dz(d),n)<=0||(a.has(d.key)||_p(r,d))&&(i=i.insert(d.key,d.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,r,n,a){$e(9500)}ii(e,r){return me.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new FH(this)}getSize(e){return me.resolve(this.size)}}class FH extends AH{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(n)}),me.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.persistence=e,this.si=new xo(r=>ub(r),db),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new gb,this.targetCount=0,this.ai=$l.ur()}forEachTarget(e,r){return this.si.forEach((n,a)=>r(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),me.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new $l(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,me.resolve()}updateTargetData(e,r){return this.Pr(r),me.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),me.waitFor(i).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return me.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),me.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(o=>{i.push(a.markPotentiallyOrphaned(e,o))}),me.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),me.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return me.resolve(n)}containsKey(e,r){return me.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,r){this.ui={},this.overlays={},this.ci=new wp(0),this.li=!1,this.li=!0,this.hi=new DH,this.referenceDelegate=e(this),this.Pi=new VH(this),this.indexManager=new NH,this.remoteDocumentCache=function(a){return new LH(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new jH(r),this.Ii=new RH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new OH,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new MH(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ee("MemoryPersistence","Starting transaction:",e);const a=new UH(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,r){return me.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class UH extends fz{constructor(e){super(),this.currentSequenceNumber=e}}class xb{constructor(e){this.persistence=e,this.Ri=new gb,this.Vi=null}static mi(e){return new xb(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),me.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),me.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,n=>{const a=Oe.fromPath(n);return this.gi(e,a).next(i=>{i||r.removeEntry(a,We.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return me.or([()=>me.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class yf{constructor(e,r){this.persistence=e,this.pi=new xo(n=>xz(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=CH(this,r)}static mi(e,r){return new yf(e,r)}Ei(){}di(e){return me.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return me.forEach(this.pi,(n,a)=>this.br(e,n,a).next(i=>i?me.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,i.removeEntry(o,We.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=rm(e.data.value)),r}br(e,r,n){return me.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.pi.get(r);return me.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=a}static As(e,r){let n=ot(),a=ot();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new yb(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return D$()?8:pz(Vr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.ys(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,r,a,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BH;return this.Ss(e,r,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>i.result)}bs(e,r,n,a){return n.documentReadCount<this.fs?(Bo()<=at.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",$o(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(Bo()<=at.DEBUG&&Ee("QueryEngine","Query:",$o(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Bo()<=at.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",$o(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(r))):me.resolve())}ys(e,r){if(ZN(r))return me.resolve(null);let n=yn(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Zy(r,null,"F"),n=yn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=ot(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,Zy(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,a){return ZN(r)||a.isEqual(We.min())?me.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(r,i);return this.Cs(r,o,n,a)?me.resolve(null):(Bo()<=at.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(r)),this.vs(e,o,r,uz(a,Ku)).next(l=>l))})}Ds(e,r){let n=new lr(tC(e));return r.forEach((a,i)=>{_p(e,i)&&(n=n.add(i))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,r,n){return Bo()<=at.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",$o(r)),this.ps.getDocumentsMatchingQuery(e,r,li.min(),n)}vs(e,r,n,a){return this.ps.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="LocalStore",qH=3e8;class zH{constructor(e,r,n,a){this.persistence=e,this.Fs=r,this.serializer=a,this.Ms=new Vt(it),this.xs=new xo(i=>ub(i),db),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function HH(t,e,r,n){return new zH(t,e,r,n)}async function SC(t,e){const r=Je(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],l=[];let c=ot();for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function WH(t,e){const r=Je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let f=me.resolve();return m.forEach(g=>{f=f.next(()=>d.getEntry(c,g)).next(v=>{const b=u.docVersions.get(g);gt(b!==null,48541),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=ot();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function _C(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function KH(t,e){const r=Je(t),n=e.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const m=a.get(h);if(!m)return;l.push(r.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(i,d.addedDocuments,h)));let f=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Sr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,n)),a=a.insert(h,f),function(v,b,y){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=qH?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,f,d)&&l.push(r.Pi.updateTargetData(i,f))});let c=ta(),u=ot();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(GH(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(We.min())){const d=r.Pi.getLastRemoteSnapshotVersion(i).next(h=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));l.push(d)}return me.waitFor(l).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(r.Ms=a,i))}function GH(t,e,r){let n=ot(),a=ot();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=ta();return r.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(We.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ee(vb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:a}})}function QH(t,e){const r=Je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=ob),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function YH(t,e){const r=Je(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,e).next(i=>i?(a=i,me.resolve(a)):r.Pi.allocateTargetId(n).next(o=>(a=new Ua(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function n0(t,e,r){const n=Je(t),a=n.Ms.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,a))}catch(o){if(!hc(o))throw o;Ee(vb,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(a.target)}function h2(t,e,r){const n=Je(t);let a=We.min(),i=ot();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Je(c),m=h.xs.get(d);return m!==void 0?me.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(n,o,yn(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?a:We.min(),r?i:ot())).next(l=>(JH(n,Dz(e),l),{documents:l,Qs:i})))}function JH(t,e,r){let n=t.Os.get(e)||We.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Os.set(e,n)}class m2{constructor(){this.activeTargetIds=Bz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XH{constructor(){this.Mo=new m2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="ConnectivityMonitor";class p2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(f2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(f2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function a0(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RestConnection",eW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===mf?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(e,r,n,a,i){const o=a0(),l=this.zo(e,r.toUriEncodedString());Ee(Xg,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,a,i);const{host:u}=new URL(l),d=lc(u);return this.Jo(e,l,c,n,d).then(h=>(Ee(Xg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Fl(Xg,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,a,i,o){return this.Go(e,r,n,a,i)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>e[i]=a),n&&n.headers.forEach((a,i)=>e[i]=a)}zo(e,r){const n=eW[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class sW extends tW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,i){const o=a0();return new Promise((l,c)=>{const u=new _T;u.setWithCredentials(!0),u.listenOnce(ET.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tm.NO_ERROR:const h=u.getResponseJson();Ee(Ir,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case tm.TIMEOUT:Ee(Ir,`RPC '${e}' ${o} timed out`),c(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case tm.HTTP_ERROR:const m=u.getStatus();if(Ee(Ir,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(y){const p=y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(p)>=0?p:de.UNKNOWN}(g.status);c(new Se(v,g.message))}else c(new Se(de.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Se(de.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ee(Ir,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(a);Ee(Ir,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",d,n,15)})}T_(e,r,n){const a=a0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AT(),l=CT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=i.join("");Ee(Ir,`Creating RPC '${e}' stream ${a}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let m=!1,f=!1;const g=new rW({Yo:b=>{f?Ee(Ir,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(m||(Ee(Ir,`Opening RPC '${e}' stream ${a} transport.`),h.open(),m=!0),Ee(Ir,`RPC '${e}' stream ${a} sending:`,b),h.send(b))},Zo:()=>h.close()}),v=(b,y,p)=>{b.listen(y,w=>{try{p(w)}catch(j){setTimeout(()=>{throw j},0)}})};return v(h,Qc.EventType.OPEN,()=>{f||(Ee(Ir,`RPC '${e}' stream ${a} transport opened.`),g.o_())}),v(h,Qc.EventType.CLOSE,()=>{f||(f=!0,Ee(Ir,`RPC '${e}' stream ${a} transport closed`),g.a_(),this.E_(h))}),v(h,Qc.EventType.ERROR,b=>{f||(f=!0,Fl(Ir,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),g.a_(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),v(h,Qc.EventType.MESSAGE,b=>{var y;if(!f){const p=b.data[0];gt(!!p,16349);const w=p,j=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(j){Ee(Ir,`RPC '${e}' stream ${a} received error:`,j);const S=j.status;let R=function(E){const T=Zt[E];if(T!==void 0)return mC(T)}(S),k=j.message;R===void 0&&(R=de.INTERNAL,k="Unknown error status: "+S+" with message "+j.message),f=!0,g.a_(new Se(R,k)),h.close()}else Ee(Ir,`RPC '${e}' stream ${a} received:`,p),g.u_(p)}}),v(l,TT.STAT_EVENT,b=>{b.stat===Wy.PROXY?Ee(Ir,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Wy.NOPROXY&&Ee(Ir,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){return new oH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,r,n=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="PersistentStream";class TC{constructor(e,r,n,a,i,o,l,c){this.Mi=e,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EC(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(ea(r.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{e(()=>{const a=new Se(de.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ee(g2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Ee(g2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nW extends TC{constructor(e,r,n,a,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,o),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=uH(this.serializer,e),n=function(i){if(!("targetChange"in i))return We.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?We.min():o.readTime?vn(o.readTime):We.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=s0(this.serializer),r.addTarget=function(i,o){let l;const c=o.target;if(l=Jy(c)?{documents:mH(i,c)}:{query:fH(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=gC(i,o.resumeToken);const u=e0(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(We.min())>0){l.readTime=xf(i,o.snapshotVersion.toTimestamp());const u=e0(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=gH(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=s0(this.serializer),r.removeTarget=e,this.q_(r)}}class aW extends TC{constructor(e,r,n,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=hH(e.writeResults,e.commitTime),n=vn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=s0(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>dH(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{}class oW extends iW{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,t0(r,n),a,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(de.UNKNOWN,i.toString())})}Ho(e,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,t0(r,n),a,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class lW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(r),this.aa=!1):Ee("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="RemoteStore";class cW{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{vo(this)&&(Ee(oo,"Restarting streams for network reachability change."),await async function(c){const u=Je(c);u.Ea.add(4),await Nd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Pp(u)}(this))})}),this.Ra=new lW(n,a)}}async function Pp(t){if(vo(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function CC(t,e){const r=Je(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Nb(r)?wb(r):fc(r).O_()&&jb(r,e))}function bb(t,e){const r=Je(t),n=fc(r);r.Ia.delete(e),n.O_()&&AC(r,e),r.Ia.size===0&&(n.O_()?n.L_():vo(r)&&r.Ra.set("Unknown"))}function jb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}fc(t).Y_(e)}function AC(t,e){t.Va.Ue(e),fc(t).Z_(e)}function wb(t){t.Va=new sH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.Ra.ua()}function Nb(t){return vo(t)&&!fc(t).x_()&&t.Ia.size>0}function vo(t){return Je(t).Ea.size===0}function PC(t){t.Va=void 0}async function uW(t){t.Ra.set("Online")}async function dW(t){t.Ia.forEach((e,r)=>{jb(t,e)})}async function hW(t,e){PC(t),Nb(t)?(t.Ra.ha(e),wb(t)):t.Ra.set("Unknown")}async function mW(t,e,r){if(t.Ra.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await async function(a,i){const o=i.cause;for(const l of i.targetIds)a.Ia.has(l)&&(await a.remoteSyncer.rejectListen(l,o),a.Ia.delete(l),a.Va.removeTarget(l))}(t,e)}catch(n){Ee(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await vf(t,n)}else if(e instanceof am?t.Va.Ze(e):e instanceof fC?t.Va.st(e):t.Va.tt(e),!r.isEqual(We.min()))try{const n=await _C(t.localStore);r.compareTo(n)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),AC(i,c);const h=new Ua(d.target,c,u,d.sequenceNumber);jb(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ee(oo,"Failed to raise snapshot:",n),await vf(t,n)}}async function vf(t,e,r){if(!hc(e))throw e;t.Ea.add(1),await Nd(t),t.Ra.set("Offline"),r||(r=()=>_C(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(oo,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Pp(t)})}function IC(t,e){return e().catch(r=>vf(t,r,e))}async function Ip(t){const e=Je(t),r=hi(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ob;for(;fW(e);)try{const a=await QH(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,pW(e,a)}catch(a){await vf(e,a)}RC(e)&&OC(e)}function fW(t){return vo(t)&&t.Ta.length<10}function pW(t,e){t.Ta.push(e);const r=hi(t);r.O_()&&r.X_&&r.ea(e.mutations)}function RC(t){return vo(t)&&!hi(t).x_()&&t.Ta.length>0}function OC(t){hi(t).start()}async function gW(t){hi(t).ra()}async function xW(t){const e=hi(t);for(const r of t.Ta)e.ea(r.mutations)}async function yW(t,e,r){const n=t.Ta.shift(),a=mb.from(n,e,r);await IC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Ip(t)}async function vW(t,e){e&&hi(t).X_&&await async function(n,a){if(function(o){return eH(o)&&o!==de.ABORTED}(a.code)){const i=n.Ta.shift();hi(n).B_(),await IC(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Ip(n)}}(t,e),RC(t)&&OC(t)}async function x2(t,e){const r=Je(t);r.asyncQueue.verifyOperationInProgress(),Ee(oo,"RemoteStore received new credentials");const n=vo(r);r.Ea.add(3),await Nd(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Pp(r)}async function bW(t,e){const r=Je(t);e?(r.Ea.delete(2),await Pp(r)):e||(r.Ea.add(2),await Nd(r),r.Ra.set("Unknown"))}function fc(t){return t.ma||(t.ma=function(r,n,a){const i=Je(r);return i.sa(),new nW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:uW.bind(null,t),t_:dW.bind(null,t),r_:hW.bind(null,t),H_:mW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Nb(t)?wb(t):t.Ra.set("Unknown")):(await t.ma.stop(),PC(t))})),t.ma}function hi(t){return t.fa||(t.fa=function(r,n,a){const i=Je(r);return i.sa(),new aW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gW.bind(null,t),r_:vW.bind(null,t),ta:xW.bind(null,t),na:yW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ip(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const o=Date.now()+n,l=new kb(e,r,o,a,i);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sb(t,e){if(ea("AsyncQueue",`${e}: ${t}`),hc(t))return new Se(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Oe.comparator(r.key,n.key):(r,n)=>Oe.comparator(r.key,n.key),this.keyedMap=Yc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new jl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.ga=new Vt(Oe.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ql{constructor(e,r,n,a,i,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,a,i){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new ql(e,r,jl.emptySet(r),o,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wW{constructor(){this.queries=v2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Je(r),i=a.queries;a.queries=v2(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function v2(){return new xo(t=>eC(t),Sp)}async function NW(t,e){const r=Je(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.ba()&&e.Da()&&(n=2):(i=new jW,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(o){const l=Sb(o,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(l)}r.queries.set(a,i),i.Sa.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&_b(r)}async function kW(t,e){const r=Je(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function SW(t,e){const r=Je(t);let n=!1;for(const a of e){const i=a.query,o=r.queries.get(i);if(o){for(const l of o.Sa)l.Fa(a)&&(n=!0);o.wa=a}}n&&_b(r)}function _W(t,e,r){const n=Je(t),a=n.queries.get(e);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(e)}function _b(t){t.Ca.forEach(e=>{e.next()})}var i0,b2;(b2=i0||(i0={})).Ma="default",b2.Cache="cache";class EW{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new ql(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.key=e}}class MC{constructor(e){this.key=e}}class TW{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=tC(e),this.tu=new jl(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new y2,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,o=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,u=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((d,h)=>{const m=a.get(d),f=_p(this.query,h)?h:null,g=!!m&&this.mutatedKeys.has(m.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;m&&f?m.data.isEqual(f.data)?g!==v&&(n.track({type:3,doc:f}),b=!0):this.su(m,f)||(n.track({type:2,doc:f}),b=!0,(c&&this.eu(f,c)>0||u&&this.eu(f,u)<0)&&(l=!0)):!m&&f?(n.track({type:0,doc:f}),b=!0):m&&!f&&(n.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(f?(o=o.add(f),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(f,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:b})}};return v(f)-v(g)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),a=a??!1;const l=r&&!a?this._u():[],c=this.Xa.size===0&&this.current&&!a?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ql(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new MC(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new DC(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=ot();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eb="SyncEngine";class CW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class AW{constructor(e){this.key=e,this.hu=!1}}class PW{constructor(e,r,n,a,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xo(l=>eC(l),Sp),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Oe.comparator),this.Au=new Map,this.Ru=new gb,this.Vu={},this.mu=new Map,this.fu=$l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IW(t,e,r=!0){const n=$C(t);let a;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await LC(n,e,r,!0),a}async function RW(t,e){const r=$C(t);await LC(r,e,!0,!1)}async function LC(t,e,r,n){const a=await YH(t.localStore,yn(e)),i=a.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let l;return n&&(l=await OW(t,e,i,o==="current",a.resumeToken)),t.isPrimaryClient&&r&&CC(t.remoteStore,a),l}async function OW(t,e,r,n,a){t.pu=(h,m,f)=>async function(v,b,y,p){let w=b.view.ru(y);w.Cs&&(w=await h2(v.localStore,b.query,!1).then(({documents:k})=>b.view.ru(k,w)));const j=p&&p.targetChanges.get(b.targetId),S=p&&p.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(w,v.isPrimaryClient,j,S);return w2(v,b.targetId,R.au),R.snapshot}(t,h,m,f);const i=await h2(t.localStore,e,!0),o=new TW(e,i.Qs),l=o.ru(i.documents),c=wd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),u=o.applyChanges(l,t.isPrimaryClient,c);w2(t,r,u.au);const d=new CW(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function DW(t,e,r){const n=Je(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(o=>!Sp(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await n0(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&bb(n.remoteStore,a.targetId),o0(n,a.targetId)}).catch(dc)):(o0(n,a.targetId),await n0(n.localStore,a.targetId,!0))}async function MW(t,e){const r=Je(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),bb(r.remoteStore,n.targetId))}async function LW(t,e,r){const n=zW(t);try{const a=await function(o,l){const c=Je(o),u=_t.now(),d=l.reduce((f,g)=>f.add(g.key),ot());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ta(),v=ot();return c.Ns.getEntries(f,d).next(b=>{g=b,g.forEach((y,p)=>{p.isValidDocument()||(v=v.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(b=>{h=b;const y=[];for(const p of l){const w=Qz(p,h.get(p.key).overlayedDocument);w!=null&&y.push(new yo(p.key,w,HT(w.value.mapValue),$n.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,y,l)}).next(b=>{m=b;const y=b.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(f,b.batchId,y)})}).then(()=>({batchId:m.batchId,changes:sC(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Vt(it)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,a.batchId,r),await kd(n,a.changes),await Ip(n.remoteStore)}catch(a){const i=Sb(a,"Failed to persist write");r.reject(i)}}async function FC(t,e){const r=Je(t);try{const n=await KH(r.localStore,e);e.targetChanges.forEach((a,i)=>{const o=r.Au.get(i);o&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.hu=!0:a.modifiedDocuments.size>0?gt(o.hu,14607):a.removedDocuments.size>0&&(gt(o.hu,42227),o.hu=!1))}),await kd(r,n,e)}catch(n){await dc(n)}}function j2(t,e,r){const n=Je(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=Je(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(l)&&(u=!0)}),u&&_b(c)}(n.eventManager,e),a.length&&n.Pu.H_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FW(t,e,r){const n=Je(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),i=a&&a.key;if(i){let o=new Vt(Oe.comparator);o=o.insert(i,Mr.newNoDocument(i,We.min()));const l=ot().add(i),c=new Cp(We.min(),new Map,new Vt(it),o,l);await FC(n,c),n.du=n.du.remove(i),n.Au.delete(e),Tb(n)}else await n0(n.localStore,e,!1).then(()=>o0(n,e,r)).catch(dc)}async function VW(t,e){const r=Je(t),n=e.batch.batchId;try{const a=await WH(r.localStore,e);UC(r,n,null),VC(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await kd(r,a)}catch(a){await dc(a)}}async function UW(t,e,r){const n=Je(t);try{const a=await function(o,l){const c=Je(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(gt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);UC(n,e,r),VC(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await kd(n,a)}catch(a){await dc(a)}}function VC(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function UC(t,e,r){const n=Je(t);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Vu[n.currentUser.toKey()]=a}}function o0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||BC(t,n)})}function BC(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(bb(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Tb(t))}function w2(t,e,r){for(const n of r)n instanceof DC?(t.Ru.addReference(n.key,e),BW(t,n)):n instanceof MC?(Ee(Eb,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||BC(t,n.key)):$e(19791,{wu:n})}function BW(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ee(Eb,"New document in limbo: "+r),t.Eu.add(n),Tb(t))}function Tb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Oe(wt.fromString(e)),n=t.fu.next();t.Au.set(n,new AW(r)),t.du=t.du.insert(r,n),CC(t.remoteStore,new Ua(yn(XT(r.path)),n,"TargetPurposeLimboResolution",wp.ce))}}async function kd(t,e,r){const n=Je(t),a=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){a.push(u);const h=yb.As(c.targetId,u);i.push(h)}}))}),await Promise.all(o),n.Pu.H_(a),await async function(c,u){const d=Je(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>me.forEach(u,m=>me.forEach(m.Es,f=>d.persistence.referenceDelegate.addReference(h,m.targetId,f)).next(()=>me.forEach(m.ds,f=>d.persistence.referenceDelegate.removeReference(h,m.targetId,f)))))}catch(h){if(!hc(h))throw h;Ee(vb,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const f=d.Ms.get(m),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);d.Ms=d.Ms.insert(m,v)}}}(n.localStore,i))}async function $W(t,e){const r=Je(t);if(!r.currentUser.isEqual(e)){Ee(Eb,"User change. New user:",e.toKey());const n=await SC(r.localStore,e);r.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Se(de.CANCELLED,o))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await kd(r,n.Ls)}}function qW(t,e){const r=Je(t),n=r.Au.get(e);if(n&&n.hu)return ot().add(n.key);{let a=ot();const i=r.Iu.get(e);if(!i)return a;for(const o of i){const l=r.Tu.get(o);a=a.unionWith(l.view.nu)}return a}}function $C(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FW.bind(null,e),e.Pu.H_=SW.bind(null,e.eventManager),e.Pu.yu=_W.bind(null,e.eventManager),e}function zW(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UW.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return HH(this.persistence,new $H,e.initialUser,this.serializer)}Cu(e){return new kC(xb.mi,this.serializer)}Du(e){return new XH}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class HW extends bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){gt(this.persistence.referenceDelegate instanceof yf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new EH(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new kC(n=>yf.mi(n,r),this.serializer)}}class l0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>j2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=$W.bind(null,this.syncEngine),await bW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wW}()}createDatastore(e){const r=Ap(e.databaseInfo.databaseId),n=function(i){return new sW(i)}(e.databaseInfo);return function(i,o,l,c){return new oW(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,o,l){return new cW(n,a,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>j2(this.syncEngine,r,0),function(){return p2.v()?new p2:new ZH}())}createSyncEngine(e,r){return function(a,i,o,l,c,u,d){const h=new PW(a,i,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=Je(a);Ee(oo,"RemoteStore shutting down."),i.Ea.add(5),await Nd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}l0.provider={build:()=>new l0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class KW{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Or.UNAUTHENTICATED,this.clientId=ib.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Ee(mi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ee(mi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Sb(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ex(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(mi,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await SC(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await GW(t);Ee(mi,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>x2(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>x2(e.remoteStore,a)),t._onlineComponents=e}async function GW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(mi,"Using user provided OfflineComponentProvider");try{await ex(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Fl("Error using user provided cache. Falling back to memory cache: "+r),await ex(t,new bf)}}else Ee(mi,"Using default OfflineComponentProvider"),await ex(t,new HW(void 0));return t._offlineComponents}async function qC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(mi,"Using user provided OnlineComponentProvider"),await N2(t,t._uninitializedComponentsProvider._online)):(Ee(mi,"Using default OnlineComponentProvider"),await N2(t,new l0))),t._onlineComponents}function QW(t){return qC(t).then(e=>e.syncEngine)}async function YW(t){const e=await qC(t),r=e.eventManager;return r.onListen=IW.bind(null,e.syncEngine),r.onUnlisten=DW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=RW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=MW.bind(null,e.syncEngine),r}function JW(t,e,r={}){const n=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new WW({next:m=>{d.Nu(),o.enqueueAndForget(()=>kW(i,h)),m.fromCache&&c.source==="server"?u.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new EW(l,d,{includeMetadataChanges:!0,qa:!0});return NW(i,h)}(await YW(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firestore.googleapis.com",S2=!0;class _2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=S2}else this.host=e.host,this.ssl=e.ssl??S2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SH)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zq;switch(n.type){case"firstParty":return new sz(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=k2.get(r);n&&(Ee("ComponentProvider","Removing Datastore"),k2.delete(r),n.terminate())}(this),Promise.resolve()}}function XW(t,e,r,n={}){var u;t=df(t,Rp);const a=lc(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;a&&(xT(`https://${l}`),yT("Firestore",!0)),i.host!==HC&&i.host!==l&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:a,emulatorOptions:n};if(!no(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Or.MOCK_USER;else{d=_$(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Or(m)}t._authCredentials=new ez(new IT(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class dr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(bd(r,dr._jsonSchema))return new dr(e,n||null,new Oe(wt.fromString(r.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:sr("string",dr._jsonSchemaVersion),referencePath:sr("string")};class ti extends bo{constructor(e,r,n){super(e,r,XT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Oe(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function tx(t,e,...r){if(t=Is(t),RT("collection","path",e),t instanceof Rp){const n=wt.fromString(e,...r);return VN(n),new ti(t,null,n)}{if(!(t instanceof dr||t instanceof ti))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return VN(n),new ti(t.firestore,null,n)}}function ZW(t,e,...r){if(t=Is(t),arguments.length===1&&(e=ib.newId()),RT("doc","path",e),t instanceof Rp){const n=wt.fromString(e,...r);return FN(n),new dr(t,null,new Oe(n))}{if(!(t instanceof dr||t instanceof ti))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return FN(n),new dr(t.firestore,t instanceof ti?t.converter:null,new Oe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="AsyncQueue";class T2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EC(this,"async_queue_retry"),this._c=()=>{const n=Zg();n&&Ee(E2,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Zg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Zg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ei;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hc(e))throw e;Ee(E2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",C2(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=kb.createAndSchedule(this,e,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&$e(47125,{Pc:C2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function C2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cb extends Rp{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new T2,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T2(e),this._firestoreClient=void 0,await e}}}function eK(t,e){const r=typeof t=="object"?t:wT(),n=typeof t=="string"?t:e||mf,a=nb(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=k$("firestore");i&&XW(a,...i)}return a}function WC(t){if(t._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tK(t),t._firestoreClient}function tK(t){var n,a,i;const e=t._freezeSettings(),r=function(l,c,u,d){return new bz(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KW(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Sr.fromBase64String(e))}catch(r){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Es(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bd(e,Es._jsonSchema))return Es.fromBase64String(e.bytes)}}Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:sr("string",Es._jsonSchemaVersion),bytes:sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bn._jsonSchemaVersion}}static fromJSON(e){if(bd(e,bn._jsonSchema))return new bn(e.latitude,e.longitude)}}bn._jsonSchemaVersion="firestore/geoPoint/1.0",bn._jsonSchema={type:sr("string",bn._jsonSchemaVersion),latitude:sr("number"),longitude:sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bd(e,jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new jn(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jn._jsonSchemaVersion="firestore/vectorValue/1.0",jn._jsonSchema={type:sr("string",jn._jsonSchemaVersion),vectorValues:sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^__.*__$/;class sK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,r,this.fieldTransforms):new jd(e,this.data,r,this.fieldTransforms)}}function KC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:t})}}class Ib{constructor(e,r,n,a,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ib({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KC(this.Ac)&&rK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nK{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ap(e)}Cc(e,r,n,a=!1){return new Ib({Ac:e,methodName:r,Dc:n,path:wr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GC(t){const e=t._freezeSettings(),r=Ap(t._databaseId);return new nK(t._databaseId,!!e.ignoreUndefinedProperties,r)}function aK(t,e,r,n,a,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,r,a);JC("Data must be an object, but it was:",o,n);const l=QC(n,o);let c,u;if(i.merge)c=new $s(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=oK(e,h,r);if(!o.contains(m))throw new Se(de.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cK(d,m)||d.push(m)}c=new $s(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new sK(new _s(l),c,u)}class Rb extends Pb{_toFieldTransform(e){return new Hz(e.path,new Xu)}isEqual(e){return e instanceof Rb}}function iK(t,e,r,n=!1){return Ob(r,t.Cc(n?4:3,e))}function Ob(t,e){if(YC(t=Is(t)))return JC("Unsupported field value:",e,t),QC(t,e);if(t instanceof Pb)return function(n,a){if(!KC(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,a){const i=[];let o=0;for(const l of n){let c=Ob(l,a.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Is(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $z(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=_t.fromDate(n);return{timestampValue:xf(a.serializer,i)}}if(n instanceof _t){const i=new _t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xf(a.serializer,i)}}if(n instanceof bn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Es)return{bytesValue:gC(a.serializer,n._byteString)};if(n instanceof dr){const i=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw a.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pb(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof jn)return function(o,l){return{mapValue:{fields:{[$T]:{stringValue:zT},[ff]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return hb(l.serializer,u)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${jp(n)}`)}(t,e)}function QC(t,e){const r={};return MT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(n,a)=>{const i=Ob(a,e.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function YC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof bn||t instanceof Es||t instanceof dr||t instanceof Pb||t instanceof jn)}function JC(t,e,r){if(!YC(r)||!OT(r)){const n=jp(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function oK(t,e,r){if((e=Is(e))instanceof Ab)return e._internalPath;if(typeof e=="string")return XC(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,r)}const lK=new RegExp("[~\\*/\\[\\]]");function XC(t,e,r){if(e.search(lK)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ab(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function jf(t,e,r,n,a){const i=n&&!n.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${n}`),o&&(c+=` in document ${a}`),c+=")"),new Se(de.INVALID_ARGUMENT,l+t+c)}function cK(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uK extends ZC{data(){return super.data()}}function Op(t,e){return typeof e=="string"?XC(t,e):e instanceof Ab?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}class eA extends Db{}function rx(t,e,...r){let n=[];e instanceof Db&&n.push(e),n=n.concat(r),function(i){const o=i.filter(c=>c instanceof Mb).length,l=i.filter(c=>c instanceof Dp).length;if(o>1||o>0&&l>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Dp extends eA{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Dp(e,r,n)}_apply(e){const r=this._parse(e);return tA(e._query,r),new bo(e.firestore,e.converter,Xy(e._query,r))}_parse(e){const r=GC(e.firestore);return function(i,o,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){I2(h,d);const g=[];for(const v of h)g.push(P2(c,i,v));m={arrayValue:{values:g}}}else m=P2(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||I2(h,d),m=iK(l,o,h,d==="in"||d==="not-in");return rr.create(u,d,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function hK(t,e,r){const n=e,a=Op("where",t);return Dp._create(a,n,r)}class Mb extends Db{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Mb(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Qs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let o=a;const l=i.getFlattenedFilters();for(const c of l)tA(o,c),o=Xy(o,c)}(e._query,r),new bo(e.firestore,e.converter,Xy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lb extends eA{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Lb(e,r)}_apply(e){const r=function(a,i,o){if(a.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(i,o)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(a,i){const o=a.explicitOrderBy.concat([i]);return new mc(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function A2(t,e="asc"){const r=e,n=Op("orderBy",t);return Lb._create(n,r)}function P2(t,e,r){if(typeof(r=Is(r))=="string"){if(r==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&r.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wt.fromString(r));if(!Oe.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return KN(t,new Oe(n))}if(r instanceof dr)return KN(t,r._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jp(r)}.`)}function I2(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tA(t,e){const r=function(a,i){for(const o of a)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class mK{convertValue(e,r="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return go(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var n,a,i;const r=(i=(a=(n=e.fields)==null?void 0:n[ff].arrayValue)==null?void 0:a.values)==null?void 0:i.map(o=>Gt(o.doubleValue));return new jn(r)}convertGeoPoint(e){return new bn(Gt(e.latitude),Gt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=kp(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const r=ci(e);return new _t(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wt.fromString(e);gt(wC(n),9688,{name:e});const a=new Qu(n.get(1),n.get(3)),i=new Oe(n.popFirst(5));return a.isEqual(r)||ea(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class jh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends ZC{constructor(e,r,n,a,i,o){super(e,r,n,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=wl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",wl._jsonSchema={type:sr("string",wl._jsonSchemaVersion),bundleSource:sr("string","DocumentSnapshot"),bundleName:sr("string"),bundle:sr("string")};class im extends wl{data(e={}){return super.data(e)}}class Nl{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new jh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new im(this._firestore,this._userDataWriter,n.key,n,new jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map(l=>{const c=new im(a._firestore,a._userDataWriter,l.doc.key,l.doc,new jh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new im(a._firestore,a._userDataWriter,l.doc.key,l.doc,new jh(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:pK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ib.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:sr("string",Nl._jsonSchemaVersion),bundleSource:sr("string","QuerySnapshot"),bundleName:sr("string"),bundle:sr("string")};class gK extends mK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,r)}}function R2(t){t=df(t,bo);const e=df(t.firestore,Cb),r=WC(e),n=new gK(e);return dK(t._query),JW(r,t._query).then(a=>new Nl(e,n,t,a))}function xK(t,e){const r=df(t.firestore,Cb),n=ZW(t),a=fK(t.converter,e);return yK(r,[aK(GC(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,$n.exists(!1))]).then(()=>n)}function yK(t,e){return function(n,a){const i=new ei;return n.asyncQueue.enqueueAndForget(async()=>LW(await QW(n),a,i)),i.promise}(WC(t),e)}function vK(){return new Rb("serverTimestamp")}(function(e,r=!0){(function(a){uc=a})(cc),Ll(new ao("firestore",(n,{instanceIdentifier:a,options:i})=>{const o=n.getProvider("app").getImmediate(),l=new Cb(new tz(n.getProvider("auth-internal")),new nz(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(u.options.projectId,d)}(o,a),o);return i={useFetchStreams:r,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Xa(ON,DN,e),Xa(ON,DN,"esm2020")})();var bK="firebase",jK="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(bK,jK,"app");function rA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wK=rA,sA=new yd("auth","Firebase",rA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new rb("@firebase/auth");function NK(t,...e){wf.logLevel<=at.WARN&&wf.warn(`Auth (${cc}): ${t}`,...e)}function om(t,...e){wf.logLevel<=at.ERROR&&wf.error(`Auth (${cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,...e){throw Fb(t,...e)}function wn(t,...e){return Fb(t,...e)}function nA(t,e,r){const n={...wK(),[e]:r};return new yd("auth","Firebase",n).create(e,{appName:t.name})}function Gi(t){return nA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fb(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return sA.create(t,...e)}function He(t,e,...r){if(!t)throw Fb(e,...r)}function Mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw om(e),new Error(e)}function sa(t,e){t||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function kK(){return O2()==="http:"||O2()==="https:"}function O2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kK()||I$()||"connection"in navigator)?navigator.onLine:!0}function _K(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r){this.shortDelay=e,this.longDelay=r,sa(r>e,"Short delay should be less than long delay!"),this.isMobile=C$()||R$()}get(){return SK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){sa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CK=new Sd(3e4,6e4);function Ub(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pc(t,e,r,n,a={}){return iA(t,a,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const l=vd({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return P$()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(u.credentials="include"),aA.fetch()(await oA(t,t.config.apiHost,r,l),u)})}async function iA(t,e,r){t._canInitEmulator=!1;const n={...EK,...e};try{const a=new PK(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw wh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw wh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw wh(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nA(t,d,u);ra(t,d)}}catch(a){if(a instanceof da)throw a;ra(t,"network-request-failed",{message:String(a)})}}async function AK(t,e,r,n,a={}){const i=await pc(t,e,r,n,a);return"mfaPendingCredential"in i&&ra(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function oA(t,e,r,n){const a=`${e}${r}?${n}`,i=t,o=i.config.emulator?Vb(t.config,a):`${t.config.apiScheme}://${a}`;return TK.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class PK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wn(this.auth,"network-request-failed")),CK.get())})}}function wh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=wn(t,e,n);return a.customData._tokenResponse=r,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IK(t,e){return pc(t,"POST","/v1/accounts:delete",e)}async function Nf(t,e){return pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RK(t,e=!1){const r=Is(t),n=await r.getIdToken(e),a=Bb(n);He(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:vu(sx(a.auth_time)),issuedAtTime:vu(sx(a.iat)),expirationTime:vu(sx(a.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sx(t){return Number(t)*1e3}function Bb(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const a=mT(r);return a?JSON.parse(a):(om("Failed to decode base64 JWT payload"),null)}catch(a){return om("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function D2(t){const e=Bb(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof da&&OK(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function OK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){var h;const e=t.auth,r=await t.getIdToken(),n=await td(t,Nf(e,{idToken:r}));He(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const i=(h=a.providerUserInfo)!=null&&h.length?lA(a.providerUserInfo):[],o=LK(t.providerData,i),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new u0(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function MK(t){const e=Is(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LK(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function lA(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FK(t,e){const r=await iA(t,{},async()=>{const n=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,o=await oA(t,a,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(c.credentials="include"),aA.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VK(t,e){return pc(t,"POST","/v2/accounts:revokeToken",Ub(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=D2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await FK(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,o=new kl;return n&&(He(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),a&&(He(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(He(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qs{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new DK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await td(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return RK(this,e)}reload(){return MK(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await kf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await td(this,IK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:f,providerData:g,stsTokenManager:v}=r;He(h&&v,e,"internal-error");const b=kl.fromJSON(this.name,v);He(typeof h=="string",e,"internal-error"),ja(n,e.name),ja(a,e.name),He(typeof m=="boolean",e,"internal-error"),He(typeof f=="boolean",e,"internal-error"),ja(i,e.name),ja(o,e.name),ja(l,e.name),ja(c,e.name),ja(u,e.name),ja(d,e.name);const y=new qs({uid:h,auth:e,email:a,emailVerified:m,displayName:n,isAnonymous:f,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:b,createdAt:u,lastLoginAt:d});return g&&Array.isArray(g)&&(y.providerData=g.map(p=>({...p}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,r,n=!1){const a=new kl;a.updateFromServerResponse(r);const i=new qs({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await kf(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];He(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?lA(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),l=new kl;l.updateFromIdToken(n);const c=new qs({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new u0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Map;function Ln(t){sa(t instanceof Function,"Expected a class definition");let e=M2.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}cA.type="NONE";const L2=cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e,r){return`firebase:${t}:${e}:${r}`}class Sl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=lm(this.userKey,a.apiKey,i),this.fullPersistenceKey=lm("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Nf(this.auth,{idToken:e}).catch(()=>{});return r?qs._fromGetAccountInfoResponse(this.auth,r,e):null}return qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sl(Ln(L2),e,n);const a=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=a[0]||Ln(L2);const o=lm(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const m=await Nf(e,{idToken:d}).catch(()=>{});if(!m)break;h=await qs._fromGetAccountInfoResponse(e,m,d)}else h=qs._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Sl(i,e,n):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Sl(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pA(e))return"Blackberry";if(gA(e))return"Webos";if(dA(e))return"Safari";if((e.includes("chrome/")||hA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function uA(t=Vr()){return/firefox\//i.test(t)}function dA(t=Vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hA(t=Vr()){return/crios\//i.test(t)}function mA(t=Vr()){return/iemobile/i.test(t)}function fA(t=Vr()){return/android/i.test(t)}function pA(t=Vr()){return/blackberry/i.test(t)}function gA(t=Vr()){return/webos/i.test(t)}function $b(t=Vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UK(t=Vr()){var e;return $b(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BK(){return O$()&&document.documentMode===10}function xA(t=Vr()){return $b(t)||fA(t)||gA(t)||pA(t)||/windows phone/i.test(t)||mA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e=[]){let r;switch(t){case"Browser":r=F2(Vr());break;case"Worker":r=`${F2(Vr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${cc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qK(t,e={}){return pc(t,"GET","/v2/passwordPolicy",Ub(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK=6;class HK{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??zK,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V2(this),this.idTokenSubscription=new V2(this),this.beforeStateQueue=new $K(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ln(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Nf(this,{idToken:e}),n=await qs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_K()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(Gi(this));const r=e?Is(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qK(this),r=new HK(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VK(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ln(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Ln(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,a);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&NK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qb(t){return Is(t)}class V2{constructor(e){this.auth=e,this.observer=null,this.addObserver=$$(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KK(t){zb=t}function GK(t){return zb.loadJS(t)}function QK(){return zb.gapiScript}function YK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t,e){const r=nb(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(no(i,e??{}))return a;ra(a,"already-initialized")}return r.initialize({options:e})}function XK(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ZK(t,e,r){const n=qb(t);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!!(r!=null&&r.disableWarnings),i=vA(e),{host:o,port:l}=eG(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(no(u,n.config.emulator)&&no(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,lc(o)?(xT(`${i}//${o}${c}`),yT("Auth",!0)):a||tG()}function vA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eG(t){const e=vA(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:U2(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:U2(o)}}}function U2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tG(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,r){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return AK(t,"POST","/v1/accounts:signInWithIdp",Ub(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="http://localhost";class lo extends bA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ra("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const o=new lo(n,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return _l(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,_l(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_l(e,r)}buildRequest(){const e={requestUri:rG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends jA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends _d{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return lo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ra.credential(r,n)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends _d{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends _d{constructor(){super("twitter.com")}static credential(e,r){return lo._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Da.credential(r,n)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await qs._fromIdTokenResponse(e,n,a),o=B2(n);return new zl({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=B2(n);return new zl({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function B2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends da{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new Sf(e,r,n,a)}}function wA(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(t,i,e,n):i})}async function sG(t,e,r=!1){const n=await td(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return zl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e,r=!1){const{auth:n}=t;if(hn(n.app))return Promise.reject(Gi(n));const a="reauthenticate";try{const i=await td(t,wA(n,a,e,t),r);He(i.idToken,n,"internal-error");const o=Bb(i.idToken);He(o,n,"internal-error");const{sub:l}=o;return He(t.uid===l,n,"user-mismatch"),zl._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ra(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(t,e,r=!1){if(hn(t.app))return Promise.reject(Gi(t));const n="signIn",a=await wA(t,n,e),i=await zl._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}function iG(t,e,r,n){return Is(t).onIdTokenChanged(e,r,n)}function oG(t,e,r){return Is(t).beforeAuthStateChanged(e,r)}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=1e3,cG=10;class kA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);BK()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cG):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const uG=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}SA.type="SESSION";const _A=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new Mp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const l=Array.from(o).map(async u=>u(r.origin,i)),c=await dG(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=Hb("",20);a.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function mG(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function fG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gG(){return EA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebaseLocalStorageDb",xG=1,Ef="firebaseLocalStorage",CA="fbase_key";class Ed{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Lp(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function yG(){const t=indexedDB.deleteDatabase(TA);return new Ed(t).toPromise()}function d0(){const t=indexedDB.open(TA,xG);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ef,{keyPath:CA})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ef)?e(n):(n.close(),await yG(),e(await d0()))})})}async function $2(t,e,r){const n=Lp(t,!0).put({[CA]:e,value:r});return new Ed(n).toPromise()}async function vG(t,e){const r=Lp(t,!1).get(e),n=await new Ed(r).toPromise();return n===void 0?null:n.value}function q2(t,e){const r=Lp(t,!0).delete(e);return new Ed(r).toPromise()}const bG=800,jG=3;class AA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d0(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>jG)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(gG()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await fG(),!this.activeServiceWorker)return;this.sender=new hG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d0();return await $2(e,_f,"1"),await q2(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>$2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>vG(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>q2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Lp(a,!1).getAll();return new Ed(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AA.type="LOCAL";const wG=AA;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t,e){return e?Ln(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends bA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _l(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function kG(t){return aG(t.auth,new Wb(t),t.bypassAuthState)}function SG(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),nG(r,new Wb(t),t.bypassAuthState)}async function _G(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),sG(r,new Wb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kG;case"linkViaPopup":case"linkViaRedirect":return _G;case"reauthViaPopup":case"reauthViaRedirect":return SG;default:ra(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new Sd(2e3,1e4);class nl extends PA{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=Hb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EG.get())};e()}}nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="pendingRedirect",cm=new Map;class CG extends PA{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const n=await AG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AG(t,e){const r=RG(e),n=IG(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function PG(t,e){cm.set(t._key(),e)}function IG(t){return Ln(t._redirectPersistence)}function RG(t){return lm(TG,t.config.apiKey,t.name)}async function OG(t,e,r=!1){if(hn(t.app))return Promise.reject(Gi(t));const n=qb(t),a=NG(n,e),o=await new CG(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=10*60*1e3;class MG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LG(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!IA(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(wn(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DG&&this.cachedEventUids.clear(),this.cachedEventUids.has(z2(e))}saveEventToCache(e){this.cachedEventUids.add(z2(e)),this.lastProcessedEventTime=Date.now()}}function z2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FG(t,e={}){return pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UG=/^https?/;async function BG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FG(t);for(const r of e)try{if($G(r))return}catch{}ra(t,"unauthorized-domain")}function $G(t){const e=c0(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!UG.test(r))return!1;if(VG.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=new Sd(3e4,6e4);function H2(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function zG(t){return new Promise((e,r)=>{var a,i,o;function n(){H2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H2(),r(wn(t,"network-request-failed"))},timeout:qG.get()})}if((i=(a=Nn().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Nn().gapi)!=null&&o.load)n();else{const l=YK("iframefcb");return Nn()[l]=()=>{gapi.load?n():r(wn(t,"network-request-failed"))},GK(`${QK()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw um=null,e})}let um=null;function HG(t){return um=um||zG(t),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=new Sd(5e3,15e3),KG="__/auth/iframe",GG="emulator/auth/iframe",QG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JG(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Vb(e,GG):`https://${t.config.authDomain}/${KG}`,n={apiKey:e.apiKey,appName:t.name,v:cc},a=YG.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${vd(n).slice(1)}`}async function XG(t){const e=await HG(t),r=Nn().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:JG(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QG,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),l=Nn().setTimeout(()=>{i(o)},WG.get());function c(){Nn().clearTimeout(l),a(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eQ=500,tQ=600,rQ="_blank",sQ="http://localhost";class W2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nQ(t,e,r,n=eQ,a=tQ){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...ZG,width:n.toString(),height:a.toString(),top:i,left:o},u=Vr().toLowerCase();r&&(l=hA(u)?rQ:r),uA(u)&&(e=e||sQ,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[f,g])=>`${m}${f}=${g},`,"");if(UK(u)&&l!=="_self")return aQ(e||"",l),new W2(null);const h=window.open(e||"",l,d);He(h,t,"popup-blocked");try{h.focus()}catch{}return new W2(h)}function aQ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ="__/auth/handler",oQ="emulator/auth/handler",lQ=encodeURIComponent("fac");async function K2(t,e,r,n,a,i){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:cc,eventId:a};if(e instanceof jA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",B$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof _d){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${lQ}=${encodeURIComponent(c)}`:"";return`${cQ(t)}?${vd(l).slice(1)}${u}`}function cQ({config:t}){return t.emulator?Vb(t,oQ):`https://${t.authDomain}/${iQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="webStorageSupport";class uQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=OG,this._overrideRedirectResult=PG}async _openPopup(e,r,n,a){var o;sa((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await K2(e,r,n,c0(),a);return nQ(e,i,Hb())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await K2(e,r,n,c0(),a);return mG(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(sa(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await XG(e),n=new MG(e);return r.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(nx,{type:nx},a=>{var o;const i=(o=a==null?void 0:a[0])==null?void 0:o[nx];i!==void 0&&r(!!i),ra(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=BG(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return xA()||dA()||$b()}}const dQ=uQ;var G2="@firebase/auth",Q2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fQ(t){Ll(new ao("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(t)},u=new WK(n,a,i,c);return XK(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ll(new ao("auth-internal",e=>{const r=qb(e.getProvider("auth").getImmediate());return(n=>new hQ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(G2,Q2,mQ(t)),Xa(G2,Q2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=5*60,gQ=gT("authIdTokenMaxAge")||pQ;let Y2=null;const xQ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>gQ)return;const a=r==null?void 0:r.token;Y2!==a&&(Y2=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yQ(t=wT()){const e=nb(t,"auth");if(e.isInitialized())return e.getImmediate();const r=JK(t,{popupRedirectResolver:dQ,persistence:[wG,uG,_A]}),n=gT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=xQ(i.toString());oG(r,o,()=>o(r.currentUser)),iG(r,l=>o(l))}}const a=fT("auth");return a&&ZK(r,`http://${a}`),r}function vQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}KK({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=wn("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",vQ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fQ("Browser");const bQ={apiKey:{}.VITE_FIREBASE_API_KEY||"mock-api-key",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"mock-auth-domain",projectId:{}.VITE_FIREBASE_PROJECT_ID||"mock-project-id",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"mock-storage-bucket",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"mock-sender-id",appId:{}.VITE_FIREBASE_APP_ID||"mock-app-id"},RA=jT(bQ),ax=eK(RA);yQ(RA);const J2=["Web Development","Digital Marketing","Content Creation","Data Analysis","Graphic Design","Virtual Assistance","Other"],jQ=()=>{const{user:t}=Ur(),[e,r]=P.useState([]),[n,a]=P.useState({content:"",rating:5,userRole:"",category:"Web Development",impact:"",projectLink:""}),[i,o]=P.useState(!0),[l,c]=P.useState(!1),[u,d]=P.useState({category:"all",rating:0,searchQuery:""});P.useEffect(()=>{(async()=>{try{let g=rx(tx(ax,"testimonials"),A2("createdAt","desc"));u.category!=="all"&&(g=rx(g,hK("category","==",u.category)));let b=(await R2(g)).docs.map(y=>({id:y.id,...y.data()}));if(u.rating>0&&(b=b.filter(y=>y.rating>=u.rating)),u.searchQuery){const y=u.searchQuery.toLowerCase();b=b.filter(p=>p.content.toLowerCase().includes(y)||p.userName.toLowerCase().includes(y)||p.userRole.toLowerCase().includes(y))}r(b),o(!1)}catch(g){console.error("Error fetching testimonials:",g),o(!1)}})()},[u]);const h=async f=>{if(f.preventDefault(),!!t){c(!0);try{await xK(tx(ax,"testimonials"),{userId:t.uid,userName:t.displayName||"Anonymous",userRole:n.userRole,content:n.content,rating:n.rating,category:n.category,impact:n.impact,projectLink:n.projectLink,createdAt:vK()}),a({content:"",rating:5,userRole:"",category:"Web Development",impact:"",projectLink:""});const g=rx(tx(ax,"testimonials"),A2("createdAt","desc")),b=(await R2(g)).docs.map(y=>({id:y.id,...y.data()}));r(b)}catch(g){console.error("Error submitting testimonial:",g)}finally{c(!1)}}},m=f=>{if(!f)return"";const g=f.toDate();return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(g)};return i?s.jsx(ca,{message:"Loading testimonials",description:"Please wait while we fetch the testimonials"}):!e||e.length===0?s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:" Success Stories & Testimonials"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Real stories from real people who transformed their careers"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-3xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Inspiring Success Stories Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're curating amazing success stories from our community members who have transformed their careers and lives through digital skills. Get ready to be inspired by real journeys of:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Career Transitions"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"From traditional jobs to thriving digital careers"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-blue-600 text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Freelance Success"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Building sustainable income streams online"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-purple-600 text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Growth"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Scaling small businesses with digital tools"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-orange-600 text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Skill Development"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Mastering in-demand digital skills"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-accent/10 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-2",children:"Be Part of the Story"}),s.jsx("p",{className:"text-gray-700 text-sm",children:"When we launch, you'll be able to share your own success story and inspire others in the community. Your journey could be the motivation someone else needs to start their digital transformation."})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We're working hard to bring you authentic, inspiring stories. Stay tuned for the launch! "})]})})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Success Stories & Testimonials"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover how Ajira Digital has transformed careers and lives. Read inspiring stories from our community members and share your own journey."})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-8 w-full",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center w-full",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",value:u.searchQuery,onChange:f=>d(g=>({...g,searchQuery:f.target.value})),placeholder:"Search testimonials...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg"})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("select",{value:u.category,onChange:f=>d(g=>({...g,category:f.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),J2.map(f=>s.jsx("option",{value:f,children:f},f))]}),s.jsxs("select",{value:u.rating,onChange:f=>d(g=>({...g,rating:Number(f.target.value)})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:0,children:"All Ratings"}),s.jsx("option",{value:5,children:"5 Stars"}),s.jsx("option",{value:4,children:"4+ Stars"}),s.jsx("option",{value:3,children:"3+ Stars"})]})]})]})}),t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-12 w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-ajira-primary mb-6",children:"Share Your Success Story"}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Role"}),s.jsx("input",{type:"text",value:n.userRole,onChange:f=>a(g=>({...g,userRole:f.target.value})),placeholder:"e.g., Web Developer, Digital Marketer",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:n.category,onChange:f=>a(g=>({...g,category:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0,children:J2.map(f=>s.jsx("option",{value:f,children:f},f))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Story"}),s.jsx(p$,{value:n.content,onChange:f=>a(g=>({...g,content:f})),placeholder:"Share your experience and success story...",className:"h-40 mb-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact & Achievement"}),s.jsx("textarea",{value:n.impact,onChange:f=>a(g=>({...g,impact:f.target.value})),placeholder:"What specific impact or achievement did you accomplish? (e.g., Increased income by 50%, Landed 5 new clients)",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project/Portfolio Link (Optional)"}),s.jsx("input",{type:"url",value:n.projectLink,onChange:f=>a(g=>({...g,projectLink:f.target.value})),placeholder:"https://your-project.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(f=>s.jsx("button",{type:"button",onClick:()=>a(g=>({...g,rating:f})),className:"focus:outline-none",children:s.jsx(lt,{className:`w-6 h-6 ${f<=n.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},f))})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-ajira-accent text-white py-3 rounded-lg hover:bg-ajira-accent/90 disabled:opacity-50 font-medium text-base sm:text-lg",children:l?"Submitting...":"Share Your Story"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:e.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Zm,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No testimonials found"}),s.jsx("p",{className:"text-gray-500",children:u.searchQuery||u.category!=="all"||u.rating>0?"Try adjusting your filters to see more results":"Be the first to share your story!"})]}):e.map(f=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 flex flex-col",children:[s.jsxs("div",{className:"flex items-start mb-4",children:[s.jsx(Zm,{className:"w-8 h-8 text-ajira-accent opacity-50 mr-2 flex-shrink-0"}),s.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:f.content}})]}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("div",{className:"flex items-center mb-2",children:[...Array(5)].map((g,v)=>s.jsx(lt,{className:`w-4 h-4 ${v<f.rating?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-ajira-primary",children:f.userName}),s.jsx("div",{className:"text-sm text-gray-500",children:f.userRole})]}),s.jsx("div",{className:"text-xs text-gray-400",children:m(f.createdAt)})]}),f.impact&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Impact:"}),s.jsx("div",{className:"text-sm text-gray-600",children:f.impact})]}),f.projectLink&&s.jsx("a",{href:f.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm text-ajira-accent hover:underline",children:"View Project "}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block bg-ajira-accent/10 text-ajira-accent px-2 py-1 rounded-full text-xs",children:f.category})})]})]},f.id))})]})},OA=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Fp=P.createContext({}),Kb=P.createContext(null),Vp=typeof document<"u",wQ=Vp?P.useLayoutEffect:P.useEffect,DA=P.createContext({strict:!1}),Gb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),NQ="framerAppearId",MA="data-"+Gb(NQ);function kQ(t,e,r,n){const{visualElement:a}=P.useContext(Fp),i=P.useContext(DA),o=P.useContext(Kb),l=P.useContext(OA).reducedMotion,c=P.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;P.useInsertionEffect(()=>{u&&u.update(r,o)});const d=P.useRef(!!(r[MA]&&!window.HandoffComplete));return wQ(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SQ(t,e,r){return P.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):al(r)&&(r.current=n))},[e])}function rd(t){return typeof t=="string"||Array.isArray(t)}function Up(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yb=["initial",...Qb];function Bp(t){return Up(t.animate)||Yb.some(e=>rd(t[e]))}function LA(t){return!!(Bp(t)||t.variants)}function _Q(t,e){if(Bp(t)){const{initial:r,animate:n}=t;return{initial:r===!1||rd(r)?r:void 0,animate:rd(n)?n:void 0}}return t.inherit!==!1?e:{}}function EQ(t){const{initial:e,animate:r}=_Q(t,P.useContext(Fp));return P.useMemo(()=>({initial:e,animate:r}),[X2(e),X2(r)])}function X2(t){return Array.isArray(t)?t.join(" "):t}const Z2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sd={};for(const t in Z2)sd[t]={isEnabled:e=>Z2[t].some(r=>!!e[r])};function TQ(t){for(const e in t)sd[e]={...sd[e],...t[e]}}const FA=P.createContext({}),VA=P.createContext({}),CQ=Symbol.for("motionComponentSymbol");function AQ({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:a}){t&&TQ(t);function i(l,c){let u;const d={...P.useContext(OA),...l,layoutId:PQ(l)},{isStatic:h}=d,m=EQ(l),f=n(l,h);if(!h&&Vp){m.visualElement=kQ(a,f,d,e);const g=P.useContext(VA),v=P.useContext(DA).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,v,t,g))}return P.createElement(Fp.Provider,{value:m},u&&m.visualElement?P.createElement(u,{visualElement:m.visualElement,...d}):null,r(a,l,SQ(f,m.visualElement,c),f,h,m.visualElement))}const o=P.forwardRef(i);return o[CQ]=a,o}function PQ({layoutId:t}){const e=P.useContext(FA).id;return e&&t!==void 0?e+"-"+t:t}function IQ(t){function e(n,a={}){return AQ(t(n,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const RQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jb(t){return typeof t!="string"||t.includes("-")?!1:!!(RQ.indexOf(t)>-1||/[A-Z]/.test(t))}const Tf={};function OQ(t){Object.assign(Tf,t)}const Td=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jo=new Set(Td);function UA(t,{layout:e,layoutId:r}){return jo.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Tf[t]||t==="opacity")}const ns=t=>!!(t&&t.getVelocity),DQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MQ=Td.length;function LQ(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,a){let i="";for(let o=0;o<MQ;o++){const l=Td[o];if(t[l]!==void 0){const c=DQ[l]||l;i+=`${c}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(t,n?"":i):r&&n&&(i="none"),i}const BA=t=>e=>typeof e=="string"&&e.startsWith(t),$A=BA("--"),h0=BA("var(--"),FQ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,VQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fi=(t,e,r)=>Math.min(Math.max(r,t),e),wo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bu={...wo,transform:t=>fi(0,1,t)},Nh={...wo,default:1},ju=t=>Math.round(t*1e5)/1e5,$p=/(-)?([\d]*\.?[\d])+/g,qA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,UQ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cd(t){return typeof t=="string"}const Ad=t=>({test:e=>Cd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ka=Ad("deg"),kn=Ad("%"),Be=Ad("px"),BQ=Ad("vh"),$Q=Ad("vw"),ek={...kn,parse:t=>kn.parse(t)/100,transform:t=>kn.transform(t*100)},tk={...wo,transform:Math.round},zA={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,size:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Nh,scaleX:Nh,scaleY:Nh,scaleZ:Nh,skew:ka,skewX:ka,skewY:ka,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:bu,originX:ek,originY:ek,originZ:Be,zIndex:tk,fillOpacity:bu,strokeOpacity:bu,numOctaves:tk};function Xb(t,e,r,n){const{style:a,vars:i,transform:o,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const h in e){const m=e[h];if($A(h)){i[h]=m;continue}const f=zA[h],g=VQ(m,f);if(jo.has(h)){if(c=!0,o[h]=g,!d)continue;m!==(f.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=g):a[h]=g}if(e.transform||(c||n?a.transform=LQ(t.transform,r,d,n):a.transform&&(a.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:f=0}=l;a.transformOrigin=`${h} ${m} ${f}`}}const Zb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HA(t,e,r){for(const n in e)!ns(e[n])&&!UA(n,r)&&(t[n]=e[n])}function qQ({transformTemplate:t},e,r){return P.useMemo(()=>{const n=Zb();return Xb(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function zQ(t,e,r){const n=t.style||{},a={};return HA(a,n,t),Object.assign(a,qQ(t,e,r)),t.transformValues?t.transformValues(a):a}function HQ(t,e,r){const n={},a=zQ(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const WQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WQ.has(t)}let WA=t=>!Cf(t);function KQ(t){t&&(WA=e=>e.startsWith("on")?!Cf(e):t(e))}try{KQ(require("@emotion/is-prop-valid").default)}catch{}function GQ(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(WA(a)||r===!0&&Cf(a)||!e&&!Cf(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function rk(t,e,r){return typeof t=="string"?t:Be.transform(e+r*t)}function QQ(t,e,r){const n=rk(e,t.x,t.width),a=rk(r,t.y,t.height);return`${n} ${a}`}const YQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},JQ={offset:"strokeDashoffset",array:"strokeDasharray"};function XQ(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?YQ:JQ;t[i.offset]=Be.transform(-n);const o=Be.transform(e),l=Be.transform(r);t[i.array]=`${o} ${l}`}function ej(t,{attrX:e,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,m){if(Xb(t,u,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=QQ(v,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&XQ(f,o,l,c,!1)}const KA=()=>({...Zb(),attrs:{}}),tj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZQ(t,e,r,n){const a=P.useMemo(()=>{const i=KA();return ej(i,e,{enableHardwareAcceleration:!1},tj(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};HA(i,t.style,t),a.style={...i,...a.style}}return a}function eY(t=!1){return(r,n,a,{latestValues:i},o)=>{const c=(Jb(r)?ZQ:HQ)(n,i,o,r),d={...GQ(n,typeof r=="string",t),...c,ref:a},{children:h}=n,m=P.useMemo(()=>ns(h)?h.get():h,[h]);return P.createElement(r,{...d,children:m})}}function GA(t,{style:e,vars:r},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const QA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YA(t,e,r,n){GA(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(QA.has(a)?a:Gb(a),e.attrs[a])}function rj(t,e){const{style:r}=t,n={};for(const a in r)(ns(r[a])||e.style&&ns(e.style[a])||UA(a,t))&&(n[a]=r[a]);return n}function JA(t,e){const r=rj(t,e);for(const n in t)if(ns(t[n])||ns(e[n])){const a=Td.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}function sj(t,e,r,n={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),e}function tY(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Af=t=>Array.isArray(t),rY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sY=t=>Af(t)?t[t.length-1]||0:t;function dm(t){const e=ns(t)?t.get():t;return rY(e)?e.toValue():e}function nY({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,a,i){const o={latestValues:aY(n,a,i,t),renderState:e()};return r&&(o.mount=l=>r(n,l,o)),o}const XA=t=>(e,r)=>{const n=P.useContext(Fp),a=P.useContext(Kb),i=()=>nY(t,e,n,a);return r?i():tY(i)};function aY(t,e,r,n){const a={},i=n(t,{});for(const m in i)a[m]=dm(i[m]);let{initial:o,animate:l}=t;const c=Bp(t),u=LA(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!Up(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const g=sj(t,f);if(!g)return;const{transitionEnd:v,transition:b,...y}=g;for(const p in y){let w=y[p];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[p]=w)}for(const p in v)a[p]=v[p]}),a}const $t=t=>t;class sk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function iY(t){let e=new sk,r=new sk,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&a,m=h?e:r;return u&&o.add(c),m.add(c)&&h&&a&&(n=e.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(c),o.has(d)&&(l.schedule(d),t())}a=!1,i&&(i=!1,l.process(c))}};return l}const kh=["prepare","read","update","preRender","render","postRender"],oY=40;function lY(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=kh.reduce((h,m)=>(h[m]=iY(()=>r=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(h-a.timestamp,oY),1),a.timestamp=h,a.isProcessing=!0,kh.forEach(o),a.isProcessing=!1,r&&e&&(n=!1,t(l))},c=()=>{r=!0,n=!0,a.isProcessing||t(l)};return{schedule:kh.reduce((h,m)=>{const f=i[m];return h[m]=(g,v=!1,b=!1)=>(r||c(),f.schedule(g,v,b)),h},{}),cancel:h=>kh.forEach(m=>i[m].cancel(h)),state:a,steps:i}}const{schedule:Tt,cancel:na,state:Rr,steps:ix}=lY(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),cY={useVisualState:XA({scrapeMotionValuesFromProps:JA,createRenderState:KA,onMount:(t,e,{renderState:r,latestValues:n})=>{Tt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Tt.render(()=>{ej(r,n,{enableHardwareAcceleration:!1},tj(e.tagName),t.transformTemplate),YA(e,r)})}})},uY={useVisualState:XA({scrapeMotionValuesFromProps:rj,createRenderState:Zb})};function dY(t,{forwardMotionProps:e=!1},r,n){return{...Jb(t)?cY:uY,preloadedFeatures:r,useRender:eY(e),createVisualElement:n,Component:t}}function Fn(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const ZA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function qp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const hY=t=>e=>ZA(e)&&t(e,qp(e));function qn(t,e,r,n){return Fn(t,e,hY(r),n)}const mY=(t,e)=>r=>e(t(r)),ri=(...t)=>t.reduce(mY);function eP(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const nk=eP("dragHorizontal"),ak=eP("dragVertical");function tP(t){let e=!1;if(t==="y")e=ak();else if(t==="x")e=nk();else{const r=nk(),n=ak();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function rP(){const t=tP(!0);return t?(t(),!1):!0}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ik(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||rP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[n]&&Tt.update(()=>l[n](i,o))};return qn(t.current,r,a,{passive:!t.getProps()[n]})}class fY extends ji{mount(){this.unmount=ri(ik(this.node,!0),ik(this.node,!1))}unmount(){}}class pY extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ri(Fn(this.node.current,"focus",()=>this.onFocus()),Fn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sP=(t,e)=>e?t===e?!0:sP(t,e.parentElement):!1;function ox(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,qp(r))}class gY extends ji{constructor(){super(...arguments),this.removeStartListeners=$t,this.removeEndListeners=$t,this.removeAccessibleListeners=$t,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=qn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Tt.update(()=>{!h&&!sP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=qn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ri(i,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ox("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Tt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Fn(this.node.current,"keyup",o),ox("down",(l,c)=>{this.startPress(l,c)})},r=Fn(this.node.current,"keydown",e),n=()=>{this.isPressing&&ox("cancel",(i,o)=>this.cancelPress(i,o))},a=Fn(this.node.current,"blur",n);this.removeAccessibleListeners=ri(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Tt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rP()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Tt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=qn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Fn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ri(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const m0=new WeakMap,lx=new WeakMap,xY=t=>{const e=m0.get(t.target);e&&e(t)},yY=t=>{t.forEach(xY)};function vY({root:t,...e}){const r=t||document;lx.has(r)||lx.set(r,{});const n=lx.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(yY,{root:t,...e})),n[a]}function bY(t,e,r){const n=vY(e);return m0.set(t,r),n.observe(t),()=>{m0.delete(t),n.unobserve(t)}}const jY={some:0,all:1};class wY extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:jY[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return bY(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(NY(e,r))&&this.startObserver()}unmount(){}}function NY({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const kY={inView:{Feature:wY},tap:{Feature:gY},focus:{Feature:pY},hover:{Feature:fY}};function nP(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function SY(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function _Y(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function zp(t,e,r){const n=t.getProps();return sj(n,e,r!==void 0?r:n.custom,SY(t),_Y(t))}let EY=$t,nj=$t;const si=t=>t*1e3,zn=t=>t/1e3,TY={current:!1},aP=t=>Array.isArray(t)&&typeof t[0]=="number";function iP(t){return!!(!t||typeof t=="string"&&oP[t]||aP(t)||Array.isArray(t)&&t.every(iP))}const Xc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,oP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function lP(t){if(t)return aP(t)?Xc(t):Array.isArray(t)?t.map(lP):oP[t]}function CY(t,e,r,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=lP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function AY(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const cP=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,PY=1e-7,IY=12;function RY(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=cP(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>PY&&++l<IY);return o}function Pd(t,e,r,n){if(t===e&&r===n)return $t;const a=i=>RY(i,0,1,t,r);return i=>i===0||i===1?i:cP(a(i),e,n)}const OY=Pd(.42,0,1,1),DY=Pd(0,0,.58,1),uP=Pd(.42,0,.58,1),MY=t=>Array.isArray(t)&&typeof t[0]!="number",dP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hP=t=>e=>1-t(1-e),aj=t=>1-Math.sin(Math.acos(t)),mP=hP(aj),LY=dP(aj),fP=Pd(.33,1.53,.69,.99),ij=hP(fP),FY=dP(ij),VY=t=>(t*=2)<1?.5*ij(t):.5*(2-Math.pow(2,-10*(t-1))),UY={linear:$t,easeIn:OY,easeInOut:uP,easeOut:DY,circIn:aj,circInOut:LY,circOut:mP,backIn:ij,backInOut:FY,backOut:fP,anticipate:VY},ok=t=>{if(Array.isArray(t)){nj(t.length===4);const[e,r,n,a]=t;return Pd(e,r,n,a)}else if(typeof t=="string")return UY[t];return t},oj=(t,e)=>r=>!!(Cd(r)&&UQ.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),pP=(t,e,r)=>n=>{if(!Cd(n))return n;const[a,i,o,l]=n.match($p);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},BY=t=>fi(0,255,t),cx={...wo,transform:t=>Math.round(BY(t))},zi={test:oj("rgb","red"),parse:pP("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+cx.transform(t)+", "+cx.transform(e)+", "+cx.transform(r)+", "+ju(bu.transform(n))+")"};function $Y(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const f0={test:oj("#"),parse:$Y,transform:zi.transform},il={test:oj("hsl","hue"),parse:pP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+kn.transform(ju(e))+", "+kn.transform(ju(r))+", "+ju(bu.transform(n))+")"},$r={test:t=>zi.test(t)||f0.test(t)||il.test(t),parse:t=>zi.test(t)?zi.parse(t):il.test(t)?il.parse(t):f0.parse(t),transform:t=>Cd(t)?t:t.hasOwnProperty("red")?zi.transform(t):il.transform(t)},Ot=(t,e,r)=>-r*t+r*e+t;function ux(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function qY({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=ux(c,l,t+1/3),i=ux(c,l,t),o=ux(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const dx=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},zY=[f0,zi,il],HY=t=>zY.find(e=>e.test(t));function lk(t){const e=HY(t);let r=e.parse(t);return e===il&&(r=qY(r)),r}const gP=(t,e)=>{const r=lk(t),n=lk(e),a={...r};return i=>(a.red=dx(r.red,n.red,i),a.green=dx(r.green,n.green,i),a.blue=dx(r.blue,n.blue,i),a.alpha=Ot(r.alpha,n.alpha,i),zi.transform(a))};function WY(t){var e,r;return isNaN(t)&&Cd(t)&&(((e=t.match($p))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(qA))===null||r===void 0?void 0:r.length)||0)>0}const xP={regex:FQ,countKey:"Vars",token:"${v}",parse:$t},yP={regex:qA,countKey:"Colors",token:"${c}",parse:$r.parse},vP={regex:$p,countKey:"Numbers",token:"${n}",parse:wo.parse};function hx(t,{regex:e,countKey:r,token:n,parse:a}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(a)))}function Pf(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&hx(r,xP),hx(r,yP),hx(r,vP),r}function bP(t){return Pf(t).values}function jP(t){const{values:e,numColors:r,numVars:n,tokenised:a}=Pf(t),i=e.length;return o=>{let l=a;for(let c=0;c<i;c++)c<n?l=l.replace(xP.token,o[c]):c<n+r?l=l.replace(yP.token,$r.transform(o[c])):l=l.replace(vP.token,ju(o[c]));return l}}const KY=t=>typeof t=="number"?0:t;function GY(t){const e=bP(t);return jP(t)(e.map(KY))}const pi={test:WY,parse:bP,createTransformer:jP,getAnimatableNone:GY},wP=(t,e)=>r=>`${r>0?e:t}`;function NP(t,e){return typeof t=="number"?r=>Ot(t,e,r):$r.test(t)?gP(t,e):t.startsWith("var(")?wP(t,e):SP(t,e)}const kP=(t,e)=>{const r=[...t],n=r.length,a=t.map((i,o)=>NP(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}},QY=(t,e)=>{const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=NP(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},SP=(t,e)=>{const r=pi.createTransformer(e),n=Pf(t),a=Pf(e);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?ri(kP(n.values,a.values),r):wP(t,e)},nd=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},ck=(t,e)=>r=>Ot(t,e,r);function YY(t){return typeof t=="number"?ck:typeof t=="string"?$r.test(t)?gP:SP:Array.isArray(t)?kP:typeof t=="object"?QY:ck}function JY(t,e,r){const n=[],a=r||YY(t[0]),i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||$t:e;l=ri(c,l)}n.push(l)}return n}function _P(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(nj(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=JY(e,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=nd(t[d],t[d+1],u);return o[d](h)};return r?u=>c(fi(t[0],t[i-1],u)):c}function XY(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=nd(0,e,n);t.push(Ot(r,1,a))}}function ZY(t){const e=[0];return XY(e,t.length-1),e}function eJ(t,e){return t.map(r=>r*e)}function tJ(t,e){return t.map(()=>e||uP).splice(0,t.length-1)}function If({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=MY(n)?n.map(ok):ok(n),i={done:!1,value:e[0]},o=eJ(r&&r.length===e.length?r:ZY(e),t),l=_P(o,e,{ease:Array.isArray(a)?a:tJ(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}function EP(t,e){return e?t*(1e3/e):0}const rJ=5;function TP(t,e,r){const n=Math.max(e-rJ,0);return EP(r-t(n),e-n)}const mx=.001,sJ=.01,uk=10,nJ=.05,aJ=1;function iJ({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let a,i;EY(t<=si(uk));let o=1-e;o=fi(nJ,aJ,o),t=fi(sJ,uk,zn(t)),o<1?(a=u=>{const d=u*o,h=d*t,m=d-r,f=p0(u,o),g=Math.exp(-h);return mx-m/f*g},i=u=>{const h=u*o*t,m=h*r+r,f=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),v=p0(Math.pow(u,2),o);return(-a(u)+mx>0?-1:1)*((m-f)*g)/v}):(a=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-mx+d*h},i=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=lJ(a,i,l);if(t=si(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const oJ=12;function lJ(t,e,r){let n=r;for(let a=1;a<oJ;a++)n=n-t(n)/e(n);return n}function p0(t,e){return t*Math.sqrt(1-e*e)}const cJ=["duration","bounce"],uJ=["stiffness","damping","mass"];function dk(t,e){return e.some(r=>t[r]!==void 0)}function dJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!dk(t,uJ)&&dk(t,cJ)){const r=iJ(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function CP({keyframes:t,restDelta:e,restSpeed:r,...n}){const a=t[0],i=t[t.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=dJ({...n,velocity:-zn(n.velocity||0)}),f=h||0,g=c/(2*Math.sqrt(l*u)),v=i-a,b=zn(Math.sqrt(l/u)),y=Math.abs(v)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let p;if(g<1){const w=p0(b,g);p=j=>{const S=Math.exp(-g*b*j);return i-S*((f+g*b*v)/w*Math.sin(w*j)+v*Math.cos(w*j))}}else if(g===1)p=w=>i-Math.exp(-b*w)*(v+(f+b*v)*w);else{const w=b*Math.sqrt(g*g-1);p=j=>{const S=Math.exp(-g*b*j),R=Math.min(w*j,300);return i-S*((f+g*b*v)*Math.sinh(R)+w*v*Math.cosh(R))/w}}return{calculatedDuration:m&&d||null,next:w=>{const j=p(w);if(m)o.done=w>=d;else{let S=f;w!==0&&(g<1?S=TP(p,w,j):S=0);const R=Math.abs(S)<=r,k=Math.abs(i-j)<=e;o.done=R&&k}return o.value=o.done?i:j,o}}}function hk({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},f=N=>l!==void 0&&N<l||c!==void 0&&N>c,g=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let v=r*e;const b=h+v,y=o===void 0?b:o(b);y!==b&&(v=y-h);const p=N=>-v*Math.exp(-N/n),w=N=>y+p(N),j=N=>{const E=p(N),T=w(N);m.done=Math.abs(E)<=u,m.value=m.done?y:T};let S,R;const k=N=>{f(m.value)&&(S=N,R=CP({keyframes:[m.value,g(m.value)],velocity:TP(w,N,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let E=!1;return!R&&S===void 0&&(E=!0,j(N),k(N)),S!==void 0&&N>S?R.next(N-S):(!E&&j(N),m)}}}const hJ=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Tt.update(e,!0),stop:()=>na(e),now:()=>Rr.isProcessing?Rr.timestamp:performance.now()}},mk=2e4;function fk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<mk;)e+=r,n=t.next(e);return e>=mk?1/0:e}const mJ={decay:hk,inertia:hk,tween:If,keyframes:If,spring:CP};function Rf({autoplay:t=!0,delay:e=0,driver:r=hJ,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...m}){let f=1,g=!1,v,b;const y=()=>{b=new Promise(F=>{v=F})};y();let p;const w=mJ[a]||If;let j;w!==If&&typeof n[0]!="number"&&(j=_P([0,100],n,{clamp:!1}),n=[0,100]);const S=w({...m,keyframes:n});let R;l==="mirror"&&(R=w({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let k="idle",N=null,E=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=fk(S));const{calculatedDuration:_}=S;let A=1/0,C=1/0;_!==null&&(A=_+o,C=A*(i+1)-o);let O=0;const V=F=>{if(E===null)return;f>0&&(E=Math.min(E,F)),f<0&&(E=Math.min(F-C/f,E)),N!==null?O=N:O=Math.round(F-E)*f;const W=O-e*(f>=0?1:-1),H=f>=0?W<0:W>C;O=Math.max(W,0),k==="finished"&&N===null&&(O=C);let Q=O,X=S;if(i){const $=Math.min(O,C)/A;let Z=Math.floor($),se=$%1;!se&&$>=1&&(se=1),se===1&&Z--,Z=Math.min(Z,i+1),!!(Z%2)&&(l==="reverse"?(se=1-se,o&&(se-=o/A)):l==="mirror"&&(X=R)),Q=fi(0,1,se)*A}const G=H?{done:!1,value:n[0]}:X.next(Q);j&&(G.value=j(G.value));let{done:K}=G;!H&&_!==null&&(K=f>=0?O>=C:O<=0);const J=N===null&&(k==="finished"||k==="running"&&K);return h&&h(G.value),J&&M(),G},L=()=>{p&&p.stop(),p=void 0},q=()=>{k="idle",L(),v(),y(),E=T=null},M=()=>{k="finished",d&&d(),L(),v()},z=()=>{if(g)return;p||(p=r(V));const F=p.now();c&&c(),N!==null?E=F-N:(!E||k==="finished")&&(E=F),k==="finished"&&y(),T=E,N=null,k="running",p.start()};t&&z();const D={then(F,W){return b.then(F,W)},get time(){return zn(O)},set time(F){F=si(F),O=F,N!==null||!p||f===0?N=F:E=p.now()-F/f},get duration(){const F=S.calculatedDuration===null?fk(S):S.calculatedDuration;return zn(F)},get speed(){return f},set speed(F){F===f||!p||(f=F,D.time=zn(O))},get state(){return k},play:z,pause:()=>{k="paused",N=O},stop:()=>{g=!0,k!=="idle"&&(k="idle",u&&u(),q())},cancel:()=>{T!==null&&V(T),q()},complete:()=>{k="finished"},sample:F=>(E=0,V(F))};return D}function fJ(t){let e;return()=>(e===void 0&&(e=t()),e)}const pJ=fJ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Sh=10,xJ=2e4,yJ=(t,e)=>e.type==="spring"||t==="backgroundColor"||!iP(e.ease);function vJ(t,e,{onUpdate:r,onComplete:n,...a}){if(!(pJ()&&gJ.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(w=>{l=w})};d();let{keyframes:h,duration:m=300,ease:f,times:g}=a;if(yJ(e,a)){const w=Rf({...a,repeat:0,delay:0});let j={done:!1,value:h[0]};const S=[];let R=0;for(;!j.done&&R<xJ;)j=w.sample(R),S.push(j.value),R+=Sh;g=void 0,h=S,m=R-Sh,f="linear"}const v=CY(t.owner.current,e,h,{...a,duration:m,ease:f,times:g}),b=()=>{u=!1,v.cancel()},y=()=>{u=!0,Tt.update(b),l(),d()};return v.onfinish=()=>{u||(t.set(AY(h,a)),n&&n(),y())},{then(w,j){return c.then(w,j)},attachTimeline(w){return v.timeline=w,v.onfinish=null,$t},get time(){return zn(v.currentTime||0)},set time(w){v.currentTime=si(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return zn(m)},play:()=>{o||(v.play(),na(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const j=Rf({...a,autoplay:!1});t.setWithVelocity(j.sample(w-Sh).value,j.sample(w).value,Sh)}y()},complete:()=>{u||v.finish()},cancel:y}}function bJ({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const a=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:$t,pause:$t,stop:$t,then:i=>(i(),Promise.resolve()),cancel:$t,complete:$t});return e?Rf({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const jJ={type:"spring",stiffness:500,damping:25,restSpeed:10},wJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NJ={type:"keyframes",duration:.8},kJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SJ=(t,{keyframes:e})=>e.length>2?NJ:jo.has(t)?t.startsWith("scale")?wJ(e[1]):jJ:kJ,g0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pi.test(e)||e==="0")&&!e.startsWith("url(")),_J=new Set(["brightness","contrast","saturate","opacity"]);function EJ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match($p)||[];if(!n)return t;const a=r.replace(n,"");let i=_J.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const TJ=/([a-z-]*)\(.*?\)/g,x0={...pi,getAnimatableNone:t=>{const e=t.match(TJ);return e?e.map(EJ).join(" "):t}},CJ={...zA,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:x0,WebkitFilter:x0},lj=t=>CJ[t];function AP(t,e){let r=lj(t);return r!==x0&&(r=pi),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const PP=t=>/^0[^.\s]+$/.test(t);function AJ(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||PP(t)}function PJ(t,e,r,n){const a=g0(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:t.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),AJ(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=AP(e,l)}return i}function IJ({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function cj(t,e){return t[e]||t.default||t}const RJ={skipAnimations:!1},uj=(t,e,r,n={})=>a=>{const i=cj(n,t)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-si(o);const c=PJ(e,t,r,i),u=c[0],d=c[c.length-1],h=g0(t,u),m=g0(t,d);let f={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{e.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(IJ(i)||(f={...f,...SJ(t,f)}),f.duration&&(f.duration=si(f.duration)),f.repeatDelay&&(f.repeatDelay=si(f.repeatDelay)),!h||!m||TY.current||i.type===!1||RJ.skipAnimations)return bJ(f);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=vJ(e,t,f);if(g)return g}return Rf(f)};function Of(t){return!!(ns(t)&&t.add)}const IP=t=>/^\-?\d*\.?\d+$/.test(t);function dj(t,e){t.indexOf(e)===-1&&t.push(e)}function hj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class mj{constructor(){this.subscriptions=[]}add(e){return dj(this.subscriptions,e),()=>hj(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const OJ=t=>!isNaN(parseFloat(t));class DJ{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Rr;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=OJ(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new mj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?EP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hl(t,e){return new DJ(t,e)}const RP=t=>e=>e.test(t),MJ={test:t=>t==="auto",parse:t=>t},OP=[wo,Be,kn,ka,$Q,BQ,MJ],$c=t=>OP.find(RP(t)),LJ=[...OP,$r,pi],FJ=t=>LJ.find(RP(t));function VJ(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Hl(r))}function UJ(t,e){const r=zp(t,e);let{transitionEnd:n={},transition:a={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=sY(i[o]);VJ(t,o,l)}}function BJ(t,e,r){var n,a;const i=Object.keys(e).filter(l=>!t.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=r[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&a!==void 0?a:e[c]),d!=null&&(typeof d=="string"&&(IP(d)||PP(d))?d=parseFloat(d):!FJ(d)&&pi.test(u)&&(d=AP(c,u)),t.addValue(c,Hl(d,{owner:t})),r[c]===void 0&&(r[c]=d),d!==null&&t.setBaseTarget(c,d))}}function $J(t,e){return e?(e[t]||e.default||e).from:void 0}function qJ(t,e,r){const n={};for(const a in t){const i=$J(a,e);if(i!==void 0)n[a]=i;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function zJ({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function HJ(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function DP(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(i=n);const u=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const h in l){const m=t.getValue(h),f=l[h];if(!m||f===void 0||d&&zJ(d,h))continue;const g={delay:r,elapsed:0,...cj(i||{},h)};if(window.HandoffAppearAnimations){const y=t.getProps()[MA];if(y){const p=window.HandoffAppearAnimations(y,h,m,Tt);p!==null&&(g.elapsed=p,g.isHandoff=!0)}}let v=!g.isHandoff&&!HJ(m,f);if(g.type==="spring"&&(m.getVelocity()||g.velocity)&&(v=!1),m.animation&&(v=!1),v)continue;m.start(uj(h,m,f,t.shouldReduceMotion&&jo.has(h)?{type:!1}:g));const b=m.animation;Of(c)&&(c.add(h),b.then(()=>c.remove(h))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&UJ(t,o)}),u}function y0(t,e,r={}){const n=zp(t,e,r.custom);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(DP(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return WJ(t,e,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function WJ(t,e,r=0,n=0,a=1,i){const o=[],l=(t.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(KJ).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(y0(u,e,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function KJ(t,e){return t.sortNodePosition(e)}function GJ(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>y0(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=y0(t,e,r);else{const a=typeof e=="function"?zp(t,e,r.custom):e;n=Promise.all(DP(t,a,r))}return n.then(()=>t.notify("AnimationComplete",e))}const QJ=[...Qb].reverse(),YJ=Qb.length;function JJ(t){return e=>Promise.all(e.map(({animation:r,options:n})=>GJ(t,r,n)))}function XJ(t){let e=JJ(t);const r=eX();let n=!0;const a=(c,u)=>{const d=zp(t,u);if(d){const{transition:h,transitionEnd:m,...f}=d;c={...c,...f,...m}}return c};function i(c){e=c(t)}function o(c,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},m=[],f=new Set;let g={},v=1/0;for(let y=0;y<YJ;y++){const p=QJ[y],w=r[p],j=d[p]!==void 0?d[p]:h[p],S=rd(j),R=p===u?w.isActive:null;R===!1&&(v=y);let k=j===h[p]&&j!==d[p]&&S;if(k&&n&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...g},!w.isActive&&R===null||!j&&!w.prevProp||Up(j)||typeof j=="boolean")continue;let E=ZJ(w.prevProp,j)||p===u&&w.isActive&&!k&&S||y>v&&S,T=!1;const _=Array.isArray(j)?j:[j];let A=_.reduce(a,{});R===!1&&(A={});const{prevResolvedValues:C={}}=w,O={...C,...A},V=L=>{E=!0,f.has(L)&&(T=!0,f.delete(L)),w.needsAnimating[L]=!0};for(const L in O){const q=A[L],M=C[L];if(g.hasOwnProperty(L))continue;let z=!1;Af(q)&&Af(M)?z=!nP(q,M):z=q!==M,z?q!==void 0?V(L):f.add(L):q!==void 0&&f.has(L)?V(L):w.protectedKeys[L]=!0}w.prevProp=j,w.prevResolvedValues=A,w.isActive&&(g={...g,...A}),n&&t.blockInitialAnimation&&(E=!1),E&&(!k||T)&&m.push(..._.map(L=>({animation:L,options:{type:p,...c}})))}if(f.size){const y={};f.forEach(p=>{const w=t.getBaseTarget(p);w!==void 0&&(y[p]=w)}),m.push({animation:y})}let b=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(m):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const m=o(d,c);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function ZJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nP(e,t):!1}function Ti(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eX(){return{animate:Ti(!0),whileInView:Ti(),whileHover:Ti(),whileTap:Ti(),whileDrag:Ti(),whileFocus:Ti(),exit:Ti()}}class tX extends ji{constructor(e){super(e),e.animationState||(e.animationState=XJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Up(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let rX=0;class sX extends ji{constructor(){super(...arguments),this.id=rX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nX={animation:{Feature:tX},exit:{Feature:sX}},pk=(t,e)=>Math.abs(t-e);function aX(t,e){const r=pk(t.x,e.x),n=pk(t.y,e.y);return Math.sqrt(r**2+n**2)}class MP{constructor(e,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=px(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=aX(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:v}=Rr;this.history.push({...g,timestamp:v});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=fx(m,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=px(h.type==="pointercancel"?this.lastMoveEventInfo:fx(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,b),g&&g(h,b)},!ZA(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=qp(e),l=fx(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Rr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,px(l,this.history)),this.removeListeners=ri(qn(this.contextWindow,"pointermove",this.handlePointerMove),qn(this.contextWindow,"pointerup",this.handlePointerUp),qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),na(this.updatePoint)}}function fx(t,e){return e?{point:e(t.point)}:t}function gk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function px({point:t},e){return{point:t,delta:gk(t,LP(e)),offset:gk(t,iX(e)),velocity:oX(e,.1)}}function iX(t){return t[0]}function LP(t){return t[t.length-1]}function oX(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=LP(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>si(e)));)r--;if(!n)return{x:0,y:0};const i=zn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ms(t){return t.max-t.min}function v0(t,e=0,r=.01){return Math.abs(t-e)<=r}function xk(t,e,r,n=.5){t.origin=n,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=ms(r)/ms(e),(v0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ot(r.min,r.max,t.origin)-t.originPoint,(v0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,r,n){xk(t.x,e.x,r.x,n?n.originX:void 0),xk(t.y,e.y,r.y,n?n.originY:void 0)}function yk(t,e,r){t.min=r.min+e.min,t.max=t.min+ms(e)}function lX(t,e,r){yk(t.x,e.x,r.x),yk(t.y,e.y,r.y)}function vk(t,e,r){t.min=e.min-r.min,t.max=t.min+ms(e)}function Nu(t,e,r){vk(t.x,e.x,r.x),vk(t.y,e.y,r.y)}function cX(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ot(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ot(r,t,n.max):Math.min(t,r)),t}function bk(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function uX(t,{top:e,left:r,bottom:n,right:a}){return{x:bk(t.x,r,a),y:bk(t.y,e,n)}}function jk(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function dX(t,e){return{x:jk(t.x,e.x),y:jk(t.y,e.y)}}function hX(t,e){let r=.5;const n=ms(t),a=ms(e);return a>n?r=nd(e.min,e.max-n,t.min):n>a&&(r=nd(t.min,t.max-a,e.min)),fi(0,1,r)}function mX(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const b0=.35;function fX(t=b0){return t===!1?t=0:t===!0&&(t=b0),{x:wk(t,"left","right"),y:wk(t,"top","bottom")}}function wk(t,e,r){return{min:Nk(t,e),max:Nk(t,r)}}function Nk(t,e){return typeof t=="number"?t:t[e]||0}const kk=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:kk(),y:kk()}),Sk=()=>({min:0,max:0}),er=()=>({x:Sk(),y:Sk()});function ws(t){return[t("x"),t("y")]}function FP({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function pX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gX(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function gx(t){return t===void 0||t===1}function j0({scale:t,scaleX:e,scaleY:r}){return!gx(t)||!gx(e)||!gx(r)}function Di(t){return j0(t)||VP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function VP(t){return _k(t.x)||_k(t.y)}function _k(t){return t&&t!=="0%"}function Df(t,e,r){const n=t-r,a=e*n;return r+a}function Ek(t,e,r,n,a){return a!==void 0&&(t=Df(t,a,n)),Df(t,r,n)+e}function w0(t,e=0,r=1,n,a){t.min=Ek(t.min,e,r,n,a),t.max=Ek(t.max,e,r,n,a)}function UP(t,{x:e,y:r}){w0(t.x,e.translate,e.scale,e.originPoint),w0(t.y,r.translate,r.scale,r.originPoint)}function xX(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ll(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,UP(t,o)),n&&Di(i.latestValues)&&ll(t,i.latestValues))}e.x=Tk(e.x),e.y=Tk(e.y)}function Tk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ta(t,e){t.min=t.min+e,t.max=t.max+e}function Ck(t,e,[r,n,a]){const i=e[a]!==void 0?e[a]:.5,o=Ot(t.min,t.max,i);w0(t,e[r],e[n],o,e.scale)}const yX=["x","scaleX","originX"],vX=["y","scaleY","originY"];function ll(t,e){Ck(t.x,e,yX),Ck(t.y,e,vX)}function BP(t,e){return FP(gX(t.getBoundingClientRect(),e))}function bX(t,e,r){const n=BP(t,r),{scroll:a}=e;return a&&(Ta(n.x,a.offset.x),Ta(n.y,a.offset.y)),n}const $P=({current:t})=>t?t.ownerDocument.defaultView:null,jX=new WeakMap;class wX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=er(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qp(d,"page").point)},i=(d,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tP(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(b=>{let y=this.getAxisMotionValue(b).get()||0;if(kn.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[b];w&&(y=ms(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),g&&Tt.update(()=>g(d,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=h;if(f&&this.currentDirection===null){this.currentDirection=NX(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ws(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new MP(e,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:$P(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Tt.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!_h(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=cX(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&al(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=uX(a.layoutBox,r):this.constraints=!1,this.elastic=fX(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ws(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=mX(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!al(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=bX(n,a.root,this.visualElement.getTransformPagePoint());let o=dX(a.layout.layoutBox,i);if(r){const l=r(pX(o));this.hasMutatedConstraints=!!l,l&&(o=FP(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ws(d=>{if(!_h(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(uj(e,n,0,r))}stopAnimation(){ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ws(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ws(r=>{const{drag:n}=this.getProps();if(!_h(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Ot(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!al(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ws(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=hX({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ws(o=>{if(!_h(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ot(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;jX.set(this.visualElement,this);const e=this.visualElement.current,r=qn(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();al(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=Fn(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ws(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=b0,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function _h(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function NX(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class kX extends ji{constructor(e){super(e),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new wX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ak=t=>(e,r)=>{t&&Tt.update(()=>t(e,r))};class SX extends ji{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(e){this.session=new MP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$P(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ak(e),onStart:Ak(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Tt.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=qn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _X(){const t=P.useContext(Kb);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,a=P.useId();return P.useEffect(()=>n(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}const hm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const r=Pk(t,e.target.x),n=Pk(t,e.target.y);return`${r}% ${n}%`}},EX={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=pi.parse(t);if(a.length>5)return n;const i=pi.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const u=Ot(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class TX extends ut.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;OQ(CX),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Tt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qP(t){const[e,r]=_X(),n=P.useContext(FA);return ut.createElement(TX,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(VA),isPresent:e,safeToRemove:r})}const CX={borderRadius:{...qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qc,borderTopRightRadius:qc,borderBottomLeftRadius:qc,borderBottomRightRadius:qc,boxShadow:EX},zP=["TopLeft","TopRight","BottomLeft","BottomRight"],AX=zP.length,Ik=t=>typeof t=="string"?parseFloat(t):t,Rk=t=>typeof t=="number"||Be.test(t);function PX(t,e,r,n,a,i){a?(t.opacity=Ot(0,r.opacity!==void 0?r.opacity:1,IX(n)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,RX(n))):i&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<AX;o++){const l=`border${zP[o]}Radius`;let c=Ok(e,l),u=Ok(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Rk(c)===Rk(u)?(t[l]=Math.max(Ot(Ik(c),Ik(u),n),0),(kn.test(u)||kn.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Ot(e.rotate||0,r.rotate||0,n))}function Ok(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IX=HP(0,.5,mP),RX=HP(.5,.95,$t);function HP(t,e,r){return n=>n<t?0:n>e?1:r(nd(t,e,n))}function Dk(t,e){t.min=e.min,t.max=e.max}function js(t,e){Dk(t.x,e.x),Dk(t.y,e.y)}function Mk(t,e,r,n,a){return t-=e,t=Df(t,1/r,n),a!==void 0&&(t=Df(t,1/a,n)),t}function OX(t,e=0,r=1,n=.5,a,i=t,o=t){if(kn.test(e)&&(e=parseFloat(e),e=Ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ot(i.min,i.max,n);t===i&&(l-=e),t.min=Mk(t.min,e,r,l,a),t.max=Mk(t.max,e,r,l,a)}function Lk(t,e,[r,n,a],i,o){OX(t,e[r],e[n],e[a],e.scale,i,o)}const DX=["x","scaleX","originX"],MX=["y","scaleY","originY"];function Fk(t,e,r,n){Lk(t.x,e,DX,r?r.x:void 0,n?n.x:void 0),Lk(t.y,e,MX,r?r.y:void 0,n?n.y:void 0)}function Vk(t){return t.translate===0&&t.scale===1}function WP(t){return Vk(t.x)&&Vk(t.y)}function LX(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function KP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Uk(t){return ms(t.x)/ms(t.y)}class FX{constructor(){this.members=[]}add(e){dj(this.members,e),e.scheduleRender()}remove(e){if(hj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bk(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const VX=(t,e)=>t.depth-e.depth;class UX{constructor(){this.children=[],this.isDirty=!1}add(e){dj(this.children,e),this.isDirty=!0}remove(e){hj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VX),this.isDirty=!1,this.children.forEach(e)}}function BX(t,e){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(na(n),t(i-e))};return Tt.read(n,!0),()=>na(n)}function $X(t){window.MotionDebug&&window.MotionDebug.record(t)}function qX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function zX(t,e,r){const n=ns(t)?t:Hl(t);return n.start(uj("",n,e,r)),n.animation}const $k=["","X","Y","Z"],HX={visibility:"hidden"},qk=1e3;let WX=0;const Mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GP({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=WX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mi.totalNodes=Mi.resolvedTargetDeltas=Mi.recalculatedProjection=0,this.nodes.forEach(QX),this.nodes.forEach(eZ),this.nodes.forEach(tZ),this.nodes.forEach(YX),$X(Mi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new UX)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mj),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qX(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=BX(m,250),hm.hasAnimatedSinceResize&&(hm.hasAnimatedSinceResize=!1,this.nodes.forEach(Hk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||iZ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!KP(this.targetLayout,g)||f,w=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...cj(v,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Hk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zk);return}this.isUpdating||this.nodes.forEach(XX),this.isUpdating=!1,this.nodes.forEach(ZX),this.nodes.forEach(KX),this.nodes.forEach(GX),this.clearAllSnapshots();const l=performance.now();Rr.delta=fi(0,1e3/60,l-Rr.timestamp),Rr.timestamp=l,Rr.isProcessing=!0,ix.update.process(Rr),ix.preRender.process(Rr),ix.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JX),this.sharedNodes.forEach(sZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!WP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Di(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),oZ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return er();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Ta(l.x,c.offset.x),Ta(l.y,c.offset.y)),l}removeElementScroll(o){const l=er();js(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){js(l,o);const{scroll:m}=this.root;m&&(Ta(l.x,-m.offset.x),Ta(l.y,-m.offset.y))}Ta(l.x,d.offset.x),Ta(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=er();js(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ll(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Di(d.latestValues)&&ll(c,d.latestValues)}return Di(this.latestValues)&&ll(c,this.latestValues),c}removeTransform(o){const l=er();js(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Di(u.latestValues))continue;j0(u.latestValues)&&u.updateSnapshot();const d=er(),h=u.measurePageBox();js(d,h),Fk(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Di(this.latestValues)&&Fk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),Nu(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=er(),this.targetWithTransforms=er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),UP(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),Nu(this.relativeTargetOrigin,this.target,f.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||VP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;js(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;xX(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=ol(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol());const v=this.projectionTransform;wu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Bk(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=er(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,b=this.getStack(),y=!b||b.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(aZ));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;Wk(h.x,o.x,S),Wk(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nu(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nZ(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&LX(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=er()),js(w,this.relativeTarget)),v&&(this.animationValues=d,PX(d,u,this.latestValues,S,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{hm.hasAnimatedSinceResize=!0,this.currentAnimation=zX(0,qk,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&QP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||er();const h=ms(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=ms(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}js(l,c),ll(l,d),wu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FX),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<$k.length;d++){const h="rotate"+$k[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HX;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=dm(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=dm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Di(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Bk(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:f,y:g}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Tf){if(m[v]===void 0)continue;const{correct:b,applyTo:y}=Tf[v],p=u.transform==="none"?m[v]:b(m[v],h);if(y){const w=y.length;for(let j=0;j<w;j++)u[y[j]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?dm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(zk),this.root.sharedNodes.clear()}}}function KX(t){t.updateLayout()}function GX(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?ws(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=ms(m);m.min=n[h].min,m.max=m.min+f}):QP(i,r.layoutBox,n)&&ws(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=ms(n[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=ol();wu(l,n,r.layoutBox);const c=ol();o?wu(c,t.applyTransform(a,!0),r.measuredBox):wu(c,n,r.layoutBox);const u=!WP(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=er();Nu(g,r.layoutBox,m.layoutBox);const v=er();Nu(v,n,f.layoutBox),KP(g,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function QX(t){Mi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JX(t){t.clearSnapshot()}function zk(t){t.clearMeasurements()}function XX(t){t.isLayoutDirty=!1}function ZX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eZ(t){t.resolveTargetDelta()}function tZ(t){t.calcProjection()}function rZ(t){t.resetRotation()}function sZ(t){t.removeLeadSnapshot()}function Wk(t,e,r){t.translate=Ot(e.translate,0,r),t.scale=Ot(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Kk(t,e,r,n){t.min=Ot(e.min,r.min,n),t.max=Ot(e.max,r.max,n)}function nZ(t,e,r,n){Kk(t.x,e.x,r.x,n),Kk(t.y,e.y,r.y,n)}function aZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iZ={duration:.45,ease:[.4,0,.1,1]},Gk=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Qk=Gk("applewebkit/")&&!Gk("chrome/")?Math.round:$t;function Yk(t){t.min=Qk(t.min),t.max=Qk(t.max)}function oZ(t){Yk(t.x),Yk(t.y)}function QP(t,e,r){return t==="position"||t==="preserve-aspect"&&!v0(Uk(e),Uk(r),.2)}const lZ=GP({attachResizeListener:(t,e)=>Fn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xx={current:void 0},YP=GP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xx.current){const t=new lZ({});t.mount(window),t.setOptions({layoutScroll:!0}),xx.current=t}return xx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cZ={pan:{Feature:SX},drag:{Feature:kX,ProjectionNode:YP,MeasureLayout:qP}},uZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dZ(t){const e=uZ.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function N0(t,e,r=1){const[n,a]=dZ(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return IP(o)?parseFloat(o):o}else return h0(a)?N0(a,e,r+1):a}function hZ(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(a=>{const i=a.get();if(!h0(i))return;const o=N0(i,n);o&&a.set(o)});for(const a in e){const i=e[a];if(!h0(i))continue;const o=N0(i,n);o&&(e[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:e,transitionEnd:r}}const mZ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),JP=t=>mZ.has(t),fZ=t=>Object.keys(t).some(JP),Jk=t=>t===wo||t===Be,Xk=(t,e)=>parseFloat(t.split(", ")[e]),Zk=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Xk(a[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?Xk(i[1],t):0}},pZ=new Set(["x","y","z"]),gZ=Td.filter(t=>!pZ.has(t));function xZ(t){const e=[];return gZ.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Wl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Zk(4,13),y:Zk(5,14)};Wl.translateX=Wl.x;Wl.translateY=Wl.y;const yZ=(t,e,r)=>{const n=e.measureViewportBox(),a=e.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{l[u]=Wl[u](n,i)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=Wl[u](c,i)}),t},vZ=(t,e,r={},n={})=>{e={...e},n={...n};const a=Object.keys(e).filter(JP);let i=[],o=!1;const l=[];if(a.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=r[c],h=$c(d);const m=e[c];let f;if(Af(m)){const g=m.length,v=m[0]===null?1:0;d=m[v],h=$c(d);for(let b=v;b<g&&m[b]!==null;b++)f?nj($c(m[b])===f):f=$c(m[b])}else f=$c(m);if(h!==f)if(Jk(h)&&Jk(f)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&f===Be&&(e[c]=m.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(d===0||m===0)?d===0?u.set(f.transform(d)):e[c]=h.transform(m):(o||(i=xZ(t),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=yZ(e,t,l);return i.length&&i.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Vp&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function bZ(t,e,r,n){return fZ(e)?vZ(t,e,r,n):{target:e,transitionEnd:n}}const jZ=(t,e,r,n)=>{const a=hZ(t,e,n);return e=a.target,n=a.transitionEnd,bZ(t,e,r,n)},k0={current:null},XP={current:!1};function wZ(){if(XP.current=!0,!!Vp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>k0.current=t.matches;t.addListener(e),e()}else k0.current=!1}function NZ(t,e,r){const{willChange:n}=e;for(const a in e){const i=e[a],o=r[a];if(ns(i))t.addValue(a,i),Of(n)&&n.add(a);else if(ns(o))t.addValue(a,Hl(i,{owner:t})),Of(n)&&n.remove(a);else if(o!==i)if(t.hasValue(a)){const l=t.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(a);t.addValue(a,Hl(l!==void 0?l:i,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const eS=new WeakMap,ZP=Object.keys(sd),kZ=ZP.length,tS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],SZ=Yb.length;class _Z{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Bp(r),this.isVariantNode=LA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const m=d[h];l[h]!==void 0&&ns(m)&&(m.set(l[h],!1),Of(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,eS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),XP.current||wZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:k0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){eS.delete(this.current),this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=jo.has(e),a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,a,i){let o,l;for(let c=0;c<kZ;c++){const u=ZP[c],{isEnabled:d,Feature:h,ProjectionNode:m,MeasureLayout:f}=sd[u];m&&(o=m),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&al(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:f})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):er()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tS.length;n++){const a=tS[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=e["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=NZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<SZ;n++){const a=Yb[n],i=this.props[a];(rd(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Hl(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=sj(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ns(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new mj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class e3 extends _Z{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:a},i){let o=qJ(n,e||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),i){BJ(this,n,o);const l=jZ(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:r,...n}}}function EZ(t){return window.getComputedStyle(t)}class TZ extends e3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(jo.has(r)){const n=lj(r);return n&&n.default||0}else{const n=EZ(e),a=($A(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return BP(e,r)}build(e,r,n,a){Xb(e,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return rj(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ns(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,a){GA(e,r,n,a)}}class CZ extends e3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(jo.has(r)){const n=lj(r);return n&&n.default||0}return r=QA.has(r)?r:Gb(r),e.getAttribute(r)}measureInstanceViewportBox(){return er()}scrapeMotionValuesFromProps(e,r){return JA(e,r)}build(e,r,n,a){ej(e,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,n,a){YA(e,r,n,a)}mount(e){this.isSVGTag=tj(e.tagName),super.mount(e)}}const AZ=(t,e)=>Jb(t)?new CZ(e,{enableHardwareAcceleration:!1}):new TZ(e,{enableHardwareAcceleration:!0}),PZ={layout:{ProjectionNode:YP,MeasureLayout:qP}},IZ={...nX,...kY,...cZ,...PZ},ht=IQ((t,e)=>dY(t,e,IZ,AZ)),RZ=()=>{const[t,e]=P.useState("overview"),[r,n]=P.useState(!0);Ur();const[a,i]=P.useState({}),o=bl(a,"ambassador"),l=[{icon:s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),title:"Exclusive Recognition",description:"Get official ambassador status and recognition within the Ajira Digital community."},{icon:s.jsx(YO,{className:"w-8 h-8 text-ajira-accent"}),title:"Rewards & Incentives",description:"Earn points, certificates, and exclusive merchandise for your contributions."},{icon:s.jsx(Ve,{className:"w-8 h-8 text-ajira-accent"}),title:"Leadership Opportunities",description:"Lead workshops, mentor new members, and represent the club at events."},{icon:s.jsx(hs,{className:"w-8 h-8 text-ajira-accent"}),title:"Skill Development",description:"Access advanced training programs and professional development resources."}],c=[{rank:1,name:"Sarah Mwangi",points:2850,achievements:["Top Mentor","Event Leader","Content Creator"],avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},{rank:2,name:"James Kamau",points:2640,achievements:["Workshop Leader","Community Builder"],avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},{rank:3,name:"Grace Wanjiru",points:2420,achievements:["Social Media Champion","Recruiter"],avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"}],u=[{id:1,title:"Organize Study Group Session",description:"Lead a study group for new members on digital marketing basics",points:150,deadline:"2025-01-15",difficulty:"Medium"},{id:2,title:"Create Social Media Content",description:"Design and post 3 engaging posts about Ajira Digital opportunities",points:100,deadline:"2025-01-10",difficulty:"Easy"},{id:3,title:"Mentor New Members",description:"Guide 5 new members through their first week in the program",points:200,deadline:"2025-01-20",difficulty:"Hard"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-to-br from-ajira-primary via-ajira-primary-dark to-ajira-accent py-12 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center w-full",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"bg-white/10 p-4 rounded-full",children:s.jsx(vt,{className:"w-12 h-12 text-white"})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ambassador Program 2025"}),s.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join our elite community of student leaders and help shape the future of digital skills at Kiambu National Polytechnic."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("button",{className:"bg-white text-ajira-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors w-full sm:w-auto",children:"Apply Now"}),s.jsx("button",{className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-ajira-primary transition-colors w-full sm:w-auto",children:"Learn More"})]})]})})})}),r&&!o.allowed&&s.jsx("section",{className:"bg-white border-b",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx(Yv,{profileData:a,feature:"ambassador",onComplete:()=>n(!1)})})}),s.jsx("section",{className:"bg-white border-b",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 w-full",children:[{id:"overview",label:"Overview"},{id:"benefits",label:"Benefits"},{id:"leaderboard",label:"Leaderboard"},{id:"tasks",label:"Tasks"}].map(d=>s.jsx("button",{onClick:()=>e(d.id),className:`py-4 px-2 border-b-2 font-medium transition-colors ${t===d.id?"border-ajira-accent text-ajira-accent":"border-transparent text-gray-500 hover:text-ajira-primary"}`,children:d.label},d.id))})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[t==="overview"&&s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"What is the Ambassador Program?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our Ambassador Program recognizes and empowers outstanding students who demonstrate leadership, commitment, and passion for digital skills development."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(ss,{className:"w-12 h-12 text-ajira-accent mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-ajira-primary mb-3",children:"Our Mission"}),s.jsx("p",{className:"text-gray-600",children:"To create a network of student leaders who inspire, mentor, and guide their peers towards success in the digital economy."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(Ve,{className:"w-12 h-12 text-ajira-accent mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-ajira-primary mb-3",children:"Community Impact"}),s.jsx("p",{className:"text-gray-600",children:"Ambassadors have helped over 500+ students discover digital opportunities and develop essential skills for the modern workforce."})]})]}),s.jsxs("div",{className:"bg-ajira-primary rounded-lg p-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Make a Difference?"}),s.jsx("p",{className:"text-white/90 mb-6",children:"Join our ambassador program and become a catalyst for change in your community."}),s.jsx("button",{className:"bg-ajira-accent text-white px-8 py-3 rounded-lg font-semibold hover:bg-ajira-accent/90 transition-colors",children:"Start Your Application"})]})]}),t==="benefits"&&s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Ambassador Benefits"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Exclusive perks and opportunities for our dedicated ambassadors"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map((d,h)=>s.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 bg-ajira-primary/10 p-3 rounded-lg",children:d.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary mb-2",children:d.title}),s.jsx("p",{className:"text-gray-600",children:d.description})]})]})},h))})]}),t==="leaderboard"&&s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Top Ambassadors 2025"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Celebrating our most active and impactful ambassadors"})]}),s.jsx("div",{className:"space-y-4",children:c.map((d,h)=>s.jsxs(ht.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"bg-white rounded-lg shadow-lg p-6 flex items-center space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white ${d.rank===1?"bg-yellow-500":d.rank===2?"bg-gray-400":"bg-orange-500"}`,children:d.rank})}),s.jsx("img",{src:d.avatar,alt:d.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary",children:d.name}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.achievements.map((m,f)=>s.jsx("span",{className:"bg-ajira-accent/10 text-ajira-accent px-2 py-1 rounded-full text-sm",children:m},f))})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent",children:d.points.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-500",children:"points"})]})]},h))})]}),t==="tasks"&&s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Available Tasks"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Complete tasks to earn points and make an impact in your community"})]}),s.jsx("div",{className:"space-y-6",children:u.map(d=>s.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary mb-2",children:d.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Due: ",d.deadline]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(p4,{className:"w-4 h-4"}),s.jsxs("span",{children:[d.points," points"]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.difficulty==="Easy"?"bg-green-100 text-green-800":d.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.difficulty})]})]}),s.jsx("button",{className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary-dark transition-colors",children:"Accept Task"})]})},d.id))})]})]})})]})},OZ=()=>{var O;const{user:t,isLoading:e}=Ur(),r=gs(),[n,a]=P.useState(!1),[i,o]=P.useState({name:"",avatar:"",bio:"",skills:[],achievements:"",journey:"",portfolioLinks:[],socialLinks:[],availability:"available",location:"",languages:[]}),[l,c]=P.useState(null),[u,d]=P.useState(null),[h,m]=P.useState(!1),f=P.useRef(null),[g,v]=P.useState(null);P.useState(!1);const[b,y]=P.useState(""),{data:p,isLoading:w,error:j}=Ct(["showcaseProfiles"],async()=>[],{enabled:!0});Ct(["showcaseConnections",t==null?void 0:t.uid],async()=>[],{enabled:!!t});const S=tt(async V=>{let L=V.avatar;l&&(m(!0),L=URL.createObjectURL(l),m(!1));const q=t.id||t._id,M=await fetch("/showcase/profiles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...V,avatar:L,userId:q})});if(!M.ok)throw new Error("Failed to save profile");return M.json()},{onSuccess:()=>{a(!1),c(null),d(null),r.invalidateQueries(["showcaseProfiles"])}});tt(async V=>{},{onSuccess:()=>r.invalidateQueries(["showcaseConnections",t==null?void 0:t.uid])});const{data:R,refetch:k}=Ct(["showcaseMessages",t==null?void 0:t.uid,g==null?void 0:g.userId],async()=>!t||!g?[]:[],{enabled:!!t&&!!g});if(tt(async V=>{},{onSuccess:()=>{y(""),k()}}),w||e)return s.jsx(ca,{message:"Loading profiles",description:"Please wait while we fetch the showcase profiles"});if(j)return s.jsx("div",{className:"text-center py-12 text-red-500",children:"Error loading profiles."});if(!t)return s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-ajira-primary mb-4 tracking-tight",children:" Creative Portfolio Showcase"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Where talent meets opportunity - showcase your best work to the world"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-4xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Your Digital Portfolio Hub is Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're building a stunning showcase platform where creative professionals can display their work, connect with clients, and grow their careers. Get ready to:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Showcase Your Work"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Display your best projects with stunning visuals and detailed descriptions"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Build Your Brand"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Create a professional profile that tells your unique story"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Connect & Collaborate"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Network with other professionals and find exciting opportunities"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Get Discovered"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Attract clients and employers with your impressive portfolio"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Track Your Growth"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor views, connections, and engagement with analytics"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Launch Your Career"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Unlock new opportunities and take your creative journey to the next level"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"inline-block bg-ajira-primary text-white px-6 py-3 rounded-full font-semibold text-lg shadow-md",children:"Stay tuned for updates!"})})]})})]});const N=p==null?void 0:p.find(V=>V.userId===t.uid);p==null||p.filter(V=>V.userId!==t.uid);const E=V=>{const{name:L,value:q}=V.target;o(M=>({...M,[L]:q}))},T=V=>{o(L=>({...L,skills:V}))},_=V=>{o(L=>({...L,portfolioLinks:V}))},A=V=>{o(L=>({...L,socialLinks:V}))},C=V=>{var q;const L=(q=V.target.files)==null?void 0:q[0];L&&(c(L),d(URL.createObjectURL(L)))};return t&&!N&&!n?s.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-2 sm:px-4 w-full overflow-x-hidden",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-8 text-center",children:"Create Your Showcase Profile"}),s.jsxs("form",{onSubmit:V=>{V.preventDefault(),S.mutate(i)},className:"bg-white rounded-2xl shadow-lg p-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsx("label",{className:"font-semibold mb-2",children:"Profile Photo"}),s.jsx("img",{src:u||i.avatar||t.photoURL||"/default-avatar.png",className:"w-24 h-24 rounded-full object-cover border-2 border-ajira-accent mb-2"}),s.jsx("input",{type:"file",className:"hidden",ref:f,onChange:C}),s.jsx("button",{type:"button",className:"bg-ajira-accent text-white px-4 py-1 rounded",onClick:()=>{var V;return(V=f.current)==null?void 0:V.click()},children:"Upload Photo"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Basic Info"}),s.jsx("label",{className:"block mb-1 font-medium",children:"Whats your full name?"}),s.jsx("input",{name:"name",value:i.name,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",required:!0}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Tell us about yourself"}),s.jsx("textarea",{name:"bio",value:i.bio,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Your background, passions, and what you love to do.",required:!0})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Skills & Experience"}),s.jsx("label",{className:"block mb-1 font-medium",children:"What are your top skills?"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[i.skills.map((V,L)=>s.jsxs("span",{className:"bg-ajira-accent/10 text-ajira-accent px-3 py-1 rounded-full text-sm",children:[V,s.jsx("button",{type:"button",className:"ml-2 hover:text-red-500",onClick:()=>T(i.skills.filter((q,M)=>M!==L)),children:""})]},V)),s.jsx("input",{type:"text",placeholder:"Add a skill and press Enter",className:"px-3 py-1 border border-gray-300 rounded-full text-sm",onKeyDown:V=>{if(V.key==="Enter"){V.preventDefault();const L=V.target,q=L.value.trim();q&&!i.skills.includes(q)&&(T([...i.skills,q]),L.value="")}}})]}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Share your proudest achievements"}),s.jsx("textarea",{name:"achievements",value:i.achievements,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Awards, recognitions, or milestones."}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Your Journey"}),s.jsx("textarea",{name:"journey",value:i.journey,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"How did you get here? Whats your story?"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Portfolio"}),i.portfolioLinks.map((V,L)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:V.title,placeholder:"Title (e.g. My Website)",onChange:q=>{const M=[...i.portfolioLinks];M[L].title=q.target.value,_(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"url",value:V.url,placeholder:"URL",onChange:q=>{const M=[...i.portfolioLinks];M[L].url=q.target.value,_(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700",onClick:()=>_(i.portfolioLinks.filter((q,M)=>M!==L)),children:""})]},L)),s.jsx("button",{type:"button",onClick:()=>_([...i.portfolioLinks||[],{title:"",url:""}]),className:"text-ajira-accent hover:text-ajira-accent/80 text-sm",children:"+ Add Portfolio Link"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Social Links"}),i.socialLinks.map((V,L)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:V.platform,placeholder:"Platform (e.g. LinkedIn)",onChange:q=>{const M=[...i.socialLinks];M[L].platform=q.target.value,A(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"url",value:V.url,placeholder:"URL",onChange:q=>{const M=[...i.socialLinks];M[L].url=q.target.value,A(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700",onClick:()=>A(i.socialLinks.filter((q,M)=>M!==L)),children:""})]},L)),s.jsx("button",{type:"button",onClick:()=>A([...i.socialLinks||[],{platform:"",url:""}]),className:"text-ajira-accent hover:text-ajira-accent/80 text-sm",children:"+ Add Social Link"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Work Preferences"}),s.jsx("label",{className:"block mb-1 font-medium",children:"Availability"}),s.jsxs("select",{name:"availability",value:i.availability||"",onChange:V=>o(L=>({...L,availability:V.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[s.jsx("option",{value:"",children:"Select availability"}),s.jsx("option",{value:"available",children:"Available for work"}),s.jsx("option",{value:"busy",children:"Busy"}),s.jsx("option",{value:"not_available",children:"Not available"})]}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Location"}),s.jsx("input",{name:"location",value:i.location||"",onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Where are you based?"}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Languages"}),s.jsx("input",{name:"languages",value:((O=i.languages)==null?void 0:O.join(", "))||"",onChange:V=>o(L=>({...L,languages:V.target.value.split(",").map(q=>q.trim()).filter(Boolean)})),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Languages you speak (comma separated)"})]}),s.jsx("button",{type:"submit",className:"w-full bg-ajira-accent text-white py-3 rounded-lg font-bold text-lg mt-8 hover:bg-ajira-accent/90 transition",children:"Save Profile"})]})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-ajira-primary text-center mb-12 tracking-tight",children:" Project Showcase"}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-2xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"We're working hard to bring you an amazing project showcase where you can:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:""})}),s.jsx("span",{className:"text-gray-700",children:"Create your professional profile"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:""})}),s.jsx("span",{className:"text-gray-700",children:"Showcase your projects"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:""})}),s.jsx("span",{className:"text-gray-700",children:"Connect with other professionals"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:""})}),s.jsx("span",{className:"text-gray-700",children:"Collaborate on projects"})]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Stay tuned! We'll notify you as soon as the showcase is ready."})]})})]})};var DZ=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const MZ=aa(DZ);var S0={exports:{}},t3;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/t3=function(){var t={},e={};return t.on=function(r,n){var a={name:r,handler:n};return e[r]=e[r]||[],e[r].unshift(a),a},t.off=function(r){var n=e[r.name].indexOf(r);n!==-1&&e[r.name].splice(n,1)},t.trigger=function(r,n){var a=e[r],i;if(a)for(i=a.length;i--;)a[i].handler(n)},t};var LZ=t3,_0={exports:{}},FZ=function(e,r,n){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async="async"in r?!!r.async:!0,i.src=e,r.attrs&&VZ(i,r.attrs),r.text&&(i.text=""+r.text);var o="onload"in i?rS:UZ;o(i,n),i.onload||rS(i,n),a.appendChild(i)};function VZ(t,e){for(var r in e)t.setAttribute(r,e[r])}function rS(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function UZ(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=FZ,n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}e.default=function(i){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var c=window.location.protocol==="http:"?"http:":"https:";(0,n.default)(c+"//www.youtube.com/iframe_api",function(d){d&&i.trigger("error",d)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),l(window.YT)}});return o},t.exports=e.default})(_0,_0.exports);var BZ=_0.exports,E0={exports:{}},T0={exports:{}},C0={exports:{}},ad=1e3,id=ad*60,od=id*60,ld=od*24,$Z=ld*365.25,qZ=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return zZ(t);if(r==="number"&&isNaN(t)===!1)return e.long?WZ(t):HZ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function zZ(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*$Z;case"days":case"day":case"d":return r*ld;case"hours":case"hour":case"hrs":case"hr":case"h":return r*od;case"minutes":case"minute":case"mins":case"min":case"m":return r*id;case"seconds":case"second":case"secs":case"sec":case"s":return r*ad;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function HZ(t){return t>=ld?Math.round(t/ld)+"d":t>=od?Math.round(t/od)+"h":t>=id?Math.round(t/id)+"m":t>=ad?Math.round(t/ad)+"s":t+"ms"}function WZ(t){return Eh(t,ld,"day")||Eh(t,od,"hour")||Eh(t,id,"minute")||Eh(t,ad,"second")||t+" ms"}function Eh(t,e,r){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}(function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=c,e.disable=o,e.enable=i,e.enabled=l,e.humanize=qZ,e.names=[],e.skips=[],e.formatters={};var r;function n(u){var d=0,h;for(h in u)d=(d<<5)-d+u.charCodeAt(h),d|=0;return e.colors[Math.abs(d)%e.colors.length]}function a(u){function d(){if(d.enabled){var h=d,m=+new Date,f=m-(r||m);h.diff=f,h.prev=r,h.curr=m,r=m;for(var g=new Array(arguments.length),v=0;v<g.length;v++)g[v]=arguments[v];g[0]=e.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(p,w){if(p==="%%")return p;b++;var j=e.formatters[w];if(typeof j=="function"){var S=g[b];p=j.call(h,S),g.splice(b,1),b--}return p}),e.formatArgs.call(h,g);var y=d.log||e.log||console.log.bind(console);y.apply(h,g)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=n(u),typeof e.init=="function"&&e.init(d),d}function i(u){e.save(u),e.names=[],e.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),h=d.length,m=0;m<h;m++)d[m]&&(u=d[m].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function o(){e.enable("")}function l(u){var d,h;for(d=0,h=e.skips.length;d<h;d++)if(e.skips[d].test(u))return!1;for(d=0,h=e.names.length;d<h;d++)if(e.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}})(C0,C0.exports);var KZ=C0.exports;(function(t,e){e=t.exports=KZ,e.log=a,e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function n(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,m=0;c[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(h++,f==="%c"&&(m=h))}),c.splice(m,0,d)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function o(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}e.enable(o());function l(){try{return window.localStorage}catch{}}})(T0,T0.exports);var GZ=T0.exports,A0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(A0,A0.exports);var QZ=A0.exports,P0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(P0,P0.exports);var YZ=P0.exports,I0={exports:{}},R0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(R0,R0.exports);var JZ=R0.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=JZ,n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}e.default={pauseVideo:{acceptableStates:[n.default.ENDED,n.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[n.default.ENDED,n.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[n.default.ENDED,n.default.PLAYING,n.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(I0,I0.exports);var XZ=I0.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=GZ,n=d(r),a=QZ,i=d(a),o=YZ,l=d(o),c=XZ,u=d(c);function d(f){return f&&f.__esModule?f:{default:f}}var h=(0,n.default)("youtube-player"),m={};m.proxyEvents=function(f){var g={},v=function(k){var N="on"+k.slice(0,1).toUpperCase()+k.slice(1);g[N]=function(E){h('event "%s"',N,E),f.trigger(k,E)}},b=!0,y=!1,p=void 0;try{for(var w=l.default[Symbol.iterator](),j;!(b=(j=w.next()).done);b=!0){var S=j.value;v(S)}}catch(R){y=!0,p=R}finally{try{!b&&w.return&&w.return()}finally{if(y)throw p}}return g},m.promisifyPlayer=function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={},b=function(N){g&&u.default[N]?v[N]=function(){for(var E=arguments.length,T=Array(E),_=0;_<E;_++)T[_]=arguments[_];return f.then(function(A){var C=u.default[N],O=A.getPlayerState(),V=A[N].apply(A,T);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(O)===-1?new Promise(function(L){var q=function M(){var z=A.getPlayerState(),D=void 0;typeof C.timeout=="number"&&(D=setTimeout(function(){A.removeEventListener("onStateChange",M),L()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(z)!==-1&&(A.removeEventListener("onStateChange",M),clearTimeout(D),L())};A.addEventListener("onStateChange",q)}).then(function(){return V}):V})}:v[N]=function(){for(var E=arguments.length,T=Array(E),_=0;_<E;_++)T[_]=arguments[_];return f.then(function(A){return A[N].apply(A,T)})}},y=!0,p=!1,w=void 0;try{for(var j=i.default[Symbol.iterator](),S;!(y=(S=j.next()).done);y=!0){var R=S.value;b(R)}}catch(k){p=!0,w=k}finally{try{!y&&j.return&&j.return()}finally{if(p)throw w}}return v},e.default=m,t.exports=e.default})(E0,E0.exports);var ZZ=E0.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n=LZ,a=u(n),i=BZ,o=u(i),l=ZZ,c=u(l);function u(h){return h&&h.__esModule?h:{default:h}}var d=void 0;e.default=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,a.default)();if(d||(d=(0,o.default)(g)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');m.events=c.default.proxyEvents(g);var v=new Promise(function(y){if((typeof h>"u"?"undefined":r(h))==="object"&&h.playVideo instanceof Function){var p=h;y(p)}else d.then(function(w){var j=new w.Player(h,m);return g.on("ready",function(){y(j)}),null})}),b=c.default.promisifyPlayer(v,f);return b.on=g.on,b.off=g.off,b},t.exports=e.default})(S0,S0.exports);var eee=S0.exports;const tee=aa(eee);var ree=Object.defineProperty,see=Object.defineProperties,nee=Object.getOwnPropertyDescriptors,sS=Object.getOwnPropertySymbols,aee=Object.prototype.hasOwnProperty,iee=Object.prototype.propertyIsEnumerable,nS=(t,e,r)=>e in t?ree(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O0=(t,e)=>{for(var r in e||(e={}))aee.call(e,r)&&nS(t,r,e[r]);if(sS)for(var r of sS(e))iee.call(e,r)&&nS(t,r,e[r]);return t},D0=(t,e)=>see(t,nee(e)),oee=(t,e,r)=>new Promise((n,a)=>{var i=c=>{try{l(r.next(c))}catch(u){a(u)}},o=c=>{try{l(r.throw(c))}catch(u){a(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(t,e)).next())});function lee(t,e){var r,n;if(t.videoId!==e.videoId)return!0;const a=((r=t.opts)==null?void 0:r.playerVars)||{},i=((n=e.opts)==null?void 0:n.playerVars)||{};return a.start!==i.start||a.end!==i.end}function aS(t={}){return D0(O0({},t),{height:0,width:0,playerVars:D0(O0({},t.playerVars),{autoplay:0,start:0,end:0})})}function cee(t,e){return t.videoId!==e.videoId||!MZ(aS(t.opts),aS(e.opts))}function uee(t,e){var r,n,a,i;return t.id!==e.id||t.className!==e.className||((r=t.opts)==null?void 0:r.width)!==((n=e.opts)==null?void 0:n.width)||((a=t.opts)==null?void 0:a.height)!==((i=e.opts)==null?void 0:i.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var dee={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},hee={videoId:Me.string,id:Me.string,className:Me.string,iframeClassName:Me.string,style:Me.object,title:Me.string,loading:Me.oneOf(["lazy","eager"]),opts:Me.objectOf(Me.any),onReady:Me.func,onError:Me.func,onPlay:Me.func,onPause:Me.func,onEnd:Me.func,onStateChange:Me.func,onPlaybackRateChange:Me.func,onPlaybackQualityChange:Me.func},mm=class extends ut.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var r,n;return(n=(r=this.props).onReady)==null?void 0:n.call(r,e)},this.onPlayerError=e=>{var r,n;return(n=(r=this.props).onError)==null?void 0:n.call(r,e)},this.onPlayerStateChange=e=>{var r,n,a,i,o,l,c,u;switch((n=(r=this.props).onStateChange)==null||n.call(r,e),e.data){case mm.PlayerState.ENDED:(i=(a=this.props).onEnd)==null||i.call(a,e);break;case mm.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,e);break;case mm.PlayerState.PAUSED:(u=(c=this.props).onPause)==null||u.call(c,e);break}},this.onPlayerPlaybackRateChange=e=>{var r,n;return(n=(r=this.props).onPlaybackRateChange)==null?void 0:n.call(r,e)},this.onPlayerPlaybackQualityChange=e=>{var r,n;return(n=(r=this.props).onPlaybackQualityChange)==null?void 0:n.call(r,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=D0(O0({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=tee(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(r=>{this.props.title&&r.setAttribute("title",this.props.title),this.props.loading&&r.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(r=>{this.props.id?r.setAttribute("id",this.props.id):r.removeAttribute("id"),this.props.iframeClassName?r.setAttribute("class",this.props.iframeClassName):r.removeAttribute("class"),this.props.opts&&this.props.opts.width?r.setAttribute("width",this.props.opts.width.toString()):r.removeAttribute("width"),this.props.opts&&this.props.opts.height?r.setAttribute("height",this.props.opts.height.toString()):r.removeAttribute("height"),this.props.title?r.setAttribute("title",this.props.title):r.setAttribute("title","YouTube video player"),this.props.loading?r.setAttribute("loading",this.props.loading):r.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,r,n,a;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let i=!1;const o={videoId:this.props.videoId};if((r=this.props.opts)!=null&&r.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i){(n=this.internalPlayer)==null||n.loadVideoById(o);return}(a=this.internalPlayer)==null||a.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return oee(this,null,function*(){uee(t,this.props)&&this.updatePlayer(),cee(t,this.props)&&(yield this.resetPlayer()),lee(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ut.createElement("div",{className:this.props.className,style:this.props.style},ut.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Hp=mm;Hp.propTypes=hee;Hp.defaultProps=dee;Hp.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var mee=Hp;const fee=[{id:1,title:"React Tutorial for Beginners - Learn React from Scratch",description:"Learn React from scratch with this comprehensive tutorial. We cover everything from basic concepts to advanced patterns including hooks, context, and performance optimization.",thumbnail:"https://picsum.photos/320/180?random=react",videoUrl:"https://www.youtube.com/embed/bMknfKXIFA8",duration:"45:30",views:"225K",uploadDate:"2 weeks ago",channel:{name:"Web Dev Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev+Pro&background=3B82F6&color=fff",verified:!0,subscribers:"1.2M"},likes:"12K",dislikes:"234",category:"Programming"},{id:2,title:"3D Neural Network Visualization - Machine Learning",description:"Introduction to artificial intelligence and machine learning concepts. Perfect for beginners who want to understand the basics of AI.",thumbnail:"https://picsum.photos/320/180?random=ai",videoUrl:"https://www.youtube.com/embed/aircAruvnKk",duration:"32:15",views:"189K",uploadDate:"1 week ago",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Learning+Hub&background=10B981&color=fff",verified:!0,subscribers:"850K"},likes:"8.5K",dislikes:"156",category:"Technology"},{id:3,title:"Project Management Tutorial - How to Manage Projects",description:"Learn the essential project management techniques used by successful teams. From planning to execution and monitoring.",thumbnail:"https://picsum.photos/320/180?random=project",videoUrl:"https://www.youtube.com/embed/9TlHvipP5yA",duration:"28:45",views:"167K",uploadDate:"3 days ago",channel:{name:"PM Academy",avatar:"https://ui-avatars.com/api/?name=PM+Academy&background=F59E0B&color=fff",verified:!1,subscribers:"320K"},likes:"6.2K",dislikes:"89",category:"Business"},{id:4,title:"JavaScript Tutorial for Beginners - Learn JavaScript",description:"Deep dive into modern JavaScript features including arrow functions, destructuring, async/await, and more.",thumbnail:"https://picsum.photos/320/180?random=javascript",videoUrl:"https://www.youtube.com/embed/WZQc7RUAg18",duration:"38:20",views:"195K",uploadDate:"5 days ago",channel:{name:"JS Mastery",avatar:"https://ui-avatars.com/api/?name=JS+Mastery&background=EF4444&color=fff",verified:!0,subscribers:"750K"},likes:"9.1K",dislikes:"203",category:"Programming"},{id:5,title:"Data Science Tutorial for Beginners - Learn Data Science",description:"Start your journey in data science with this comprehensive introduction covering Python, statistics, and data visualization.",thumbnail:"https://picsum.photos/320/180?random=datascience",videoUrl:"https://www.youtube.com/embed/ua-CiDNNj30",duration:"52:10",views:"178K",uploadDate:"1 week ago",channel:{name:"Data Science Pro",avatar:"https://ui-avatars.com/api/?name=Data+Science+Pro&background=8B5CF6&color=fff",verified:!0,subscribers:"620K"},likes:"7.8K",dislikes:"145",category:"Technology"},{id:6,title:"React Native Tutorial for Beginners - Mobile App Development",description:"Build cross-platform mobile applications using React Native. Learn the fundamentals and best practices.",thumbnail:"https://picsum.photos/320/180?random=reactnative",videoUrl:"https://www.youtube.com/embed/VozPNrt-LfE",duration:"41:35",views:"212K",uploadDate:"4 days ago",channel:{name:"Mobile Dev Hub",avatar:"https://ui-avatars.com/api/?name=Mobile+Dev+Hub&background=06B6D4&color=fff",verified:!1,subscribers:"450K"},likes:"10.2K",dislikes:"178",category:"Programming"},{id:7,title:"Digital Marketing Tutorial - Learn Digital Marketing",description:"Learn the latest digital marketing strategies including SEO, social media, and content marketing.",thumbnail:"https://picsum.photos/320/180?random=marketing",videoUrl:"https://www.youtube.com/embed/bMknfKXIFA8",duration:"55:20",views:"198K",uploadDate:"1 week ago",channel:{name:"Marketing Pro",avatar:"https://ui-avatars.com/api/?name=Marketing+Pro&background=EC4899&color=fff",verified:!0,subscribers:"890K"},likes:"15.3K",dislikes:"234",category:"Digital Marketing"},{id:8,title:"Freelancing Tutorial - How to Start Freelancing",description:"Start your freelancing journey with proven strategies for finding clients and building your business.",thumbnail:"https://picsum.photos/320/180?random=freelance",videoUrl:"https://www.youtube.com/embed/WZQc7RUAg18",duration:"33:45",views:"156K",uploadDate:"2 weeks ago",channel:{name:"Freelance Academy",avatar:"https://ui-avatars.com/api/?name=Freelance+Academy&background=059669&color=fff",verified:!0,subscribers:"520K"},likes:"12.1K",dislikes:"89",category:"Freelancing"},{id:9,title:"Content Creation Tutorial - Learn Content Creation",description:"Master the art of content creation for social media, blogs, and digital platforms.",thumbnail:"https://picsum.photos/320/180?random=content",videoUrl:"https://www.youtube.com/embed/VozPNrt-LfE",duration:"42:15",views:"134K",uploadDate:"3 days ago",channel:{name:"Content Creator Pro",avatar:"https://ui-avatars.com/api/?name=Content+Creator+Pro&background=7C3AED&color=fff",verified:!1,subscribers:"380K"},likes:"8.9K",dislikes:"156",category:"Content Creation"},{id:10,title:"Data Entry Tutorial - Learn Data Entry Skills",description:"Learn efficient data entry techniques and tools for professional data management.",thumbnail:"https://picsum.photos/320/180?random=dataentry",videoUrl:"https://www.youtube.com/embed/ua-CiDNNj30",duration:"28:30",views:"98K",uploadDate:"5 days ago",channel:{name:"Data Entry Expert",avatar:"https://ui-avatars.com/api/?name=Data+Entry+Expert&background=DC2626&color=fff",verified:!0,subscribers:"290K"},likes:"6.7K",dislikes:"78",category:"Data Entry"},{id:11,title:"Success Story Tutorial - Building Online Business",description:"Real story of how a freelancer built a successful online business from scratch.",thumbnail:"https://picsum.photos/320/180?random=success",videoUrl:"https://www.youtube.com/embed/aircAruvnKk",duration:"18:45",views:"245K",uploadDate:"1 week ago",channel:{name:"Success Stories",avatar:"https://ui-avatars.com/api/?name=Success+Stories&background=059669&color=fff",verified:!0,subscribers:"1.1M"},likes:"22.1K",dislikes:"123",category:"Success Stories"},{id:12,title:"Live Coding Tutorial - Q&A with Digital Experts",description:"Join our live Q&A session with industry experts answering your digital skills questions.",thumbnail:"https://picsum.photos/320/180?random=livecoding",videoUrl:"https://www.youtube.com/embed/kqtD5dpn9C8",duration:"1:25:30",views:"89K",uploadDate:"2 days ago",channel:{name:"KiNaP Live",avatar:"https://ui-avatars.com/api/?name=KiNaP+Live&background=1B4F72&color=fff",verified:!0,subscribers:"2.3M"},likes:"12.8K",dislikes:"45",category:"Live Streams"}],pee=t=>({...t,tags:t.tags||[]}),gee=()=>{const t=[],e=["Programming","Technology","Business","Digital Marketing","Freelancing","Content Creation","Data Entry","Success Stories","Tutorials","Live Streams","Trading"],r=[{name:"Tech Guru",avatar:"https://ui-avatars.com/api/?name=Tech+Guru&background=3B82F6&color=fff",verified:!0,subscribers:"750K"},{name:"Digital Skills Pro",avatar:"https://ui-avatars.com/api/?name=Digital+Skills+Pro&background=10B981&color=fff",verified:!0,subscribers:"620K"},{name:"Freelance Master",avatar:"https://ui-avatars.com/api/?name=Freelance+Master&background=F59E0B&color=fff",verified:!1,subscribers:"450K"},{name:"Content King",avatar:"https://ui-avatars.com/api/?name=Content+King&background=EF4444&color=fff",verified:!0,subscribers:"890K"},{name:"Data Wizard",avatar:"https://ui-avatars.com/api/?name=Data+Wizard&background=8B5CF6&color=fff",verified:!0,subscribers:"380K"},{name:"Marketing Expert",avatar:"https://ui-avatars.com/api/?name=Marketing+Expert&background=06B6D4&color=fff",verified:!0,subscribers:"1.1M"},{name:"Success Coach",avatar:"https://ui-avatars.com/api/?name=Success+Coach&background=EC4899&color=fff",verified:!0,subscribers:"2.1M"},{name:"Tutorial Master",avatar:"https://ui-avatars.com/api/?name=Tutorial+Master&background=059669&color=fff",verified:!1,subscribers:"680K"},{name:"Live Stream Pro",avatar:"https://ui-avatars.com/api/?name=Live+Stream+Pro&background=7C3AED&color=fff",verified:!0,subscribers:"950K"},{name:"Trading Expert",avatar:"https://ui-avatars.com/api/?name=Trading+Expert&background=DC2626&color=fff",verified:!0,subscribers:"420K"}],n=["React Tutorial for Beginners","JavaScript Tutorial for Beginners","Python Tutorial for Beginners","Digital Marketing Tutorial","Freelancing Tutorial for Beginners","Content Creation Tutorial","Data Entry Tutorial","Success Story Tutorial","Live Coding Tutorial","Trading Tutorial for Beginners","Web Development Tutorial","Mobile App Development Tutorial","SEO Tutorial for Beginners","Social Media Marketing Tutorial","Graphic Design Tutorial","Video Editing Tutorial","Photography Tutorial","Business Development Tutorial","E-commerce Tutorial","Cryptocurrency Tutorial"],a=["https://picsum.photos/320/180?random=1","https://picsum.photos/320/180?random=2","https://picsum.photos/320/180?random=3","https://picsum.photos/320/180?random=4","https://picsum.photos/320/180?random=5","https://picsum.photos/320/180?random=6","https://picsum.photos/320/180?random=7","https://picsum.photos/320/180?random=8","https://picsum.photos/320/180?random=9","https://picsum.photos/320/180?random=10"],i=["bMknfKXIFA8","WZQc7RUAg18","VozPNrt-LfE","dJZXqhQJUyM","DLX62G4lc44","ua-CiDNNj30","aircAruvnKk","kqtD5dpn9C8","rfscVS0vtbw","YYXdXT2l-Gg","9bZkp7q19f0","8jPQjjsBbIc","kXYiU_JCYtU","7JmJKL7hExM","9TlHvipP5yA"];for(let o=13;o<=1e3;o++){const l=n[Math.floor(Math.random()*n.length)],c=r[Math.floor(Math.random()*r.length)],u=e[Math.floor(Math.random()*e.length)],d=a[Math.floor(Math.random()*a.length)],h=Math.floor(Math.random()*500)+50,m=Math.floor(Math.random()*20)+5,f=i[Math.floor(Math.random()*i.length)];t.push({id:o,title:`${l} ${Math.floor(Math.random()*1e3)}`,description:`Learn ${l.toLowerCase()} with this comprehensive tutorial. Perfect for beginners and advanced users alike.`,thumbnail:d,videoUrl:`https://www.youtube.com/embed/${f}`,duration:`${Math.floor(Math.random()*60)+10}:${Math.floor(Math.random()*60).toString().padStart(2,"0")}`,views:`${h}K`,uploadDate:`${Math.floor(Math.random()*30)+1} ${Math.random()>.5?"days":"weeks"} ago`,channel:{name:c.name,avatar:c.avatar,verified:c.verified,subscribers:c.subscribers},likes:`${m}K`,dislikes:Math.floor(Math.random()*500).toString(),category:u})}return t},xee=()=>{var ko;const[t,e]=P.useState(""),[r,n]=P.useState("All"),[a,i]=P.useState("relevance"),[o,l]=P.useState("grid");P.useState(!0);const[c,u]=P.useState(null),[d,h]=P.useState({}),[m,f]=P.useState({}),[g,v]=P.useState({}),[b,y]=P.useState(""),[p,w]=P.useState(null),[j,S]=P.useState(!1);P.useRef(null);const[R,k]=P.useState(!1),[N,E]=P.useState("all");Ys();const[T,_]=P.useState(!1),[A,C]=P.useState(!1),[O,V]=P.useState(!1),[L,q]=P.useState(""),[M,z]=P.useState({title:"",description:"",thumbnail:"",videoFile:null,duration:""}),[D,F]=P.useState(1),[W,H]=P.useState(0),[Q,X]=P.useState(""),[G,K]=P.useState(null),[J,$]=P.useState(!0),[Z,se]=P.useState(null),pe=P.useRef(null);P.useEffect(()=>{h(JSON.parse(localStorage.getItem("videoLikes")||"{}")),f(JSON.parse(localStorage.getItem("videoDislikes")||"{}")),v(JSON.parse(localStorage.getItem("videoComments")||"{}"))},[]),P.useEffect(()=>{localStorage.setItem("videoLikes",JSON.stringify(d))},[d]),P.useEffect(()=>{localStorage.setItem("videoDislikes",JSON.stringify(m))},[m]),P.useEffect(()=>{localStorage.setItem("videoComments",JSON.stringify(g))},[g]),P.useEffect(()=>{const ee=fe=>{pe.current&&!pe.current.contains(fe.target)&&se(null)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]);const te=ee=>{h(fe=>({...fe,[ee]:!fe[ee]})),f(fe=>({...fe,[ee]:!1}))},ge=ee=>{f(fe=>({...fe,[ee]:!fe[ee]})),h(fe=>({...fe,[ee]:!1}))},Pe=ee=>{navigator.clipboard.writeText(ee),w("Link copied!"),setTimeout(()=>w(null),2e3)},Xe=ee=>{if(ee.videoUrl.includes("youtube.com")){w("Download not available for YouTube videos."),setTimeout(()=>w(null),2e3);return}const fe=document.createElement("a");fe.href=ee.videoUrl,fe.download=ee.title,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},pt=ee=>{b.trim()&&(v(fe=>({...fe,[ee]:fe[ee]?[b,...fe[ee]]:[b]})),y(""))};function oe(ee){const fe=localStorage.getItem("videoHistory");let et=fe?JSON.parse(fe):[];et=et.filter(mr=>mr.id!==ee.id),et.unshift(ee),et.length>100&&(et=et.slice(0,100)),localStorage.setItem("videoHistory",JSON.stringify(et))}const ue=["All","Digital Skills","Freelancing","Web Development","Digital Marketing","Data Entry","Content Creation","Success Stories","Tutorials","Live Streams","Trading"],ye=[{value:"relevance",label:"Relevance"},{value:"upload_date",label:"Upload date"},{value:"view_count",label:"View count"},{value:"rating",label:"Rating"},{value:"duration",label:"Duration"}],we=P.useMemo(()=>[...fee,...gee()].map(fe=>pee(fe)),[]),ne=ee=>{if(!ee.verified)return null;switch(ee.verificationBadge){case"official":return s.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Official Channel",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})});case"verified":return s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Verified Channel",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})});case"music":return s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Official Music Channel",children:s.jsx(lt,{className:"w-3 h-3 text-white fill-current"})});default:return s.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Verified",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})})}},qe=()=>[...we].filter(ee=>ee.channel&&ee.channel.verified).sort((ee,fe)=>{const et=mr=>parseInt((mr.views||"").replace(/[^\d]/g,""))||0;return et(fe)!==et(ee)?et(fe)-et(ee):(fe.likes||0)-(ee.likes||0)}),Ue=t.length>0?we.filter(ee=>ee.title.toLowerCase().includes(t.toLowerCase())||ee.channel&&ee.channel.name.toLowerCase().includes(t.toLowerCase())).slice(0,6):[],ze=t.length>0?Array.from(new Set(we.filter(ee=>ee.channel&&ee.channel.name.toLowerCase().includes(t.toLowerCase())).map(ee=>ee.channel.name))):[],Wt=we.filter(ee=>{var fe,et;return((fe=ee.category)==null?void 0:fe.toLowerCase())==="trading"||((et=ee.tags)==null?void 0:et.some(mr=>mr.toLowerCase()==="trading"))}),dt=(()=>{const ee=new Set;return qe().filter(fe=>ee.has(fe.id)?!1:(ee.add(fe.id),!0)).slice(0,24)})(),_r=r==="Trading"?Wt.filter(ee=>{const fe=t.toLowerCase();return!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(et=>et.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe)}):N==="trending"?dt.filter(ee=>{const fe=t.toLowerCase();return!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(et=>et.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe)}):we.filter(ee=>{const fe=t.toLowerCase(),et=!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(Br=>Br.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe),mr=r==="All"||ee.category===r;return et&&mr}),bt=[..._r].sort((ee,fe)=>{switch(a){case"upload_date":return new Date(fe.uploadDate).getTime()-new Date(ee.uploadDate).getTime();case"view_count":return parseInt(fe.views.replace(/[^\d]/g,""))-parseInt(ee.views.replace(/[^\d]/g,""));case"rating":return fe.likes/(fe.likes+fe.dislikes)-ee.likes/(ee.likes+ee.dislikes);case"duration":const et=mr=>{if(mr==="LIVE")return 0;const Br=mr.split(":").map(Number);return Br.length===3?Br[0]*3600+Br[1]*60+Br[2]:Br[0]*60+Br[1]};return et(fe.duration)-et(ee.duration);default:return 0}}),Jt=ee=>{if(ee.includes("watching"))return ee;const fe=parseInt(ee.replace(/[^\d]/g,""));return fe>=1e6?`${(fe/1e6).toFixed(1)}M views`:fe>=1e3?`${(fe/1e3).toFixed(1)}K views`:`${fe} views`};P.useEffect(()=>{const ee=()=>{S(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ee),()=>document.removeEventListener("fullscreenchange",ee)},[]);async function Rs(ee){ee.preventDefault(),C(!0),q(""),V(!1);try{const fe=new FormData;fe.append("userId","demo-user"),fe.append("title",M.title),fe.append("description",M.description),fe.append("thumbnail",M.thumbnail),fe.append("duration",M.duration),M.videoFile&&fe.append("videoFile",M.videoFile),await be.post("/api/user-videos/upload",fe,{onUploadProgress:et=>{et.total&&H(Math.round(et.loaded*100/et.total))}}),V(!0),z({title:"",description:"",thumbnail:"",videoFile:null,duration:""}),X(""),F(1),_(!1),window.location.reload()}catch{q("Upload failed.")}C(!1),H(0)}function Tn(ee){const fe=ee.target.files[0];fe&&(z(et=>({...et,videoFile:fe})),X(URL.createObjectURL(fe)),F(2))}function No(ee){ee.preventDefault();const fe=ee.dataTransfer.files[0];fe&&(z(et=>({...et,videoFile:fe})),X(URL.createObjectURL(fe)),F(2))}function wi(ee){ee.preventDefault()}const Xs="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff";return s.jsxs("div",{className:"flex min-h-screen bg-white w-full overflow-x-hidden",children:[s.jsxs("aside",{className:"hidden md:flex flex-col w-60 bg-white border-r border-gray-200 py-6 px-2 fixed left-0 top-0 bottom-0 z-40",children:[s.jsxs("div",{className:"flex items-center mb-8 px-2",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Kinap Hub",className:"h-8 w-auto rounded mr-2"}),s.jsx("span",{className:"text-2xl font-bold text-red-600 tracking-tight",children:"Kinap Hub"})]}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs(ya,{to:"/videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 font-medium ${ee?"bg-gray-200 text-gray-900":"text-gray-900"}`,children:[s.jsx(i4,{size:22})," Home"]}),s.jsxs(ya,{to:"/shorts",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Mc,{size:22})," Shorts"]}),s.jsxs(ya,{to:"/subscriptions",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(or,{size:22})," Subscriptions"]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-xs text-gray-500 font-semibold mb-2 px-4",children:"You"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs(ya,{to:"/history",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(ZO,{size:22})," History"]}),s.jsxs(ya,{to:"/playlists",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Sy,{size:22})," Playlists"]}),s.jsxs(ya,{to:"/your-videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(or,{size:22})," Your videos"]}),s.jsxs(ya,{to:"/watch-later",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Ft,{size:22})," Watch later"]}),s.jsxs(ya,{to:"/liked-videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Va,{size:22})," Liked videos"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-xs text-gray-500 font-semibold mb-2 px-4",children:"Subscriptions"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs("button",{className:"flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[s.jsx("img",{src:"https://ui-avatars.com/api/?name=Tess+Ogamba&background=FF6B35&color=fff&size=24",alt:"Tess Ogamba",className:"w-6 h-6 rounded-full"}),"Tess Ogamba"]}),s.jsxs("button",{className:"flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[s.jsx("img",{src:"https://ui-avatars.com/api/?name=Online+Hustle+KE&background=2E8B57&color=fff&size=24",alt:"Online Hustle KE",className:"w-6 h-6 rounded-full"}),"Online Hustle KE"]})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col ml-0 md:ml-60 w-full",children:[s.jsxs("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 flex flex-col sm:flex-row items-center justify-between px-2 sm:px-4 py-3 w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"md:hidden p-2 rounded-full hover:bg-gray-100",children:s.jsx(c4,{size:24})}),s.jsx("span",{className:"text-xl font-bold text-red-600 md:hidden",children:"Kinap Hub"})]}),s.jsxs("div",{className:"flex-1 flex justify-center",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-colors ${N==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-blue-100"}`,onClick:()=>E("all"),children:"All Videos"}),s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-colors ${N==="trending"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-blue-100"}`,onClick:()=>E("trending"),children:"Trending"})]}),s.jsx("div",{className:"relative flex-1 max-w-2xl mx-4 mb-4 flex items-center",style:{gap:"1.5rem"},children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",value:t,onChange:ee=>{e(ee.target.value),k(!0)},onFocus:()=>k(!0),onBlur:()=>setTimeout(()=>k(!1),200),placeholder:"Search by title, creator, or tag...",className:"w-full px-4 py-2 bg-[#121212] border border-gray-700 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400 pr-10"}),t&&s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500 text-lg",onClick:()=>e(""),tabIndex:-1,children:""}),R&&(Ue.length>0||ze.length>0)&&s.jsxs("div",{className:"absolute left-0 right-0 mt-2 bg-white rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:[ze.length>0&&s.jsx("div",{className:"border-b border-gray-200 px-4 py-2 text-xs text-gray-500 font-semibold",children:"Creators"}),ze.map((ee,fe)=>s.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-blue-100 text-gray-900 border-b border-gray-100 last:border-b-0",onMouseDown:()=>{e(ee),k(!1)},children:s.jsx("span",{className:"font-semibold",children:ee})},ee)),Ue.length>0&&s.jsx("div",{className:"border-b border-gray-200 px-4 py-2 text-xs text-gray-500 font-semibold",children:"Videos"}),Ue.map((ee,fe)=>{var et;return s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-blue-100 text-gray-900 border-b border-gray-100 last:border-b-0",onMouseDown:()=>{e(ee.title),k(!1)},children:[s.jsx("span",{className:"font-semibold",children:ee.title}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:(et=ee.channel)==null?void 0:et.name})]},ee.id)})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>_(!0),children:s.jsx(gn,{size:22})}),s.jsx("img",{src:"/logo.jpeg",alt:"User",className:"w-8 h-8 rounded-full border border-gray-300"})]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 px-2 sm:px-4 bg-white border-b border-gray-200 scrollbar-hide w-full",children:ue.map(ee=>s.jsx("button",{onClick:()=>n(ee),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===ee?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ee},ee))}),s.jsxs("main",{className:"flex-1 p-2 sm:p-4 md:p-8 bg-white w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(f4,{size:18,className:"text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-300 hidden sm:block",children:"Filters"})]}),s.jsx("select",{value:a,onChange:ee=>i(ee.target.value),className:"bg-[#272727] border border-gray-700 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 text-white",children:ye.map(ee=>s.jsxs("option",{value:ee.value,className:"bg-[#272727]",children:["Sort by ",ee.label]},ee.value))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded transition-colors ${o==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(sp,{size:18})}),s.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded transition-colors ${o==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(np,{size:18})})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:[_r.length," videos",t&&` for "${t}"`]})}),_r.length>0?s.jsx("div",{className:o==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 w-full":"space-y-4 w-full",children:_r.map(ee=>s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`group cursor-pointer ${o==="list"?"flex bg-[#181818] rounded-lg overflow-hidden hover:bg-[#272727]":""}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsxs("div",{className:`relative ${o==="list"?"w-80 flex-shrink-0":"aspect-video"} rounded-lg overflow-hidden`,children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-full h-full object-cover group-hover:rounded-none transition-all duration-200"}),s.jsx("div",{className:"absolute bottom-2 right-2",children:ee.isLive?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"bg-red-600 text-white px-2 py-1 text-xs font-medium rounded",children:"LIVE"})]}):s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:ee.duration})}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col space-y-1",children:[ee.quality==="4K"&&s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:"4K"}),ee.isPremium&&s.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 text-xs rounded font-medium",children:"PREMIUM"})]}),ee.isSponsored&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-2 py-1 text-xs rounded font-medium",children:"AD"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20",children:s.jsx(Mc,{className:"w-16 h-16 text-white"})})]}),s.jsxs("div",{className:"p-3 flex-1",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("img",{src:ee.channel.avatar||Xs,alt:ee.channel.name,className:"w-6 h-6 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 group-hover:text-blue-600 cursor-pointer mb-1 text-sm leading-5",children:ee.title}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 hover:text-gray-800 cursor-pointer",children:ee.channel.name}),ne(ee.channel)]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("span",{children:Jt(ee.views)}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{children:ee.uploadDate})]}),o==="list"&&s.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:ee.description})]}),s.jsx("button",{className:"p-1 hover:bg-gray-700 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(w1,{size:16,className:"text-gray-400"})})]}),o==="list"&&s.jsxs("div",{className:"flex items-center space-x-6 mt-3 pt-3 border-t border-gray-700",children:[s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(Va,{size:16}),s.jsx("span",{className:"text-sm",children:ee.likes.toLocaleString()})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(vl,{size:16}),s.jsx("span",{className:"text-sm",children:ee.dislikes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(Qh,{size:16}),s.jsx("span",{className:"text-sm",children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(xl,{size:16}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]},ee.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-600 mb-4",children:s.jsx(Mc,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Try a different search or check out trending videos below."}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Trending Now (Verified Creators)"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:dt.map(ee=>s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`group cursor-pointer ${o==="list"?"flex bg-[#181818] rounded-lg overflow-hidden hover:bg-[#272727]":""}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsxs("div",{className:`relative ${o==="list"?"w-80 flex-shrink-0":"aspect-video"} rounded-lg overflow-hidden`,children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-full h-full object-cover group-hover:rounded-none transition-all duration-200"}),s.jsx("div",{className:"absolute bottom-2 right-2",children:ee.isLive?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"bg-red-600 text-white px-2 py-1 text-xs font-medium rounded",children:"LIVE"})]}):s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:ee.duration})}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col space-y-1",children:[ee.quality==="4K"&&s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:"4K"}),ee.isPremium&&s.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 text-xs rounded font-medium",children:"PREMIUM"})]}),ee.isSponsored&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-2 py-1 text-xs rounded font-medium",children:"AD"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20",children:s.jsx(Mc,{className:"w-16 h-16 text-white"})})]}),s.jsxs("div",{className:"p-3 flex-1",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("img",{src:ee.channel.avatar||Xs,alt:ee.channel.name,className:"w-6 h-6 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 group-hover:text-blue-600 cursor-pointer mb-1 text-sm leading-5",children:ee.title}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600 hover:text-gray-800 cursor-pointer",children:ee.channel.name}),ne(ee.channel)]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("span",{children:Jt(ee.views)}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{children:ee.uploadDate})]}),o==="list"&&s.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:ee.description})]}),s.jsx("button",{className:"p-1 hover:bg-gray-700 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(w1,{size:16,className:"text-gray-400"})})]}),o==="list"&&s.jsxs("div",{className:"flex items-center space-x-6 mt-3 pt-3 border-t border-gray-700",children:[s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(Va,{size:16}),s.jsx("span",{className:"text-sm",children:ee.likes.toLocaleString()})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(vl,{size:16}),s.jsx("span",{className:"text-sm",children:ee.dislikes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(Qh,{size:16}),s.jsx("span",{className:"text-sm",children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(xl,{size:16}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]},ee.id))})]})]}),_r.length>0&&s.jsx("div",{className:"text-center mt-12",children:s.jsx("button",{className:"bg-[#272727] text-white px-8 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Load More Videos"})}),_r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-600 mb-4",children:s.jsx(Mc,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No videos found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or browse different categories"}),s.jsx("button",{onClick:()=>{e(""),n("All")},className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Clear search"})]})]})]}),c&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col md:flex-row items-start justify-center min-h-screen w-screen overflow-y-auto px-0 sm:px-2",children:[s.jsx("button",{onClick:()=>u(null),className:"fixed top-6 right-6 bg-white text-black rounded-full p-2 hover:bg-red-500 hover:text-white z-[100] text-xl font-bold shadow-lg border border-gray-300 transition-colors duration-200",title:"Close",style:{fontSize:"1.7rem",lineHeight:1,boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},children:""}),s.jsxs("div",{className:"relative w-full max-w-[1400px] mx-auto flex flex-col md:flex-row items-start justify-center min-h-[80vh] py-4 sm:py-8 px-1 sm:px-2 md:px-0 gap-4 sm:gap-8",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-start justify-start w-full max-w-3xl mx-auto",children:[s.jsx("div",{className:"w-full flex justify-center items-center mb-4 sm:mb-6 mt-4 sm:mt-8 md:mt-0",children:s.jsx("div",{className:"relative w-full aspect-video bg-black rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",style:{minHeight:"180px",maxWidth:"900px"},children:c.videoUrl&&c.videoUrl.includes("youtube.com")?s.jsxs(s.Fragment,{children:[s.jsx(mee,{videoId:c.videoUrl.split("/embed/")[1]||((ko=c.videoUrl.split("v=")[1])==null?void 0:ko.split("&")[0]),opts:{width:"100%",height:"100%",playerVars:{autoplay:1,rel:0,modestbranding:1,showinfo:0,controls:1}},className:"w-full h-full min-h-[200px] rounded-2xl",onReady:ee=>{K(ee.target),$(!0)},onPlay:()=>$(!0),onPause:()=>$(!1)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-4 z-10",children:s.jsx("button",{className:"bg-white/80 hover:bg-white text-black rounded-full p-3 shadow-lg border border-gray-300",onClick:()=>{G&&(J?(G.pauseVideo(),$(!1)):(G.playVideo(),$(!0)))},children:J?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[s.jsx("rect",{x:"6",y:"5",width:"4",height:"14",rx:"1",fill:"currentColor"}),s.jsx("rect",{x:"14",y:"5",width:"4",height:"14",rx:"1",fill:"currentColor"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:s.jsx("polygon",{points:"6,4 20,12 6,20",fill:"currentColor"})})})})]}):s.jsx("video",{src:c.videoUrl,controls:!0,autoPlay:!0,className:"w-full h-full min-h-[200px] rounded-2xl",style:{borderRadius:16,boxShadow:"0 8px 32px rgba(0,0,0,0.15)"}})})}),s.jsxs("div",{className:"w-full bg-white rounded-b-xl shadow-none p-0 mt-0",style:{maxWidth:"900px"},children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 leading-tight text-left px-2 md:px-0",children:c.title}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-4 px-2 md:px-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:c.channel.avatar||Xs,alt:c.channel.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-gray-200 bg-white object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-semibold text-gray-900 mr-2 text-lg",children:c.channel.name}),ne(c.channel)]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:[c.channel.subscribers," subscribers"]})]}),s.jsx("button",{className:"ml-6 px-5 py-2 bg-red-600 text-white font-semibold rounded-full shadow hover:bg-red-700 transition-colors text-base",children:"Subscribe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 md:mt-0",children:[s.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 ${d[c.id]?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-blue-50"}`,onClick:()=>te(c.id),children:[s.jsx(Va,{size:18}),s.jsx("span",{children:c.likes+(d[c.id]?1:0)})]}),s.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 ${m[c.id]?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-red-50"}`,onClick:()=>ge(c.id),children:[s.jsx(vl,{size:18}),s.jsx("span",{children:c.dislikes+(m[c.id]?1:0)})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",onClick:()=>Pe(c.videoUrl),children:[s.jsx(Qh,{size:18}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",onClick:()=>Xe(c),disabled:c.videoUrl.includes("youtube.com"),title:c.videoUrl.includes("youtube.com")?"Download not available for YouTube videos":"Download",children:[s.jsx(xl,{size:18}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[s.jsx(Sy,{size:18}),s.jsx("span",{children:"Save"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center space-x-4 mb-3 text-gray-500 text-sm px-2 md:px-0",children:[s.jsxs("span",{children:[Jt(c.views)," views"]}),s.jsx("span",{children:c.uploadDate}),s.jsx("span",{children:c.quality})]}),s.jsx("div",{className:"mb-4 px-2 md:px-0",children:s.jsx("p",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:c.description})}),s.jsx("div",{className:"border-t border-gray-200 my-6"}),s.jsxs("div",{className:"mt-4 px-2 md:px-0",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comments"}),s.jsxs("div",{className:"flex mb-4",children:[s.jsx("input",{type:"text",value:b,onChange:ee=>y(ee.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2 bg-gray-100 border border-gray-300 rounded-l-full text-gray-800 placeholder-gray-400"}),s.jsx("button",{onClick:()=>pt(c.id),className:"px-6 py-2 bg-blue-600 text-white rounded-r-full hover:bg-blue-700 transition-colors",children:"Comment"})]}),s.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[(g[c.id]||[]).length===0&&s.jsx("div",{className:"text-gray-500",children:"No comments yet. Be the first to comment!"}),(g[c.id]||[]).map((ee,fe)=>s.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2 text-gray-900 text-sm",children:ee},fe))]})]})]})]}),s.jsxs("div",{className:"w-full md:w-96 border-l border-gray-200 bg-gray-50 p-4 overflow-y-auto rounded-r-2xl max-h-[80vh] flex flex-col mt-8 md:mt-0 md:ml-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Up next"}),s.jsx("div",{className:"space-y-4 overflow-y-auto",children:bt.filter(ee=>ee.id!==c.id).map(ee=>s.jsxs("div",{className:`flex items-start space-x-3 cursor-pointer rounded-lg p-2 transition-colors ${ee.id===c.id?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-24 h-16 object-cover rounded shadow border border-gray-200"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-gray-900 font-medium text-base line-clamp-2 mb-1",children:ee.title}),s.jsx("span",{className:"text-gray-500 text-xs block mb-1",children:ee.channel.name}),s.jsxs("span",{className:"text-gray-400 text-xs",children:[ee.duration,"  ",Jt(ee.views)]})]})]},ee.id))})]})]}),p&&s.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white px-6 py-3 rounded-lg shadow-lg z-50 text-lg animate-fade-in",children:p})]}),T&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 px-2 sm:px-0",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-0 w-full max-w-lg relative flex flex-col",children:[s.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600 text-2xl font-bold",onClick:()=>{_(!1),F(1),X(""),z({title:"",description:"",thumbnail:"",videoFile:null,duration:""})},children:""}),s.jsxs("div",{className:"flex flex-col items-center p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Video"}),D===1&&s.jsxs("div",{className:"w-full flex flex-col items-center",children:[s.jsxs("div",{className:"w-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-xl p-8 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors mb-4",onDrop:No,onDragOver:wi,onClick:()=>document.getElementById("video-upload-input").click(),children:[s.jsx(UploadCloud,{size:48,className:"text-blue-500 mb-2"}),s.jsx("p",{className:"text-lg font-semibold mb-2",children:"Drag and drop video files to upload"}),s.jsx("button",{type:"button",className:"bg-blue-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors",children:"Select files"}),s.jsx("input",{id:"video-upload-input",type:"file",accept:"video/*",className:"hidden",onChange:Tn})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Your videos will be private until you publish them."})]}),D===2&&s.jsxs("form",{onSubmit:Rs,className:"w-full flex flex-col gap-4 mt-2",children:[Q&&s.jsx("video",{src:Q,controls:!0,className:"w-full rounded-lg mb-2 max-h-56 bg-black"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Title",value:M.title,onChange:ee=>z(fe=>({...fe,title:ee.target.value})),required:!0}),s.jsx("textarea",{className:"w-full px-4 py-2 border rounded",placeholder:"Description",value:M.description,onChange:ee=>z(fe=>({...fe,description:ee.target.value})),required:!0}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Thumbnail URL (optional)",value:M.thumbnail,onChange:ee=>z(fe=>({...fe,thumbnail:ee.target.value}))}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Duration (e.g. 03:45)",value:M.duration,onChange:ee=>z(fe=>({...fe,duration:ee.target.value}))}),A&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:s.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${W}%`}})}),s.jsxs("div",{className:"flex justify-between mt-2",children:[s.jsx("button",{type:"button",className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-full font-semibold hover:bg-gray-300 transition-colors",onClick:()=>{F(1),X(""),z(ee=>({...ee,videoFile:null}))},children:"Back"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition-colors",disabled:A,children:A?"Publishing...":"Publish"})]}),O&&s.jsx("div",{className:"text-green-600 font-semibold",children:"Upload successful!"}),L&&s.jsx("div",{className:"text-red-600 font-semibold",children:L})]})]})]})})]})},yx="http://localhost:5000/api",yee=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[a,i]=P.useState(!0),[o,l]=P.useState(null),[c,u]=P.useState("all"),[d,h]=P.useState("all"),[m,f]=P.useState("all"),[g,v]=P.useState(!1),[b,y]=P.useState(""),[p,w]=P.useState("grid"),[j,S]=P.useState([]),[R,k]=P.useState([]),[N,E]=P.useState([]),[T,_]=P.useState(!1),[A,C]=P.useState(null),[O,V]=P.useState(null),[L,q]=P.useState(!1),[M,z]=P.useState({name:"",email:"",phone:"",organization:"",title:"",specialRequests:"",dietaryRestrictions:""});P.useEffect(()=>{(async()=>{try{i(!0);const se=(await be.get(`${yx}/events`)).data.events||[];e(se),n(se);const pe=await be.get(`${yx}/events/meta/categories`);S(pe.data.categories||[]),k(pe.data.eventTypes||[]),E(pe.data.cities||[])}catch(Z){console.error("Error fetching events:",Z),l("Failed to load events")}finally{i(!1)}})()},[]),P.useEffect(()=>{let $=t;if(c!=="all"&&($=$.filter(Z=>Z.category===c)),d!=="all"&&($=$.filter(Z=>Z.eventType===d)),m!=="all"&&($=$.filter(Z=>Z.location.city===m)),g&&($=$.filter(Z=>Z.pricing.isFree)),b.trim()){const Z=b.toLowerCase();$=$.filter(se=>{var pe,te;return se.title.toLowerCase().includes(Z)||se.description.toLowerCase().includes(Z)||se.organizer.name.toLowerCase().includes(Z)||((pe=se.location.venue)==null?void 0:pe.toLowerCase().includes(Z))||((te=se.speakers)==null?void 0:te.some(ge=>ge.name.toLowerCase().includes(Z)))})}n($)},[c,d,m,g,b,t]);const D=$=>{switch($){case"Workshop":return s.jsx(Ve,{className:"w-5 h-5"});case"Webinar":return s.jsx(ro,{className:"w-5 h-5"});case"Conference":return s.jsx(Ss,{className:"w-5 h-5"});case"Networking":return s.jsx(Ig,{className:"w-5 h-5"});case"Hackathon":return s.jsx(vt,{className:"w-5 h-5"});default:return s.jsx(Yt,{className:"w-5 h-5"})}},F=$=>{switch($){case"In-Person":return"bg-blue-100 text-blue-800";case"Virtual":return"bg-green-100 text-green-800";case"Hybrid":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},W=$=>new Date($).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),H=$=>{const[Z,se]=$.split(":"),pe=new Date;return pe.setHours(parseInt(Z),parseInt(se)),pe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},Q=$=>{const Z=new Date,pe=new Date($)-Z,te=Math.ceil(pe/(1e3*60*60*24));return te<0?"Past event":te===0?"Today":te===1?"Tomorrow":te<7?`In ${te} days`:te<30?`In ${Math.ceil(te/7)} weeks`:`In ${Math.ceil(te/30)} months`},X=$=>{const Z=new Date,se=new Date($.schedule.startDate),pe=$.registration.registrationDeadline?new Date($.registration.registrationDeadline):null;return Z>se?{text:"Past Event",color:"text-gray-600 bg-gray-100"}:$.registration.isRegistrationOpen?pe&&Z>pe?{text:"Registration Deadline Passed",color:"text-red-600 bg-red-100"}:$.registration.registered>=$.registration.capacity?$.registration.waitlistEnabled?{text:"Waitlist Available",color:"text-yellow-600 bg-yellow-100"}:{text:"Fully Booked",color:"text-red-600 bg-red-100"}:{text:"Registration Open",color:"text-green-600 bg-green-100"}:{text:"Registration Closed",color:"text-red-600 bg-red-100"}},G=$=>{C($),_(!0),V(null)},K=$=>{const{name:Z,value:se}=$.target;z(pe=>({...pe,[Z]:se}))},J=async $=>{var Z,se;$.preventDefault(),q(!0);try{const pe=await be.post(`${yx}/events/${A._id}/register`,M);V({type:"success",message:pe.data.message,registrationStatus:pe.data.registrationStatus});const te=t.map(ge=>ge._id===A._id?{...ge,registration:{...ge.registration,registered:ge.registration.registered+1}}:ge);e(te),z({name:"",email:"",phone:"",organization:"",title:"",specialRequests:"",dietaryRestrictions:""}),setTimeout(()=>{_(!1),C(null)},3e3)}catch(pe){console.error("Error registering for event:",pe),V({type:"error",message:((se=(Z=pe.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to register. Please try again."})}finally{q(!1)}};return a?s.jsx(ca,{message:"Loading events"}):o?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Events"}),s.jsx("p",{className:"text-gray-600",children:o})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Upcoming Events"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"Join our community events, workshops, and networking sessions. Connect with like-minded professionals and expand your skills."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsx("button",{className:"bg-ajira-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-ajira-primary/90 transition-colors",children:"Browse Events"}),s.jsx("button",{className:"bg-white text-ajira-primary border-2 border-ajira-primary px-8 py-3 rounded-lg font-semibold hover:bg-ajira-primary/5 transition-colors",children:"View Calendar"})]})]}),O&&s.jsx("div",{className:`mb-8 p-6 rounded-lg ${O.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start",children:[O.type==="success"?s.jsx(Ke,{className:"w-6 h-6 text-green-600 mr-3 mt-1"}):s.jsx(qt,{className:"w-6 h-6 text-red-600 mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold ${O.type==="success"?"text-green-800":"text-red-800"}`,children:O.type==="success"?" Registration Successful!":" Registration Failed"}),s.jsx("p",{className:`mt-2 ${O.type==="success"?"text-green-700":"text-red-700"}`,children:O.message}),O.registrationStatus&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s.jsx("strong",{children:"Status:"})," ",O.registrationStatus]})]})]})}),T&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register for Event"}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[W(A.schedule.startDate)," "," ",H(A.schedule.startTime)," -"," ",H(A.schedule.endTime)]}),s.jsx("p",{className:"text-sm text-gray-600",children:A.location.venue||"Virtual Event"})]}),s.jsxs("form",{onSubmit:J,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",value:M.name,onChange:K,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:M.email,onChange:K,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:M.phone,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),s.jsx("input",{type:"text",name:"organization",value:M.organization,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),s.jsx("input",{type:"text",name:"title",value:M.title,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests or Accessibility Needs"}),s.jsx("textarea",{name:"specialRequests",value:M.specialRequests,onChange:K,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:L,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Registering..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ig,{className:"w-5 h-5"}),s.jsx("span",{children:"Register for Event"})]})})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-8 w-full",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 min-w-[180px] sm:min-w-64",children:[s.jsx("input",{type:"text",placeholder:"Search events...",value:b,onChange:$=>y($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),s.jsxs("select",{value:c,onChange:$=>u($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),j.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("select",{value:d,onChange:$=>h($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Types"}),R.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("select",{value:m,onChange:$=>f($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Cities"}),N.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:$=>v($.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Free Only"})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>w("grid"),className:`px-3 py-2 ${p==="grid"?"bg-ajira-primary text-white":"text-gray-600"}`,children:s.jsx(sp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w("list"),className:`px-3 py-2 ${p==="list"?"bg-ajira-primary text-white":"text-gray-600"}`,children:s.jsx(np,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[r.length," event",r.length!==1?"s":""," found"]}),s.jsxs("span",{children:["Showing"," ",c!=="all"?c:"all categories"]})]})]}),s.jsx("div",{className:p==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 mb-12 w-full":"space-y-6 mb-12 w-full",children:r.map($=>{const Z=X($),se=Q($.schedule.startDate);return s.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 overflow-hidden ${p==="list"?"flex":""}`,children:[s.jsxs("div",{className:`bg-gradient-to-r from-ajira-primary to-ajira-secondary ${p==="list"?"w-48 flex-shrink-0":"h-48 w-full"} flex items-center justify-center text-white`,children:[D($.category),s.jsx("span",{className:"ml-2 font-semibold",children:$.category})]}),s.jsxs("div",{className:`p-6 ${p==="list"?"flex-1":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 line-clamp-2 mb-2",children:$.title}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F($.eventType)}`,children:$.eventType}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.color}`,children:Z.text})]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsx("button",{className:"text-gray-400 hover:text-red-500",children:s.jsx(Sy,{className:"w-5 h-5"})}),s.jsx("button",{className:"text-gray-400 hover:text-blue-500",children:s.jsx(Qh,{className:"w-5 h-5"})})]})]}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:$.description}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[W($.schedule.startDate),"  ",se]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ft,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[H($.schedule.startTime)," -"," ",H($.schedule.endTime)]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Jn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:$.location.venue||"Virtual Event"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ve,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[$.registration.registered,"/",$.registration.capacity," registered"]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Yn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:$.pricing.isFree?"Free":`KES ${$.pricing.regularPrice.toLocaleString()}`})]})]}),$.speakers&&$.speakers.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Speakers:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[$.speakers.slice(0,2).map((pe,te)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:pe.name},te)),$.speakers.length>2&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",$.speakers.length-2," more"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"flex-1 px-4 py-2 text-sm border border-ajira-primary text-ajira-primary rounded-lg hover:bg-ajira-primary/5 transition-colors",children:[s.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"View Details"]}),s.jsxs("button",{onClick:()=>G($),disabled:Z.text==="Past Event"||Z.text==="Registration Closed",className:`flex-1 px-4 py-2 text-sm rounded-lg font-medium transition-colors ${Z.text==="Past Event"||Z.text==="Registration Closed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-ajira-primary text-white hover:bg-ajira-primary/90"}`,children:[s.jsx(Ig,{className:"w-4 h-4 inline mr-2"}),Z.text==="Waitlist Available"?"Join Waitlist":"Register"]})]})]})]},$._id)})}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:b?"Try adjusting your search terms or filters.":"No events match your current filters."}),s.jsx("button",{onClick:()=>{y(""),u("all"),h("all"),f("all"),v(!1)},className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Clear Filters"})]}),r.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center w-full",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Don't miss out on upcoming events!"}),s.jsx("p",{className:"text-white/90 mb-6 max-w-2xl mx-auto text-sm sm:text-base",children:"Stay updated with the latest events, workshops, and networking opportunities. Join our community and never miss an event that could change your career."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsx("button",{className:"bg-white text-ajira-primary px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors w-full sm:w-auto",children:"Subscribe to Updates"}),s.jsx("button",{className:"bg-ajira-accent text-white px-6 py-3 rounded-lg font-medium hover:bg-ajira-accent/90 transition-colors w-full sm:w-auto",children:"Organize an Event"})]})]})]})})},vee=()=>{const[t,e]=P.useState(""),[r,n]=P.useState("All"),a=[{id:1,title:"From Campus to Digital Freelancer: A 2025 Success Story",excerpt:"Learn how John transformed his programming hobby into a successful freelancing career through Ajira Digital's training program.",image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=600&h=400&fit=crop",author:"John Kamau",date:"January 15, 2025",category:"Success Stories",readTime:"5 min read"},{id:2,title:"Top 10 In-Demand Digital Skills for 2025",excerpt:"Discover the most sought-after digital skills that employers and clients are looking for in the current job market.",image:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=400&fit=crop",author:"Mary Wanjiku",date:"January 12, 2025",category:"Career Tips",readTime:"8 min read"},{id:3,title:"Building Your Personal Brand Online in 2025",excerpt:"Essential tips and strategies for creating a strong personal brand that attracts clients and opportunities.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop",author:"Sarah Njeri",date:"January 10, 2025",category:"Personal Development",readTime:"6 min read"},{id:4,title:"Navigating the Digital Marketplace in 2025",excerpt:"A comprehensive guide to finding and securing online work opportunities through various platforms.",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=600&h=400&fit=crop",author:"David Mwangi",date:"January 8, 2025",category:"Career Tips",readTime:"7 min read"},{id:5,title:"AI and Automation: Opportunities for 2025",excerpt:"How artificial intelligence is creating new opportunities for digital workers and freelancers.",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=600&h=400&fit=crop",author:"Grace Wanjiru",date:"January 5, 2025",category:"Technology",readTime:"9 min read"},{id:6,title:"Remote Work Best Practices for 2025",excerpt:"Master the art of remote work with these proven strategies and tools for maximum productivity.",image:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=600&h=400&fit=crop",author:"Peter Kiprotich",date:"January 3, 2025",category:"Personal Development",readTime:"6 min read"}],i=["All","Success Stories","Career Tips","Personal Development","Industry News","Technology"],o=a.filter(l=>{const c=l.title.toLowerCase().includes(t.toLowerCase())||l.excerpt.toLowerCase().includes(t.toLowerCase()),u=r==="All"||l.category===r;return c&&u});if(o.length===0){const l=[{id:101,title:"Demo: How Ajira Changed My Life in 2025",excerpt:"A quick look at how Ajira Digital helped me become a successful freelancer in the new year.",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=600&h=400&fit=crop",author:"Demo User",date:"January 1, 2025",category:"Success Stories",readTime:"3 min read"},{id:102,title:"Demo: 2025 Digital Trends to Watch",excerpt:"Explore the latest digital trends and opportunities for the year ahead.",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop",author:"Tech Insights",date:"January 2, 2025",category:"Technology",readTime:"4 min read"},{id:103,title:"Demo: Building Your Portfolio in 2025",excerpt:"Essential tips for creating a standout portfolio that gets you hired.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop",author:"Career Coach",date:"January 3, 2025",category:"Career Tips",readTime:"5 min read"}];return s.jsx("div",{className:"min-h-screen bg-ajira-lightGray",children:s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Stories & Insights (Demo)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map(c=>s.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-ajira hover:shadow-ajira-lg transition-shadow",children:[s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-3",children:c.title}),s.jsx("p",{className:"text-ajira-gray mb-6",children:c.excerpt}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-ajira-gray mb-4",children:[s.jsx("span",{children:c.date}),s.jsx("span",{children:""}),s.jsx("span",{children:c.readTime})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-sm font-medium text-ajira-gray",children:c.author})})]})]},c.id))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Sign up or log in to read and write your own stories!"})})]})})})}return s.jsxs("div",{className:"min-h-screen bg-ajira-lightGray",children:[s.jsx("section",{className:"bg-gradient-ajira py-20",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Stories & Insights"}),s.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8",children:"Discover success stories, career tips, and industry insights from our community"}),s.jsxs("div",{className:"relative max-w-xl mx-auto",children:[s.jsx(Ht,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-ajira-gray",size:20}),s.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),placeholder:"Search articles...",className:"w-full pl-12 pr-4 py-3 rounded-lg border-none focus:ring-2 focus:ring-ajira-blue/20"})]})]})})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("div",{className:"flex flex-wrap gap-3 mb-12",children:i.map(l=>s.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===l?"bg-ajira-blue text-white":"bg-white text-ajira-gray hover:bg-ajira-blue/10"}`,children:l},l))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:o.map((l,c)=>s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},className:"bg-white rounded-2xl overflow-hidden shadow-ajira hover:shadow-ajira-lg transition-shadow",children:[s.jsxs("div",{className:"relative h-48 md:h-64",children:[s.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:"bg-ajira-blue text-white px-3 py-1 rounded-full text-sm font-medium",children:l.category})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-ajira-gray mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{size:16}),s.jsx("span",{children:l.date})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:l.readTime})]})]}),s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-3",children:l.title}),s.jsx("p",{className:"text-ajira-gray mb-6",children:l.excerpt}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(or,{size:16,className:"text-ajira-blue"})}),s.jsx("span",{className:"text-sm font-medium text-ajira-gray",children:l.author})]}),s.jsxs(De,{to:`/blog/${l.id}`,className:"flex items-center text-ajira-blue hover:text-ajira-lightBlue font-medium text-sm",children:["Read More",s.jsx(Ml,{size:16,className:"ml-1"})]})]})]})]},l.id))}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-blue/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ht,{size:24,className:"text-ajira-blue"})}),s.jsx("h3",{className:"text-xl font-bold text-ajira-blue mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-ajira-gray",children:"Try adjusting your search or filter to find what you're looking for."})]})]})})]})},bee=()=>(P.useState(""),P.useState("all"),P.useState("all"),P.useState(!1),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:" Digital Skills Academy"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto",children:"Transform your career with cutting-edge digital skills training designed for the modern workforce"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-5xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Your Digital Transformation Journey Starts Here!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're building a comprehensive digital skills academy that will revolutionize how you learn, grow, and succeed in the digital economy. Get ready for:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ro,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Interactive Learning"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Engage with video tutorials, hands-on projects, and real-world case studies"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ve,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Expert Mentorship"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Learn from industry professionals and successful digital entrepreneurs"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ss,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Career-Focused"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Skills that directly translate to job opportunities and career advancement"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Xn,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Flexible Learning"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Learn at your own pace with 24/7 access to course materials"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(vt,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Certification"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Earn recognized certificates to boost your professional credibility"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ss,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Global Network"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Connect with learners worldwide and build your professional network"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 via-ajira-accent/10 to-ajira-secondary/10 rounded-xl p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-4",children:"Upcoming Course Categories:"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-700",children:"Web Development"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h4,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Digital Design"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gd,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-gray-700",children:"Data Analytics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{className:"text-gray-700",children:"Digital Marketing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XO,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-gray-700",children:"Content Creation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xn,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-gray-700",children:"Cybersecurity"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"E-commerce"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-700",children:"Freelancing"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-ajira-primary/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-primary mb-1",children:"50+"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expert Instructors"})]}),s.jsxs("div",{className:"bg-ajira-accent/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent mb-1",children:"200+"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Course Modules"})]}),s.jsxs("div",{className:"bg-ajira-secondary/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-secondary mb-1",children:"24/7"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Learning Access"})]})]}),s.jsxs("div",{className:"bg-ajira-primary/5 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-2",children:"Why Choose Our Training Academy?"}),s.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Our training programs are specifically designed for the African digital economy, combining global best practices with local market insights. We focus on practical, job-ready skills that employers actually need."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Industry-aligned curriculum"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Hands-on project experience"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Job placement support"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Lifetime access to updates"})]})]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We're finalizing our curriculum and assembling our expert instructor team. Get ready to accelerate your digital career! "})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-2xl p-6 sm:p-8 text-center w-full",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ready to Transform Your Career?"}),s.jsx("p",{className:"text-white/90 mb-6 max-w-2xl mx-auto text-sm sm:text-base",children:"Join thousands of learners who will master in-demand digital skills and advance their careers. Be among the first to access our comprehensive training programs."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsxs("button",{className:"bg-white text-ajira-primary px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(eo,{className:"w-4 h-4"}),"Get Early Access"]}),s.jsxs("button",{className:"bg-ajira-accent text-white px-6 py-3 rounded-lg font-medium hover:bg-ajira-accent/90 transition-colors w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(Ve,{className:"w-4 h-4"}),"Join Waitlist"]})]})]})]})})),jee="http://localhost:5000/api",wee=async()=>{try{const t=await fetch(`${jee}/api/mentor-applications/my-application`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){if(t.status===404)throw new Error("No application found");const r=await t.json();throw new Error(r.message||"Failed to fetch application")}return(await t.json()).application}catch(t){throw console.error("Fetch mentor application error:",t),t}},Nee="http://localhost:5000/api",kee=()=>{const{user:t}=Ur(),[e,r]=P.useState([]),[n,a]=P.useState([]),[i,o]=P.useState([]),[l,c]=P.useState(!0),[u,d]=P.useState(null),[h,m]=P.useState(!1),[f,g]=P.useState(null),[v,b]=P.useState("all"),[y,p]=P.useState("all"),[w,j]=P.useState("all"),[S,R]=P.useState(!1),[k,N]=P.useState(!1),[E,T]=P.useState(""),[_,A]=P.useState("grid"),[C,O]=P.useState(!1),[V,L]=P.useState(!1),[q,M]=P.useState(null),[z,D]=P.useState({mentee:{name:"",email:"",goals:[]},requestType:"Instant",urgency:"Medium",sessionType:"Quick Question",category:"Web Development",problemDescription:"",preferredDuration:30,location:{city:"Nairobi",country:"Kenya",preferInPerson:!1,maxDistance:50},budget:{hasBudget:!1,maxAmount:0,currency:"KES"}});P.useEffect(()=>{W(),H(),F()},[t]),P.useEffect(()=>{Q()},[v,y,w,S,k,E,e]);const F=async()=>{if(t)try{const J=await wee();g(J),m(J.status==="approved")}catch{m(!1)}},W=async()=>{try{c(!0);const $=(await be.get(`${Nee}/mentorship`)).data.mentors||[];r($),a($)}catch(J){console.error("Error fetching mentors:",J),d("Failed to load mentors. Please try again.")}finally{c(!1)}},H=async()=>{try{o(["Web Development","Mobile Development","Data Science","UI/UX Design","Digital Marketing","Cybersecurity","Project Management","Entrepreneurship","Career Development","Freelancing","Content Creation","Graphic Design"])}catch(J){console.error("Error fetching categories:",J)}},Q=()=>{let J=[...e];if(v!=="all"&&(J=J.filter($=>$.category===v)),y!=="all"&&(J=J.filter($=>$.expertiseLevel===y)),w!=="all"&&(J=J.filter($=>$.location.city===w)),S&&(J=J.filter($=>$.pricing.isFree)),k&&(J=J.filter($=>$.instantAvailability.enabled)),E){const $=E.toLowerCase();J=J.filter(Z=>Z.mentor.name.toLowerCase().includes($)||Z.title.toLowerCase().includes($)||Z.category.toLowerCase().includes($))}a(J)},X=async J=>{var $,Z;J.preventDefault(),L(!0);try{await new Promise(se=>setTimeout(se,2e3)),M({type:"success",message:"Request sent to available mentors! Expected response time: 15 minutes",data:{requestId:"REQ_"+Date.now(),mentorsNotified:0,estimatedResponseTime:"15 minutes"}}),O(!1),G()}catch(se){M({type:"error",message:((Z=($=se.response)==null?void 0:$.data)==null?void 0:Z.message)||"Failed to submit request. Please try again."})}finally{L(!1)}},G=()=>{D({mentee:{name:"",email:"",goals:[]},requestType:"Instant",urgency:"Medium",sessionType:"Quick Question",category:"Web Development",problemDescription:"",preferredDuration:30,location:{city:"Nairobi",country:"Kenya",preferInPerson:!1,maxDistance:50},budget:{hasBudget:!1,maxAmount:0,currency:"KES"}})},K=(J,$,Z=null)=>{D(Z?se=>({...se,[Z]:{...se[Z],[J]:$}}):se=>({...se,[J]:$}))};return l?s.jsx(ca,{message:"Loading mentors"}):u?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Mentors"}),s.jsx("p",{className:"text-gray-600",children:u})]})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center text-white mb-12 w-full",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Find Your Perfect Mentor"}),s.jsx("p",{className:"text-base sm:text-xl mb-8 opacity-90",children:"Connect with experienced professionals who can guide you through your career journey. Get personalized advice, industry insights, and accelerate your growth."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full",children:[h?s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Request a Mentor"}):s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Find a Mentor"}),s.jsx(De,{to:"/mentorship/apply",className:"border-2 border-white text-white px-8 py-3 rounded-lg hover:bg-white/10 transition-colors font-semibold w-full sm:w-auto",children:"Become a Mentor"})]})]}),q&&s.jsx("div",{className:`mb-8 p-6 rounded-lg border ${q.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[q.type==="success"?s.jsx(Ke,{className:"w-6 h-6 text-green-600"}):s.jsx(qt,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:q.message}),q.data&&s.jsxs("p",{className:"text-sm mt-1",children:["Request ID: ",q.data.requestId," ",q.data.mentorsNotified," mentors notified"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-12 w-full",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Ve,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.length}),s.jsx("p",{className:"text-gray-600",children:"Expert Mentors"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Ke,{className:"w-6 h-6 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0"}),s.jsx("p",{className:"text-gray-600",children:"Sessions Completed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(lt,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0.0"}),s.jsx("p",{className:"text-gray-600",children:"Average Rating"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Xn,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"--"}),s.jsx("p",{className:"text-gray-600",children:"Avg Response Time"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-8 w-full",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6 w-full",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search mentors...",value:E,onChange:J=>T(J.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 w-full sm:w-64 text-base sm:text-lg"})]}),s.jsxs("select",{value:v,onChange:J=>b(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),i.map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsxs("select",{value:y,onChange:J=>p(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:J=>R(J.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Free Only"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:J=>N(J.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Instant Available"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-lg transition-colors ${_==="grid"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.jsx(sp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-lg transition-colors ${_==="list"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.jsx(np,{className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[n.length," mentor",n.length!==1?"s":""," found"]}),s.jsxs("span",{children:["Showing"," ",v!=="all"?v:"all categories"]})]})]}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No mentors found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search criteria."}),s.jsx("button",{onClick:()=>{b("all"),p("all"),j("all"),R(!1),N(!1),T("")},className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Clear Filters"})]}):s.jsx("div",{className:`grid gap-4 sm:gap-6 w-full ${_==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:n.map(J=>s.jsx(See,{mentor:J,viewMode:_,onRequestMentor:()=>{D($=>({...$,category:J.category})),O(!0)}},J._id))}),s.jsxs("div",{className:"mt-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center text-white w-full",children:[s.jsx("h2",{className:"text-xl sm:text-3xl font-bold mb-4",children:"Ready to accelerate your career?"}),s.jsx("p",{className:"text-base sm:text-xl mb-8 opacity-90",children:"Join thousands of professionals who have transformed their careers through mentorship."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full",children:[h?s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Request a Mentor"}):s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Find a Mentor"}),s.jsx(De,{to:"/mentorship/apply",className:"border-2 border-white text-white px-8 py-3 rounded-lg hover:bg-white/10 transition-colors font-semibold w-full sm:w-auto",children:"Become a Mentor"})]})]})]}),C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Instant Mentoring"}),s.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Get matched with available mentors in minutes. Just like requesting an Uber!"})]}),s.jsxs("form",{onSubmit:X,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",value:z.mentee.name,onChange:J=>K("name",J.target.value,"mentee"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",value:z.mentee.email,onChange:J=>K("email",J.target.value,"mentee"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"john@example.com",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsx("select",{value:z.category,onChange:J=>K("category",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",required:!0,children:i.map(J=>s.jsx("option",{value:J,children:J},J))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Type *"}),s.jsxs("select",{value:z.sessionType,onChange:J=>K("sessionType",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",required:!0,children:[s.jsx("option",{value:"Quick Question",children:"Quick Question"}),s.jsx("option",{value:"Code Review",children:"Code Review"}),s.jsx("option",{value:"Career Advice",children:"Career Advice"}),s.jsx("option",{value:"Technical Help",children:"Technical Help"}),s.jsx("option",{value:"Project Guidance",children:"Project Guidance"}),s.jsx("option",{value:"General Mentorship",children:"General Mentorship"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),s.jsxs("select",{value:z.urgency,onChange:J=>K("urgency",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Low",children:"Low (Within 24 hours)"}),s.jsx("option",{value:"Medium",children:"Medium (Within 2 hours)"}),s.jsx("option",{value:"High",children:"High (Within 30 minutes)"}),s.jsx("option",{value:"Critical",children:"Critical (ASAP)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Duration (minutes)"}),s.jsx("input",{type:"number",value:z.preferredDuration,onChange:J=>K("preferredDuration",parseInt(J.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"15",max:"120",step:"15"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Problem Description *"}),s.jsx("textarea",{value:z.problemDescription,onChange:J=>K("problemDescription",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Describe your problem or what you need help with...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsxs("select",{value:z.location.city,onChange:J=>K("city",J.target.value,"location"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Nairobi",children:"Nairobi"}),s.jsx("option",{value:"Mombasa",children:"Mombasa"}),s.jsx("option",{value:"Kisumu",children:"Kisumu"}),s.jsx("option",{value:"Nakuru",children:"Nakuru"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsx("div",{className:"flex items-center space-x-4 pt-8",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:z.location.preferInPerson,onChange:J=>K("preferInPerson",J.target.checked,"location"),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Prefer in-person meeting"})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("input",{type:"checkbox",checked:z.budget.hasBudget,onChange:J=>K("hasBudget",J.target.checked,"budget"),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I have a budget for this session"})]}),z.budget.hasBudget&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Budget"}),s.jsx("input",{type:"number",value:z.budget.maxAmount,onChange:J=>K("maxAmount",parseInt(J.target.value),"budget"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"5000",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),s.jsxs("select",{value:z.budget.currency,onChange:J=>K("currency",J.target.value,"budget"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"KES",children:"KES"}),s.jsx("option",{value:"USD",children:"USD"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:V,className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors flex items-center space-x-2 disabled:opacity-50",children:V?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Finding Mentors..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"w-5 h-5"}),s.jsx("span",{children:"Request Mentor"})]})})]})]})]})})]})},See=({mentor:t,viewMode:e,onRequestMentor:r})=>e==="list"?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center text-white text-lg font-bold",children:t.mentor.name.split(" ").map(n=>n[0]).join("")}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.mentor.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx(lt,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-semibold",children:t.ratings.overall})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.ratings.totalRatings," reviews)"]})]})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:t.mentor.bio}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"w-4 h-4"}),s.jsx("span",{children:t.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4"}),s.jsx("span",{children:t.expertiseLevel})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{children:t.location.city})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:t.availability.responseTime})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.verification.isVerified&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"}),t.instantAvailability.enabled&&s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Xn,{className:"w-3 h-3"}),s.jsx("span",{children:"Instant"})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.availability.status==="Available"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.availability.status})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("p",{className:"text-lg font-bold text-ajira-primary",children:t.pricing.isFree?"Free":`${t.pricing.currency} ${t.pricing.sessionRate}`}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{to:`/mentorship/${t.slug}`,className:"text-ajira-primary hover:text-ajira-primary/80 transition-colors",children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors text-sm",children:"Request Session"})]})]})]})]})]})})}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center text-white text-lg font-bold",children:t.mentor.name.split(" ").map(n=>n[0]).join("")}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx(lt,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-semibold",children:t.ratings.overall})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.ratings.totalRatings," reviews)"]})]})]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600 mb-1",children:t.mentor.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.mentor.bio}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"w-4 h-4"}),s.jsx("span",{children:t.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4"}),s.jsx("span",{children:t.expertiseLevel})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{children:t.location.city})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:t.availability.responseTime})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.verification.isVerified&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"}),t.instantAvailability.enabled&&s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Xn,{className:"w-3 h-3"}),s.jsx("span",{children:"Instant"})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.availability.status==="Available"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.availability.status})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-lg font-bold text-ajira-primary",children:t.pricing.isFree?"Free":`${t.pricing.currency} ${t.pricing.sessionRate}`}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{to:`/mentorship/${t.slug}`,className:"text-ajira-primary hover:text-ajira-primary/80 transition-colors",children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors text-sm",children:"Request"})]})]})]})}),_ee="http://localhost:5000/api",Eee=()=>{const[t,e]=P.useState("all"),[r,n]=P.useState(""),[a,i]=P.useState([]),[o,l]=P.useState(!0),[c,u]=P.useState(null),[d,h]=P.useState([{id:"all",name:"All Updates",color:"bg-gray-600"}]);P.useEffect(()=>{(async()=>{var b;try{const y=await be.get(`${_ee}/updates?limit=50`);i(y.data.updates||[]);const p=[...new Set(((b=y.data.updates)==null?void 0:b.map(S=>S.category))||[])],w={Event:"bg-blue-600",Announcement:"bg-green-600",Achievement:"bg-purple-600",Training:"bg-orange-600",Partnership:"bg-pink-600",General:"bg-gray-600"},j=[{id:"all",name:"All Updates",color:"bg-gray-600"},...p.map(S=>({id:S.toLowerCase(),name:S,color:w[S]||"bg-gray-600"}))];h(j)}catch(y){console.error("Error fetching updates:",y),u("Failed to load updates")}finally{l(!1)}})()},[]);const m=a.filter(v=>{const b=t==="all"||v.category.toLowerCase()===t,y=v.title.toLowerCase().includes(r.toLowerCase())||v.excerpt.toLowerCase().includes(r.toLowerCase())||v.tags.some(p=>p.toLowerCase().includes(r.toLowerCase()));return b&&y}),f=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),g=v=>{const b=d.find(y=>y.id===v.toLowerCase());return(b==null?void 0:b.color)||"bg-gray-600"};return o?s.jsx(ca,{}):c?s.jsx("div",{className:"text-center py-12 text-red-500",children:c}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Club Updates"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Stay informed about the latest news, events, and opportunities at Ajira Digital KiNaP Club."})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-between w-full",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(v=>s.jsx("button",{onClick:()=>e(v.id),className:`px-4 py-2 rounded-full text-sm font-medium transition ${t===v.id?`${v.color} text-white`:"bg-white text-gray-600 hover:bg-gray-100"}`,children:v.name},v.id))}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx("input",{type:"text",placeholder:"Search updates...",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-ajira-primary/20 text-base sm:text-lg"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:m.map(v=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden w-full",children:[v.images&&v.images.length>0&&s.jsx("img",{src:v.images[0],alt:v.title,className:"w-full h-40 sm:h-48 object-cover"}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${g(v.category)}`,children:v.category.charAt(0).toUpperCase()+v.category.slice(1)}),s.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[s.jsx(Yt,{className:"w-4 h-4 mr-1"}),f(v.publishDate)]})]}),s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:v.excerpt}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.tags.map((b,y)=>s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(dD,{className:"w-3 h-3 mr-1"}),b]},y))}),s.jsxs("button",{className:"mt-4 text-ajira-primary font-medium flex items-center hover:text-ajira-primary/80 transition-colors",children:["Read More",s.jsx(Ml,{className:"w-4 h-4 ml-1"})]})]})]},v._id))}),m.length===0&&s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full mb-6 shadow-lg",children:s.jsx(k1,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Welcome to Our Updates Hub! "}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-8 leading-relaxed",children:"Stay connected with the latest news, achievements, and exciting developments from the Ajira Digital KiNaP Club community!"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-secondary/10 rounded-2xl p-8 mb-8 border border-ajira-primary/20",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center mr-4",children:s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-primary",children:"Content Hub Under Development"})]}),s.jsx("p",{className:"text-gray-700 text-lg mb-6 max-w-3xl mx-auto leading-relaxed",children:"We're curating an amazing collection of updates, news, and stories to keep you informed and inspired. Our content team is working hard to bring you the most relevant and engaging updates from our community."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(k1,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"News & Updates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Latest club announcements and news"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(hs,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Achievements"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Member successes and milestones"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Bs,{className:"w-6 h-6 text-ajira-accent"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Events"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming events and workshops"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200 mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What You'll Find Here"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-primary font-bold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Club Announcements"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Important updates about club activities, policies, and opportunities"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-secondary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-secondary font-bold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Member Achievements"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Celebrating successes, certifications, and career milestones"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-accent font-bold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Event Highlights"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Recaps of workshops, training sessions, and community events"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-gray-600 font-bold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Industry Insights"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Latest trends in digital skills and career opportunities"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5 rounded-2xl p-8 border border-ajira-primary/10",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Coming Soon: Sample Updates"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(hs,{className:"w-4 h-4 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Achievement"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Member Spotlight: Sarah's Success Story"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"How Sarah landed her dream job in web development after completing our training program."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Yt,{className:"w-4 h-4 text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Event"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming: Digital Skills Workshop"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Join us for an intensive workshop on modern web development technologies."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Bs,{className:"w-4 h-4 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Announcement"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"New Partnership Announced"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Exciting collaboration with leading tech companies for internship opportunities."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Want to stay updated? Subscribe to our newsletter and never miss an important update!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Subscribe to Updates"}),s.jsx("button",{className:"px-8 py-3 border-2 border-ajira-primary text-ajira-primary font-semibold rounded-lg hover:bg-ajira-primary hover:text-white transition-all duration-200",children:"Follow Us"})]})]})]})})]})})},Tee="http://localhost:5000/api",Cee=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState(null);if(P.useEffect(()=>{(async()=>{try{const h=await be.get(`${Tee}/team`);e(h.data)}catch(h){console.error("Error fetching team members:",h),i("Failed to load team information")}finally{n(!1)}})()},[]),r)return s.jsx(ca,{message:"Loading team information"});if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:a})]})});const o=t.filter(d=>d.isLeadership),l=t.filter(d=>d.isFounder),c=t.filter(d=>!d.isLeadership&&!d.isFounder),u=({member:d,delay:h=0})=>s.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:h},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:d.image||"/images/default-avatar.png",alt:d.name,className:"w-full h-48 sm:h-64 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold",children:d.name}),s.jsx("p",{className:"text-sm opacity-90",children:d.role}),d.title&&s.jsx("p",{className:"text-xs opacity-75",children:d.title})]})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm sm:text-base",children:d.bio}),d.skills&&d.skills.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills.map((m,f)=>s.jsx("span",{className:"px-2 py-1 bg-ajira-primary/10 text-ajira-primary text-xs rounded-full",children:m},f))})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[d.email&&s.jsx("a",{href:`mailto:${d.email}`,className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(jr,{size:18})}),d.linkedinUrl&&s.jsx("a",{href:d.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(sD,{size:18})}),d.githubUrl&&s.jsx("a",{href:d.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(v1,{size:18})})]}),d.joinedDate&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[s.jsx(Yt,{size:14,className:"mr-1"}),"Joined"," ",new Date(d.joinedDate).toLocaleDateString("en-US",{year:"numeric",month:"long"})]})})]})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Our Team"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Meet the passionate individuals who lead and contribute to the Ajira Digital KiNaP Club community."})]}),l.length>0&&s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Founders"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:l.map((d,h)=>s.jsx(u,{member:d,delay:h*.1},d._id))})]}),o.length>0&&s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Leadership Team"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:o.map((d,h)=>s.jsx(u,{member:d,delay:h*.1},d._id))})]}),c.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Team Members"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:c.map((d,h)=>s.jsx(u,{member:d,delay:h*.1},d._id))})]}),t.length===0&&s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full mb-6 shadow-lg",children:s.jsx(Ve,{className:"w-10 h-10 text-white"})}),s.jsx(ht.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Welcome to Our Team Page! "}),s.jsx(ht.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-8 leading-relaxed",children:"We're excited to introduce you to the amazing people behind the Ajira Digital KiNaP Club!"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-secondary/10 rounded-2xl p-8 mb-8 border border-ajira-primary/20",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center mr-4",children:s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-primary",children:"Under Development"})]}),s.jsx("p",{className:"text-gray-700 text-lg mb-6 max-w-3xl mx-auto leading-relaxed",children:"Our team page is currently being crafted with care. We're gathering photos, bios, and stories from our incredible team members to give you the best experience possible."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Ve,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Team Profiles"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professional photos and detailed bios"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(v1,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Social Links"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connect with team members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Yt,{className:"w-6 h-6 text-ajira-accent"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Timeline"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Join dates and milestones"})]})]})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What You'll Find Here"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-primary font-bold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Leadership Team"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Meet our club presidents, coordinators, and key decision makers"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-secondary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-secondary font-bold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Technical Mentors"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Expert developers, designers, and digital professionals"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-accent font-bold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Student Leaders"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Passionate students driving innovation and community growth"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-gray-600 font-bold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Support Team"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Administrative and operational support members"})]})]})]})]})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-12",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Want to join our amazing team? We're always looking for passionate individuals!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Join Our Team"}),s.jsx("button",{className:"px-8 py-3 border-2 border-ajira-primary text-ajira-primary font-semibold rounded-lg hover:bg-ajira-primary hover:text-white transition-all duration-200",children:"Contact Us"})]})]})]})})]})})},iS="http://localhost:5000/api",Aee=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[a,i]=P.useState([]),[o,l]=P.useState(!0),[c,u]=P.useState(null),[d,h]=P.useState("all"),[m,f]=P.useState(""),[g,v]=P.useState([]),[b,y]=P.useState({});P.useEffect(()=>{(async()=>{try{const R=(await be.get(`${iS}/faq`)).data.faqs||[];n(R),i(R);const k=Array.from(new Set(R.map(N=>N.category)));v(k)}catch(S){console.error("Error fetching FAQs:",S),u("Failed to load FAQs")}finally{l(!1)}})()},[]),P.useEffect(()=>{let j=r;if(d!=="all"&&(j=j.filter(S=>S.category===d)),m.trim()){const S=m.toLowerCase();j=j.filter(R=>R.question.toLowerCase().includes(S)||R.answer.toLowerCase().includes(S)||R.tags.some(k=>k.toLowerCase().includes(S)))}i(j)},[d,m,r]);const p=async(j,S)=>{const R=`faq_vote_${j}`;if(localStorage.getItem(R)){alert("You have already voted on this FAQ");return}try{const N=S==="helpful"?"helpful":"not-helpful";await be.post(`${iS}/faq/${j}/${N}`),localStorage.setItem(R,S),y(E=>({...E,[j]:S})),n(E=>E.map(T=>T._id===j?{...T,[S==="helpful"?"helpfulCount":"notHelpfulCount"]:T[S==="helpful"?"helpfulCount":"notHelpfulCount"]+1}:T)),alert("Thank you for your feedback!")}catch(N){console.error("Error voting:",N),alert("Failed to record your vote")}};P.useEffect(()=>{const j={};r.forEach(S=>{const R=`faq_vote_${S._id}`,k=localStorage.getItem(R);k&&(j[S._id]=k)}),y(j)},[r]);const w=j=>{e(S=>S.includes(j)?S.filter(R=>R!==j):[...S,j])};return o?s.jsx(ca,{message:"Loading FAQs"}):c?s.jsxs("div",{className:"container-custom py-12 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:c})]}):s.jsxs("div",{className:"container-custom py-8 sm:py-12 w-full px-2 sm:px-4 overflow-x-hidden",children:[s.jsx("h1",{className:"text-4xl font-bold text-ajira-primary mb-8",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"mb-8 space-y-4 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",placeholder:"Search FAQs...",value:m,onChange:j=>f(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]}),s.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),g.map(j=>s.jsx("option",{value:j,children:j},j))]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${d==="all"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All FAQs"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," FAQ",a.length!==1?"s":""," ","found"]})]})]}),s.jsxs("div",{className:"space-y-8 w-full",children:[g.filter(j=>d==="all"||d===j).map(j=>{const S=a.filter(R=>R.category===j);return S.length===0?null:s.jsxs("div",{className:"space-y-4 w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-ajira-primary",children:j}),s.jsx("div",{className:"space-y-4 w-full",children:S.map((R,k)=>{const N=t.includes(k),E=b[R._id];return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm w-full",children:[s.jsxs("button",{onClick:()=>w(k),className:"w-full flex flex-wrap items-center justify-between p-4 text-left bg-white hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900 text-base sm:text-lg",children:R.question}),R.isPopular&&s.jsx(lt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),N?s.jsx(WO,{className:"h-5 w-5 text-gray-500"}):s.jsx(hu,{className:"h-5 w-5 text-gray-500"})]}),N&&s.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[s.jsx("p",{className:"text-gray-700 text-base sm:text-lg",children:R.answer}),R.tags&&R.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:R.tags.map((T,_)=>s.jsxs("span",{className:"bg-ajira-primary/10 text-ajira-primary text-xs px-2 py-1 rounded-full",children:["#",T]},_))}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 pt-4 border-t border-gray-200 gap-2 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm text-gray-500 flex-wrap",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[R.viewCount," views"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Va,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:[R.helpfulCount," helpful"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Was this helpful?"}),s.jsx("button",{onClick:()=>p(R._id,"helpful"),disabled:!!E,className:`p-2 rounded-lg transition ${E==="helpful"?"bg-green-100 text-green-600":E?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-green-100 hover:text-green-600"}`,title:"Mark as helpful",children:s.jsx(Va,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p(R._id,"not-helpful"),disabled:!!E,className:`p-2 rounded-lg transition ${E==="not-helpful"?"bg-red-100 text-red-600":E?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600"}`,title:"Mark as not helpful",children:s.jsx(vl,{className:"w-4 h-4"})})]})]})]})]},k)})})]},j)}),a.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No FAQs found"}),s.jsx("p",{className:"text-gray-600",children:m?"Try adjusting your search terms or category filter.":"No FAQs are available at the moment."})]})]})]})},Pee="http://localhost:5000/api",Iee=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(!0),[a,i]=P.useState(null);if(P.useEffect(()=>{(async()=>{try{const c=await be.get(`${Pee}/about-us`);e(c.data)}catch(c){console.error("Error fetching about data:",c),i("Failed to load about information")}finally{n(!1)}})()},[]),r)return s.jsx(ca,{message:"Loading about information"});if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:a})]})});const o=[{icon:s.jsx(ss,{className:"w-8 h-8 text-ajira-orange"}),title:"Our Mission",description:(t==null?void 0:t.mission)||"To cultivate digital skills excellence and showcase successful online work opportunities among our club members."},{icon:s.jsx(Ve,{className:"w-8 h-8 text-ajira-blue"}),title:"Who We Are",description:(t==null?void 0:t.teamDescription)||"A vibrant student club dedicated to developing digital skills and exploring online work opportunities under the Ajira Digital program."},{icon:s.jsx(HO,{className:"w-8 h-8 text-ajira-gold"}),title:"Our Vision",description:(t==null?void 0:t.vision)||"A digitally empowered generation of skilled professionals."},{icon:s.jsx(Ss,{className:"w-8 h-8 text-ajira-lightBlue"}),title:"Our Impact",description:(t==null?void 0:t.history)||"Our members have completed numerous successful projects and secured various online work opportunities through skills gained in the club."}];return s.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-ajira py-16 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center w-full",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6 break-words",children:(t==null?void 0:t.title)||"About Ajira Digital Club at Kiambu National Polytechnic"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-6 sm:mb-8",children:(t==null?void 0:t.description)||"Showcasing our journey in digital skills development and online work achievements."})]})})})}),(t==null?void 0:t.stats)&&s.jsx("section",{className:"py-10 sm:py-16 bg-gray-50 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-8 w-full",children:[s.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-primary mb-1 sm:mb-2",children:[t.stats.membersCount,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Active Members"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-accent mb-1 sm:mb-2",children:[t.stats.projectsCompleted,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Projects Completed"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-secondary mb-1 sm:mb-2",children:[t.stats.skillsOffered,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Skills Offered"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-gold mb-1 sm:mb-2",children:[t.stats.successStories,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Success Stories"})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2 sm:mb-4 break-words",children:t!=null&&t.values&&t.values.length>0?"Our Values & Vision":"What Drives Us"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:t!=null&&t.values?t.values.join("  "):"Our commitment to excellence in digital skills development and community building"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8 w-full",children:o.map((l,c)=>s.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},className:"card w-full",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:l.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-1 sm:mb-2",children:l.title}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:l.description})]})]})},l.title))})]})}),s.jsx("section",{className:"py-10 sm:py-16 bg-ajira-lightGray w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"section-title text-2xl sm:text-3xl md:text-4xl",children:"Our Vision"}),s.jsx("p",{className:"section-subtitle text-base sm:text-lg",children:"To be the leading digital skills training hub in Kenya, creating a pathway to sustainable online work opportunities."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-8 text-center w-full",children:[s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-blue mb-1 sm:mb-2",children:"1000+"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Students Trained"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-orange mb-1 sm:mb-2",children:"25+"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Training Programs"})]}),s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-gold mb-1 sm:mb-2",children:"95%"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Success Rate"})]})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-white w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"bg-gradient-ajira rounded-2xl p-4 sm:p-8 md:p-12 w-full",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center w-full",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4 sm:mb-6 break-words",children:"Ready to Start Your Digital Journey?"}),s.jsx("p",{className:"text-base sm:text-lg text-white/90 mb-6 sm:mb-8",children:"Join our community of digital professionals and unlock endless opportunities in the digital economy."}),s.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-3 sm:gap-4 w-full",children:[s.jsxs(De,{to:"/auth",className:"bg-white text-ajira-blue hover:bg-ajira-lightGray px-6 sm:px-8 py-3 rounded-md font-semibold transition-colors inline-flex items-center justify-center w-full sm:w-auto",children:["Get Started",s.jsx(Un,{className:"ml-2",size:20})]}),s.jsx(De,{to:"/contact",className:"bg-ajira-orange hover:bg-opacity-90 text-white px-6 sm:px-8 py-3 rounded-md font-semibold transition-colors w-full sm:w-auto text-center",children:"Contact Us"})]})]})})})})]})},Ree="http://localhost:5000/api",Oee=()=>{const[t,e]=P.useState({name:"",email:"",phone:"",subject:"",message:"",category:"General Inquiry",priority:"Medium"}),[r,n]=P.useState(!1),[a,i]=P.useState(!1),[o,l]=P.useState(""),[c,u]=P.useState(""),d=g=>{const{name:v,value:b}=g.target;e(y=>({...y,[v]:b}))},h=async g=>{var v,b;g.preventDefault(),n(!0),l(""),i(!1);try{const y=await be.post(`${Ree}/contact/submit`,t);i(!0),u(y.data.whatsappLink),e({name:"",email:"",phone:"",subject:"",message:"",category:"General Inquiry",priority:"Medium"}),setTimeout(()=>{i(!1),u("")},1e4)}catch(y){console.error("Contact form error:",y),l(((b=(v=y.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to send message. Please try again.")}finally{n(!1)}},m=()=>{if(c)window.open(c,"_blank");else{const v=`https://wa.me/254792343958?text=${encodeURIComponent("Hi, I would like to get in touch with Ajira Digital KiNaP Club.")}`;window.open(v,"_blank")}},f=[{icon:s.jsx(Jn,{className:"w-6 h-6 text-ajira-blue"}),title:"Visit Us",details:["Kiambu National Polytechnic","P.O. Box 414-00900","Kiambu, Kenya"]},{icon:s.jsx(jr,{className:"w-6 h-6 text-ajira-orange"}),title:"Email Us",details:["kinapajira@gmail.com","info@kinapajira.com"]},{icon:s.jsx(to,{className:"w-6 h-6 text-ajira-gold"}),title:"Call Us",details:["+254 792 343 958","WhatsApp Available"]},{icon:s.jsx(Ft,{className:"w-6 h-6 text-ajira-lightBlue"}),title:"Working Hours",details:["Monday - Friday: 8:00 AM - 5:00 PM","Saturday: 8:00 AM - 1:00 PM"]}];return s.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-ajira py-16 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center w-full",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6 break-words",children:"Get in Touch"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90",children:"Have questions about our programs? We're here to help you succeed in your digital journey."})]})})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-white w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-8 w-full",children:f.map((g,v)=>s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},className:"card text-center w-full",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:g.icon})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-2 sm:mb-4",children:g.title}),g.details.map((b,y)=>s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base mb-1",children:b},y))]},g.title))})})}),s.jsx("section",{className:"py-8 sm:py-12 bg-ajira-primary w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Need Immediate Help?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsxs("button",{onClick:m,className:"bg-green-500 hover:bg-green-600 text-white px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Chat on WhatsApp"]}),s.jsxs("a",{href:"mailto:kinapajira@gmail.com",className:"bg-white hover:bg-gray-100 text-ajira-primary px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(jr,{className:"w-5 h-5 mr-2"}),"Send Email"]}),s.jsxs("a",{href:"tel:+254792343958",className:"bg-ajira-orange hover:bg-ajira-orange/90 text-white px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(to,{className:"w-5 h-5 mr-2"}),"Call Now"]})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-ajira-lightGray w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto w-full",children:s.jsxs("div",{className:"card w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-ajira-blue mb-2",children:"Send Us a Message"}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:"Fill out the form below and we'll get back to you within 24 hours. Your message will be sent directly to our team."})]}),o&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 text-center",children:o}),a&&s.jsxs("div",{className:"bg-green-50 text-green-600 p-4 rounded-lg mb-6",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsx("strong",{children:" Message sent successfully!"})}),s.jsx("p",{className:"text-sm mb-4",children:"Thank you for contacting us! Your message has been sent to kinapajira@gmail.com and we'll get back to you soon."}),c&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:m,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex items-center justify-center mx-auto",children:[s.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Continue on WhatsApp"]})})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Enter your email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"e.g., +254 700 123 456"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Category"}),s.jsxs("select",{id:"category",name:"category",value:t.category,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",children:[s.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),s.jsx("option",{value:"Technical Support",children:"Technical Support"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Complaint",children:"Complaint"}),s.jsx("option",{value:"Suggestion",children:"Suggestion"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Subject *"}),s.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:t.subject,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Brief description of your inquiry"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",required:!0,value:t.message,onChange:d,rows:6,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent resize-none",placeholder:"Please provide details about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:r,className:`btn-primary w-full flex items-center justify-center ${r?"opacity-75 cursor-not-allowed":""}`,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-2",children:"Sending Message..."})]}):s.jsxs(s.Fragment,{children:["Send Message",s.jsx(Bv,{className:"ml-2",size:20})]})})]})]})})})}),s.jsx("section",{className:"w-full bg-ajira-lightGray",children:s.jsx("div",{className:"w-full h-64 sm:h-[400px]",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.0167324021055!2d36.8307!3d-1.1722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMcKwMTAnMTkuMiJTIDM2wrA0OSc1MC41IkU!5e0!3m2!1sen!2ske!4v1620000000000!5m2!1sen!2ske",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Kiambu National Polytechnic Location",className:"w-full h-64 sm:h-[400px]"})})})]})},Dee=()=>s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"mb-2",children:"Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your information when you use our website."}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Information We Collect"}),s.jsxs("ul",{className:"list-disc list-inside mb-4",children:[s.jsx("li",{children:"Personal identification information (Name, email address, etc.)"}),s.jsx("li",{children:"Usage data and cookies"})]}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"How We Use Information"}),s.jsxs("ul",{className:"list-disc list-inside mb-4",children:[s.jsx("li",{children:"To provide and maintain our service"}),s.jsx("li",{children:"To improve our website"}),s.jsx("li",{children:"To communicate with you"})]}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Contact Us"}),s.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us."})]}),Mee=()=>s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-ajira p-8 md:p-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-blue/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(mn,{className:"w-8 h-8 text-ajira-blue"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-ajira-blue mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-ajira-gray",children:"Last updated: March 2024"})]}),s.jsxs("div",{className:"space-y-8 text-ajira-gray",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using the Ajira Digital - Kiambu National Polytechnic Hub website and services, you agree to be bound by these Terms of Service and all applicable laws and regulations."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"2. Description of Services"}),s.jsx("p",{className:"mb-4",children:"Ajira Digital - Kiambu National Polytechnic Hub provides digital skills training, online work opportunities, and related services to empower youth in Kenya's digital economy."}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Digital skills training programs"}),s.jsx("li",{children:"Online work placement services"}),s.jsx("li",{children:"Mentorship and guidance"}),s.jsx("li",{children:"Community networking"}),s.jsx("li",{children:"Resource sharing"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"3. User Accounts"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:"To access certain features of our services, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Promptly update any changes to your information"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"4. User Conduct"}),s.jsx("p",{className:"mb-4",children:"You agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Violate any applicable laws or regulations"}),s.jsx("li",{children:"Impersonate any person or entity"}),s.jsx("li",{children:"Interfere with or disrupt the services"}),s.jsx("li",{children:"Upload or transmit malicious code"}),s.jsx("li",{children:"Collect user information without consent"}),s.jsx("li",{children:"Use the services for unauthorized commercial purposes"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"5. Intellectual Property"}),s.jsx("p",{className:"mb-4",children:"All content, features, and functionality of our services are owned by Ajira Digital, its licensors, or other providers and are protected by copyright, trademark, and other intellectual property laws."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"6. Limitation of Liability"}),s.jsx("p",{className:"mb-4",children:"Ajira Digital - Kiambu National Polytechnic Hub shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use or inability to use the services."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"7. Changes to Terms"}),s.jsx("p",{className:"mb-4",children:"We reserve the right to modify these terms at any time. We will notify users of any material changes via email or through our website."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"8. Termination"}),s.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account and access to our services immediately, without prior notice or liability, for any reason, including breach of these Terms."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"9. Contact Information"}),s.jsx("p",{children:"For questions about these Terms of Service, please contact us at:"}),s.jsxs("p",{className:"mt-2",children:["Email: legal@kiambuajira.ac.ke",s.jsx("br",{}),"Phone: +254 700 000 000",s.jsx("br",{}),"Address: Kiambu National Polytechnic, P.O. Box 414-00900, Kiambu, Kenya"]})]})]})]})})})}),Lee=()=>{const t=En();P.useRef(null);const[e,r]=P.useState(1),[n,a]=P.useState(!1),[i,o]=P.useState(""),[l,c]=P.useState(null),[u,d]=P.useState({fullName:"",email:"",phone:"",location:"",professionalPhoto:null,title:"",skills:[],experience:"",education:"",certifications:[],portfolio:[],portfolioImages:[],projects:[],achievements:[],services:[],pricing:{hourlyRate:"",projectRate:"",currency:"USD"},availability:"full-time",responseTime:"within 24 hours",aiRating:null,aiRecommendations:[],aiStrengths:[],aiImprovements:[]}),[h,m]=P.useState(0),[f,g]=P.useState([{role:"assistant",content:"Hello! I'm Kinap Ajira Assistant, your Seller Profile Builder. I'll help you create a professional seller profile that stands out in the marketplace. Let's start with your basic information. What's your full name?"}]),v=[{id:"fullName",question:"What's your full name?",type:"text",category:"personal"},{id:"title",question:"What professional title best describes you? (e.g., Senior Web Developer, UI/UX Designer, Digital Marketing Expert)",type:"text",category:"professional"},{id:"skills",question:"What are your top 5-7 skills? (e.g., React, Photoshop, SEO, Content Writing)",type:"tags",category:"professional"},{id:"experience",question:"Tell me about your professional experience. How many years have you been working in your field?",type:"textarea",category:"professional"},{id:"services",question:"What services do you want to offer? (e.g., Website Development, Logo Design, Social Media Management)",type:"tags",category:"business"},{id:"pricing",question:"What's your hourly rate? (in USD)",type:"number",category:"business"},{id:"portfolio",question:"Can you share links to 3-5 of your best projects or portfolio pieces?",type:"links",category:"portfolio"},{id:"achievements",question:"What are your biggest professional achievements? (e.g., awards, certifications, successful projects)",type:"textarea",category:"portfolio"}],b=_=>{const A=v[h];if(A&&A.type==="tags"){const C=[...u[A.id]||[],_];d(O=>({...O,[A.id]:C}))}},y=()=>{const _=v[h];_&&u[_.id]&&(h<v.length-1?m(A=>A+1):S())},p=async _=>{const A=v[h];d(C=>({...C,[A.id]:_})),g(C=>[...C,{role:"user",content:_}]),a(!0),setTimeout(()=>{let C="",O=[];if(A.id==="fullName")C="Great! Now let's get your professional title. What professional title best describes you?";else if(A.id==="title")C="Excellent! Now let's identify your key skills. What are your top 5-7 skills?";else if(A.id==="skills"){const V=Array.isArray(_)?_:[_],L=w(V);C=`Perfect! Based on your skills (${V.join(", ")}), here are some unique opportunities you could offer:`,O=L}else if(A.id==="experience")C="Impressive! What services do you want to offer on our marketplace?";else if(A.id==="services"){const V=Array.isArray(_)?_:[_],L=j(V);C="Great choices! Here are some unique service packages you could offer:",O=L}else A.id==="pricing"?C="Great! Can you share links to 3-5 of your best projects or portfolio pieces?":A.id==="portfolio"?C="Excellent! What are your biggest professional achievements?":A.id==="achievements"&&(C="Perfect! Let me analyze your profile and create your professional assessment.");g(V=>[...V,{role:"assistant",content:C,suggestions:O}]),O.length>0||(h<v.length-1?m(V=>V+1):S()),a(!1)},800)},w=_=>{const A={react:["Custom React Component Libraries","Progressive Web Apps (PWA)","React Native Mobile Apps","E-commerce React Solutions","React Dashboard & Analytics"],javascript:["Interactive Web Applications","API Integration Services","Custom JavaScript Libraries","Browser Extension Development","Real-time Chat Applications"],python:["Data Analysis & Visualization","Machine Learning Solutions","Automation Scripts","Web Scraping Services","API Development with FastAPI"],photoshop:["Brand Identity Design","Social Media Graphics","Product Mockups","Photo Retouching","Custom Illustrations"],"ui/ux":["User Experience Research","Interactive Prototypes","Design Systems","Usability Testing","Mobile App Design"],seo:["Technical SEO Audits","Local SEO Optimization","Content Strategy","Link Building Campaigns","E-commerce SEO"],"content writing":["SEO-Optimized Blog Content","Email Marketing Campaigns","Social Media Content","Technical Documentation","Brand Storytelling"]},C=[];return _.forEach(O=>{const V=O.toLowerCase();Object.keys(A).forEach(L=>{(V.includes(L)||L.includes(V))&&C.push(...A[L])})}),C.slice(0,6)},j=_=>{const A={"web development":["Complete Website Package (Design + Development)","E-commerce Solution with Payment Integration","Custom Web Application","Website Maintenance & Updates","Performance Optimization"],design:["Brand Identity Package (Logo + Guidelines)","Social Media Design Kit","Website Design Mockups","Print Design Materials","UI/UX Design System"],marketing:["Digital Marketing Strategy","Social Media Management","Content Marketing Campaign","Email Marketing Automation","PPC Campaign Management"],content:["Content Calendar & Strategy","Blog Writing & SEO","Video Content Creation","Social Media Content","Technical Documentation"]},C=[];return _.forEach(O=>{const V=O.toLowerCase();Object.keys(A).forEach(L=>{(V.includes(L)||L.includes(V))&&C.push(...A[L])})}),C.slice(0,5)},S=async()=>{a(!0),setTimeout(()=>{var K,J;const _=u.portfolio||[],A=u.skills||[],C=u.experience||"",O=u.pricing||"",V=u.portfolioImages||[],L=_.length+V.length,q=L>=5?3:L>=3?2:L>=1?1:0,M=A.length>=5?2:A.length>=3?1:0,z=C.toLowerCase().includes("year")&&parseInt(((K=C.match(/\d+/))==null?void 0:K[0])||0)>=2?2:1,D=O&&parseInt(O)>=15?1:0,F=q+M+z+D,W=Math.min(10,Math.max(5,Math.floor(F*1.5)+5)),H=[];L>=5?H.push("Excellent portfolio with multiple examples and images"):L>=3&&H.push("Good portfolio with multiple examples"),V.length>0&&H.push("Visual portfolio with project images"),A.length>=5&&H.push("Strong skill set with diverse capabilities"),C.toLowerCase().includes("year")&&parseInt(((J=C.match(/\d+/))==null?void 0:J[0])||0)>=3&&H.push("Solid professional experience"),O&&parseInt(O)>=20&&H.push("Competitive pricing strategy"),H.length===0&&H.push("Good foundation for growth");const Q=[];L<3&&Q.push("Add more portfolio examples (aim for 3-5 total items)"),V.length===0&&Q.push("Add project images to showcase your work visually"),A.length<5&&Q.push("Expand your skill set to increase marketability"),C.toLowerCase().includes("year")||Q.push("Highlight your years of experience"),(!O||parseInt(O)<15)&&Q.push("Consider competitive pricing for your market"),Q.length===0&&Q.push("Continue building client testimonials");const G={rating:W,strengths:H,improvements:Q,recommendations:["Create detailed service descriptions for each offering","Add client testimonials and reviews","Consider creating case studies for your best projects","Stay updated with industry trends and tools"],marketplaceReady:W>=7,suggestedTitle:u.title||"Professional Seller",suggestedPricing:O?`$${O}/hour`:"$25/hour",portfolioAnalysis:L>0?`Found ${_.length} link${_.length!==1?"s":""} and ${V.length} image${V.length!==1?"s":""}. ${L>=5?"Excellent portfolio diversity!":L>=3?"Good portfolio examples!":"Consider adding more examples."}`:"No portfolio items found. Adding portfolio examples and images will significantly improve your profile."};c(G),r(3),a(!1)},1500)},R=async()=>{a(!0),o("");try{const _={status:"pending",applicationDate:new Date().toISOString(),fullName:u.fullName||"",email:u.email||"",phone:u.phone||"",location:u.location||"",title:u.title||"",skills:Array.isArray(u.skills)?u.skills:[],experience:u.experience||"",education:u.education||"",certifications:Array.isArray(u.certifications)?u.certifications:[],services:Array.isArray(u.services)?u.services:[],hourlyRate:u.pricing||"",availability:u.availability||"full-time",responseTime:u.responseTime||"within 24 hours",portfolioLinks:Array.isArray(u.portfolio)?u.portfolio:[],portfolioImages:Array.isArray(u.portfolioImages)?u.portfolioImages:[],achievements:u.achievements||"",motivation:"I want to offer my professional services on the Ajira Digital marketplace",experienceDescription:u.experience||"",serviceDescription:Array.isArray(u.services)?u.services.join(", "):"",valueProposition:`Professional ${u.title||"Seller"} with ${u.experience||"experience"}`,sampleWork:Array.isArray(u.portfolio)?u.portfolio.join(", "):"",aiRating:(l==null?void 0:l.rating)||0,aiStrengths:(l==null?void 0:l.strengths)||[],aiImprovements:(l==null?void 0:l.improvements)||[],aiRecommendations:(l==null?void 0:l.recommendations)||[],marketplaceReady:(l==null?void 0:l.marketplaceReady)||!1};console.log("Submitting application data:",_);const A="http://localhost:5000/api",C=localStorage.getItem("token");if(!C)throw new Error("Authentication required. Please log in again.");const O=await fetch(`${A}/api/seller-applications`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(_)});if(console.log("Response status:",O.status),!O.ok){const L=await O.json().catch(()=>({}));throw console.error("Server error:",L),new Error(L.message||`Server error: ${O.status}`)}const V=await O.json();console.log("Application submitted successfully:",V),r(4)}catch(_){console.error("Application submission error:",_),_.message.includes("Failed to fetch")||_.message.includes("NetworkError")?(console.log("Network error detected, showing demo success"),r(4)):o(`Failed to submit application: ${_.message}. Please try again.`)}finally{a(!1)}},k=()=>{var A,C,O,V,L;const _=v[h];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 text-gray-900 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold mb-2 text-ajira-primary",children:["Question ",h+1," of ",v.length]}),s.jsx("p",{className:"text-lg text-black",children:_.question})]}),_.type==="text"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Type your answer...",onKeyPress:q=>{q.key==="Enter"&&q.target.value.trim()&&(p(q.target.value.trim()),q.target.value="")}}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="textarea"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",rows:4,placeholder:"Type your answer..."}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="number"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"number",id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Enter amount...",onKeyPress:q=>{q.key==="Enter"&&q.target.value.trim()&&(p(q.target.value.trim()),q.target.value="")}}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="tags"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",id:"tagInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Type and press Enter to add...",onKeyPress:q=>{if(q.key==="Enter"&&q.target.value.trim()){const M=[...u[_.id]||[],q.target.value.trim()];d(z=>({...z,[_.id]:M})),q.target.value=""}}}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(A=u[_.id])==null?void 0:A.map((q,M)=>s.jsx("span",{className:"bg-ajira-primary text-white px-3 py-1 rounded-full text-sm",children:q},M))}),s.jsx("button",{onClick:()=>p(u[_.id]||[]),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="links"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Portfolio Links"}),s.jsx("input",{type:"url",id:"linkInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Enter portfolio link (e.g., https://behance.net/your-profile)",onKeyPress:q=>{if(q.key==="Enter"&&q.target.value.trim()){const M=[...u[_.id]||[],q.target.value.trim()];d(z=>({...z,[_.id]:M})),q.target.value=""}}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Portfolio Images"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-ajira-primary transition-colors",children:[s.jsx("input",{type:"file",id:"portfolioImages",multiple:!0,accept:"image/*",className:"hidden",onChange:q=>{const M=Array.from(q.target.files),z=[...u.portfolioImages||[],...M];d(D=>({...D,portfolioImages:z}))}}),s.jsxs("label",{htmlFor:"portfolioImages",className:"cursor-pointer",children:[s.jsx(Bn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload project images or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB each"})]})]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:" Tip: You can add links to your Behance, Dribbble, GitHub, personal website, or upload project images directly"}),((C=u[_.id])==null?void 0:C.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added Links:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(O=u[_.id])==null?void 0:O.map((q,M)=>s.jsxs("div",{className:"flex items-center bg-ajira-primary text-white px-3 py-1 rounded-full text-sm",children:[s.jsx("span",{className:"truncate max-w-32",children:q}),s.jsx("button",{onClick:()=>{const z=u[_.id].filter((D,F)=>F!==M);d(D=>({...D,[_.id]:z}))},className:"ml-2 text-white hover:text-red-200",children:""})]},M))})]}),((V=u.portfolioImages)==null?void 0:V.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added Images:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:(L=u.portfolioImages)==null?void 0:L.map((q,M)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(q),alt:`Portfolio ${M+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),s.jsx("button",{onClick:()=>{const z=u.portfolioImages.filter((D,F)=>F!==M);d(D=>({...D,portfolioImages:z}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",children:""})]},M))})]}),s.jsx("button",{onClick:()=>p(u[_.id]||[]),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]})]})},N=()=>{var _;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(zu,{className:"w-12 h-12 text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"Building Your Profile"}),s.jsx("p",{className:"text-gray-600",children:"Let's create a professional seller profile together"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-3",children:"AI Assistant Conversation"}),s.jsxs("div",{className:"space-y-3",children:[f.map((A,C)=>s.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg ${A.role==="user"?"bg-ajira-primary text-white":"bg-white border border-gray-200 text-gray-800"}`,children:[s.jsx("p",{className:"text-sm",children:A.content}),A.suggestions&&A.suggestions.length>0&&s.jsxs("div",{className:"mt-3 space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" AI Suggestions - Click to add:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:A.suggestions.map((O,V)=>s.jsx("button",{onClick:()=>b(O),className:"text-xs bg-ajira-primary text-white px-3 py-2 rounded-full hover:bg-ajira-primary/90 transition-colors cursor-pointer font-medium",children:O},V))}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-blue-200",children:[s.jsx("button",{onClick:y,className:"text-xs bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 transition-colors",children:"Continue with suggestions "}),s.jsx("button",{onClick:y,className:"text-xs text-gray-600 hover:text-ajira-primary transition-colors",children:"Skip suggestions "})]})]})]})},C)),n&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-200 text-gray-800 px-3 py-2 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-ajira-primary"}),s.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})})]})]}),k(),f.length>0&&((_=f[f.length-1])==null?void 0:_.suggestions)&&s.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" AI Suggestions Available!"}),s.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Check the conversation above to see AI suggestions for your current question."}),s.jsx("button",{onClick:()=>{const A=document.querySelector(".bg-gray-50");A&&A.scrollIntoView({behavior:"smooth"})},className:"text-sm bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition-colors",children:"View Suggestions"})]})]})},E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"w-12 h-12 text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"AI Analysis Complete"}),s.jsx("p",{className:"text-gray-600",children:"Here's your professional assessment"})]}),l&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(lt,{className:"w-6 h-6 text-yellow-500 mr-2"}),s.jsx("h3",{className:"font-semibold",children:"AI Rating"})]}),s.jsxs("div",{className:"text-3xl font-bold text-ajira-primary",children:[l.rating,"/10"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Professional Profile Score"}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:l.portfolioAnalysis})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Strengths"}),s.jsx("ul",{className:"space-y-2",children:l.strengths.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),_]},A))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Areas for Improvement"}),s.jsx("ul",{className:"space-y-2",children:l.improvements.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(qt,{className:"w-4 h-4 text-orange-500 mr-2"}),_]},A))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Recommendations"}),s.jsx("ul",{className:"space-y-2",children:l.recommendations.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(ss,{className:"w-4 h-4 text-blue-500 mr-2"}),_]},A))})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:R,className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Submit Application"})})]}),T=()=>s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(Ke,{className:"w-16 h-16 text-green-500 mx-auto"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary",children:"Application Submitted!"}),s.jsx("p",{className:"text-gray-600",children:"Your seller application has been submitted successfully. We'll review it and get back to you within 24 hours."}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"What's Next?"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:" AI will analyze your application"}),s.jsx("li",{children:" Our team will review your profile"}),s.jsx("li",{children:" You'll receive approval within 24 hours"}),s.jsx("li",{children:" Start selling on our marketplace!"})]})]}),s.jsx("button",{onClick:()=>t("/marketplace"),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Go to Marketplace"})]});return s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-ajira p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:e===1?"Getting Started":e===2?`Question ${h+1} of ${v.length}`:e===3?"AI Analysis":"Complete"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:e===1?"25%":e===2?`${Math.round((h+1)/v.length*50)+25}%`:e===3?"75%":"100%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-ajira-primary h-2 rounded-full transition-all duration-300",style:{width:e===1?"25%":e===2?`${(h+1)/v.length*50+25}%`:e===3?"75%":"100%"}})})]}),i&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex items-center",children:[s.jsx(qt,{className:"mr-2",size:20}),i]}),n&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ajira-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Processing..."})]}),!n&&s.jsxs(s.Fragment,{children:[e===1&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(or,{className:"w-16 h-16 text-ajira-primary mx-auto"}),s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Become a Seller"}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Let Kinap AI help you create a professional seller profile that stands out in the marketplace. We'll guide you through each step to build a compelling profile."}),s.jsx("button",{onClick:()=>r(2),className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Start Building Profile"})]}),e===2&&N(),e===3&&E(),e===4&&T()]})]})})})})},Fee="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",Vee=()=>{const[t,e]=P.useState([]);return P.useEffect(()=>{const r=localStorage.getItem("videoHistory");r&&e(JSON.parse(r))},[]),s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Watch History"}),t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No watch history yet. Start watching videos!"}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(r=>s.jsxs(De,{to:`/videos/${r.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:r.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:r.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:r.channel.avatar||Fee,alt:r.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:r.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:r.views}),s.jsx("span",{children:""}),s.jsx("span",{children:r.uploadDate})]})]})]},r.id))})]})},Uee=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(!1),[a,i]=P.useState(null),[o,l]=P.useState(null),[c,u]=P.useState([]);P.useEffect(()=>{d(),h()},[]);const d=async()=>{try{const g=await un.checkSupport();e(g),console.log("Biometric support:",g)}catch(g){console.error("Error checking biometric support:",g),i("Failed to check biometric support")}},h=async()=>{try{const g=await un.getCredentials();u(g),console.log("User credentials:",g)}catch(g){console.error("Error loading credentials:",g)}},m=async()=>{try{n(!0),i(null),l(null),console.log("Starting fingerprint registration...");const g=await un.registerFingerprint();console.log("Fingerprint registration result:",g),l("Fingerprint registration successful!"),await h()}catch(g){console.error("Fingerprint registration error:",g),i(g.message||"Fingerprint registration failed")}finally{n(!1)}},f=async()=>{if(c.length===0){i("No credentials available for verification");return}try{n(!0),i(null),l(null);const g=c[0];console.log("Testing verification with credential:",g);const v=await un.verifyFingerprint(g.id);console.log("Verification result:",v),v?l("Fingerprint verification successful!"):i("Fingerprint verification failed")}catch(g){console.error("Fingerprint verification error:",g),i(g.message||"Fingerprint verification failed")}finally{n(!1)}};return s.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Biometric Authentication Test"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Device Support"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Fingerprint:"}),t!=null&&t.fingerprint?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Xr,{className:"w-4 h-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Face Recognition:"}),t!=null&&t.face?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Xr,{className:"w-4 h-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Voice Recognition:"}),t!=null&&t.voice?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Xr,{className:"w-4 h-4 text-red-500"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Registered Credentials"}),c.length>0?s.jsx("div",{className:"space-y-2",children:c.map((g,v)=>s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(yl,{className:"w-4 h-4 text-blue-500 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[g.type," - ",g.id.substring(0,8),"..."]})]})},v))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No credentials registered"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:m,disabled:r||!(t!=null&&t.fingerprint),className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(yl,{className:"w-4 h-4 mr-2"}),"Test Fingerprint Registration"]}),s.jsxs("button",{onClick:f,disabled:r||c.length===0,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Test Fingerprint Verification"]})]}),a&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:a})]})}),o&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:o})]})}),s.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Debug Information"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:["WebAuthn Supported: ",typeof window<"u"&&window.PublicKeyCredential?"Yes":"No"]}),s.jsxs("div",{children:["Platform Authenticator: ",typeof window<"u"&&window.PublicKeyCredential?"Checking...":"N/A"]}),s.jsxs("div",{children:["HTTPS: ",window.location.protocol==="https:"?"Yes":"No"]}),s.jsxs("div",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]})]})},Bee=()=>{const[t]=Rv(),e=En(),r=t.get("token"),[n,a]=P.useState(""),[i,o]=P.useState(""),[l,c]=P.useState(!1),[u,d]=P.useState(!1),[h,m]=P.useState(!1),[f,g]=P.useState(!0),[v,b]=P.useState(null),[y,p]=P.useState(null),[w,j]=P.useState(!1);P.useEffect(()=>{S()},[]);const S=async()=>{if(!r){b("Invalid reset link. Please request a new password reset."),g(!1);return}try{await tL(r),j(!0)}catch{b("This password reset link is invalid or has expired. Please request a new one.")}finally{g(!1)}},R=async k=>{if(k.preventDefault(),!r){b("Invalid reset link");return}if(!n.trim()){b("Please enter a new password");return}if(n.length<6){b("Password must be at least 6 characters long");return}if(n!==i){b("Passwords do not match");return}try{m(!0),b(null),await eL(r,n),p("Password has been reset successfully! Redirecting to login..."),setTimeout(()=>{e("/auth")},2e3)}catch(N){b(N.message||"Failed to reset password")}finally{m(!1)}};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-12 h-12 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verifying Reset Link..."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we verify your password reset link."})]})})}):w?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ty,{className:"w-8 h-8 text-ajira-primary"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:k=>a(k.target.value),placeholder:"Enter your new password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?s.jsx(ii,{className:"w-5 h-5 text-gray-400"}):s.jsx(zt,{className:"w-5 h-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"confirmPassword",value:i,onChange:k=>o(k.target.value),placeholder:"Confirm your new password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h}),s.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(ii,{className:"w-5 h-5 text-gray-400"}):s.jsx(zt,{className:"w-5 h-5 text-gray-400"})})]})]}),v&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:v})]})}),y&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:y})]})}),s.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Resetting Password..."]}):"Reset Password"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",s.jsx("button",{onClick:()=>e("/auth"),className:"text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Sign in here"})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-600 mb-6",children:v}),s.jsx("button",{onClick:()=>e("/auth"),className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Back to Login"})]})})})},$ee=[{id:1,title:"Quick React Tip: UseCallback Hook",thumbnail:"https://via.placeholder.com/180x320/3B82F6/FFFFFF?text=React+Tip",duration:"0:45",channel:{name:"Web Dev Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev+Pro&background=3B82F6&color=fff"}},{id:2,title:"AI Coding Assistant Demo",thumbnail:"https://via.placeholder.com/180x320/10B981/FFFFFF?text=AI+Coding",duration:"0:52",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Learning+Hub&background=10B981&color=fff"}},{id:3,title:"CSS Grid in 30 Seconds",thumbnail:"https://via.placeholder.com/180x320/F59E0B/FFFFFF?text=CSS+Grid",duration:"0:30",channel:{name:"CSS Master",avatar:"https://ui-avatars.com/api/?name=CSS+Master&background=F59E0B&color=fff"}},{id:4,title:"JavaScript Array Methods",thumbnail:"https://via.placeholder.com/180x320/EF4444/FFFFFF?text=JS+Arrays",duration:"0:58",channel:{name:"JS Mastery",avatar:"https://ui-avatars.com/api/?name=JS+Mastery&background=EF4444&color=fff"}},{id:5,title:"Git Commands You Need to Know",thumbnail:"https://via.placeholder.com/180x320/8B5CF6/FFFFFF?text=Git+Commands",duration:"0:42",channel:{name:"Dev Tips",avatar:"https://ui-avatars.com/api/?name=Dev+Tips&background=8B5CF6&color=fff"}},{id:6,title:"Python List Comprehension",thumbnail:"https://via.placeholder.com/180x320/06B6D4/FFFFFF?text=Python+Lists",duration:"0:35",channel:{name:"Python Pro",avatar:"https://ui-avatars.com/api/?name=Python+Pro&background=06B6D4&color=fff"}}],qee="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff";function zee(t){if(!t.duration)return!1;const e=t.duration.split(":").map(Number);return e.length===1?e[0]<60:e.length===2?e[0]===0&&e[1]<60:!1}const oS=$ee.filter(zee),Hee=()=>s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Shorts"}),oS.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No shorts found."}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:oS.map(t=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-[9/16] w-full bg-gray-200",children:[s.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:t.duration})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:t.channel.avatar||qee,alt:t.channel.name,className:"w-5 h-5 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:t.channel.name})]})]})]},t.id))})]}),Wee=async()=>{try{return(await bi.get("/user-videos/playlists")).data}catch(t){return console.error("Error fetching playlists:",t),[]}},Kee=async t=>{try{return(await bi.post("/user-videos/playlists",t)).data}catch(e){throw console.error("Error creating playlist:",e),e}},Gee=async()=>{try{return(await bi.get("/user-videos/subscriptions")).data}catch(t){return console.error("Error fetching subscriptions:",t),[]}},Qee=async()=>{try{return(await bi.get("/user-videos/watch-later")).data}catch(t){return console.error("Error fetching watch later videos:",t),[]}},Yee=async()=>{try{return(await bi.get("/user-videos/liked")).data}catch(t){return console.error("Error fetching liked videos:",t),[]}},Jee=async t=>{try{return(await bi.delete(`/user-videos/watch-later/${t.id}`)).data}catch(e){throw console.error("Error removing from watch later:",e),e}},Xee=async t=>{try{return(await bi.delete(`/user-videos/liked/${t.id}`)).data}catch(e){throw console.error("Error removing liked video:",e),e}},Zee="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",ete=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[a,i]=P.useState("");async function o(){n(!0);const c=await Wee();e(c),n(!1)}P.useEffect(()=>{o()},[]);async function l(){a.trim()&&(await Kee({name:a,videos:[]}),i(""),o())}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Playlists"}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:"New playlist name",className:"px-4 py-2 border border-gray-300 rounded-l-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"}),s.jsx("button",{onClick:l,className:"px-6 py-2 bg-blue-600 text-white rounded-r-full hover:bg-blue-700 transition-colors",children:"Create"})]}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No playlists yet. Create one above!"}):s.jsx("div",{className:"space-y-8",children:t.map(c=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:c.name}),c.videos.length===0?s.jsx("div",{className:"text-gray-400 mb-6",children:"No videos in this playlist."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6",children:c.videos.map(u=>s.jsxs(De,{to:`/videos/${u.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:u.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:u.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:u.channel.avatar||Zee,alt:u.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:u.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:u.views}),s.jsx("span",{children:""}),s.jsx("span",{children:u.uploadDate})]})]})]},u.id))})]},c.name))})]})},lS=[{id:"1",title:"Introduction to Web Development",thumbnail:"https://via.placeholder.com/320x180/4F46E5/FFFFFF?text=Web+Dev",duration:"15:30",views:"1.2K",uploadDate:"2 days ago",channel:{name:"Web Development Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev&background=4F46E5&color=fff"}},{id:"2",title:"AI and Machine Learning Basics",thumbnail:"https://via.placeholder.com/320x180/10B981/FFFFFF?text=AI+ML",duration:"22:15",views:"3.4K",uploadDate:"1 week ago",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Hub&background=10B981&color=fff"}},{id:"3",title:"Project Management Fundamentals",thumbnail:"https://via.placeholder.com/320x180/F59E0B/FFFFFF?text=PM+Fundamentals",duration:"18:45",views:"856",uploadDate:"3 days ago",channel:{name:"Project Management Pro",avatar:"https://ui-avatars.com/api/?name=PM+Pro&background=F59E0B&color=fff"}}],cS="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",tte=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function a(){n(!0);try{const o=await Gee();e(o)}catch(o){console.error("Error fetching subscriptions:",o),e(["Web Development Pro","AI Learning Hub"])}n(!1)}P.useEffect(()=>{a()},[]);const i=lS.filter(o=>t.includes(o.channel.name));return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Subscriptions"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"You have not subscribed to any channels yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-4",children:t.map(o=>{var l;return s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-full",children:[s.jsx("img",{src:((l=lS.find(c=>c.channel.name===o))==null?void 0:l.channel.avatar)||cS,alt:o,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:o})]},o)})}),i.length===0?s.jsx("div",{className:"text-gray-400",children:"No videos from your subscriptions yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(o=>s.jsxs(De,{to:`/videos/${o.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||cS,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:""}),s.jsx("span",{children:o.uploadDate})]})]})]},o.id))})]})]})},rte="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",ste=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function a(){n(!0);const o=await Qee();e(o),n(!1)}P.useEffect(()=>{a()},[]);async function i(o){await Jee(o),a()}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Watch Later"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No videos in Watch Later."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(o=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group relative",children:[s.jsxs(De,{to:`/videos/${o.id}`,children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||rte,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:""}),s.jsx("span",{children:o.uploadDate})]})]})]}),s.jsx("button",{onClick:()=>i(o),className:"absolute top-2 right-2 bg-white text-gray-700 rounded-full p-1 shadow hover:bg-red-100 hover:text-red-600 transition-colors",children:"Remove"})]},o.id))})]})},nte="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",ate=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function a(){n(!0);const o=await Yee();e(o),n(!1)}P.useEffect(()=>{a()},[]);async function i(o){await Xee(o),a()}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Liked Videos"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No liked videos yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(o=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group relative",children:[s.jsxs(De,{to:`/videos/${o.id}`,children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||nte,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:""}),s.jsx("span",{children:o.uploadDate})]})]})]}),s.jsx("button",{onClick:()=>i(o),className:"absolute top-2 right-2 bg-white text-gray-700 rounded-full p-1 shadow hover:bg-red-100 hover:text-red-600 transition-colors",children:"Remove"})]},o.id))})]})},ite=[{id:"1",title:"How to Build a React App from Scratch",thumbnail:"https://via.placeholder.com/320x180/3B82F6/FFFFFF?text=React+Tutorial",duration:"25:15",views:"2.1K",uploadDate:"1 week ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}},{id:"2",title:"Advanced JavaScript Concepts",thumbnail:"https://via.placeholder.com/320x180/F59E0B/FFFFFF?text=JavaScript+Advanced",duration:"32:45",views:"1.8K",uploadDate:"2 weeks ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}},{id:"3",title:"CSS Grid Layout Masterclass",thumbnail:"https://via.placeholder.com/320x180/10B981/FFFFFF?text=CSS+Grid",duration:"18:30",views:"956",uploadDate:"3 weeks ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}}],ote="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",lte="Kinap Hub",uS=ite.filter(t=>t.channel.name===lte),cte=()=>s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Your Videos"}),uS.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"You have not uploaded any videos yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:uS.map(t=>s.jsxs(De,{to:`/videos/${t.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:t.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:t.channel.avatar||ote,alt:t.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:t.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:t.views}),s.jsx("span",{children:""}),s.jsx("span",{children:t.uploadDate})]})]})]},t.id))})]}),ute=[{to:"/admin",label:"Dashboard",icon:s.jsx(i4,{size:18})},{to:"/admin/users",label:"Users",icon:s.jsx(Ve,{size:18})},{to:"/admin/stories",label:"Stories",icon:s.jsx(mn,{size:18})},{to:"/admin/analytics",label:"Analytics",icon:s.jsx(zO,{size:18})},{to:"/admin/settings",label:"Settings",icon:s.jsx(qu,{size:18})}],dte=({children:t})=>{const e=Ys();return s.jsxs("div",{className:"flex min-h-screen bg-ajira-lightGray",children:[s.jsxs("aside",{className:"w-64 bg-white shadow-lg flex flex-col",children:[s.jsx("div",{className:"h-20 flex items-center justify-center border-b",children:s.jsx("img",{src:"/logo.jpeg",alt:"Admin Logo",className:"h-12 w-auto rounded-lg"})}),s.jsx("nav",{className:"flex-1 py-6 px-4 space-y-2",children:ute.map(r=>s.jsxs(De,{to:r.to,className:`flex items-center space-x-3 px-4 py-2 rounded-lg font-medium transition-colors ${e.pathname===r.to?"bg-ajira-primary text-white":"text-ajira-blue hover:bg-ajira-primary/10"}`,children:[r.icon,s.jsx("span",{children:r.label})]},r.to))})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"h-20 bg-white shadow flex items-center px-8 border-b",children:s.jsx("h1",{className:"text-2xl font-bold text-ajira-blue",children:"Admin Panel"})}),s.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:t})]})]})},hte=()=>{const t=[{icon:s.jsx(Ve,{className:"w-8 h-8 text-ajira-blue"}),label:"Total Users",value:"1,234"},{icon:s.jsx(mn,{className:"w-8 h-8 text-ajira-orange"}),label:"Stories Published",value:"156"},{icon:s.jsx(gd,{className:"w-8 h-8 text-ajira-gold"}),label:"Monthly Views",value:"45.2K"}];return s.jsx(dte,{children:s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Club Logo",className:"h-10 sm:h-12 w-auto rounded-lg"}),s.jsxs("div",{className:"text-center sm:text-left w-full",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-ajira-blue mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:"Manage your platform's content and users"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-8 w-full",children:t.map((e,r)=>s.jsx(ht.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:e.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-ajira-gray font-medium text-sm sm:text-base",children:e.label}),s.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-ajira-blue",children:e.value})]})]})},e.label))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-2 w-full",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-ajira-blue",children:"Recent Users"}),s.jsx("button",{className:"text-ajira-blue hover:text-ajira-lightBlue font-medium text-xs sm:text-sm",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between py-3 border-b border-ajira-lightGray gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(Ve,{size:20,className:"text-ajira-blue"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-ajira-blue text-sm sm:text-base",children:"John Doe"}),s.jsx("p",{className:"text-xs sm:text-sm text-ajira-gray",children:"john@example.com"})]})]}),s.jsx("span",{className:"text-xs sm:text-sm text-ajira-gray",children:"2 hours ago"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between py-3 border-b border-ajira-lightGray gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(Ve,{size:20,className:"text-ajira-blue"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-ajira-blue text-sm sm:text-base",children:"Jane Smith"}),s.jsx("p",{className:"text-xs sm:text-sm text-ajira-gray",children:"jane@example.com"})]})]}),s.jsx("span",{className:"text-xs sm:text-sm text-ajira-gray",children:"5 hours ago"})]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(mn,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Add New Story"})]}),s.jsxs(De,{to:"/admin/about-us",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Ey,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage About Us"})]}),s.jsxs(De,{to:"/admin/team",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Ve,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage Team"})]}),s.jsxs(De,{to:"/admin/updates",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(mn,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Club Updates"})]}),s.jsxs(De,{to:"/admin/faq",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Uv,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"FAQ Management"})]}),s.jsxs(De,{to:"/admin/contact",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(jr,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Contact Messages"})]}),s.jsxs(De,{to:"/admin/training",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(eo,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Training Programs"})]}),s.jsxs(De,{to:"/admin/mentorship",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Ki,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Mentorship Programs"})]}),s.jsxs(De,{to:"/admin/mentor-applications",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Uo,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"AI Mentor Recruiting"})]}),s.jsxs(De,{to:"/admin/events",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Yt,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Events Management"})]}),s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Ve,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage Users"})]}),s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(qu,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Settings"})]})]})]})})]})]})})})},dS="http://localhost:5000/api",mte=()=>{const t=gs(),[e,r]=P.useState({title:"",description:"",mission:"",vision:"",values:[],history:"",teamDescription:"",contactInfo:{email:"",phone:"",address:""},socialLinks:{facebook:"",twitter:"",linkedin:"",instagram:""},stats:{membersCount:0,projectsCompleted:0,skillsOffered:0,successStories:0}}),[n,a]=P.useState(""),[i,o]=P.useState(""),{data:l,isLoading:c}=Ct("aboutUs",async()=>(await be.get(`${dS}/about-us`)).data,{onSuccess:f=>{r({title:f.title||"",description:f.description||"",mission:f.mission||"",vision:f.vision||"",values:f.values||[],history:f.history||"",teamDescription:f.teamDescription||"",contactInfo:f.contactInfo||{email:"",phone:"",address:""},socialLinks:f.socialLinks||{facebook:"",twitter:"",linkedin:"",instagram:""},stats:f.stats||{membersCount:0,projectsCompleted:0,skillsOffered:0,successStories:0}})}}),u=tt(async f=>(await be.post(`${dS}/about-us`,{...f,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("aboutUs"),a("About Us content updated successfully!"),o("success"),setTimeout(()=>a(""),3e3)},onError:f=>{var g,v;a(((v=(g=f.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to update About Us content"),o("error"),setTimeout(()=>a(""),3e3)}}),d=f=>{const{name:g,value:v}=f.target;if(g.includes(".")){const[b,y]=g.split(".");r(p=>({...p,[b]:{...p[b],[y]:v}}))}else r(b=>({...b,[g]:v}))},h=(f,g)=>{const v=f.split(",").map(b=>b.trim()).filter(Boolean);r(b=>({...b,[g]:v}))},m=f=>{f.preventDefault(),u.mutate(e)};return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-8",children:"About Us Content Management"}),n&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${i==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[i==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),n]}),s.jsxs("form",{onSubmit:m,className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:e.title,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"About Ajira Digital Club..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:e.description,onChange:d,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Brief description of the organization..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mission Statement"}),s.jsx("textarea",{name:"mission",value:e.mission,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our mission is..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vision Statement"}),s.jsx("textarea",{name:"vision",value:e.vision,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our vision is..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Core Values"}),s.jsx("input",{type:"text",value:e.values.join(", "),onChange:f=>h(f.target.value,"values"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Innovation, Excellence, Collaboration (separate with commas)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"History"}),s.jsx("textarea",{name:"history",value:e.history,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our journey and achievements..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Description"}),s.jsx("textarea",{name:"teamDescription",value:e.teamDescription,onChange:d,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"About our team..."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"contactInfo.email",value:e.contactInfo.email,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"kinapajira@gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"contactInfo.phone",value:e.contactInfo.phone,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"+254 792 343 958"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"contactInfo.address",value:e.contactInfo.address,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Nairobi, Kenya"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members Count"}),s.jsx("input",{type:"number",name:"stats.membersCount",value:e.stats.membersCount,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projects Completed"}),s.jsx("input",{type:"number",name:"stats.projectsCompleted",value:e.stats.projectsCompleted,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Offered"}),s.jsx("input",{type:"number",name:"stats.skillsOffered",value:e.stats.skillsOffered,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Success Stories"}),s.jsx("input",{type:"number",name:"stats.successStories",value:e.stats.successStories,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:u.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:u.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Changes"})]})})})]})]})})},Vo="http://localhost:5000/api",fte=()=>{var N;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState(""),[l,c]=P.useState(""),[u,d]=P.useState({name:"",role:"",title:"",department:"",bio:"",image:"",email:"",linkedinUrl:"",githubUrl:"",portfolioUrl:"",skills:[],experience:"",achievements:[],education:{degree:"",institution:"",graduationYear:""},contact:{phone:"",location:""},socialMedia:{twitter:"",instagram:"",facebook:""},isFounder:!1,isLeadership:!1,displayOrder:0}),{data:h,isLoading:m}=Ct("teamMembers",async()=>(await be.get(`${Vo}/team`)).data),{data:f}=Ct("teamStats",async()=>(await be.get(`${Vo}/team/stats/overview`)).data),g=tt(async E=>n?(await be.put(`${Vo}/team/${n._id}`,{...E,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Vo}/team`,{...E,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats"),o(n?"Team member updated successfully!":"Team member created successfully!"),c("success"),setTimeout(()=>o(""),3e3),y()},onError:E=>{var T,_;o(((_=(T=E.response)==null?void 0:T.data)==null?void 0:_.message)||"Failed to save team member"),c("error"),setTimeout(()=>o(""),3e3)}}),v=tt(async E=>(await be.delete(`${Vo}/team/${E}`)).data,{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats"),o("Team member deleted successfully!"),c("success"),setTimeout(()=>o(""),3e3)},onError:E=>{var T,_;o(((_=(T=E.response)==null?void 0:T.data)==null?void 0:_.message)||"Failed to delete team member"),c("error"),setTimeout(()=>o(""),3e3)}}),b=tt(async({id:E,isActive:T})=>{const _=T?"deactivate":"activate";return(await be.patch(`${Vo}/team/${E}/${_}`)).data},{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats")}}),y=()=>{d({name:"",role:"",title:"",department:"",bio:"",image:"",email:"",linkedinUrl:"",githubUrl:"",portfolioUrl:"",skills:[],experience:"",achievements:[],education:{degree:"",institution:"",graduationYear:""},contact:{phone:"",location:""},socialMedia:{twitter:"",instagram:"",facebook:""},isFounder:!1,isLeadership:!1,displayOrder:0}),a(null),r(!1)},p=E=>{d({...E,skills:E.skills||[],achievements:E.achievements||[],education:E.education||{degree:"",institution:"",graduationYear:""},contact:E.contact||{phone:"",location:""},socialMedia:E.socialMedia||{twitter:"",instagram:"",facebook:""}}),a(E),r(!0)},w=E=>{const{name:T,value:_,type:A,checked:C}=E.target;if(T.includes(".")){const[O,V]=T.split(".");d(L=>({...L,[O]:{...L[O],[V]:_}}))}else d(O=>({...O,[T]:A==="checkbox"?C:_}))},j=(E,T)=>{const _=E.split(",").map(A=>A.trim()).filter(Boolean);d(A=>({...A,[T]:_}))},S=async E=>{var A;const T=(A=E.target.files)==null?void 0:A[0];if(!T)return;if(T.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!T.type.startsWith("image/")){alert("Please select a valid image file");return}const _=new FileReader;_.onload=()=>{d(C=>({...C,image:_.result}))},_.readAsDataURL(T)},R=E=>{E.preventDefault(),g.mutate(u)},k=E=>{window.confirm("Are you sure you want to delete this team member?")&&v.mutate(E)};return m?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Team Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Team Member"})]})]}),i&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${l==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[l==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),i]}),f&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ve,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:f.totalMembers})]})]})}),s.jsx("div",{className:"bg-ajira-accent/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Founders"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-accent",children:f.founders})]})]})}),s.jsx("div",{className:"bg-ajira-secondary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ki,{className:"w-8 h-8 text-ajira-secondary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Leadership"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-secondary",children:f.leadership})]})]})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Departments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:((N=f.departments)==null?void 0:N.length)||0})]})]})})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Team Member":"Add New Team Member"}),s.jsxs("form",{onSubmit:R,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:w,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsx("input",{type:"text",name:"role",value:u.role,onChange:w,required:!0,placeholder:"e.g., Founder, Developer, Designer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",name:"title",value:u.title,onChange:w,placeholder:"Job title/position",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsxs("select",{name:"department",value:u.department,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Department"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Development",children:"Development"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Management",children:"Management"}),s.jsx("option",{value:"Training",children:"Training"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),s.jsx("textarea",{name:"bio",value:u.bio,onChange:w,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"}),u.image&&s.jsx("img",{src:u.image,alt:"Preview",className:"mt-2 w-20 h-20 object-cover rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),s.jsx("input",{type:"text",value:u.skills.join(", "),onChange:E=>j(E.target.value,"skills"),placeholder:"React, Node.js, Design (separate with commas)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),s.jsx("input",{type:"text",name:"experience",value:u.experience,onChange:w,placeholder:"5+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFounder",checked:u.isFounder,onChange:w,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Founder"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isLeadership",checked:u.isLeadership,onChange:w,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Leadership Team"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:y,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:g.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Team Member"]})]})})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h==null?void 0:h.map(E=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:E.image||"/images/default-avatar.png",alt:E.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[E.isFounder&&s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Founder"}),E.isLeadership&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Leadership"})]})]}),s.jsx("p",{className:"text-ajira-primary font-medium",children:E.role}),E.title&&s.jsx("p",{className:"text-sm text-gray-600",children:E.title}),E.department&&s.jsx("p",{className:"text-sm text-gray-500",children:E.department}),s.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:E.bio}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p(E),className:"text-ajira-primary hover:text-ajira-primary/80",children:s.jsx(mo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b.mutate({id:E._id,isActive:E.isActive}),className:"text-gray-600 hover:text-gray-800",children:E.isActive?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(ii,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k(E._id),className:"text-red-600 hover:text-red-800",children:s.jsx(la,{className:"w-4 h-4"})})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:E.isActive?"Active":"Inactive"})]})]})]})},E._id))}),(h==null?void 0:h.length)===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No team members yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start building your team by adding the first member."}),s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Team Member"})]})]})})},wa="http://localhost:5000/api",pte=()=>{var M,z;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(""),[h,m]=P.useState(""),[f,g]=P.useState({title:"",excerpt:"",content:"",author:"",authorEmail:"",category:"General",tags:[],featured:!1,priority:"Medium",status:"Draft",publishDate:new Date().toISOString().split("T")[0],expiryDate:"",images:[],eventDetails:{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:{metaTitle:"",metaDescription:"",keywords:[]}}),{data:v,isLoading:b}=Ct(["adminUpdates",i,l],async()=>{let D=`${wa}/updates/admin?limit=50`;return i!=="all"&&(D+=`&status=${i}`),l!=="all"&&(D+=`&category=${l}`),(await be.get(D)).data}),{data:y}=Ct("updateStats",async()=>(await be.get(`${wa}/updates/stats/overview`)).data),p=tt(async D=>n?(await be.put(`${wa}/updates/${n._id}`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${wa}/updates`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d(n?"Update saved successfully!":"Update created successfully!"),m("success"),setTimeout(()=>d(""),3e3),k()},onError:D=>{var F,W;d(((W=(F=D.response)==null?void 0:F.data)==null?void 0:W.message)||"Failed to save update"),m("error"),setTimeout(()=>d(""),3e3)}}),w=tt(async D=>(await be.delete(`${wa}/updates/${D}`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update deleted successfully!"),m("success"),setTimeout(()=>d(""),3e3)},onError:D=>{var F,W;d(((W=(F=D.response)==null?void 0:F.data)==null?void 0:W.message)||"Failed to delete update"),m("error"),setTimeout(()=>d(""),3e3)}}),j=tt(async D=>(await be.patch(`${wa}/updates/${D}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update published successfully!"),m("success"),setTimeout(()=>d(""),3e3)}}),S=tt(async D=>(await be.patch(`${wa}/updates/${D}/archive`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update archived successfully!"),m("success"),setTimeout(()=>d(""),3e3)}}),R=tt(async D=>(await be.patch(`${wa}/updates/${D}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats")}}),k=()=>{g({title:"",excerpt:"",content:"",author:"",authorEmail:"",category:"General",tags:[],featured:!1,priority:"Medium",status:"Draft",publishDate:new Date().toISOString().split("T")[0],expiryDate:"",images:[],eventDetails:{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:{metaTitle:"",metaDescription:"",keywords:[]}}),a(null),r(!1)},N=D=>{g({...D,publishDate:D.publishDate?new Date(D.publishDate).toISOString().split("T")[0]:"",expiryDate:D.expiryDate?new Date(D.expiryDate).toISOString().split("T")[0]:"",eventDetails:D.eventDetails||{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:D.seoMeta||{metaTitle:"",metaDescription:"",keywords:[]}}),a(D),r(!0)},E=D=>{const{name:F,value:W,type:H,checked:Q}=D.target;if(F.includes(".")){const[X,G]=F.split(".");g(K=>({...K,[X]:{...K[X],[G]:W}}))}else g(X=>({...X,[F]:H==="checkbox"?Q:W}))},T=(D,F)=>{if(F==="tags"||F==="keywords"){const W=D.split(",").map(H=>H.trim()).filter(Boolean);g(F==="keywords"?H=>({...H,seoMeta:{...H.seoMeta,keywords:W}}):H=>({...H,[F]:W}))}},_=async D=>{const W=Array.from(D.target.files).map(H=>new Promise((Q,X)=>{if(H.size>5*1024*1024){alert("Image size must be less than 5MB"),X("File too large");return}if(!H.type.startsWith("image/")){alert("Please select valid image files"),X("Invalid file type");return}const G=new FileReader;G.onload=()=>Q(G.result),G.onerror=X,G.readAsDataURL(H)}));try{const H=await Promise.all(W);g(Q=>({...Q,images:[...Q.images,...H]}))}catch(H){console.error("Image upload error:",H)}},A=D=>{g(F=>({...F,images:F.images.filter((W,H)=>H!==D)}))},C=D=>{D.preventDefault();const F={...f,publishDate:f.publishDate?new Date(f.publishDate):new Date,expiryDate:f.expiryDate?new Date(f.expiryDate):null,eventDetails:{...f.eventDetails,eventDate:f.eventDetails.eventDate?new Date(f.eventDetails.eventDate):null,capacity:f.eventDetails.capacity?parseInt(f.eventDetails.capacity):null}};p.mutate(F)},O=D=>{window.confirm("Are you sure you want to delete this update?")&&w.mutate(D)},V=D=>{switch(D){case"Published":return"text-green-600 bg-green-100";case"Draft":return"text-yellow-600 bg-yellow-100";case"Archived":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},L=D=>{switch(D){case"Urgent":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-blue-600 bg-blue-100";case"Low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},q=D=>{switch(D){case"Announcement":return s.jsx(l4,{className:"w-4 h-4"});case"Event":return s.jsx(Yt,{className:"w-4 h-4"});case"Achievement":return s.jsx(hs,{className:"w-4 h-4"});case"Training":return s.jsx(mn,{className:"w-4 h-4"});default:return s.jsx(mn,{className:"w-4 h-4"})}};return b?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Club Updates Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Update"})]})]}),u&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${h==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[h==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),u]}),y&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(mn,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Updates"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:y.totalUpdates})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.publishedUpdates})]})]})}),s.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:y.draftUpdates})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lt,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Featured"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.featuredUpdates})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:i,onChange:D=>o(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Archived",children:"Archived"})]}),s.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Announcement",children:"Announcement"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Achievement",children:"Achievement"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"General",children:"General"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Update":"Create New Update"}),s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:f.title,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),s.jsx("textarea",{name:"excerpt",value:f.excerpt,onChange:E,required:!0,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),s.jsx("textarea",{name:"content",value:f.content,onChange:E,required:!0,rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author *"}),s.jsx("input",{type:"text",name:"author",value:f.author,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:f.category,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Announcement",children:"Announcement"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Achievement",children:"Achievement"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Partnership",children:"Partnership"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsxs("select",{name:"priority",value:f.priority,onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:f.status,onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:f.tags.join(", "),onChange:D=>T(D.target.value,"tags"),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"}),f.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.images.map((D,F)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:D,alt:`Preview ${F}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>A(F),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:""})]},F))})]})]}),s.jsx("div",{className:"flex items-center space-x-6",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"featured",checked:f.featured,onChange:E,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Update"})]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:k,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:p.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Update"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:(M=v==null?void 0:v.updates)==null?void 0:M.map(D=>{var F;return s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[q(D.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),D.featured&&s.jsx(lt,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:D.excerpt}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(D.status)}`,children:D.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(D.priority)}`,children:D.priority}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(D.publishDate).toLocaleDateString()})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[((F=D.engagement)==null?void 0:F.views)||0," views"]})]}),s.jsxs("span",{children:["By ",D.author]})]}),D.tags&&D.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:D.tags.map((W,H)=>s.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["#",W]},H))})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>N(D),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(mo,{className:"w-4 h-4"})}),D.status==="Draft"&&s.jsx("button",{onClick:()=>j.mutate(D._id),className:"text-green-600 hover:text-green-800",title:"Publish",children:s.jsx(zt,{className:"w-4 h-4"})}),D.status==="Published"&&s.jsx("button",{onClick:()=>S.mutate(D._id),className:"text-gray-600 hover:text-gray-800",title:"Archive",children:s.jsx(a4,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R.mutate(D._id),className:`${D.featured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(lt,{className:`w-4 h-4 ${D.featured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>O(D._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},D._id)})}),((z=v==null?void 0:v.updates)==null?void 0:z.length)===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No updates yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start sharing updates with your community."}),s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Create First Update"})]})]})})},Ci="http://localhost:5000/api",gte=()=>{var q;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(""),[h,m]=P.useState(""),[f,g]=P.useState(""),[v,b]=P.useState({question:"",answer:"",category:"General",tags:[],priority:0,isPublished:!0,isPopular:!1,relatedFAQs:[],seoMeta:{metaTitle:"",metaDescription:"",keywords:[]},displayOrder:0}),{data:y,isLoading:p}=Ct(["adminFAQs",i,l],async()=>{let M=`${Ci}/faq/admin?limit=100`;return i!=="all"&&(M+=`&category=${i}`),l!=="all"&&(M+=`&isPublished=${l}`),(await be.get(M)).data}),{data:w}=Ct("faqStats",async()=>(await be.get(`${Ci}/faq/stats/overview`)).data),j=tt(async M=>n?(await be.put(`${Ci}/faq/${n._id}`,{...M,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Ci}/faq`,{...M,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats"),m(n?"FAQ updated successfully!":"FAQ created successfully!"),g("success"),setTimeout(()=>m(""),3e3),N()},onError:M=>{var z,D;m(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to save FAQ"),g("error"),setTimeout(()=>m(""),3e3)}}),S=tt(async M=>(await be.delete(`${Ci}/faq/${M}`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats"),m("FAQ deleted successfully!"),g("success"),setTimeout(()=>m(""),3e3)},onError:M=>{var z,D;m(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to delete FAQ"),g("error"),setTimeout(()=>m(""),3e3)}}),R=tt(async M=>(await be.patch(`${Ci}/faq/${M}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats")}}),k=tt(async M=>(await be.patch(`${Ci}/faq/${M}/popular`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats")}}),N=()=>{b({question:"",answer:"",category:"General",tags:[],priority:0,isPublished:!0,isPopular:!1,relatedFAQs:[],seoMeta:{metaTitle:"",metaDescription:"",keywords:[]},displayOrder:0}),a(null),r(!1)},E=M=>{var z;b({...M,tags:M.tags||[],relatedFAQs:((z=M.relatedFAQs)==null?void 0:z.map(D=>D._id))||[],seoMeta:M.seoMeta||{metaTitle:"",metaDescription:"",keywords:[]}}),a(M),r(!0)},T=M=>{const{name:z,value:D,type:F,checked:W}=M.target;if(z.includes(".")){const[H,Q]=z.split(".");b(X=>({...X,[H]:{...X[H],[Q]:D}}))}else b(H=>({...H,[z]:F==="checkbox"?W:F==="number"?parseInt(D)||0:D}))},_=(M,z)=>{const D=M.split(",").map(F=>F.trim()).filter(Boolean);b(z==="keywords"?F=>({...F,seoMeta:{...F.seoMeta,keywords:D}}):F=>({...F,[z]:D}))},A=M=>{M.preventDefault(),j.mutate(v)},C=M=>{window.confirm("Are you sure you want to delete this FAQ?")&&S.mutate(M)},O=M=>M?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100",V=M=>M>=5?"text-red-600 bg-red-100":M>=3?"text-orange-600 bg-orange-100":M>=1?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100",L=((q=y==null?void 0:y.faqs)==null?void 0:q.filter(M=>{if(!u)return!0;const z=u.toLowerCase();return M.question.toLowerCase().includes(z)||M.answer.toLowerCase().includes(z)||M.tags.some(D=>D.toLowerCase().includes(z))}))||[];return p?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"FAQ Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add FAQ"})]})]}),h&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${f==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[f==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),h]}),w&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(QO,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total FAQs"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:w.totalFAQs})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.publishedFAQs})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lt,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Popular"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:w.popularFAQs})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(hs,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.totalViews})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Membership",children:"Membership"}),s.jsx("option",{value:"Events",children:"Events"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Technical",children:"Technical"}),s.jsx("option",{value:"Certification",children:"Certification"}),s.jsx("option",{value:"Career",children:"Career"}),s.jsx("option",{value:"Payment",children:"Payment"})]}),s.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Published"}),s.jsx("option",{value:"false",children:"Unpublished"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search FAQs...",value:u,onChange:M=>d(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit FAQ":"Add New FAQ"}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question *"}),s.jsx("input",{type:"text",name:"question",value:v.question,onChange:T,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer *"}),s.jsx("textarea",{name:"answer",value:v.answer,onChange:T,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:v.category,onChange:T,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Membership",children:"Membership"}),s.jsx("option",{value:"Events",children:"Events"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Technical",children:"Technical"}),s.jsx("option",{value:"Certification",children:"Certification"}),s.jsx("option",{value:"Career",children:"Career"}),s.jsx("option",{value:"Payment",children:"Payment"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority (0-10)"}),s.jsx("input",{type:"number",name:"priority",value:v.priority,onChange:T,min:"0",max:"10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:v.tags.join(", "),onChange:M=>_(M.target.value,"tags"),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPublished",checked:v.isPublished,onChange:T,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Published"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPopular",checked:v.isPopular,onChange:T,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Popular FAQ"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:j.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:j.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," FAQ"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:L.map(M=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.question}),M.isPopular&&s.jsx(lt,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-3",children:M.answer}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(M.isPublished)}`,children:M.isPublished?"Published":"Unpublished"}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(M.priority)}`,children:["Priority: ",M.priority]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[M.viewCount," views"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Va,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:M.helpfulCount})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(vl,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{children:M.notHelpfulCount})]}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:M.category})]}),M.tags&&M.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:M.tags.map((z,D)=>s.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["#",z]},D))})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>E(M),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(mo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R.mutate(M._id),className:`${M.isPublished?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Publish",children:M.isPublished?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(ii,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k.mutate(M._id),className:`${M.isPopular?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Popular",children:s.jsx(lt,{className:`w-4 h-4 ${M.isPopular?"fill-current":""}`})}),s.jsx("button",{onClick:()=>C(M._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},M._id))}),L.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Uv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No FAQs found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u?"No FAQs match your search criteria.":"Start building your FAQ section by adding the first question."}),!u&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First FAQ"})]})]})})},zc="http://localhost:5000/api",xte=()=>{var q;const t=gs(),[e,r]=P.useState("all"),[n,a]=P.useState("all"),[i,o]=P.useState("all"),[l,c]=P.useState(""),[u,d]=P.useState(null),[h,m]=P.useState(!1),[f,g]=P.useState(""),[v,b]=P.useState(""),{data:y,isLoading:p}=Ct(["adminContacts",e,n,i],async()=>{let M=`${zc}/contact/admin?limit=100`;return e!=="all"&&(M+=`&status=${e}`),n!=="all"&&(M+=`&category=${n}`),i!=="all"&&(M+=`&priority=${i}`),(await be.get(M)).data}),{data:w}=Ct("contactStats",async()=>(await be.get(`${zc}/contact/stats/overview`)).data),j=tt(async({id:M,status:z,responseNotes:D,assignedTo:F})=>(await be.patch(`${zc}/contact/${M}/status`,{status:z,responseNotes:D,assignedTo:F})).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact status updated successfully!"),b("success"),setTimeout(()=>g(""),3e3)},onError:M=>{var z,D;g(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to update status"),b("error"),setTimeout(()=>g(""),3e3)}}),S=tt(async M=>(await be.patch(`${zc}/contact/${M}/archive`)).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact archived successfully!"),b("success"),setTimeout(()=>g(""),3e3)}}),R=tt(async M=>(await be.delete(`${zc}/contact/${M}`)).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact deleted successfully!"),b("success"),setTimeout(()=>g(""),3e3)}}),k=M=>{d(M),m(!0)},N=(M,z)=>{j.mutate({id:M._id,status:z,assignedTo:"admin@ajirakinap.com"})},E=M=>{window.confirm("Are you sure you want to archive this contact message?")&&S.mutate(M)},T=M=>{window.confirm("Are you sure you want to delete this contact message? This action cannot be undone.")&&R.mutate(M)},_=M=>{switch(M){case"New":return"text-blue-600 bg-blue-100";case"In Progress":return"text-yellow-600 bg-yellow-100";case"Responded":return"text-green-600 bg-green-100";case"Resolved":return"text-green-700 bg-green-200";case"Closed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},A=M=>{switch(M){case"Urgent":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-blue-600 bg-blue-100";case"Low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},C=M=>{switch(M){case"Technical Support":return s.jsx(qt,{className:"w-4 h-4"});case"Partnership":return s.jsx(Ke,{className:"w-4 h-4"});case"Training":return s.jsx(gd,{className:"w-4 h-4"});default:return s.jsx(jr,{className:"w-4 h-4"})}},O=M=>{var W;const z=`Hi ${M.name}, thank you for contacting Ajira Digital KiNaP Club regarding: ${M.subject}`,F=`https://wa.me/${((W=M.phone)==null?void 0:W.replace(/\D/g,""))||"254792343958"}?text=${encodeURIComponent(z)}`;window.open(F,"_blank")},V=M=>{const z=`Re: ${M.subject}`,D=`Hi ${M.name},

Thank you for contacting Ajira Digital KiNaP Club.

Best regards,
Ajira Digital Team`,F=`mailto:${M.email}?subject=${encodeURIComponent(z)}&body=${encodeURIComponent(D)}`;window.open(F,"_blank")},L=((q=y==null?void 0:y.contacts)==null?void 0:q.filter(M=>{if(!l)return!0;const z=l.toLowerCase();return M.name.toLowerCase().includes(z)||M.email.toLowerCase().includes(z)||M.subject.toLowerCase().includes(z)||M.message.toLowerCase().includes(z)}))||[];return p?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Contact Messages"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[L.length," message",L.length!==1?"s":""]})})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),w&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(jr,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Messages"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:w.totalMessages})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qt,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unread"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.unreadMessages})]})]})}),s.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"New"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.newMessages})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.resolvedMessages})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:e,onChange:M=>r(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Responded",children:"Responded"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Closed",children:"Closed"})]}),s.jsxs("select",{value:n,onChange:M=>a(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),s.jsx("option",{value:"Technical Support",children:"Technical Support"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Complaint",children:"Complaint"}),s.jsx("option",{value:"Suggestion",children:"Suggestion"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"Urgent",children:"Urgent"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search messages...",value:l,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),s.jsx("div",{className:"space-y-4",children:L.map(M=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[C(M.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.subject}),!M.isRead&&s.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"New"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:M.name})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:M.email})]}),M.phone&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(to,{className:"w-4 h-4"}),s.jsx("span",{children:M.phone})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(M.createdAt).toLocaleDateString()})]})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:M.message}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(M.status)}`,children:M.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(M.priority)}`,children:M.priority}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:M.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>k(M),className:"text-ajira-primary hover:text-ajira-primary/80",title:"View Details",children:s.jsx(zt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(M),className:"text-blue-600 hover:text-blue-800",title:"Reply via Email",children:s.jsx(jr,{className:"w-4 h-4"})}),M.phone&&s.jsx("button",{onClick:()=>O(M),className:"text-green-600 hover:text-green-800",title:"Reply via WhatsApp",children:s.jsx(Gs,{className:"w-4 h-4"})}),s.jsxs("select",{value:M.status,onChange:z=>N(M,z.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Responded",children:"Responded"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Closed",children:"Closed"})]}),s.jsx("button",{onClick:()=>E(M._id),className:"text-gray-600 hover:text-gray-800",title:"Archive",children:s.jsx(a4,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(M._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},M._id))}),L.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No contact messages found"}),s.jsx("p",{className:"text-gray-600",children:l?"No messages match your search criteria.":"No contact messages have been received yet."})]})]}),h&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Details"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(KO,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:u.email})]}),u.phone&&s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:u.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Category"}),s.jsx("p",{className:"text-gray-900",children:u.category})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Subject"}),s.jsx("p",{className:"text-gray-900",children:u.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Message"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mt-2",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.message})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t",children:[s.jsxs("button",{onClick:()=>V(u),className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 flex items-center space-x-2",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:"Reply via Email"})]}),u.phone&&s.jsxs("button",{onClick:()=>O(u),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Reply via WhatsApp"})]})]})]})]})})})]})},Ai="http://localhost:5000/api",yte=()=>{var z;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[h,m]=P.useState(""),[f,g]=P.useState(""),[v,b]=P.useState(""),[y,p]=P.useState({title:"",description:"",shortDescription:"",category:"Web Development",level:"Beginner",duration:{weeks:0,hours:0,totalHours:0},schedule:{format:"Online",days:[],timeSlot:"",startDate:"",endDate:""},instructor:{name:"",bio:"",email:"",experience:"",specialization:[]},learningOutcomes:[],prerequisites:[],tools:[],certification:{provided:!0,title:"",validityPeriod:"Lifetime"},pricing:{isFree:!1,regularPrice:0,discountPrice:0,currency:"KES"},enrollment:{capacity:50,isOpen:!0},features:[],tags:[],status:"Draft",isFeatured:!1,isActive:!0}),{data:w,isLoading:j}=Ct(["adminTrainings",i,l,u],async()=>{let D=`${Ai}/training/admin?limit=100`;return i!=="all"&&(D+=`&category=${i}`),l!=="all"&&(D+=`&level=${l}`),u!=="all"&&(D+=`&status=${u}`),(await be.get(D)).data}),{data:S}=Ct("trainingStats",async()=>(await be.get(`${Ai}/training/stats/overview`)).data),R=tt(async D=>n?(await be.put(`${Ai}/training/${n._id}`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Ai}/training`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats"),g(n?"Training program updated successfully!":"Training program created successfully!"),b("success"),setTimeout(()=>g(""),3e3),T()},onError:D=>{var F,W;g(((W=(F=D.response)==null?void 0:F.data)==null?void 0:W.message)||"Failed to save training program"),b("error"),setTimeout(()=>g(""),3e3)}}),k=tt(async D=>(await be.delete(`${Ai}/training/${D}`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats"),g("Training program deleted successfully!"),b("success"),setTimeout(()=>g(""),3e3)},onError:D=>{var F,W;g(((W=(F=D.response)==null?void 0:F.data)==null?void 0:W.message)||"Failed to delete training program"),b("error"),setTimeout(()=>g(""),3e3)}}),N=tt(async D=>(await be.patch(`${Ai}/training/${D}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats")}}),E=tt(async D=>(await be.patch(`${Ai}/training/${D}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats")}}),T=()=>{p({title:"",description:"",shortDescription:"",category:"Web Development",level:"Beginner",duration:{weeks:0,hours:0,totalHours:0},schedule:{format:"Online",days:[],timeSlot:"",startDate:"",endDate:""},instructor:{name:"",bio:"",email:"",experience:"",specialization:[]},learningOutcomes:[],prerequisites:[],tools:[],certification:{provided:!0,title:"",validityPeriod:"Lifetime"},pricing:{isFree:!1,regularPrice:0,discountPrice:0,currency:"KES"},enrollment:{capacity:50,isOpen:!0},features:[],tags:[],status:"Draft",isFeatured:!1,isActive:!0}),a(null),r(!1)},_=D=>{p({...D,learningOutcomes:D.learningOutcomes||[],prerequisites:D.prerequisites||[],tools:D.tools||[],features:D.features||[],tags:D.tags||[]}),a(D),r(!0)},A=D=>{const{name:F,value:W,type:H,checked:Q}=D.target;if(F.includes(".")){const[X,G]=F.split(".");p(K=>({...K,[X]:{...K[X],[G]:H==="number"?parseFloat(W)||0:W}}))}else p(X=>({...X,[F]:H==="checkbox"?Q:H==="number"?parseFloat(W)||0:W}))},C=(D,F)=>{const W=D.split(",").map(H=>H.trim()).filter(Boolean);p(H=>({...H,[F]:W}))},O=D=>{D.preventDefault(),R.mutate(y)},V=D=>{window.confirm("Are you sure you want to delete this training program?")&&k.mutate(D)},L=D=>{switch(D){case"Published":return"text-green-600 bg-green-100";case"Draft":return"text-gray-600 bg-gray-100";case"Coming Soon":return"text-blue-600 bg-blue-100";case"In Progress":return"text-yellow-600 bg-yellow-100";case"Completed":return"text-green-700 bg-green-200";case"Cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},q=D=>{switch(D){case"Beginner":return"text-green-600 bg-green-100";case"Intermediate":return"text-yellow-600 bg-yellow-100";case"Advanced":return"text-red-600 bg-red-100";case"All Levels":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},M=((z=w==null?void 0:w.trainings)==null?void 0:z.filter(D=>{if(!h)return!0;const F=h.toLowerCase();return D.title.toLowerCase().includes(F)||D.description.toLowerCase().includes(F)||D.instructor.name.toLowerCase().includes(F)||D.tags.some(W=>W.toLowerCase().includes(F))}))||[];return j?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Training Programs"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Training"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),S&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(eo,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:S.totalTrainings})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.publishedTrainings})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lt,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Featured"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.featuredTrainings})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ve,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Enrollments"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.totalEnrollments})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:i,onChange:D=>o(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Content Writing",children:"Content Writing"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"Beginner",children:"Beginner"}),s.jsx("option",{value:"Intermediate",children:"Intermediate"}),s.jsx("option",{value:"Advanced",children:"Advanced"}),s.jsx("option",{value:"All Levels",children:"All Levels"})]}),s.jsxs("select",{value:u,onChange:D=>d(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Coming Soon",children:"Coming Soon"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search training programs...",value:h,onChange:D=>m(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Training Program":"Add New Training Program"}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:y.title,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:y.category,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Content Writing",children:"Content Writing"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),s.jsx("textarea",{name:"shortDescription",value:y.shortDescription,onChange:A,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description *"}),s.jsx("textarea",{name:"description",value:y.description,onChange:A,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),s.jsxs("select",{name:"level",value:y.level,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Beginner",children:"Beginner"}),s.jsx("option",{value:"Intermediate",children:"Intermediate"}),s.jsx("option",{value:"Advanced",children:"Advanced"}),s.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Hours *"}),s.jsx("input",{type:"number",name:"duration.totalHours",value:y.duration.totalHours,onChange:A,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),s.jsx("input",{type:"number",name:"enrollment.capacity",value:y.enrollment.capacity,onChange:A,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor Name *"}),s.jsx("input",{type:"text",name:"instructor.name",value:y.instructor.name,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor Email"}),s.jsx("input",{type:"email",name:"instructor.email",value:y.instructor.email,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:y.pricing.isFree,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Course"})]}),!y.pricing.isFree&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regular Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.regularPrice",value:y.pricing.regularPrice,onChange:A,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.discountPrice",value:y.pricing.discountPrice,onChange:A,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Outcomes (comma-separated)"}),s.jsx("textarea",{value:y.learningOutcomes.join(", "),onChange:D=>C(D.target.value,"learningOutcomes"),rows:3,placeholder:"Web development skills, JavaScript proficiency, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisites (comma-separated)"}),s.jsx("textarea",{value:y.prerequisites.join(", "),onChange:D=>C(D.target.value,"prerequisites"),rows:3,placeholder:"Basic computer skills, HTML knowledge, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:y.tags.join(", "),onChange:D=>C(D.target.value,"tags"),placeholder:"javascript, web development, frontend, backend",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:y.isFeatured,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Program"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:y.status,onChange:A,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Coming Soon",children:"Coming Soon"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:T,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:R.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:R.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Training"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:M.map(D=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),D.isFeatured&&s.jsx(lt,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:D.shortDescription||D.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(D.status)}`,children:D.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q(D.level)}`,children:D.level}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:D.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[D.duration.totalHours,"h"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsxs("span",{children:[D.enrollment.enrolled,"/",D.enrollment.capacity]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:D.pricing.isFree?"Free":`KES ${D.pricing.regularPrice.toLocaleString()}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Instructor: ",D.instructor.name]}),s.jsxs("span",{children:["Views: ",D.statistics.views]}),D.ratings.totalRatings>0&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(lt,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[D.ratings.average," (",D.ratings.totalRatings,")"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>_(D),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(mo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N.mutate(D._id),className:`${D.status==="Published"?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Publish",children:D.status==="Published"?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(ii,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E.mutate(D._id),className:`${D.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(lt,{className:`w-4 h-4 ${D.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>V(D._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},D._id))}),M.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No training programs found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:h?"No programs match your search criteria.":"Start building your training catalog by adding the first program."}),!h&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Training Program"})]})]})})},Na="http://localhost:5000/api",vte=()=>{var Q,X,G,K,J;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[h,m]=P.useState(""),[f,g]=P.useState(""),[v,b]=P.useState(""),[y,p]=P.useState("mentors"),[w,j]=P.useState({title:"",description:"",shortDescription:"",category:"Web Development",expertiseLevel:"Senior",mentorshipType:"One-on-One",sessionFormat:"Video Call",mentor:{name:"",email:"",phone:"",bio:"",title:"",company:"",experience:"",linkedinProfile:"",githubProfile:"",timezone:"Africa/Nairobi"},availability:{isAvailable:!0,status:"Available",responseTime:"Within 24 hours",weeklyHours:5,maxMentees:5},pricing:{isFree:!1,sessionRate:0,hourlyRate:0,currency:"KES"},skills:[],specializations:[],mentorshipFocus:[],targetAudience:[],instantAvailability:{enabled:!0,maxInstantRequests:3},location:{city:"",country:"Kenya",isLocationEnabled:!1},verification:{isVerified:!1,badgeLevel:"Bronze"},settings:{instantNotifications:!0,emailNotifications:!0,smsNotifications:!1,publicProfile:!0,searchable:!0},status:"Pending Approval",isFeatured:!1}),{data:S,isLoading:R}=Ct(["adminMentors",i,l,u],async()=>{let $=`${Na}/mentorship/admin?limit=100`;return i!=="all"&&($+=`&category=${i}`),l!=="all"&&($+=`&expertiseLevel=${l}`),u!=="all"&&($+=`&status=${u}`),(await be.get($)).data}),{data:k}=Ct("mentorshipStats",async()=>(await be.get(`${Na}/mentorship/admin/stats/overview`)).data),{data:N}=Ct("mentorshipRequests",async()=>(await be.get(`${Na}/mentorship/admin/requests`)).data,{enabled:y==="requests"}),E=tt(async $=>n?(await be.put(`${Na}/mentorship/admin/${n._id}`,{...$,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Na}/mentorship/admin`,{...$,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats"),g(n?"Mentor updated successfully!":"Mentor created successfully!"),b("success"),setTimeout(()=>g(""),3e3),C()},onError:$=>{var Z,se;g(((se=(Z=$.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to save mentor"),b("error"),setTimeout(()=>g(""),3e3)}}),T=tt(async $=>(await be.delete(`${Na}/mentorship/admin/${$}`)).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats"),g("Mentor deleted successfully!"),b("success"),setTimeout(()=>g(""),3e3)},onError:$=>{var Z,se;g(((se=(Z=$.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to delete mentor"),b("error"),setTimeout(()=>g(""),3e3)}}),_=tt(async({id:$,status:Z})=>(await be.patch(`${Na}/mentorship/admin/${$}/status`,{status:Z})).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats")}}),A=tt(async $=>(await be.patch(`${Na}/mentorship/admin/${$}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats")}}),C=()=>{j({title:"",description:"",shortDescription:"",category:"Web Development",expertiseLevel:"Senior",mentorshipType:"One-on-One",sessionFormat:"Video Call",mentor:{name:"",email:"",phone:"",bio:"",title:"",company:"",experience:"",linkedinProfile:"",githubProfile:"",timezone:"Africa/Nairobi"},availability:{isAvailable:!0,status:"Available",responseTime:"Within 24 hours",weeklyHours:5,maxMentees:5},pricing:{isFree:!1,sessionRate:0,hourlyRate:0,currency:"KES"},skills:[],specializations:[],mentorshipFocus:[],targetAudience:[],instantAvailability:{enabled:!0,maxInstantRequests:3},location:{city:"",country:"Kenya",isLocationEnabled:!1},verification:{isVerified:!1,badgeLevel:"Bronze"},settings:{instantNotifications:!0,emailNotifications:!0,smsNotifications:!1,publicProfile:!0,searchable:!0},status:"Pending Approval",isFeatured:!1}),a(null),r(!1)},O=$=>{j({...$,skills:$.skills||[],specializations:$.specializations||[],mentorshipFocus:$.mentorshipFocus||[],targetAudience:$.targetAudience||[]}),a($),r(!0)},V=$=>{const{name:Z,value:se,type:pe,checked:te}=$.target;if(Z.includes(".")){const[ge,Pe]=Z.split(".");j(Xe=>({...Xe,[ge]:{...Xe[ge],[Pe]:pe==="number"?parseFloat(se)||0:pe==="checkbox"?te:se}}))}else j(ge=>({...ge,[Z]:pe==="checkbox"?te:pe==="number"?parseFloat(se)||0:se}))},L=($,Z)=>{const se=$.split(",").map(pe=>pe.trim()).filter(Boolean);j(pe=>({...pe,[Z]:se}))},q=$=>{$.preventDefault(),E.mutate(w)},M=$=>{window.confirm("Are you sure you want to delete this mentor?")&&T.mutate($)},z=$=>{switch($){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"Suspended":return"text-red-600 bg-red-100";case"Under Review":return"text-yellow-600 bg-yellow-100";case"Pending Approval":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},D=$=>{switch($){case"Junior":return"text-green-600 bg-green-100";case"Mid-Level":return"text-blue-600 bg-blue-100";case"Senior":return"text-purple-600 bg-purple-100";case"Expert":return"text-yellow-600 bg-yellow-100";case"Thought Leader":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},F=$=>{switch($){case"Bronze":return"text-yellow-700 bg-yellow-100";case"Silver":return"text-gray-700 bg-gray-100";case"Gold":return"text-yellow-600 bg-yellow-200";case"Platinum":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},W=$=>{switch($){case"Critical":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},H=((Q=S==null?void 0:S.mentors)==null?void 0:Q.filter($=>{if(!h)return!0;const Z=h.toLowerCase();return $.mentor.name.toLowerCase().includes(Z)||$.mentor.email.toLowerCase().includes(Z)||$.description.toLowerCase().includes(Z)||$.skills.some(se=>se.toLowerCase().includes(Z))}))||[];return R?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Mentorship Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Mentor"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),s.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>p("mentors"),className:`px-4 py-2 rounded-md transition-colors ${y==="mentors"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ve,{className:"w-4 h-4 inline mr-2"}),"Mentors"]}),s.jsxs("button",{onClick:()=>p("requests"),className:`px-4 py-2 rounded-md transition-colors ${y==="requests"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Gh,{className:"w-4 h-4 inline mr-2"}),"Requests"]}),s.jsxs("button",{onClick:()=>p("analytics"),className:`px-4 py-2 rounded-md transition-colors ${y==="analytics"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(gd,{className:"w-4 h-4 inline mr-2"}),"Analytics"]})]}),k&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ve,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Mentors"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:((X=k.mentorStats)==null?void 0:X.totalMentors)||0})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ki,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Mentors"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((G=k.mentorStats)==null?void 0:G.activeMentors)||0})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(n4,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Available Now"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((K=k.mentorStats)==null?void 0:K.availableMentors)||0})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gh,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Requests"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((J=k.requestStats)==null?void 0:J.activeRequests)||0})]})]})})]}),y==="mentors"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:i,onChange:$=>o($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Entrepreneurship",children:"Entrepreneurship"}),s.jsx("option",{value:"Career Development",children:"Career Development"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:$=>c($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Expertise Levels"}),s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"}),s.jsx("option",{value:"Thought Leader",children:"Thought Leader"})]}),s.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search mentors...",value:h,onChange:$=>m($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Mentor":"Add New Mentor"}),s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Title *"}),s.jsx("input",{type:"text",name:"title",value:w.title,onChange:V,required:!0,placeholder:"e.g., Senior React Developer Mentorship",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:w.category,onChange:V,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Entrepreneurship",children:"Entrepreneurship"}),s.jsx("option",{value:"Career Development",children:"Career Development"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentor Name *"}),s.jsx("input",{type:"text",name:"mentor.name",value:w.mentor.name,onChange:V,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentor Email *"}),s.jsx("input",{type:"email",name:"mentor.email",value:w.mentor.email,onChange:V,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:w.description,onChange:V,required:!0,rows:4,placeholder:"Describe what this mentor offers and their expertise...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expertise Level *"}),s.jsxs("select",{name:"expertiseLevel",value:w.expertiseLevel,onChange:V,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"}),s.jsx("option",{value:"Thought Leader",children:"Thought Leader"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Rate (KES)"}),s.jsx("input",{type:"number",name:"pricing.sessionRate",value:w.pricing.sessionRate,onChange:V,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:w.pricing.isFree,onChange:V,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Mentorship"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated)"}),s.jsx("textarea",{value:w.skills.join(", "),onChange:$=>L($.target.value,"skills"),rows:3,placeholder:"React, Node.js, JavaScript, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),s.jsx("textarea",{value:w.specializations.join(", "),onChange:$=>L($.target.value,"specializations"),rows:3,placeholder:"Frontend Architecture, API Design, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:w.isFeatured,onChange:V,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Mentor"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"availability.isAvailable",checked:w.availability.isAvailable,onChange:V,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"instantAvailability.enabled",checked:w.instantAvailability.enabled,onChange:V,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Instant Requests"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:w.status,onChange:V,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:C,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:E.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:E.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Mentor"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:H.map($=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.mentor.name}),$.isFeatured&&s.jsx(lt,{className:"w-5 h-5 text-yellow-500 fill-current"}),$.verification.isVerified&&s.jsx(vt,{className:"w-5 h-5 text-blue-500"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:$.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z($.status)}`,children:$.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D($.expertiseLevel)}`,children:$.expertiseLevel}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F($.verification.badgeLevel)}`,children:$.verification.badgeLevel}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:$.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:$.availability.responseTime})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsxs("span",{children:[$.availability.currentMentees,"/",$.availability.maxMentees]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:$.pricing.isFree?"Free":`KES ${$.pricing.sessionRate}/session`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:$.mentor.email})]}),s.jsxs("span",{children:["Sessions: ",$.statistics.totalSessions]}),s.jsxs("span",{children:["Views: ",$.statistics.profileViews]}),$.ratings.totalRatings>0&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(lt,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[$.ratings.overall," (",$.ratings.totalRatings,")"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>O($),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(mo,{className:"w-4 h-4"})}),s.jsxs("select",{value:$.status,onChange:Z=>_.mutate({id:$._id,status:Z.target.value}),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]}),s.jsx("button",{onClick:()=>A.mutate($._id),className:`${$.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(lt,{className:`w-4 h-4 ${$.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>M($._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},$._id))})]}),y==="requests"&&N&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Mentorship Requests"}),N.requests.map($=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[$.mentee.name," - ",$.sessionType]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["#",$.requestId]})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:$.problemDescription}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W($.urgency)}`,children:[$.urgency," Priority"]}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:$.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:$.timeElapsed})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsxs("span",{children:[$.preferredDuration," min session"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Status: ",$.status]}),s.jsxs("span",{children:["Type: ",$.requestType]}),s.jsxs("span",{children:["Budget:"," ",$.budget.hasBudget?`KES ${$.budget.maxAmount}`:"Not specified"]})]})]}),s.jsx("div",{className:"ml-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$.status==="Completed"?"bg-green-100 text-green-800":$.status==="In Progress"?"bg-blue-100 text-blue-800":$.status==="Matched"?"bg-purple-100 text-purple-800":$.status==="Broadcasted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:$.status})})]})},$._id)),N.requests.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No active requests"}),s.jsx("p",{className:"text-gray-600",children:"No mentorship requests at the moment."})]})]}),y==="analytics"&&k&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mentorship Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mentor Distribution"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Mentors"}),s.jsx("span",{className:"font-semibold",children:k.mentorStats.totalMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Mentors"}),s.jsx("span",{className:"font-semibold text-green-600",children:k.mentorStats.activeMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Available Now"}),s.jsx("span",{className:"font-semibold text-blue-600",children:k.mentorStats.availableMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Verified Mentors"}),s.jsx("span",{className:"font-semibold text-purple-600",children:k.mentorStats.verifiedMentors})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Request Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Requests"}),s.jsx("span",{className:"font-semibold",children:k.requestStats.totalRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Requests"}),s.jsx("span",{className:"font-semibold text-orange-600",children:k.requestStats.activeRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Completed"}),s.jsx("span",{className:"font-semibold text-green-600",children:k.requestStats.completedRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Avg Response Time"}),s.jsxs("span",{className:"font-semibold",children:[k.requestStats.averageResponseTime,"min"]})]})]})]})]}),k.mentorStats.categoryStats&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mentors by Category"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:k.mentorStats.categoryStats.map(($,Z)=>s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-semibold text-lg",children:$.count}),s.jsx("p",{className:"text-sm text-gray-600",children:$._id})]},Z))})]})]}),y==="mentors"&&H.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No mentors found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:h?"No mentors match your search criteria.":"Start building your mentor network by adding the first mentor."}),!h&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Mentor"})]})]})})},on="http://localhost:5000/api",bte=()=>{var G,K,J,$,Z,se,pe;const t=gs(),[e,r]=P.useState(!1),[n,a]=P.useState(null),[i,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[h,m]=P.useState(""),[f,g]=P.useState(""),[v,b]=P.useState(""),[y,p]=P.useState("events"),[w,j]=P.useState(null),[S,R]=P.useState({title:"",description:"",shortDescription:"",category:"Workshop",eventType:"Hybrid",format:"Free",schedule:{startDate:"",endDate:"",startTime:"14:00",endTime:"17:00",timezone:"Africa/Nairobi",isAllDay:!1},location:{venue:"",address:"",city:"Nairobi",country:"Kenya",virtualPlatform:"",meetingLink:"",directions:""},organizer:{name:"",email:"",phone:"",organization:"",bio:""},registration:{capacity:100,isRegistrationOpen:!0,waitlistEnabled:!0,requiresApproval:!1},pricing:{isFree:!0,regularPrice:0,currency:"KES"},speakers:[],agenda:[],prerequisites:[],targetAudience:[],learningOutcomes:[],tags:[],socialFeatures:{allowNetworking:!0,chatEnabled:!0,qnaEnabled:!0,certificateProvided:!1},status:"Draft",isPublished:!1,isFeatured:!1}),{data:k,isLoading:N}=Ct(["adminEvents",i,l,u],async()=>{let te=`${on}/events/admin/all?limit=100`;return i!=="all"&&(te+=`&category=${i}`),l!=="all"&&(te+=`&eventType=${l}`),u!=="all"&&(te+=`&status=${u}`),(await be.get(te)).data}),{data:E}=Ct("eventStats",async()=>(await be.get(`${on}/events/admin/stats/overview`)).data),{data:T}=Ct(["eventAttendees",w],async()=>w?(await be.get(`${on}/events/admin/${w}/attendees`)).data:null,{enabled:!!w&&y==="attendees"}),_=tt(async te=>n?(await be.put(`${on}/events/admin/${n._id}`,{...te,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${on}/events/admin`,{...te,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats"),g(n?"Event updated successfully!":"Event created successfully!"),b("success"),setTimeout(()=>g(""),3e3),L()},onError:te=>{var ge,Pe;g(((Pe=(ge=te.response)==null?void 0:ge.data)==null?void 0:Pe.message)||"Failed to save event"),b("error"),setTimeout(()=>g(""),3e3)}}),A=tt(async te=>(await be.delete(`${on}/events/admin/${te}`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats"),g("Event deleted successfully!"),b("success"),setTimeout(()=>g(""),3e3)},onError:te=>{var ge,Pe;g(((Pe=(ge=te.response)==null?void 0:ge.data)==null?void 0:Pe.message)||"Failed to delete event"),b("error"),setTimeout(()=>g(""),3e3)}}),C=tt(async te=>(await be.patch(`${on}/events/admin/${te}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),O=tt(async te=>(await be.patch(`${on}/events/admin/${te}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),V=tt(async({id:te,status:ge})=>(await be.patch(`${on}/events/admin/${te}/status`,{status:ge})).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),L=()=>{R({title:"",description:"",shortDescription:"",category:"Workshop",eventType:"Hybrid",format:"Free",schedule:{startDate:"",endDate:"",startTime:"14:00",endTime:"17:00",timezone:"Africa/Nairobi",isAllDay:!1},location:{venue:"",address:"",city:"Nairobi",country:"Kenya",virtualPlatform:"",meetingLink:"",directions:""},organizer:{name:"",email:"",phone:"",organization:"",bio:""},registration:{capacity:100,isRegistrationOpen:!0,waitlistEnabled:!0,requiresApproval:!1},pricing:{isFree:!0,regularPrice:0,currency:"KES"},speakers:[],agenda:[],prerequisites:[],targetAudience:[],learningOutcomes:[],tags:[],socialFeatures:{allowNetworking:!0,chatEnabled:!0,qnaEnabled:!0,certificateProvided:!1},status:"Draft",isPublished:!1,isFeatured:!1}),a(null),r(!1)},q=te=>{R({...te,schedule:{...te.schedule,startDate:te.schedule.startDate?new Date(te.schedule.startDate).toISOString().split("T")[0]:"",endDate:te.schedule.endDate?new Date(te.schedule.endDate).toISOString().split("T")[0]:""}}),a(te),r(!0)},M=te=>{const{name:ge,value:Pe,type:Xe,checked:pt}=te.target;if(ge.includes(".")){const[oe,ue]=ge.split(".");R(ye=>({...ye,[oe]:{...ye[oe],[ue]:Xe==="number"?parseFloat(Pe)||0:Xe==="checkbox"?pt:Pe}}))}else R(oe=>({...oe,[ge]:Xe==="checkbox"?pt:Xe==="number"?parseFloat(Pe)||0:Pe}))},z=te=>{te.preventDefault(),_.mutate(S)},D=te=>{window.confirm("Are you sure you want to delete this event?")&&A.mutate(te)},F=te=>{switch(te){case"Published":return"text-green-600 bg-green-100";case"Registration Open":return"text-blue-600 bg-blue-100";case"Registration Closed":return"text-yellow-600 bg-yellow-100";case"In Progress":return"text-purple-600 bg-purple-100";case"Completed":return"text-gray-600 bg-gray-100";case"Cancelled":return"text-red-600 bg-red-100";case"Postponed":return"text-orange-600 bg-orange-100";case"Draft":return"text-gray-600 bg-gray-200";default:return"text-gray-600 bg-gray-100"}},W=te=>{switch(te){case"In-Person":return"text-blue-600 bg-blue-100";case"Virtual":return"text-green-600 bg-green-100";case"Hybrid":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},H=te=>{switch(te){case"Workshop":return s.jsx(Ve,{className:"w-4 h-4"});case"Webinar":return s.jsx(ro,{className:"w-4 h-4"});case"Conference":return s.jsx(Ss,{className:"w-4 h-4"});case"Networking":return s.jsx(Ki,{className:"w-4 h-4"});case"Hackathon":return s.jsx(n4,{className:"w-4 h-4"});default:return s.jsx(Yt,{className:"w-4 h-4"})}},Q=(te,ge="csv")=>{const Pe=`${on}/events/admin/${te}/attendees/export?format=${ge}`;window.open(Pe,"_blank")},X=((G=k==null?void 0:k.events)==null?void 0:G.filter(te=>{var Pe;if(!h)return!0;const ge=h.toLowerCase();return te.title.toLowerCase().includes(ge)||te.description.toLowerCase().includes(ge)||te.organizer.name.toLowerCase().includes(ge)||((Pe=te.location.venue)==null?void 0:Pe.toLowerCase().includes(ge))}))||[];return N?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Events Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Event"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),s.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>p("events"),className:`px-4 py-2 rounded-md transition-colors ${y==="events"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Yt,{className:"w-4 h-4 inline mr-2"}),"Events"]}),s.jsxs("button",{onClick:()=>p("attendees"),className:`px-4 py-2 rounded-md transition-colors ${y==="attendees"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Ve,{className:"w-4 h-4 inline mr-2"}),"Attendees"]}),s.jsxs("button",{onClick:()=>p("analytics"),className:`px-4 py-2 rounded-md transition-colors ${y==="analytics"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(gd,{className:"w-4 h-4 inline mr-2"}),"Analytics"]})]}),E&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yt,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:((K=E.eventStats)==null?void 0:K.totalEvents)||0})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((J=E.eventStats)==null?void 0:J.publishedEvents)||0})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(($=E.eventStats)==null?void 0:$.upcomingEvents)||0})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ve,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Registrations"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((Z=E.eventStats)==null?void 0:Z.totalRegistrations)||0})]})]})})]}),y==="events"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:i,onChange:te=>o(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Workshop",children:"Workshop"}),s.jsx("option",{value:"Webinar",children:"Webinar"}),s.jsx("option",{value:"Networking",children:"Networking"}),s.jsx("option",{value:"Conference",children:"Conference"}),s.jsx("option",{value:"Hackathon",children:"Hackathon"}),s.jsx("option",{value:"Career Fair",children:"Career Fair"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Panel Discussion",children:"Panel Discussion"}),s.jsx("option",{value:"Tech Talk",children:"Tech Talk"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:te=>c(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"In-Person",children:"In-Person"}),s.jsx("option",{value:"Virtual",children:"Virtual"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]}),s.jsxs("select",{value:u,onChange:te=>d(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search events...",value:h,onChange:te=>m(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Event":"Add New Event"}),s.jsxs("form",{onSubmit:z,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),s.jsx("input",{type:"text",name:"title",value:S.title,onChange:M,required:!0,placeholder:"e.g., React Workshop 2024",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:S.category,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Workshop",children:"Workshop"}),s.jsx("option",{value:"Webinar",children:"Webinar"}),s.jsx("option",{value:"Networking",children:"Networking"}),s.jsx("option",{value:"Conference",children:"Conference"}),s.jsx("option",{value:"Hackathon",children:"Hackathon"}),s.jsx("option",{value:"Career Fair",children:"Career Fair"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Panel Discussion",children:"Panel Discussion"}),s.jsx("option",{value:"Tech Talk",children:"Tech Talk"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:S.description,onChange:M,required:!0,rows:4,placeholder:"Describe your event in detail...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),s.jsx("input",{type:"date",name:"schedule.startDate",value:S.schedule.startDate,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),s.jsx("input",{type:"date",name:"schedule.endDate",value:S.schedule.endDate,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),s.jsx("input",{type:"time",name:"schedule.startTime",value:S.schedule.startTime,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),s.jsx("input",{type:"time",name:"schedule.endTime",value:S.schedule.endTime,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organizer Name *"}),s.jsx("input",{type:"text",name:"organizer.name",value:S.organizer.name,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organizer Email *"}),s.jsx("input",{type:"email",name:"organizer.email",value:S.organizer.email,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),s.jsxs("select",{name:"eventType",value:S.eventType,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"In-Person",children:"In-Person"}),s.jsx("option",{value:"Virtual",children:"Virtual"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),s.jsx("input",{type:"text",name:"location.venue",value:S.location.venue,onChange:M,placeholder:"e.g., iHub Nairobi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),s.jsx("input",{type:"number",name:"registration.capacity",value:S.registration.capacity,onChange:M,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:S.pricing.isFree,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Event"})]}),!S.pricing.isFree&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.regularPrice",value:S.pricing.regularPrice,onChange:M,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPublished",checked:S.isPublished,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Published"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:S.isFeatured,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:S.status,onChange:M,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:L,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:_.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:_.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(fo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Event"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:X.map(te=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[H(te.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:te.title}),te.isFeatured&&s.jsx(lt,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:te.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(te.status)}`,children:te.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W(te.eventType)}`,children:te.eventType}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:te.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(te.schedule.startDate).toLocaleDateString()})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[te.schedule.startTime," -"," ",te.schedule.endTime]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ve,{className:"w-4 h-4"}),s.jsxs("span",{children:[te.registration.registered,"/",te.registration.capacity]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:te.pricing.isFree?"Free":`KES ${te.pricing.regularPrice}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{children:te.location.venue||"Virtual"})]}),s.jsxs("span",{children:["Organizer: ",te.organizer.name]}),s.jsxs("span",{children:["Views: ",te.analytics.views]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>q(te),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(mo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{j(te._id),p("attendees")},className:"text-blue-600 hover:text-blue-800",title:"View Attendees",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsxs("select",{value:te.status,onChange:ge=>V.mutate({id:te._id,status:ge.target.value}),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsx("button",{onClick:()=>C.mutate(te._id),className:`${te.isPublished?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Published",children:te.isPublished?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(ii,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O.mutate(te._id),className:`${te.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(lt,{className:`w-4 h-4 ${te.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>D(te._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(la,{className:"w-4 h-4"})})]})]})},te._id))})]}),y==="attendees"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Attendees"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:w||"",onChange:te=>j(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"",children:"Select Event"}),X.map(te=>s.jsxs("option",{value:te._id,children:[te.title," (",new Date(te.schedule.startDate).toLocaleDateString(),")"]},te._id))]}),w&&s.jsxs("button",{onClick:()=>Q(w,"csv"),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(xl,{className:"w-4 h-4"}),s.jsx("span",{children:"Export CSV"})]})]})]}),T&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold",children:T.eventTitle}),s.jsxs("p",{className:"text-sm text-gray-600",children:[T.totalCount," total attendees"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.attendees.map((te,ge)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name}),s.jsx("div",{className:"text-sm text-gray-500",children:te.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.organization||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(te.registrationDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.status==="Confirmed"?"bg-green-100 text-green-800":te.status==="Registered"?"bg-blue-100 text-blue-800":te.status==="Attended"?"bg-purple-100 text-purple-800":te.status==="No Show"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:te.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.paymentStatus==="Paid"?"bg-green-100 text-green-800":te.paymentStatus==="Free"?"bg-blue-100 text-blue-800":te.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:te.paymentStatus})})]},ge))})]})})]}),!w&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select an Event"}),s.jsx("p",{className:"text-gray-600",children:"Choose an event to view its attendees"})]})]}),y==="analytics"&&E&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Events by Category"}),s.jsx("div",{className:"space-y-3",children:(se=E.eventStats.categoryStats)==null?void 0:se.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:te._id}),s.jsx("span",{className:"font-semibold",children:te.count})]},ge))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Events by Type"}),s.jsx("div",{className:"space-y-3",children:(pe=E.eventStats.typeStats)==null?void 0:pe.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:te._id}),s.jsx("span",{className:"font-semibold",children:te.count})]},ge))})]})]}),E.eventStats.popularEvents&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Popular Events"}),s.jsx("div",{className:"space-y-4",children:E.eventStats.popularEvents.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:te.title}),s.jsx("p",{className:"text-sm text-gray-600",children:te.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:[te.analytics.views," views"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[te.registration.registered," registered"]})]})]},ge))})]})]}),y==="events"&&X.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:h?"No events match your search criteria.":"Start building your event calendar by adding the first event."}),!h&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Event"})]})]})})},jte=()=>{var L,q,M,z,D,F,W,H;const[t,e]=P.useState([]),[r,n]=P.useState({}),[a,i]=P.useState({}),[o,l]=P.useState({status:"all",step:"all",minScore:"",industry:"all",experience:"all"}),[c,u]=P.useState(""),[d,h]=P.useState(new Set),[m,f]=P.useState(!0),[g,v]=P.useState(!1),[b,y]=P.useState(!0),[p,w]=P.useState(""),[j]=P.useState([{applicationId:"APP_001",personalInfo:{firstName:"Sarah",lastName:"Wanjiku",email:"sarah@example.com",phone:"+254712345678"},professional:{currentRole:"Senior Software Engineer",currentCompany:"Safaricom PLC",industry:"Technology",experienceLevel:"Senior (6-10 years)",yearsOfExperience:8},education:{highestDegree:"Master's",fieldOfStudy:"Computer Science",institution:"University of Nairobi"},expertise:{primarySkills:["React","Node.js","Python","AWS","MongoDB"],specializations:["Web Development","Cloud Computing"]},applicationStatus:{status:"Submitted",currentStep:"AI Assessment",completionPercentage:100,submittedAt:new Date(Date.now()-2*24*60*60*1e3)},assessment:{overallScore:92,categoryScores:{experience:90,communication:95,availability:88,expertise:95,motivation:90},aiEvaluation:{recommendation:"Strong Approve",confidenceLevel:92,resumeAnalysis:{score:88,strengths:["Strong technical background","Leadership experience"],concerns:[]},skillsMatch:{score:95,marketDemand:"High"},riskFactors:[]}},applicationAge:"2 days ago",approvalReadiness:"Auto-Approve Ready"},{applicationId:"APP_002",personalInfo:{firstName:"James",lastName:"Mwangi",email:"james@example.com",phone:"+254787654321"},professional:{currentRole:"Data Scientist",currentCompany:"Kenya Commercial Bank",industry:"Finance",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:5},education:{highestDegree:"Bachelor's",fieldOfStudy:"Statistics",institution:"Strathmore University"},expertise:{primarySkills:["Python","R","SQL","Machine Learning"],specializations:["Data Science","Analytics"]},applicationStatus:{status:"Submitted",currentStep:"Manual Review",completionPercentage:100,submittedAt:new Date(Date.now()-5*24*60*60*1e3)},assessment:{overallScore:76,categoryScores:{experience:75,communication:80,availability:70,expertise:85,motivation:75},aiEvaluation:{recommendation:"Approve",confidenceLevel:78,resumeAnalysis:{score:75,strengths:["Good technical skills"],concerns:["Limited mentoring experience"]},skillsMatch:{score:80,marketDemand:"High"},riskFactors:[{factor:"New to mentoring",severity:"Low"}]}},applicationAge:"5 days ago",approvalReadiness:"Interview Required"},{applicationId:"APP_003",personalInfo:{firstName:"Grace",lastName:"Achieng",email:"grace@example.com",phone:"+254798765432"},professional:{currentRole:"UX Designer",currentCompany:"iHub",industry:"Technology",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:4},education:{highestDegree:"Bachelor's",fieldOfStudy:"Design",institution:"USIU-Africa"},expertise:{primarySkills:["Figma","Sketch","User Research","Prototyping"],specializations:["UI/UX Design","Product Design"]},applicationStatus:{status:"Under Review",currentStep:"Interview Scheduled",completionPercentage:100,submittedAt:new Date(Date.now()-8*24*60*60*1e3)},assessment:{overallScore:82,categoryScores:{experience:78,communication:88,availability:85,expertise:80,motivation:85},aiEvaluation:{recommendation:"Conditional Approve",confidenceLevel:85,resumeAnalysis:{score:82,strengths:["Strong design portfolio","User-centered approach"],concerns:["Limited teaching experience"]},skillsMatch:{score:85,marketDemand:"Medium"},riskFactors:[{factor:"First-time mentor",severity:"Medium"}]}},applicationAge:"8 days ago",approvalReadiness:"Interview Required"}]),[S]=P.useState({totalApplications:47,submittedApplications:12,approvedApplications:23,rejectedApplications:8,approvalRate:74.2,avgProcessingTime:"3.2 days",aiRecommendations:15,pendingReview:12}),[R]=P.useState({autoApprove:[{applicationId:"APP_001",score:92,name:"Sarah Wanjiku",industry:"Technology"}],interviewRequired:[{applicationId:"APP_002",score:76,name:"James Mwangi",industry:"Finance"},{applicationId:"APP_003",score:82,name:"Grace Achieng",industry:"Technology"}],needsReview:[],summary:{totalPendingReview:3,autoApproveReady:1,interviewsNeeded:2}});P.useEffect(()=>{k(),N()},[o]);const k=async()=>{try{f(!0),e(j),n(S)}catch(Q){console.error("Failed to fetch applications:",Q)}finally{f(!1)}},N=async()=>{try{i(R)}catch(Q){console.error("Failed to fetch AI recommendations:",Q)}},E=async Q=>{try{v(!0),await new Promise(X=>setTimeout(X,3e3)),e(X=>X.map(G=>G.applicationId===Q?{...G,assessment:{...G.assessment,aiEvaluation:{...G.assessment.aiEvaluation,processed:!0}}}:G))}catch(X){console.error("AI evaluation failed:",X)}finally{v(!1)}},T=async(Q,X,G="")=>{try{e(K=>K.map(J=>J.applicationId===Q?{...J,applicationStatus:{...J.applicationStatus,status:X}}:J)),await N()}catch(K){console.error("Failed to update application status:",K)}},_=async()=>{try{const Q=Array.from(d);e(X=>X.map(G=>d.has(G.applicationId)?{...G,applicationStatus:{...G.applicationStatus,status:"Approved"}}:G)),h(new Set),w("")}catch(Q){console.error("Bulk approval failed:",Q)}},A=Q=>Q>=85?"text-green-600":Q>=70?"text-yellow-600":"text-red-600",C=Q=>{switch(Q){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Under Review":return"bg-yellow-100 text-yellow-800";case"Submitted":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},O=Q=>{switch(Q){case"Strong Approve":return s.jsx(Va,{className:"w-4 h-4 text-green-600"});case"Approve":return s.jsx(Ke,{className:"w-4 h-4 text-green-600"});case"Conditional Approve":return s.jsx(Lv,{className:"w-4 h-4 text-yellow-600"});case"Review Needed":return s.jsx(zt,{className:"w-4 h-4 text-blue-600"});case"Reject":return s.jsx(vl,{className:"w-4 h-4 text-red-600"});default:return s.jsx(qt,{className:"w-4 h-4 text-gray-600"})}},V=t.filter(Q=>{if(c){const X=c.toLowerCase();if(!Q.personalInfo.firstName.toLowerCase().includes(X)&&!Q.personalInfo.lastName.toLowerCase().includes(X)&&!Q.personalInfo.email.toLowerCase().includes(X)&&!Q.professional.currentRole.toLowerCase().includes(X)&&!Q.professional.currentCompany.toLowerCase().includes(X))return!1}return!(o.status!=="all"&&Q.applicationStatus.status!==o.status||o.industry!=="all"&&Q.professional.industry!==o.industry||o.minScore&&Q.assessment.overallScore<parseInt(o.minScore))});return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Uo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Mentor Recruiting"}),s.jsx("p",{className:"text-gray-600",children:"Automated application review and mentor onboarding"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Applications"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalApplications})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ke,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.approvalRate,"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Kh,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"AI Processed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.aiRecommendations})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Processing"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.avgProcessingTime})]})]})})]})]}),b&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-8 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Uo,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"}),s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:[(L=a.summary)==null?void 0:L.totalPendingReview," pending"]})]}),s.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Xr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Xn,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-900",children:"Auto-Approve Ready"}),s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:((q=a.autoApprove)==null?void 0:q.length)||0})]}),s.jsxs("div",{className:"space-y-2",children:[(M=a.autoApprove)==null?void 0:M.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-green-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId)),((z=a.autoApprove)==null?void 0:z.length)>0&&s.jsx("button",{onClick:()=>{a.autoApprove.forEach(Q=>T(Q.applicationId,"Approved"))},className:"w-full mt-3 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Auto-Approve All"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Yt,{className:"w-5 h-5 text-yellow-600"}),s.jsx("h3",{className:"font-semibold text-yellow-900",children:"Interview Required"}),s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:((D=a.interviewRequired)==null?void 0:D.length)||0})]}),s.jsx("div",{className:"space-y-2",children:(F=a.interviewRequired)==null?void 0:F.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-yellow-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(zt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Manual Review"}),s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:((W=a.needsReview)==null?void 0:W.length)||0})]}),s.jsx("div",{className:"space-y-2",children:((H=a.needsReview)==null?void 0:H.length)===0?s.jsx("p",{className:"text-sm text-gray-600",children:"All applications processed"}):a.needsReview.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-blue-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId))})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search applications...",value:c,onChange:Q=>u(Q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("select",{value:o.status,onChange:Q=>l(X=>({...X,status:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Submitted",children:"Submitted"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Approved",children:"Approved"}),s.jsx("option",{value:"Rejected",children:"Rejected"})]}),s.jsxs("select",{value:o.industry,onChange:Q=>l(X=>({...X,industry:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Industries"}),s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Finance",children:"Finance"}),s.jsx("option",{value:"Healthcare",children:"Healthcare"}),s.jsx("option",{value:"Education",children:"Education"})]}),s.jsx("input",{type:"number",placeholder:"Min AI Score",value:o.minScore,onChange:Q=>l(X=>({...X,minScore:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 w-32",min:"0",max:"100"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[d.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs("select",{value:p,onChange:Q=>w(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"",children:"Bulk Actions"}),s.jsx("option",{value:"approve",children:"Approve Selected"}),s.jsx("option",{value:"reject",children:"Reject Selected"}),s.jsx("option",{value:"interview",children:"Schedule Interviews"})]}),p==="approve"&&s.jsxs("button",{onClick:_,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:["Approve ",d.size]})]}),s.jsxs("button",{onClick:()=>E("batch"),disabled:g,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[g?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(Uo,{className:"w-4 h-4"}),s.jsx("span",{children:"Run AI Batch"})]}),s.jsxs("button",{className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors flex items-center space-x-2",children:[s.jsx(xl,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Mentor Applications (",V.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-4 px-6 py-3",children:s.jsx("input",{type:"checkbox",onChange:Q=>{Q.target.checked?h(new Set(V.map(X=>X.applicationId))):h(new Set)},className:"w-4 h-4 text-ajira-primary"})}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Score"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Recommendation"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(Q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:d.has(Q.applicationId),onChange:X=>{const G=new Set(d);X.target.checked?G.add(Q.applicationId):G.delete(Q.applicationId),h(G)},className:"w-4 h-4 text-ajira-primary"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-primary/10 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-ajira-primary font-semibold",children:[Q.personalInfo.firstName[0],Q.personalInfo.lastName[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:[Q.personalInfo.firstName," ",Q.personalInfo.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:Q.personalInfo.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.professional.currentRole}),s.jsx("p",{className:"text-sm text-gray-600",children:Q.professional.currentCompany}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Q.professional.yearsOfExperience," years "," ",Q.professional.industry]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-2xl font-bold ${A(Q.assessment.overallScore)}`,children:Q.assessment.overallScore}),s.jsx("span",{className:"text-gray-500",children:"/100"})]}),s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1",children:s.jsx("div",{className:`h-2 rounded-full ${Q.assessment.overallScore>=85?"bg-green-500":Q.assessment.overallScore>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Q.assessment.overallScore}%`}})})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[O(Q.assessment.aiEvaluation.recommendation),s.jsx("span",{className:"font-medium text-sm",children:Q.assessment.aiEvaluation.recommendation})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q.assessment.aiEvaluation.confidenceLevel,"% confidence"]})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(Q.applicationStatus.status)}`,children:Q.applicationStatus.status}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q.applicationAge})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>T(Q.applicationId,"Approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:s.jsx(Ke,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(Q.applicationId,"Rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:s.jsx(Xr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(Q.applicationId),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Run AI Evaluation",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(zt,{className:"w-4 h-4"})})]})})]},Q.applicationId))})]})}),V.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No applications found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search criteria."})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Uo,{className:"w-8 h-8 text-purple-600 animate-pulse"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Processing Applications"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Our AI is analyzing applications and generating recommendations..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin text-purple-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Analyzing candidate profiles"})]})]})})})]})},Th="http://localhost:5000/api",wte=()=>{var O,V;const[t,e]=P.useState(1),[r,n]=P.useState(null),[a,i]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(""),[d,h]=P.useState(""),[m,f]=P.useState(0),[g,v]=P.useState({personalInfo:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",nationality:"Kenyan",profilePhoto:"",socialLinks:{linkedin:"",twitter:"",github:"",website:""}},location:{city:"Nairobi",county:"Nairobi",country:"Kenya",isLocationFlexible:!0,preferredRadius:50,canTravelForMentoring:!1},availability:{isAvailableNow:!1,preferredSchedule:{monday:{available:!1,hours:[]},tuesday:{available:!1,hours:[]},wednesday:{available:!1,hours:[]},thursday:{available:!1,hours:[]},friday:{available:!1,hours:[]},saturday:{available:!1,hours:[]},sunday:{available:!1,hours:[]}},weeklyHoursCommitment:5,maxMentees:3,responseTimeCommitment:"Within 24 hours",instantMentoring:{enabled:!1,maxInstantSessions:2,instantSessionDuration:30}},professional:{currentRole:"",currentCompany:"",industry:"Technology",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:3,previousRoles:[],achievements:[],certifications:[]},education:{highestDegree:"Bachelor's",fieldOfStudy:"",institution:"",graduationYear:new Date().getFullYear(),additionalEducation:[],onlineCoursesCompleted:[]},mentoringExperience:{hasMentoredBefore:!1,previousMentoringExperience:"",numberOfMentees:0,mentoringDuration:"",mentoringStyle:"Collaborative",preferredMentoringFormat:["One-on-One"]},expertise:{primarySkills:[],secondarySkills:[],technicalSkills:[],softSkills:[],specializations:[],industries:[],careerStages:["Students"]},motivation:{whyMentor:"",mentoringGoals:[],successDefinition:"",challengesToAddress:[],idealMenteeProfile:"",valuesToShare:[],personalGrowthGoals:""},documents:{resume:"",coverLetter:"",portfolio:"",recommendations:[]}}),b=[{number:1,title:"Personal Information",icon:or,description:"Tell us about yourself"},{number:2,title:"Location & Availability",icon:Jn,description:"Where and when you can mentor"},{number:3,title:"Professional Background",icon:Dl,description:"Your career journey"},{number:4,title:"Education",icon:JO,description:"Academic background"},{number:5,title:"Mentoring Experience",icon:Ve,description:"Previous mentoring history"},{number:6,title:"Expertise & Skills",icon:vt,description:"What you can teach"},{number:7,title:"Motivation & Goals",icon:Jm,description:"Why you want to mentor"},{number:8,title:"Documents",icon:Bn,description:"Supporting documents"}];P.useEffect(()=>{(async()=>{const q=localStorage.getItem("mentorApplicationEmail");if(q)try{const M=await be.get(`${Th}/mentor-application/application/${q}`);M.data.applicationId&&(n(M.data.applicationId),e(y(M.data.currentStep)),f(M.data.completionPercentage),h("Continuing your existing application..."))}catch{localStorage.removeItem("mentorApplicationEmail")}})()},[]);const y=L=>({"Personal Info":1,"Location & Availability":2,"Professional Background":3,Education:4,"Mentoring Experience":5,"Expertise & Skills":6,Motivation:7,"Documents Upload":8,Submitted:9})[L]||1,p=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:M}}))},w=(L,q,M,z)=>{v(D=>({...D,[L]:{...D[L],[q]:{...D[L][q],[M]:z}}}))},j=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:M}}))},S=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:[...z[L][q],M]}}))},R=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:z[L][q].filter((D,F)=>F!==M)}}))},k=L=>{switch(L){case 1:const{firstName:q,lastName:M,email:z,phone:D}=g.personalInfo;return q&&M&&z&&D;case 2:return g.location.city&&g.availability.weeklyHoursCommitment>0;case 3:const{currentRole:F,currentCompany:W,industry:H}=g.professional;return F&&W&&H;case 4:const{fieldOfStudy:Q,institution:X}=g.education;return Q&&X;case 5:return!0;case 6:return g.expertise.primarySkills.length>=3&&g.expertise.specializations.length>0;case 7:return g.motivation.whyMentor.length>50;case 8:return!0;default:return!0}},N=async L=>{var q,M,z,D,F;if(!r&&L===1)try{i(!0);const W=await be.post(`${Th}/mentor-application/apply`,{email:g.personalInfo.email,sourceChannel:"website"});n(W.data.applicationId),localStorage.setItem("mentorApplicationEmail",g.personalInfo.email)}catch(W){if(((q=W.response)==null?void 0:q.status)===400)n(W.response.data.applicationId),e(y(W.response.data.currentStep)),h("Continuing your existing application...");else return u(((z=(M=W.response)==null?void 0:M.data)==null?void 0:z.message)||"Failed to start application"),!1}finally{i(!1)}if(r)try{i(!0);const W={1:"personal-info",2:"location-availability",3:"professional",4:"education",5:"mentoring-experience",6:"expertise",7:"motivation",8:"documents"},H=E(L),Q=await be.put(`${Th}/mentor-application/application/${r}/step/${W[L]}`,H);f(Q.data.completionPercentage)}catch(W){return u(((F=(D=W.response)==null?void 0:D.data)==null?void 0:F.message)||"Failed to save step"),!1}finally{i(!1)}return!0},E=L=>{switch(L){case 1:return g.personalInfo;case 2:return{location:g.location,availability:g.availability};case 3:return g.professional;case 4:return g.education;case 5:return g.mentoringExperience;case 6:return g.expertise;case 7:return g.motivation;case 8:return g.documents;default:return{}}},T=async()=>{if(!k(t)){u("Please fill in all required fields before continuing.");return}u(""),await N(t)&&t<b.length&&(e(t+1),h("Progress saved!"),setTimeout(()=>h(""),3e3))},_=()=>{t>1&&e(t-1)},A=async()=>{var L,q;if(!k(t)){u("Please complete all required fields.");return}try{l(!0),u(""),await N(t);const M=await be.post(`${Th}/mentor-application/application/${r}/submit`);h(`Application submitted successfully! Your AI score: ${M.data.aiScore}/100. Expected review time: ${M.data.estimatedReviewTime}`),localStorage.removeItem("mentorApplicationEmail"),setTimeout(()=>{window.location.href=`/mentor-application/status/${r}`},3e3)}catch(M){u(((q=(L=M.response)==null?void 0:L.data)==null?void 0:q.message)||"Failed to submit application")}finally{l(!1)}},C=()=>{switch(t){case 1:return s.jsx(Nte,{data:g.personalInfo,onChange:(L,q)=>p("personalInfo",L,q),onNestedChange:(L,q,M)=>w("personalInfo",L,q,M)});case 2:return s.jsx(kte,{locationData:g.location,availabilityData:g.availability,onLocationChange:(L,q)=>p("location",L,q),onAvailabilityChange:(L,q)=>p("availability",L,q),onNestedChange:w});case 3:return s.jsx(Ste,{data:g.professional,onChange:(L,q)=>p("professional",L,q),onArrayChange:(L,q)=>j("professional",L,q),addToArray:(L,q)=>S("professional",L,q),removeFromArray:(L,q)=>R("professional",L,q)});case 4:return s.jsx(_te,{data:g.education,onChange:(L,q)=>p("education",L,q),onArrayChange:(L,q)=>j("education",L,q)});case 5:return s.jsx(Ete,{data:g.mentoringExperience,onChange:(L,q)=>p("mentoringExperience",L,q),onArrayChange:(L,q)=>j("mentoringExperience",L,q)});case 6:return s.jsx(Tte,{data:g.expertise,onChange:(L,q)=>p("expertise",L,q),onArrayChange:(L,q)=>j("expertise",L,q)});case 7:return s.jsx(Cte,{data:g.motivation,onChange:(L,q)=>p("motivation",L,q),onArrayChange:(L,q)=>j("motivation",L,q)});case 8:return s.jsx(Ate,{data:g.documents,onChange:(L,q)=>p("documents",L,q),onArrayChange:(L,q)=>j("documents",L,q)});default:return null}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Apply to Become a Mentor"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join our community of mentors and help shape the next generation of digital professionals. Our application process is designed to ensure the best match between mentors and mentees."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Application Progress"}),s.jsxs("span",{className:"text-sm font-medium text-ajira-primary",children:[m,"% Complete"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:s.jsx("div",{className:"bg-ajira-primary h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})}),s.jsx("div",{className:"flex items-center justify-between",children:b.map((L,q)=>{const M=L.icon,z=t===L.number,D=t>L.number;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${z?"bg-ajira-primary text-white":D?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:D?s.jsx(Ke,{className:"w-5 h-5"}):s.jsx(M,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-sm font-medium ${z?"text-ajira-primary":"text-gray-600"}`,children:L.title}),s.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:L.description})]})]},L.number)})})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qt,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700",children:c})]})}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-5 h-5 text-green-500 mr-2"}),s.jsx("p",{className:"text-green-700",children:d})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Step ",t,": ",(O=b[t-1])==null?void 0:O.title]}),s.jsx("p",{className:"text-gray-600",children:(V=b[t-1])==null?void 0:V.description})]}),C()]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:_,disabled:t===1,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${t===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`,children:[s.jsx(rp,{className:"w-5 h-5"}),s.jsx("span",{children:"Previous"})]}),t<b.length?s.jsx("button",{onClick:T,disabled:a||!k(t),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${a||!k(t)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-ajira-primary text-white hover:bg-ajira-primary/90"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Next"}),s.jsx(Un,{className:"w-5 h-5"})]})}):s.jsx("button",{onClick:A,disabled:o||!k(t),className:`flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors ${o||!k(t)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Submitting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"w-5 h-5"}),s.jsx("span",{children:"Submit Application"})]})})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Our application process typically takes 15-20 minutes to complete. Your progress is automatically saved, so you can return anytime to continue."}),s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Contact Support"}),s.jsx("a",{href:"/mentorship/faq",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Application FAQ"}),s.jsx("a",{href:"/mentorship/requirements",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Requirements"})]})]})]})})},Nte=({data:t,onChange:e,onNestedChange:r})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:t.firstName,onChange:n=>e("firstName",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:t.lastName,onChange:n=>e("lastName",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Doe"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:t.email,onChange:n=>e("email",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"john.doe@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",value:t.phone,onChange:n=>e("phone",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"+254 712 345 678"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:t.dateOfBirth,onChange:n=>e("dateOfBirth",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),s.jsxs("select",{value:t.nationality,onChange:n=>e("nationality",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Kenyan",children:"Kenyan"}),s.jsx("option",{value:"Ugandan",children:"Ugandan"}),s.jsx("option",{value:"Tanzanian",children:"Tanzanian"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Links (Optional)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"url",value:t.socialLinks.linkedin,onChange:n=>r("socialLinks","linkedin",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"LinkedIn Profile URL"}),s.jsx("input",{type:"url",value:t.socialLinks.github,onChange:n=>r("socialLinks","github",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"GitHub Profile URL"})]})]})]}),kte=({locationData:t,availabilityData:e,onLocationChange:r,onAvailabilityChange:n,onNestedChange:a})=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location Preferences"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsxs("select",{value:t.city,onChange:i=>r("city",i.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Nairobi",children:"Nairobi"}),s.jsx("option",{value:"Mombasa",children:"Mombasa"}),s.jsx("option",{value:"Kisumu",children:"Kisumu"}),s.jsx("option",{value:"Nakuru",children:"Nakuru"}),s.jsx("option",{value:"Eldoret",children:"Eldoret"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Radius (km)"}),s.jsx("input",{type:"number",value:t.preferredRadius,onChange:i=>r("preferredRadius",parseInt(i.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"5",max:"100"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.isLocationFlexible,onChange:i=>r("isLocationFlexible",i.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I'm flexible with location"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.canTravelForMentoring,onChange:i=>r("canTravelForMentoring",i.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I can travel for in-person mentoring"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Availability"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weekly Hours Commitment *"}),s.jsx("input",{type:"number",value:e.weeklyHoursCommitment,onChange:i=>n("weeklyHoursCommitment",parseInt(i.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"40"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hours per week you can dedicate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Mentees"}),s.jsx("input",{type:"number",value:e.maxMentees,onChange:i=>n("maxMentees",parseInt(i.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Time Commitment"}),s.jsxs("select",{value:e.responseTimeCommitment,onChange:i=>n("responseTimeCommitment",i.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Within 1 hour",children:"Within 1 hour"}),s.jsx("option",{value:"Within 4 hours",children:"Within 4 hours"}),s.jsx("option",{value:"Within 24 hours",children:"Within 24 hours"}),s.jsx("option",{value:"Within 48 hours",children:"Within 48 hours"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.isAvailableNow,onChange:i=>n("isAvailableNow",i.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I'm available for immediate mentoring"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.instantMentoring.enabled,onChange:i=>a("availability","instantMentoring","enabled",i.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable instant mentoring (Uber-like on-demand help)"})]})]})]})]}),Ste=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Role *"}),s.jsx("input",{type:"text",value:t.currentRole,onChange:r=>e("currentRole",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Software Engineer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Company *"}),s.jsx("input",{type:"text",value:t.currentCompany,onChange:r=>e("currentCompany",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Safaricom PLC"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry *"}),s.jsxs("select",{value:t.industry,onChange:r=>e("industry",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Finance",children:"Finance"}),s.jsx("option",{value:"Healthcare",children:"Healthcare"}),s.jsx("option",{value:"Education",children:"Education"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),s.jsx("input",{type:"number",value:t.yearsOfExperience,onChange:r=>e("yearsOfExperience",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"50"})]})]})]}),_te=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highest Degree"}),s.jsxs("select",{value:t.highestDegree,onChange:r=>e("highestDegree",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"High School",children:"High School"}),s.jsx("option",{value:"Certificate",children:"Certificate"}),s.jsx("option",{value:"Diploma",children:"Diploma"}),s.jsx("option",{value:"Bachelor's",children:"Bachelor's"}),s.jsx("option",{value:"Master's",children:"Master's"}),s.jsx("option",{value:"PhD",children:"PhD"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field of Study *"}),s.jsx("input",{type:"text",value:t.fieldOfStudy,onChange:r=>e("fieldOfStudy",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Computer Science"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution *"}),s.jsx("input",{type:"text",value:t.institution,onChange:r=>e("institution",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"University of Nairobi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Graduation Year"}),s.jsx("input",{type:"number",value:t.graduationYear,onChange:r=>e("graduationYear",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1990",max:new Date().getFullYear()+10})]})]})]}),Ete=({data:t,onChange:e})=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",checked:t.hasMentoredBefore,onChange:r=>e("hasMentoredBefore",r.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"I have mentored before"})]}),t.hasMentoredBefore&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Previous Mentoring Experience"}),s.jsx("textarea",{value:t.previousMentoringExperience,onChange:r=>e("previousMentoringExperience",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"Describe your previous mentoring experience..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Mentees"}),s.jsx("input",{type:"number",value:t.numberOfMentees,onChange:r=>e("numberOfMentees",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentoring Style"}),s.jsxs("select",{value:t.mentoringStyle,onChange:r=>e("mentoringStyle",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Directive",children:"Directive"}),s.jsx("option",{value:"Non-Directive",children:"Non-Directive"}),s.jsx("option",{value:"Collaborative",children:"Collaborative"}),s.jsx("option",{value:"Coaching",children:"Coaching"}),s.jsx("option",{value:"Mixed",children:"Mixed"})]})]})]})]})]})}),Tte=({data:t,onChange:e,onArrayChange:r})=>{const[n,a]=P.useState(""),i=()=>{n.trim()&&!t.primarySkills.includes(n.trim())&&(r("primarySkills",[...t.primarySkills,n.trim()]),a(""))},o=l=>{r("primarySkills",t.primarySkills.filter(c=>c!==l))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Skills * (Add at least 3)"}),s.jsxs("div",{className:"flex space-x-2 mb-3",children:[s.jsx("input",{type:"text",value:n,onChange:l=>a(l.target.value),onKeyPress:l=>l.key==="Enter"&&i(),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"e.g., JavaScript, React, Python"}),s.jsx("button",{type:"button",onClick:i,className:"px-4 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.primarySkills.map((l,c)=>s.jsxs("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-sm flex items-center",children:[l,s.jsx("button",{type:"button",onClick:()=>o(l),className:"ml-2 text-red-500 hover:text-red-700",children:""})]},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Web Development","Mobile Development","Data Science","UI/UX Design","Digital Marketing","Cybersecurity","Project Management","Entrepreneurship","Career Development","Freelancing","Content Creation","Graphic Design"].map(l=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.specializations.includes(l),onChange:c=>{c.target.checked?r("specializations",[...t.specializations,l]):r("specializations",t.specializations.filter(u=>u!==l))},className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:l})]},l))})]})]})},Cte=({data:t,onChange:e,onArrayChange:r})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why do you want to become a mentor? * (Minimum 50 characters)"}),s.jsx("textarea",{value:t.whyMentor,onChange:n=>e("whyMentor",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Share your motivation for mentoring and how you plan to help mentees grow..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.whyMentor.length,"/50 characters minimum"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How do you define success in mentoring?"}),s.jsx("textarea",{value:t.successDefinition,onChange:n=>e("successDefinition",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"What does a successful mentoring relationship look like to you?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe your ideal mentee"}),s.jsx("textarea",{value:t.idealMenteeProfile,onChange:n=>e("idealMenteeProfile",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"What type of mentee would you work best with?"})]})]}),Ate=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(Bn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Supporting Documents"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"While optional now, providing documents can help speed up your application review."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume/CV"}),s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),s.jsx("textarea",{value:t.coverLetter,onChange:r=>e("coverLetter",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Tell us more about why you'd be a great mentor..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio URL"}),s.jsx("input",{type:"url",value:t.portfolio,onChange:r=>e("portfolio",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"https://yourportfolio.com"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Document Guidelines"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Resume: PDF format preferred, max 2MB"}),s.jsx("li",{children:" Cover Letter: Focus on your mentoring goals and experience"}),s.jsx("li",{children:" Portfolio: Showcase your best work and projects"}),s.jsx("li",{children:" All documents will be reviewed confidentially"})]})]})]}),Pte=()=>{var C,O,V;const[t,e]=P.useState(!1),[r,n]=P.useState("670b8f123d4e567890abcdef"),[a,i]=P.useState("requests"),[o,l]=P.useState([]),[c,u]=P.useState([]),[d,h]=P.useState([]),[m,f]=P.useState({}),[g,v]=P.useState(!0),[b,y]=P.useState(""),[p,w]=P.useState({lat:-1.2921,lng:36.8219}),[j]=P.useState([{requestId:"REQ_001",mentee:{name:"Jane Doe",email:"jane@example.com"},sessionType:"Quick Question",category:"Web Development",urgency:"High",problemDescription:"Need help with React hooks implementation",preferredDuration:30,location:{city:"Nairobi",distance:"2.5 km"},requestedAt:new Date(Date.now()-5*60*1e3),timeElapsed:"5 minutes ago"},{requestId:"REQ_002",mentee:{name:"John Smith",email:"john@example.com"},sessionType:"Career Advice",category:"Career Development",urgency:"Medium",problemDescription:"Looking for guidance on transitioning to tech career",preferredDuration:45,location:{city:"Nairobi",distance:"5.1 km"},requestedAt:new Date(Date.now()-10*60*1e3),timeElapsed:"10 minutes ago"}]),[S]=P.useState([{sessionId:"SES_001",mentee:{name:"Alice Johnson",email:"alice@example.com"},sessionInfo:{title:"JavaScript Fundamentals",category:"Web Development",type:"Scheduled"},scheduling:{scheduledFor:new Date(Date.now()+2*60*60*1e3),duration:60},format:{type:"Virtual",platform:"Zoom"},status:{current:"Confirmed"}},{sessionId:"SES_002",mentee:{name:"Bob Wilson",email:"bob@example.com"},sessionInfo:{title:"React Best Practices",category:"Web Development",type:"Instant"},scheduling:{scheduledFor:new Date(Date.now()+30*60*1e3),duration:45},format:{type:"Virtual",platform:"Google Meet"},status:{current:"In Progress"}}]),[R]=P.useState({totalSessions:47,completedSessions:42,averageRating:4.8,totalEarnings:58500,thisWeekSessions:8,thisWeekEarnings:12e3,responseTime:"12 minutes",acceptanceRate:89});P.useEffect(()=>{k(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(L=>{w({lat:L.coords.latitude,lng:L.coords.longitude})},L=>{console.log("Location access denied:",L)})},[r]);const k=async()=>{try{v(!0),l(j),u(S),h([]),f(R)}catch(L){console.error("Failed to fetch dashboard data:",L),y("Failed to load dashboard data")}finally{v(!1)}},N=async()=>{try{e(!t)}catch(L){console.error("Failed to update availability:",L),e(t)}},E=async(L,q,M="")=>{try{if(l(z=>z.filter(D=>D.requestId!==L)),q==="Accepted"){const z=o.find(D=>D.requestId===L);if(z){const D={sessionId:`SES_${Date.now()}`,mentee:z.mentee,sessionInfo:{title:z.sessionType,category:z.category,type:"Instant"},scheduling:{scheduledFor:new Date(Date.now()+9e5),duration:z.preferredDuration},format:{type:"Virtual",platform:"Zoom"},status:{current:"Confirmed"}};u(F=>[...F,D])}}}catch(z){console.error("Failed to respond to request:",z)}},T=L=>new Date(L).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),_=L=>{switch(L){case"Critical":return"text-red-600 bg-red-100 border-red-200";case"High":return"text-orange-600 bg-orange-100 border-orange-200";case"Medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"Low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},A=L=>{switch(L){case"Confirmed":return"text-green-600 bg-green-100";case"In Progress":return"text-blue-600 bg-blue-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Completed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return g?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your mentor dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx(or,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Mentor Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back, Mentor!"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?"Online":"Offline"}),s.jsx("button",{onClick:N,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary focus:ring-offset-2 ${t?"bg-ajira-primary":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(Bs,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(qu,{className:"w-5 h-5"})})]})]})})}),t&&s.jsx("div",{className:"bg-green-50 border-b border-green-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-green-700 font-medium",children:"You're online and available for mentoring"})]}),s.jsxs("div",{className:"text-green-600",children:[o.length," pending request",o.length!==1?"s":""]})]}),s.jsxs("div",{className:"text-green-600",children:["Response time: ",m.responseTime]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ve,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalSessions})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(lt,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.averageRating})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Yn,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"This Week"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["KES ",(C=m.thisWeekEarnings)==null?void 0:C.toLocaleString()]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(hs,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Acceptance Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.acceptanceRate,"%"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"requests",name:"Pending Requests",icon:Bs,count:o.length},{id:"sessions",name:"Upcoming Sessions",icon:Yt,count:c.length},{id:"earnings",name:"Earnings",icon:Yn},{id:"profile",name:"Profile",icon:or}].map(L=>{const q=L.icon;return s.jsxs("button",{onClick:()=>i(L.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${a===L.id?"border-ajira-primary text-ajira-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(q,{className:"w-4 h-4"}),s.jsx("span",{children:L.name}),L.count!==void 0&&L.count>0&&s.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:L.count})]},L.id)})})}),s.jsxs("div",{className:"p-6",children:[a==="requests"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Mentorship Requests"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," active request",o.length!==1?"s":""]})]}),o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pending requests"}),s.jsx("p",{className:"text-gray-600",children:t?"You're online and ready to receive requests!":"Go online to start receiving mentorship requests."})]}):s.jsx("div",{className:"space-y-4",children:o.map(L=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.sessionType}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(L.urgency)}`,children:[L.urgency," Priority"]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:L.mentee.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"w-4 h-4"}),s.jsx("span",{children:L.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.preferredDuration," minutes "," ",L.timeElapsed]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.location.city," "," ",L.location.distance]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>E(L.requestId,"Declined"),className:"p-3 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Decline",children:s.jsx(Xr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>E(L.requestId,"Accepted"),className:"p-3 bg-ajira-primary text-white hover:bg-ajira-primary/90 rounded-full transition-colors",title:"Accept",children:s.jsx(Ke,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Problem Description:"}),s.jsx("p",{className:"text-gray-700 text-sm",children:L.problemDescription})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Message"})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(to,{className:"w-4 h-4"}),s.jsx("span",{children:"Call"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Request ID: ",L.requestId]})]})]},L.requestId))})]}),a==="sessions"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Sessions"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[c.length," scheduled session",c.length!==1?"s":""]})]}),c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No upcoming sessions"}),s.jsx("p",{className:"text-gray-600",children:"Accept pending requests to schedule new mentoring sessions."})]}):s.jsx("div",{className:"space-y-4",children:c.map(L=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.sessionInfo.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(L.status.current)}`,children:L.status.current})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:L.mentee.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"w-4 h-4"}),s.jsx("span",{children:L.sessionInfo.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[T(L.scheduling.scheduledFor)," "," ",L.scheduling.duration," minutes"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ro,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.format.platform," "," ",L.format.type]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2 ml-4",children:L.status.current==="In Progress"?s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Join Session"}):s.jsx("button",{className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Start Session"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Message"})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:"Reschedule"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Session ID: ",L.sessionId]})]})]},L.sessionId))})]}),a==="earnings"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Earnings Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Earnings"}),s.jsxs("p",{className:"text-3xl font-bold",children:["KES ",(O=m.totalEarnings)==null?void 0:O.toLocaleString()]}),s.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Across ",m.completedSessions," completed sessions"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Week"}),s.jsxs("p",{className:"text-3xl font-bold",children:["KES ",(V=m.thisWeekEarnings)==null?void 0:V.toLocaleString()]}),s.jsxs("p",{className:"text-blue-100 text-sm mt-2",children:[m.thisWeekSessions," sessions completed"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings Breakdown"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Average per session"}),s.jsxs("span",{className:"font-semibold",children:["KES"," ",Math.round(m.totalEarnings/m.completedSessions).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Sessions this month"}),s.jsx("span",{className:"font-semibold",children:"12"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Monthly earnings"}),s.jsx("span",{className:"font-semibold",children:"KES 18,500"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-gray-600",children:"Pending payments"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:"KES 3,200"})]})]})]})]}),a==="profile"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Mentor Profile"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Status"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Profile completion"}),s.jsx("span",{className:"font-semibold text-green-600",children:"100%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Verification status"}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-600",children:"Verified"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Badge level"}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:"Gold"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Instant mentoring"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-ajira-primary",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Push notifications"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-ajira-primary",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Weekend availability"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-1"})})]})]})]})]})]})]})]})]})]})},Ite=[{path:"/",element:s.jsx(nt,{children:s.jsx(lL,{})})},{path:"/about",element:s.jsx(nt,{children:s.jsx(Iee,{})})},{path:"/community",element:s.jsx(nt,{children:s.jsx(D8,{})})},{path:"/videos",element:s.jsx(nt,{children:s.jsx(xee,{})})},{path:"/events",element:s.jsx(nt,{children:s.jsx(yee,{})})},{path:"/testimonials",element:s.jsx(nt,{children:s.jsx(jQ,{})})},{path:"/blog",element:s.jsx(nt,{children:s.jsx(vee,{})})},{path:"/ambassador",element:s.jsx(nt,{children:s.jsx(RZ,{})})},{path:"/showcase",element:s.jsx(nt,{children:s.jsx(OZ,{})})},{path:"/updates",element:s.jsx(nt,{children:s.jsx(Eee,{})})},{path:"/team",element:s.jsx(nt,{children:s.jsx(Cee,{})})},{path:"/training",element:s.jsx(nt,{children:s.jsx(bee,{})})},{path:"/mentorship",element:s.jsx(nt,{children:s.jsx(kee,{})})},{path:"/mentorship/apply",element:s.jsx(nt,{children:s.jsx(wte,{})})},{path:"/mentor/dashboard",element:s.jsx(nt,{children:s.jsx(Pte,{})})},{path:"/faq",element:s.jsx(nt,{children:s.jsx(Aee,{})})},{path:"/contact",element:s.jsx(nt,{children:s.jsx(Oee,{})})},{path:"/become-seller",element:s.jsx(nt,{children:s.jsx(Lee,{})})},{path:"/privacy",element:s.jsx(nt,{children:s.jsx(Dee,{})})},{path:"/terms",element:s.jsx(nt,{children:s.jsx(Mee,{})})},{path:"/marketplace",element:s.jsx(nt,{children:s.jsx(uh,{children:s.jsx(bL,{})})})},{path:"/marketplace/gigs/:gigId",element:s.jsx(nt,{children:s.jsx(uh,{children:s.jsx(jL,{})})})},{path:"/marketplace/create",element:s.jsx(nt,{children:s.jsx(uh,{children:s.jsx(Pr,{children:s.jsx(kL,{})})})})},{path:"/marketplace/search",element:s.jsx(nt,{children:s.jsx(uh,{children:s.jsx(SL,{})})})},{path:"/orders",element:s.jsx(nt,{children:s.jsx(Pr,{children:s.jsx(y8,{})})})},{path:"/orders/:orderId",element:s.jsx(nt,{children:s.jsx(Pr,{children:s.jsx(x8,{})})})},{path:"/notifications",element:s.jsx(nt,{children:s.jsx(Pr,{children:s.jsx(A8,{})})})},{path:"/auth",element:s.jsx(k8,{})},{path:"/verify-email",element:s.jsx(S8,{})},{path:"/profile",element:s.jsx(nt,{children:s.jsx(Pr,{children:s.jsx(W1,{})})})},{path:"/history",element:s.jsx(nt,{children:s.jsx(Vee,{})})},{path:"/shorts",element:s.jsx(nt,{children:s.jsx(Hee,{})})},{path:"/playlists",element:s.jsx(nt,{children:s.jsx(ete,{})})},{path:"/subscriptions",element:s.jsx(nt,{children:s.jsx(tte,{})})},{path:"/watch-later",element:s.jsx(nt,{children:s.jsx(ste,{})})},{path:"/liked-videos",element:s.jsx(nt,{children:s.jsx(ate,{})})},{path:"/your-videos",element:s.jsx(nt,{children:s.jsx(cte,{})})},{path:"/admin",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(hte,{})})},{path:"/admin/about-us",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(mte,{})})},{path:"/admin/team",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(fte,{})})},{path:"/admin/updates",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(pte,{})})},{path:"/admin/faq",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(gte,{})})},{path:"/admin/contact",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(xte,{})})},{path:"/admin/training",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(yte,{})})},{path:"/admin/mentorship",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(vte,{})})},{path:"/admin/events",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(bte,{})})},{path:"/admin/mentor-applications",element:s.jsx(Pr,{requiredRole:"admin",children:s.jsx(jte,{})})},{path:"/profile",element:s.jsx(Pr,{children:s.jsx(W1,{})})},{path:"/biometric-test",element:s.jsx(nt,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx(Uee,{})})})},{path:"/reset-password",element:s.jsx(Bee,{})}],Rte=()=>{var r;const t=DE();if(EE(t))return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:[t.status," - ",t.statusText]}),s.jsx("p",{className:"text-gray-600",children:((r=t.data)==null?void 0:r.message)||"An error occurred"})]})});const e=t instanceof Error?t.message:"An unexpected error occurred";return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:e})]})})},Ote=()=>s.jsx(rL,{children:s.jsx(H4,{children:s.jsxs(T8,{children:[s.jsxs(cu,{children:[s.jsx("title",{children:"Ajira Digital KiNaP Club"}),s.jsx("meta",{name:"description",content:"Ajira Digital KiNaP Club - Your trusted marketplace for digital services"})]}),s.jsx(UO,{children:s.jsx(I6,{children:Ite.map(t=>s.jsx(LE,{path:t.path,element:t.element,errorElement:s.jsx(Rte,{})},t.path))})}),s.jsx(fD,{}),s.jsx(VO,{position:"top-right"})]})})});const Dte=new dR({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3,cacheTime:10*60*1e3}}});vx.createRoot(document.getElementById("root")).render(s.jsx(ut.StrictMode,{children:s.jsx(sl,{children:s.jsx(xR,{client:Dte,children:s.jsx(B6,{children:s.jsx(H4,{children:s.jsx(Ote,{})})})})})}));
