function $P(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $k={exports:{}},Af={},qk={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),qP=Symbol.for("react.portal"),zP=Symbol.for("react.fragment"),WP=Symbol.for("react.strict_mode"),HP=Symbol.for("react.profiler"),KP=Symbol.for("react.provider"),GP=Symbol.for("react.context"),QP=Symbol.for("react.forward_ref"),YP=Symbol.for("react.suspense"),JP=Symbol.for("react.memo"),XP=Symbol.for("react.lazy"),yj=Symbol.iterator;function ZP(t){return t===null||typeof t!="object"?null:(t=yj&&t[yj]||t["@@iterator"],typeof t=="function"?t:null)}var zk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wk=Object.assign,Hk={};function Wl(t,e,r){this.props=t,this.context=e,this.refs=Hk,this.updater=r||zk}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kk(){}Kk.prototype=Wl.prototype;function f0(t,e,r){this.props=t,this.context=e,this.refs=Hk,this.updater=r||zk}var p0=f0.prototype=new Kk;p0.constructor=f0;Wk(p0,Wl.prototype);p0.isPureReactComponent=!0;var vj=Array.isArray,Gk=Object.prototype.hasOwnProperty,g0={current:null},Qk={key:!0,ref:!0,__self:!0,__source:!0};function Yk(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Gk.call(e,n)&&!Qk.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:sd,type:t,key:a,ref:o,props:i,_owner:g0.current}}function e3(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x0(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function t3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bj=/\/+/g;function Kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t3(""+t.key):e.toString(36)}function Nh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sd:case qP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Kp(o,0):n,vj(i)?(r="",t!=null&&(r=t.replace(bj,"$&/")+"/"),Nh(i,e,r,"",function(u){return u})):i!=null&&(x0(i)&&(i=e3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(bj,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",vj(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Kp(a,l);o+=Nh(a,e,r,c,i)}else if(c=ZP(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Kp(a,l++),o+=Nh(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fd(t,e,r){if(t==null)return t;var n=[],i=0;return Nh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function r3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},kh={transition:null},s3={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:kh,ReactCurrentOwner:g0};function Jk(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Fd,forEach:function(t,e,r){Fd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Fd(t,function(){e++}),e},toArray:function(t){return Fd(t,function(e){return e})||[]},only:function(t){if(!x0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=Wl;rt.Fragment=zP;rt.Profiler=HP;rt.PureComponent=f0;rt.StrictMode=WP;rt.Suspense=YP;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s3;rt.act=Jk;rt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Wk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=g0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Gk.call(e,c)&&!Qk.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:sd,type:t.type,key:i,ref:a,props:n,_owner:o}};rt.createContext=function(t){return t={$$typeof:GP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KP,_context:t},t.Consumer=t};rt.createElement=Yk;rt.createFactory=function(t){var e=Yk.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:QP,render:t}};rt.isValidElement=x0;rt.lazy=function(t){return{$$typeof:XP,_payload:{_status:-1,_result:t},_init:r3}};rt.memo=function(t,e){return{$$typeof:JP,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=kh.transition;kh.transition={};try{t()}finally{kh.transition=e}};rt.unstable_act=Jk;rt.useCallback=function(t,e){return Wr.current.useCallback(t,e)};rt.useContext=function(t){return Wr.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};rt.useEffect=function(t,e){return Wr.current.useEffect(t,e)};rt.useId=function(){return Wr.current.useId()};rt.useImperativeHandle=function(t,e,r){return Wr.current.useImperativeHandle(t,e,r)};rt.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return Wr.current.useMemo(t,e)};rt.useReducer=function(t,e,r){return Wr.current.useReducer(t,e,r)};rt.useRef=function(t){return Wr.current.useRef(t)};rt.useState=function(t){return Wr.current.useState(t)};rt.useSyncExternalStore=function(t,e,r){return Wr.current.useSyncExternalStore(t,e,r)};rt.useTransition=function(){return Wr.current.useTransition()};rt.version="18.3.1";qk.exports=rt;var P=qk.exports;const pt=oo(P),n3=$P({__proto__:null,default:pt},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3=P,a3=Symbol.for("react.element"),o3=Symbol.for("react.fragment"),l3=Object.prototype.hasOwnProperty,c3=i3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u3={key:!0,ref:!0,__self:!0,__source:!0};function Xk(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)l3.call(e,n)&&!u3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:a3,type:t,key:a,ref:o,props:i,_owner:c3.current}}Af.Fragment=o3;Af.jsx=Xk;Af.jsxs=Xk;$k.exports=Af;var s=$k.exports,ux={},Zk={exports:{}},ms={},eS={exports:{}},tS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var D=M.length;M.push(z);e:for(;0<D;){var F=D-1>>>1,H=M[F];if(0<i(H,z))M[F]=z,M[D]=H,D=F;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],D=M.pop();if(D!==z){M[0]=D;e:for(var F=0,H=M.length,W=H>>>1;F<W;){var Q=2*(F+1)-1,X=M[Q],G=Q+1,K=M[G];if(0>i(X,D))G<H&&0>i(K,X)?(M[F]=K,M[G]=D,F=G):(M[F]=X,M[Q]=D,F=Q);else if(G<H&&0>i(K,D))M[F]=K,M[G]=D,F=G;else break e}}return z}function i(M,z){var D=M.sortIndex-z.sortIndex;return D!==0?D:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,h=3,f=!1,g=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=M)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function w(M){if(v=!1,b(M),!g)if(r(c)!==null)g=!0,L(S);else{var z=r(u);z!==null&&q(w,z.startTime-M)}}function S(M,z){g=!1,v&&(v=!1,y(k),k=-1),f=!0;var D=h;try{for(b(z),m=r(c);m!==null&&(!(m.expirationTime>z)||M&&!_());){var F=m.callback;if(typeof F=="function"){m.callback=null,h=m.priorityLevel;var H=F(m.expirationTime<=z);z=t.unstable_now(),typeof H=="function"?m.callback=H:m===r(c)&&n(c),b(z)}else n(c);m=r(c)}if(m!==null)var W=!0;else{var Q=r(u);Q!==null&&q(w,Q.startTime-z),W=!1}return W}finally{m=null,h=D,f=!1}}var R=!1,N=null,k=-1,E=5,T=-1;function _(){return!(t.unstable_now()-T<E)}function A(){if(N!==null){var M=t.unstable_now();T=M;var z=!0;try{z=N(!0,M)}finally{z?C():(R=!1,N=null)}}else R=!1}var C;if(typeof p=="function")C=function(){p(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=A,C=function(){U.postMessage(null)}}else C=function(){j(A,0)};function L(M){N=M,R||(R=!0,C())}function q(M,z){k=j(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,L(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var D=h;h=z;try{return M()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=h;h=M;try{return z()}finally{h=D}},t.unstable_scheduleCallback=function(M,z,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,M){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,M={id:d++,callback:z,priorityLevel:M,startTime:D,expirationTime:H,sortIndex:-1},D>F?(M.sortIndex=D,e(u,M),r(c)===null&&M===r(u)&&(v?(y(k),k=-1):v=!0,q(w,D-F))):(M.sortIndex=H,e(c,M),g||f||(g=!0,L(S))),M},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(M){var z=h;return function(){var D=h;h=z;try{return M.apply(this,arguments)}finally{h=D}}}})(tS);eS.exports=tS;var d3=eS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3=P,us=d3;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rS=new Set,ju={};function lo(t,e){_l(t,e),_l(t+"Capture",e)}function _l(t,e){for(ju[t]=e,t=0;t<e.length;t++)rS.add(e[t])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dx=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jj={},wj={};function f3(t){return dx.call(wj,t)?!0:dx.call(jj,t)?!1:m3.test(t)?wj[t]=!0:(jj[t]=!0,!1)}function p3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g3(t,e,r,n){if(e===null||typeof e>"u"||p3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function v0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y0,v0);Nr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y0,v0);Nr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y0,v0);Nr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function b0(t,e,r,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g3(e,r,i,n)&&(r=null),n||i===null?f3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ni=h3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vd=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),fx=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),iS=Symbol.for("react.offscreen"),Nj=Symbol.iterator;function kc(t){return t===null||typeof t!="object"?null:(t=Nj&&t[Nj]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,Gp;function qc(t){if(Gp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gp=e&&e[1]||""}return`
`+Gp+t}var Qp=!1;function Yp(t,e){if(!t||Qp)return"";Qp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qc(t):""}function x3(t){switch(t.tag){case 5:return qc(t.type);case 16:return qc("Lazy");case 13:return qc("Suspense");case 19:return qc("SuspenseList");case 0:case 2:case 15:return t=Yp(t.type,!1),t;case 11:return t=Yp(t.type.render,!1),t;case 1:return t=Yp(t.type,!0),t;default:return""}}function px(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case zo:return"Portal";case hx:return"Profiler";case j0:return"StrictMode";case mx:return"Suspense";case fx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nS:return(t.displayName||"Context")+".Consumer";case sS:return(t._context.displayName||"Context")+".Provider";case w0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N0:return e=t.displayName||null,e!==null?e:px(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return px(t(e))}catch{}}return null}function y3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return px(e);case 8:return e===j0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v3(t){var e=aS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ud(t){t._valueTracker||(t._valueTracker=v3(t))}function oS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=aS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function om(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gx(t,e){var r=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function kj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ra(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lS(t,e){e=e.checked,e!=null&&b0(t,"checked",e,!1)}function xx(t,e){lS(t,e);var r=ra(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yx(t,e.type,r):e.hasOwnProperty("defaultValue")&&yx(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yx(t,e,r){(e!=="number"||om(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zc=Array.isArray;function ll(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ra(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _j(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(zc(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ra(r)}}function cS(t,e){var r=ra(e.value),n=ra(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ej(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bd,dS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b3=["Webkit","ms","Moz","O"];Object.keys(Jc).forEach(function(t){b3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jc[e]=Jc[t]})});function hS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Jc.hasOwnProperty(t)&&Jc[t]?(""+e).trim():e+"px"}function mS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var j3=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jx(t,e){if(e){if(j3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function wx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nx=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kx=null,cl=null,ul=null;function Tj(t){if(t=ad(t)){if(typeof kx!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=Df(e),kx(t.stateNode,t.type,e))}}function fS(t){cl?ul?ul.push(t):ul=[t]:cl=t}function pS(){if(cl){var t=cl,e=ul;if(ul=cl=null,Tj(t),e)for(t=0;t<e.length;t++)Tj(e[t])}}function gS(t,e){return t(e)}function xS(){}var Jp=!1;function yS(t,e,r){if(Jp)return t(e,r);Jp=!0;try{return gS(t,e,r)}finally{Jp=!1,(cl!==null||ul!==null)&&(xS(),pS())}}function Nu(t,e){var r=t.stateNode;if(r===null)return null;var n=Df(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var Sx=!1;if(zn)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{Sx=!1}function w3(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Xc=!1,lm=null,cm=!1,_x=null,N3={onError:function(t){Xc=!0,lm=t}};function k3(t,e,r,n,i,a,o,l,c){Xc=!1,lm=null,w3.apply(N3,arguments)}function S3(t,e,r,n,i,a,o,l,c){if(k3.apply(this,arguments),Xc){if(Xc){var u=lm;Xc=!1,lm=null}else throw Error(xe(198));cm||(cm=!0,_x=u)}}function co(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cj(t){if(co(t)!==t)throw Error(xe(188))}function _3(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Cj(i),t;if(a===n)return Cj(i),e;a=a.sibling}throw Error(xe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function bS(t){return t=_3(t),t!==null?jS(t):null}function jS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jS(t);if(e!==null)return e;t=t.sibling}return null}var wS=us.unstable_scheduleCallback,Aj=us.unstable_cancelCallback,E3=us.unstable_shouldYield,T3=us.unstable_requestPaint,Qt=us.unstable_now,C3=us.unstable_getCurrentPriorityLevel,S0=us.unstable_ImmediatePriority,NS=us.unstable_UserBlockingPriority,um=us.unstable_NormalPriority,A3=us.unstable_LowPriority,kS=us.unstable_IdlePriority,Pf=null,fn=null;function P3(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Pf,t,void 0,(t.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:O3,I3=Math.log,R3=Math.LN2;function O3(t){return t>>>=0,t===0?32:31-(I3(t)/R3|0)|0}var $d=64,qd=4194304;function Wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Wc(l):(a&=o,a!==0&&(n=Wc(a)))}else o=r&~i,o!==0?n=Wc(o):a!==0&&(n=Wc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-zs(e),i=1<<r,n|=t[r],e&=~i;return n}function D3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M3(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-zs(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=D3(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Ex(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SS(){var t=$d;return $d<<=1,!($d&4194240)&&($d=64),t}function Xp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zs(e),t[e]=r}function L3(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-zs(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function _0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-zs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var yt=0;function _S(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ES,E0,TS,CS,AS,Tx=!1,zd=[],Fi=null,Vi=null,Ui=null,ku=new Map,Su=new Map,Ei=[],F3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pj(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function _c(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ad(e),e!==null&&E0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V3(t,e,r,n,i){switch(e){case"focusin":return Fi=_c(Fi,t,e,r,n,i),!0;case"dragenter":return Vi=_c(Vi,t,e,r,n,i),!0;case"mouseover":return Ui=_c(Ui,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ku.set(a,_c(ku.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Su.set(a,_c(Su.get(a)||null,t,e,r,n,i)),!0}return!1}function PS(t){var e=Da(t.target);if(e!==null){var r=co(e);if(r!==null){if(e=r.tag,e===13){if(e=vS(r),e!==null){t.blockedOn=e,AS(t.priority,function(){TS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Cx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nx=n,r.target.dispatchEvent(n),Nx=null}else return e=ad(r),e!==null&&E0(e),t.blockedOn=r,!1;e.shift()}return!0}function Ij(t,e,r){Sh(t)&&r.delete(e)}function U3(){Tx=!1,Fi!==null&&Sh(Fi)&&(Fi=null),Vi!==null&&Sh(Vi)&&(Vi=null),Ui!==null&&Sh(Ui)&&(Ui=null),ku.forEach(Ij),Su.forEach(Ij)}function Ec(t,e){t.blockedOn===e&&(t.blockedOn=null,Tx||(Tx=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,U3)))}function _u(t){function e(i){return Ec(i,t)}if(0<zd.length){Ec(zd[0],t);for(var r=1;r<zd.length;r++){var n=zd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fi!==null&&Ec(Fi,t),Vi!==null&&Ec(Vi,t),Ui!==null&&Ec(Ui,t),ku.forEach(e),Su.forEach(e),r=0;r<Ei.length;r++)n=Ei[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ei.length&&(r=Ei[0],r.blockedOn===null);)PS(r),r.blockedOn===null&&Ei.shift()}var dl=ni.ReactCurrentBatchConfig,hm=!0;function B3(t,e,r,n){var i=yt,a=dl.transition;dl.transition=null;try{yt=1,T0(t,e,r,n)}finally{yt=i,dl.transition=a}}function $3(t,e,r,n){var i=yt,a=dl.transition;dl.transition=null;try{yt=4,T0(t,e,r,n)}finally{yt=i,dl.transition=a}}function T0(t,e,r,n){if(hm){var i=Cx(t,e,r,n);if(i===null)lg(t,e,n,mm,r),Pj(t,n);else if(V3(i,t,e,r,n))n.stopPropagation();else if(Pj(t,n),e&4&&-1<F3.indexOf(t)){for(;i!==null;){var a=ad(i);if(a!==null&&ES(a),a=Cx(t,e,r,n),a===null&&lg(t,e,n,mm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else lg(t,e,n,null,r)}}var mm=null;function Cx(t,e,r,n){if(mm=null,t=k0(n),t=Da(t),t!==null)if(e=co(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function IS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C3()){case S0:return 1;case NS:return 4;case um:case A3:return 16;case kS:return 536870912;default:return 16}default:return 16}}var Oi=null,C0=null,_h=null;function RS(){if(_h)return _h;var t,e=C0,r=e.length,n,i="value"in Oi?Oi.value:Oi.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return _h=i.slice(t,1<n?1-n:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wd(){return!0}function Rj(){return!1}function fs(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wd:Rj,this.isPropagationStopped=Rj,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),e}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=fs(Hl),id=Lt({},Hl,{view:0,detail:0}),q3=fs(id),Zp,eg,Tc,If=Lt({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tc&&(Tc&&t.type==="mousemove"?(Zp=t.screenX-Tc.screenX,eg=t.screenY-Tc.screenY):eg=Zp=0,Tc=t),Zp)},movementY:function(t){return"movementY"in t?t.movementY:eg}}),Oj=fs(If),z3=Lt({},If,{dataTransfer:0}),W3=fs(z3),H3=Lt({},id,{relatedTarget:0}),tg=fs(H3),K3=Lt({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),G3=fs(K3),Q3=Lt({},Hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y3=fs(Q3),J3=Lt({},Hl,{data:0}),Dj=fs(J3),X3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eI[t])?!!e[t]:!1}function P0(){return tI}var rI=Lt({},id,{key:function(t){if(t.key){var e=X3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sI=fs(rI),nI=Lt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mj=fs(nI),iI=Lt({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),aI=fs(iI),oI=Lt({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lI=fs(oI),cI=Lt({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uI=fs(cI),dI=[9,13,27,32],I0=zn&&"CompositionEvent"in window,Zc=null;zn&&"documentMode"in document&&(Zc=document.documentMode);var hI=zn&&"TextEvent"in window&&!Zc,OS=zn&&(!I0||Zc&&8<Zc&&11>=Zc),Lj=String.fromCharCode(32),Fj=!1;function DS(t,e){switch(t){case"keyup":return dI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function mI(t,e){switch(t){case"compositionend":return MS(e);case"keypress":return e.which!==32?null:(Fj=!0,Lj);case"textInput":return t=e.data,t===Lj&&Fj?null:t;default:return null}}function fI(t,e){if(Ho)return t==="compositionend"||!I0&&DS(t,e)?(t=RS(),_h=C0=Oi=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OS&&e.locale!=="ko"?null:e.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pI[t.type]:e==="textarea"}function LS(t,e,r,n){fS(n),e=fm(e,"onChange"),0<e.length&&(r=new A0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var eu=null,Eu=null;function gI(t){GS(t,0)}function Rf(t){var e=Qo(t);if(oS(e))return t}function xI(t,e){if(t==="change")return e}var FS=!1;if(zn){var rg;if(zn){var sg="oninput"in document;if(!sg){var Uj=document.createElement("div");Uj.setAttribute("oninput","return;"),sg=typeof Uj.oninput=="function"}rg=sg}else rg=!1;FS=rg&&(!document.documentMode||9<document.documentMode)}function Bj(){eu&&(eu.detachEvent("onpropertychange",VS),Eu=eu=null)}function VS(t){if(t.propertyName==="value"&&Rf(Eu)){var e=[];LS(e,Eu,t,k0(t)),yS(gI,e)}}function yI(t,e,r){t==="focusin"?(Bj(),eu=e,Eu=r,eu.attachEvent("onpropertychange",VS)):t==="focusout"&&Bj()}function vI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rf(Eu)}function bI(t,e){if(t==="click")return Rf(e)}function jI(t,e){if(t==="input"||t==="change")return Rf(e)}function wI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:wI;function Tu(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!dx.call(e,i)||!Ks(t[i],e[i]))return!1}return!0}function $j(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qj(t,e){var r=$j(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$j(r)}}function US(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?US(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BS(){for(var t=window,e=om();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=om(t.document)}return e}function R0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NI(t){var e=BS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&US(r.ownerDocument.documentElement,r)){if(n!==null&&R0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=qj(r,a);var o=qj(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kI=zn&&"documentMode"in document&&11>=document.documentMode,Ko=null,Ax=null,tu=null,Px=!1;function zj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Px||Ko==null||Ko!==om(n)||(n=Ko,"selectionStart"in n&&R0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tu&&Tu(tu,n)||(tu=n,n=fm(Ax,"onSelect"),0<n.length&&(e=new A0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ko)))}function Hd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Go={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},ng={},$S={};zn&&($S=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Of(t){if(ng[t])return ng[t];if(!Go[t])return t;var e=Go[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $S)return ng[t]=e[r];return t}var qS=Of("animationend"),zS=Of("animationiteration"),WS=Of("animationstart"),HS=Of("transitionend"),KS=new Map,Wj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){KS.set(t,e),lo(e,[t])}for(var ig=0;ig<Wj.length;ig++){var ag=Wj[ig],SI=ag.toLowerCase(),_I=ag[0].toUpperCase()+ag.slice(1);fa(SI,"on"+_I)}fa(qS,"onAnimationEnd");fa(zS,"onAnimationIteration");fa(WS,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(HS,"onTransitionEnd");_l("onMouseEnter",["mouseout","mouseover"]);_l("onMouseLeave",["mouseout","mouseover"]);_l("onPointerEnter",["pointerout","pointerover"]);_l("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function Hj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,S3(n,e,void 0,t),t.currentTarget=null}function GS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Hj(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Hj(i,l,u),a=c}}}if(cm)throw t=_x,cm=!1,_x=null,t}function kt(t,e){var r=e[Mx];r===void 0&&(r=e[Mx]=new Set);var n=t+"__bubble";r.has(n)||(QS(e,t,2,!1),r.add(n))}function og(t,e,r){var n=0;e&&(n|=4),QS(r,t,n,e)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[Kd]){t[Kd]=!0,rS.forEach(function(r){r!=="selectionchange"&&(EI.has(r)||og(r,!1,t),og(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kd]||(e[Kd]=!0,og("selectionchange",!1,e))}}function QS(t,e,r,n){switch(IS(e)){case 1:var i=B3;break;case 4:i=$3;break;default:i=T0}r=i.bind(null,e,r,t),i=void 0,!Sx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function lg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Da(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}yS(function(){var u=a,d=k0(r),m=[];e:{var h=KS.get(t);if(h!==void 0){var f=A0,g=t;switch(t){case"keypress":if(Eh(r)===0)break e;case"keydown":case"keyup":f=sI;break;case"focusin":g="focus",f=tg;break;case"focusout":g="blur",f=tg;break;case"beforeblur":case"afterblur":f=tg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Oj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=W3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=aI;break;case qS:case zS:case WS:f=G3;break;case HS:f=lI;break;case"scroll":f=q3;break;case"wheel":f=uI;break;case"copy":case"cut":case"paste":f=Y3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Mj}var v=(e&4)!==0,j=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,b;p!==null;){b=p;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=Nu(p,y),w!=null&&v.push(Au(p,w,b)))),j)break;p=p.return}0<v.length&&(h=new f(h,g,null,r,d),m.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==Nx&&(g=r.relatedTarget||r.fromElement)&&(Da(g)||g[Wn]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Da(g):null,g!==null&&(j=co(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=Oj,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mj,w="onPointerLeave",y="onPointerEnter",p="pointer"),j=f==null?h:Qo(f),b=g==null?h:Qo(g),h=new v(w,p+"leave",f,r,d),h.target=j,h.relatedTarget=b,w=null,Da(d)===u&&(v=new v(y,p+"enter",g,r,d),v.target=b,v.relatedTarget=j,w=v),j=w,f&&g)t:{for(v=f,y=g,p=0,b=v;b;b=Mo(b))p++;for(b=0,w=y;w;w=Mo(w))b++;for(;0<p-b;)v=Mo(v),p--;for(;0<b-p;)y=Mo(y),b--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Mo(v),y=Mo(y)}v=null}else v=null;f!==null&&Kj(m,h,f,v,!1),g!==null&&j!==null&&Kj(m,j,g,v,!0)}}e:{if(h=u?Qo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=xI;else if(Vj(h))if(FS)S=jI;else{S=vI;var R=yI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=bI);if(S&&(S=S(t,u))){LS(m,S,r,d);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&yx(h,"number",h.value)}switch(R=u?Qo(u):window,t){case"focusin":(Vj(R)||R.contentEditable==="true")&&(Ko=R,Ax=u,tu=null);break;case"focusout":tu=Ax=Ko=null;break;case"mousedown":Px=!0;break;case"contextmenu":case"mouseup":case"dragend":Px=!1,zj(m,r,d);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":zj(m,r,d)}var N;if(I0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ho?DS(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(OS&&r.locale!=="ko"&&(Ho||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ho&&(N=RS()):(Oi=d,C0="value"in Oi?Oi.value:Oi.textContent,Ho=!0)),R=fm(u,k),0<R.length&&(k=new Dj(k,t,null,r,d),m.push({event:k,listeners:R}),N?k.data=N:(N=MS(r),N!==null&&(k.data=N)))),(N=hI?mI(t,r):fI(t,r))&&(u=fm(u,"onBeforeInput"),0<u.length&&(d=new Dj("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=N))}GS(m,e)})}function Au(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Nu(t,r),a!=null&&n.unshift(Au(t,a,i)),a=Nu(t,e),a!=null&&n.push(Au(t,a,i))),t=t.return}return n}function Mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kj(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Nu(r,a),c!=null&&o.unshift(Au(r,c,l))):i||(c=Nu(r,a),c!=null&&o.push(Au(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var TI=/\r\n?/g,CI=/\u0000|\uFFFD/g;function Gj(t){return(typeof t=="string"?t:""+t).replace(TI,`
`).replace(CI,"")}function Gd(t,e,r){if(e=Gj(e),Gj(t)!==e&&r)throw Error(xe(425))}function pm(){}var Ix=null,Rx=null;function Ox(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dx=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,Qj=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof Qj<"u"?function(t){return Qj.resolve(null).then(t).catch(II)}:Dx;function II(t){setTimeout(function(){throw t})}function cg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),_u(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);_u(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),dn="__reactFiber$"+Kl,Pu="__reactProps$"+Kl,Wn="__reactContainer$"+Kl,Mx="__reactEvents$"+Kl,RI="__reactListeners$"+Kl,OI="__reactHandles$"+Kl;function Da(t){var e=t[dn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wn]||r[dn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yj(t);t!==null;){if(r=t[dn])return r;t=Yj(t)}return e}t=r,r=t.parentNode}return null}function ad(t){return t=t[dn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function Df(t){return t[Pu]||null}var Lx=[],Yo=-1;function pa(t){return{current:t}}function Et(t){0>Yo||(t.current=Lx[Yo],Lx[Yo]=null,Yo--)}function Nt(t,e){Yo++,Lx[Yo]=t.current,t.current=e}var sa={},Lr=pa(sa),Xr=pa(!1),Ka=sa;function El(t,e){var r=t.type.contextTypes;if(!r)return sa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zr(t){return t=t.childContextTypes,t!=null}function gm(){Et(Xr),Et(Lr)}function Jj(t,e,r){if(Lr.current!==sa)throw Error(xe(168));Nt(Lr,e),Nt(Xr,r)}function YS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(xe(108,y3(t)||"Unknown",i));return Lt({},r,n)}function xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sa,Ka=Lr.current,Nt(Lr,t),Nt(Xr,Xr.current),!0}function Xj(t,e,r){var n=t.stateNode;if(!n)throw Error(xe(169));r?(t=YS(t,e,Ka),n.__reactInternalMemoizedMergedChildContext=t,Et(Xr),Et(Lr),Nt(Lr,t)):Et(Xr),Nt(Xr,r)}var In=null,Mf=!1,ug=!1;function JS(t){In===null?In=[t]:In.push(t)}function DI(t){Mf=!0,JS(t)}function ga(){if(!ug&&In!==null){ug=!0;var t=0,e=yt;try{var r=In;for(yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}In=null,Mf=!1}catch(i){throw In!==null&&(In=In.slice(t+1)),wS(S0,ga),i}finally{yt=e,ug=!1}}return null}var Jo=[],Xo=0,ym=null,vm=0,ws=[],Ns=0,Ga=null,Rn=1,On="";function Ca(t,e){Jo[Xo++]=vm,Jo[Xo++]=ym,ym=t,vm=e}function XS(t,e,r){ws[Ns++]=Rn,ws[Ns++]=On,ws[Ns++]=Ga,Ga=t;var n=Rn;t=On;var i=32-zs(n)-1;n&=~(1<<i),r+=1;var a=32-zs(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Rn=1<<32-zs(e)+i|r<<i|n,On=a+t}else Rn=1<<a|r<<i|n,On=t}function O0(t){t.return!==null&&(Ca(t,1),XS(t,1,0))}function D0(t){for(;t===ym;)ym=Jo[--Xo],Jo[Xo]=null,vm=Jo[--Xo],Jo[Xo]=null;for(;t===Ga;)Ga=ws[--Ns],ws[Ns]=null,On=ws[--Ns],ws[Ns]=null,Rn=ws[--Ns],ws[Ns]=null}var cs=null,ls=null,It=!1,Us=null;function ZS(t,e){var r=Es(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Zj(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cs=t,ls=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cs=t,ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ga!==null?{id:Rn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Es(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,cs=t,ls=null,!0):!1;default:return!1}}function Fx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vx(t){if(It){var e=ls;if(e){var r=e;if(!Zj(t,e)){if(Fx(t))throw Error(xe(418));e=Bi(r.nextSibling);var n=cs;e&&Zj(t,e)?ZS(n,r):(t.flags=t.flags&-4097|2,It=!1,cs=t)}}else{if(Fx(t))throw Error(xe(418));t.flags=t.flags&-4097|2,It=!1,cs=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cs=t}function Qd(t){if(t!==cs)return!1;if(!It)return ew(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ox(t.type,t.memoizedProps)),e&&(e=ls)){if(Fx(t))throw e_(),Error(xe(418));for(;e;)ZS(t,e),e=Bi(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ls=Bi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ls=null}}else ls=cs?Bi(t.stateNode.nextSibling):null;return!0}function e_(){for(var t=ls;t;)t=Bi(t.nextSibling)}function Tl(){ls=cs=null,It=!1}function M0(t){Us===null?Us=[t]:Us.push(t)}var MI=ni.ReactCurrentBatchConfig;function Cc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function Yd(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function t_(t){function e(y,p){if(t){var b=y.deletions;b===null?(y.deletions=[p],y.flags|=16):b.push(p)}}function r(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Wi(y,p),y.index=0,y.sibling=null,y}function a(y,p,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<p?(y.flags|=2,p):b):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,b,w){return p===null||p.tag!==6?(p=xg(b,y.mode,w),p.return=y,p):(p=i(p,b),p.return=y,p)}function c(y,p,b,w){var S=b.type;return S===Wo?d(y,p,b.props.children,w,b.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ni&&tw(S)===p.type)?(w=i(p,b.props),w.ref=Cc(y,p,b),w.return=y,w):(w=Oh(b.type,b.key,b.props,null,y.mode,w),w.ref=Cc(y,p,b),w.return=y,w)}function u(y,p,b,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=yg(b,y.mode,w),p.return=y,p):(p=i(p,b.children||[]),p.return=y,p)}function d(y,p,b,w,S){return p===null||p.tag!==7?(p=za(b,y.mode,w,S),p.return=y,p):(p=i(p,b),p.return=y,p)}function m(y,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=xg(""+p,y.mode,b),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vd:return b=Oh(p.type,p.key,p.props,null,y.mode,b),b.ref=Cc(y,null,p),b.return=y,b;case zo:return p=yg(p,y.mode,b),p.return=y,p;case Ni:var w=p._init;return m(y,w(p._payload),b)}if(zc(p)||kc(p))return p=za(p,y.mode,b,null),p.return=y,p;Yd(y,p)}return null}function h(y,p,b,w){var S=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vd:return b.key===S?c(y,p,b,w):null;case zo:return b.key===S?u(y,p,b,w):null;case Ni:return S=b._init,h(y,p,S(b._payload),w)}if(zc(b)||kc(b))return S!==null?null:d(y,p,b,w,null);Yd(y,b)}return null}function f(y,p,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,l(p,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vd:return y=y.get(w.key===null?b:w.key)||null,c(p,y,w,S);case zo:return y=y.get(w.key===null?b:w.key)||null,u(p,y,w,S);case Ni:var R=w._init;return f(y,p,b,R(w._payload),S)}if(zc(w)||kc(w))return y=y.get(b)||null,d(p,y,w,S,null);Yd(p,w)}return null}function g(y,p,b,w){for(var S=null,R=null,N=p,k=p=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var T=h(y,N,b[k],w);if(T===null){N===null&&(N=E);break}t&&N&&T.alternate===null&&e(y,N),p=a(T,p,k),R===null?S=T:R.sibling=T,R=T,N=E}if(k===b.length)return r(y,N),It&&Ca(y,k),S;if(N===null){for(;k<b.length;k++)N=m(y,b[k],w),N!==null&&(p=a(N,p,k),R===null?S=N:R.sibling=N,R=N);return It&&Ca(y,k),S}for(N=n(y,N);k<b.length;k++)E=f(N,y,k,b[k],w),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?k:E.key),p=a(E,p,k),R===null?S=E:R.sibling=E,R=E);return t&&N.forEach(function(_){return e(y,_)}),It&&Ca(y,k),S}function v(y,p,b,w){var S=kc(b);if(typeof S!="function")throw Error(xe(150));if(b=S.call(b),b==null)throw Error(xe(151));for(var R=S=null,N=p,k=p=0,E=null,T=b.next();N!==null&&!T.done;k++,T=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var _=h(y,N,T.value,w);if(_===null){N===null&&(N=E);break}t&&N&&_.alternate===null&&e(y,N),p=a(_,p,k),R===null?S=_:R.sibling=_,R=_,N=E}if(T.done)return r(y,N),It&&Ca(y,k),S;if(N===null){for(;!T.done;k++,T=b.next())T=m(y,T.value,w),T!==null&&(p=a(T,p,k),R===null?S=T:R.sibling=T,R=T);return It&&Ca(y,k),S}for(N=n(y,N);!T.done;k++,T=b.next())T=f(N,y,k,T.value,w),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?k:T.key),p=a(T,p,k),R===null?S=T:R.sibling=T,R=T);return t&&N.forEach(function(A){return e(y,A)}),It&&Ca(y,k),S}function j(y,p,b,w){if(typeof b=="object"&&b!==null&&b.type===Wo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vd:e:{for(var S=b.key,R=p;R!==null;){if(R.key===S){if(S=b.type,S===Wo){if(R.tag===7){r(y,R.sibling),p=i(R,b.props.children),p.return=y,y=p;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ni&&tw(S)===R.type){r(y,R.sibling),p=i(R,b.props),p.ref=Cc(y,R,b),p.return=y,y=p;break e}r(y,R);break}else e(y,R);R=R.sibling}b.type===Wo?(p=za(b.props.children,y.mode,w,b.key),p.return=y,y=p):(w=Oh(b.type,b.key,b.props,null,y.mode,w),w.ref=Cc(y,p,b),w.return=y,y=w)}return o(y);case zo:e:{for(R=b.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){r(y,p.sibling),p=i(p,b.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else e(y,p);p=p.sibling}p=yg(b,y.mode,w),p.return=y,y=p}return o(y);case Ni:return R=b._init,j(y,p,R(b._payload),w)}if(zc(b))return g(y,p,b,w);if(kc(b))return v(y,p,b,w);Yd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(r(y,p.sibling),p=i(p,b),p.return=y,y=p):(r(y,p),p=xg(b,y.mode,w),p.return=y,y=p),o(y)):r(y,p)}return j}var Cl=t_(!0),r_=t_(!1),bm=pa(null),jm=null,Zo=null,L0=null;function F0(){L0=Zo=jm=null}function V0(t){var e=bm.current;Et(bm),t._currentValue=e}function Ux(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function hl(t,e){jm=t,L0=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function Cs(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(jm===null)throw Error(xe(308));Zo=t,jm.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var Ma=null;function U0(t){Ma===null?Ma=[t]:Ma.push(t)}function s_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,U0(e)):(r.next=i.next,i.next=r),e.interleaved=r,Hn(t,n)}function Hn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ki=!1;function B0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Hn(t,r)}return i=n.interleaved,i===null?(e.next=e,U0(n)):(e.next=i.next,i.next=e),n.interleaved=e,Hn(t,r)}function Th(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_0(t,r)}}function rw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wm(t,e,r,n){var i=t.updateQueue;ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,f=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(h=e,f=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){m=g.call(f,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,m,h):g,h==null)break e;m=Lt({},m,h);break e;case 2:ki=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=m):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ya|=o,t.lanes=o,t.memoizedState=m}}function sw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(xe(191,i));i.call(n)}}}var od={},pn=pa(od),Iu=pa(od),Ru=pa(od);function La(t){if(t===od)throw Error(xe(174));return t}function $0(t,e){switch(Nt(Ru,e),Nt(Iu,t),Nt(pn,od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bx(e,t)}Et(pn),Nt(pn,e)}function Al(){Et(pn),Et(Iu),Et(Ru)}function i_(t){La(Ru.current);var e=La(pn.current),r=bx(e,t.type);e!==r&&(Nt(Iu,t),Nt(pn,r))}function q0(t){Iu.current===t&&(Et(pn),Et(Iu))}var Rt=pa(0);function Nm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dg=[];function z0(){for(var t=0;t<dg.length;t++)dg[t]._workInProgressVersionPrimary=null;dg.length=0}var Ch=ni.ReactCurrentDispatcher,hg=ni.ReactCurrentBatchConfig,Qa=0,Dt=null,ir=null,ur=null,km=!1,ru=!1,Ou=0,LI=0;function Tr(){throw Error(xe(321))}function W0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ks(t[r],e[r]))return!1;return!0}function H0(t,e,r,n,i,a){if(Qa=a,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ch.current=t===null||t.memoizedState===null?BI:$I,t=r(n,i),ru){a=0;do{if(ru=!1,Ou=0,25<=a)throw Error(xe(301));a+=1,ur=ir=null,e.updateQueue=null,Ch.current=qI,t=r(n,i)}while(ru)}if(Ch.current=Sm,e=ir!==null&&ir.next!==null,Qa=0,ur=ir=Dt=null,km=!1,e)throw Error(xe(300));return t}function K0(){var t=Ou!==0;return Ou=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Dt.memoizedState=ur=t:ur=ur.next=t,ur}function As(){if(ir===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=ir.next;var e=ur===null?Dt.memoizedState:ur.next;if(e!==null)ur=e,ir=t;else{if(t===null)throw Error(xe(310));ir=t,t={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},ur===null?Dt.memoizedState=ur=t:ur=ur.next=t}return ur}function Du(t,e){return typeof e=="function"?e(t):e}function mg(t){var e=As(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=ir,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Qa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Dt.lanes|=d,Ya|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Ks(n,e.memoizedState)||(Yr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Dt.lanes|=a,Ya|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fg(t){var e=As(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ks(a,e.memoizedState)||(Yr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function a_(){}function o_(t,e){var r=Dt,n=As(),i=e(),a=!Ks(n.memoizedState,i);if(a&&(n.memoizedState=i,Yr=!0),n=n.queue,G0(u_.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,Mu(9,c_.bind(null,r,n,i,e),void 0,null),hr===null)throw Error(xe(349));Qa&30||l_(r,e,i)}return i}function l_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function c_(t,e,r,n){e.value=r,e.getSnapshot=n,d_(e)&&h_(t)}function u_(t,e,r){return r(function(){d_(e)&&h_(t)})}function d_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ks(t,r)}catch{return!0}}function h_(t){var e=Hn(t,1);e!==null&&Ws(e,t,1,-1)}function nw(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=UI.bind(null,Dt,t),[e.memoizedState,t]}function Mu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function m_(){return As().memoizedState}function Ah(t,e,r,n){var i=ln();Dt.flags|=t,i.memoizedState=Mu(1|e,r,void 0,n===void 0?null:n)}function Lf(t,e,r,n){var i=As();n=n===void 0?null:n;var a=void 0;if(ir!==null){var o=ir.memoizedState;if(a=o.destroy,n!==null&&W0(n,o.deps)){i.memoizedState=Mu(e,r,a,n);return}}Dt.flags|=t,i.memoizedState=Mu(1|e,r,a,n)}function iw(t,e){return Ah(8390656,8,t,e)}function G0(t,e){return Lf(2048,8,t,e)}function f_(t,e){return Lf(4,2,t,e)}function p_(t,e){return Lf(4,4,t,e)}function g_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x_(t,e,r){return r=r!=null?r.concat([t]):null,Lf(4,4,g_.bind(null,e,t),r)}function Q0(){}function y_(t,e){var r=As();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&W0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v_(t,e){var r=As();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&W0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function b_(t,e,r){return Qa&21?(Ks(r,e)||(r=SS(),Dt.lanes|=r,Ya|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=r)}function FI(t,e){var r=yt;yt=r!==0&&4>r?r:4,t(!0);var n=hg.transition;hg.transition={};try{t(!1),e()}finally{yt=r,hg.transition=n}}function j_(){return As().memoizedState}function VI(t,e,r){var n=zi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},w_(t))N_(e,r);else if(r=s_(t,e,r,n),r!==null){var i=zr();Ws(r,t,n,i),k_(r,e,n)}}function UI(t,e,r){var n=zi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(w_(t))N_(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Ks(l,o)){var c=e.interleaved;c===null?(i.next=i,U0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=s_(t,e,i,n),r!==null&&(i=zr(),Ws(r,t,n,i),k_(r,e,n))}}function w_(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function N_(t,e){ru=km=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function k_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_0(t,r)}}var Sm={readContext:Cs,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},BI={readContext:Cs,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Cs,useEffect:iw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ah(4194308,4,g_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ah(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ah(4,2,t,e)},useMemo:function(t,e){var r=ln();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ln();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=VI.bind(null,Dt,t),[n.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:nw,useDebugValue:Q0,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=nw(!1),e=t[0];return t=FI.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Dt,i=ln();if(It){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),hr===null)throw Error(xe(349));Qa&30||l_(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,iw(u_.bind(null,n,a,t),[t]),n.flags|=2048,Mu(9,c_.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ln(),e=hr.identifierPrefix;if(It){var r=On,n=Rn;r=(n&~(1<<32-zs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ou++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=LI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$I={readContext:Cs,useCallback:y_,useContext:Cs,useEffect:G0,useImperativeHandle:x_,useInsertionEffect:f_,useLayoutEffect:p_,useMemo:v_,useReducer:mg,useRef:m_,useState:function(){return mg(Du)},useDebugValue:Q0,useDeferredValue:function(t){var e=As();return b_(e,ir.memoizedState,t)},useTransition:function(){var t=mg(Du)[0],e=As().memoizedState;return[t,e]},useMutableSource:a_,useSyncExternalStore:o_,useId:j_,unstable_isNewReconciler:!1},qI={readContext:Cs,useCallback:y_,useContext:Cs,useEffect:G0,useImperativeHandle:x_,useInsertionEffect:f_,useLayoutEffect:p_,useMemo:v_,useReducer:fg,useRef:m_,useState:function(){return fg(Du)},useDebugValue:Q0,useDeferredValue:function(t){var e=As();return ir===null?e.memoizedState=t:b_(e,ir.memoizedState,t)},useTransition:function(){var t=fg(Du)[0],e=As().memoizedState;return[t,e]},useMutableSource:a_,useSyncExternalStore:o_,useId:j_,unstable_isNewReconciler:!1};function Fs(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ff={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=zi(t),a=Fn(n,i);a.payload=e,r!=null&&(a.callback=r),e=$i(t,a,i),e!==null&&(Ws(e,t,i,n),Th(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=zi(t),a=Fn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=$i(t,a,i),e!==null&&(Ws(e,t,i,n),Th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=zi(t),i=Fn(r,n);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,n),e!==null&&(Ws(e,t,n,r),Th(e,t,n))}};function aw(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Tu(r,n)||!Tu(i,a):!0}function S_(t,e,r){var n=!1,i=sa,a=e.contextType;return typeof a=="object"&&a!==null?a=Cs(a):(i=Zr(e)?Ka:Lr.current,n=e.contextTypes,a=(n=n!=null)?El(t,i):sa),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ff,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function ow(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ff.enqueueReplaceState(e,e.state,null)}function $x(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},B0(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Cs(a):(a=Zr(e)?Ka:Lr.current,i.context=El(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Bx(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ff.enqueueReplaceState(i,i.state,null),wm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var r="",n=e;do r+=x3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function pg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zI=typeof WeakMap=="function"?WeakMap:Map;function __(t,e,r){r=Fn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Em||(Em=!0,Zx=n),qx(t,e)},r}function E_(t,e,r){r=Fn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qx(t,e),typeof n!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function lw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=n5.bind(null,t,e,r),e.then(t,t))}function cw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Fn(-1,1),e.tag=2,$i(r,e,1))),r.lanes|=1),t)}var WI=ni.ReactCurrentOwner,Yr=!1;function qr(t,e,r,n){e.child=t===null?r_(e,null,r,n):Cl(e,t.child,r,n)}function dw(t,e,r,n,i){r=r.render;var a=e.ref;return hl(e,i),n=H0(t,e,r,n,a,i),r=K0(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(It&&r&&O0(e),e.flags|=1,qr(t,e,n,i),e.child)}function hw(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!sv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,T_(t,e,a,n,i)):(t=Oh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Tu,r(o,n)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=Wi(a,n),t.ref=e.ref,t.return=e,e.child=t}function T_(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Tu(a,n)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return zx(t,e,r,n,i)}function C_(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(tl,is),is|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(tl,is),is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Nt(tl,is),is|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Nt(tl,is),is|=n;return qr(t,e,i,r),e.child}function A_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zx(t,e,r,n,i){var a=Zr(r)?Ka:Lr.current;return a=El(e,a),hl(e,i),r=H0(t,e,r,n,a,i),n=K0(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(It&&n&&O0(e),e.flags|=1,qr(t,e,r,i),e.child)}function mw(t,e,r,n,i){if(Zr(r)){var a=!0;xm(e)}else a=!1;if(hl(e,i),e.stateNode===null)Ph(t,e),S_(e,r,n),$x(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cs(u):(u=Zr(r)?Ka:Lr.current,u=El(e,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ow(e,o,n,u),ki=!1;var h=e.memoizedState;o.state=h,wm(e,n,o,i),c=e.memoizedState,l!==n||h!==c||Xr.current||ki?(typeof d=="function"&&(Bx(e,r,d,n),c=e.memoizedState),(l=ki||aw(e,r,l,n,h,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,n_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fs(e.type,l),o.props=u,m=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cs(c):(c=Zr(r)?Ka:Lr.current,c=El(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&ow(e,o,n,c),ki=!1,h=e.memoizedState,o.state=h,wm(e,n,o,i);var g=e.memoizedState;l!==m||h!==g||Xr.current||ki?(typeof f=="function"&&(Bx(e,r,f,n),g=e.memoizedState),(u=ki||aw(e,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Wx(t,e,r,n,a,i)}function Wx(t,e,r,n,i,a){A_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Xj(e,r,!1),Kn(t,e,a);n=e.stateNode,WI.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Cl(e,t.child,null,a),e.child=Cl(e,null,l,a)):qr(t,e,l,a),e.memoizedState=n.state,i&&Xj(e,r,!0),e.child}function P_(t){var e=t.stateNode;e.pendingContext?Jj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jj(t,e.context,!1),$0(t,e.containerInfo)}function fw(t,e,r,n,i){return Tl(),M0(i),e.flags|=256,qr(t,e,r,n),e.child}var Hx={dehydrated:null,treeContext:null,retryLane:0};function Kx(t){return{baseLanes:t,cachePool:null,transitions:null}}function I_(t,e,r){var n=e.pendingProps,i=Rt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(Rt,i&1),t===null)return Vx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bf(o,n,0,null),t=za(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Kx(r),e.memoizedState=Hx,t):Y0(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return HI(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Wi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Wi(l,a):(a=za(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Kx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Hx,n}return a=t.child,t=a.sibling,n=Wi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Y0(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,r,n){return n!==null&&M0(n),Cl(e,t.child,null,r),t=Y0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HI(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=pg(Error(xe(422))),Jd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Bf({mode:"visible",children:n.children},i,0,null),a=za(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Cl(e,t.child,null,o),e.child.memoizedState=Kx(o),e.memoizedState=Hx,a);if(!(e.mode&1))return Jd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(xe(419)),n=pg(a,n,void 0),Jd(t,e,o,n)}if(l=(o&t.childLanes)!==0,Yr||l){if(n=hr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Hn(t,i),Ws(n,t,i,-1))}return rv(),n=pg(Error(xe(421))),Jd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i5.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ls=Bi(i.nextSibling),cs=e,It=!0,Us=null,t!==null&&(ws[Ns++]=Rn,ws[Ns++]=On,ws[Ns++]=Ga,Rn=t.id,On=t.overflow,Ga=e),e=Y0(e,n.children),e.flags|=4096,e)}function pw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ux(t.return,e,r)}function gg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function R_(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(qr(t,e,n.children,r),n=Rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pw(t,r,e);else if(t.tag===19)pw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(Rt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Nm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),gg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}gg(e,!0,r,null,a);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Wi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function KI(t,e,r){switch(e.tag){case 3:P_(e),Tl();break;case 5:i_(e);break;case 1:Zr(e.type)&&xm(e);break;case 4:$0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nt(bm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(Rt,Rt.current&1),e.flags|=128,null):r&e.child.childLanes?I_(t,e,r):(Nt(Rt,Rt.current&1),t=Kn(t,e,r),t!==null?t.sibling:null);Nt(Rt,Rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return R_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(Rt,Rt.current),n)break;return null;case 22:case 23:return e.lanes=0,C_(t,e,r)}return Kn(t,e,r)}var O_,Gx,D_,M_;O_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gx=function(){};D_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,La(pn.current);var a=null;switch(r){case"input":i=gx(t,i),n=gx(t,n),a=[];break;case"select":i=Lt({},i,{value:void 0}),n=Lt({},n,{value:void 0}),a=[];break;case"textarea":i=vx(t,i),n=vx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pm)}jx(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ju.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};M_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ac(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function GI(t,e,r){var n=e.pendingProps;switch(D0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return Zr(e.type)&&gm(),Cr(e),null;case 3:return n=e.stateNode,Al(),Et(Xr),Et(Lr),z0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(ry(Us),Us=null))),Gx(t,e),Cr(e),null;case 5:q0(e);var i=La(Ru.current);if(r=e.type,t!==null&&e.stateNode!=null)D_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(xe(166));return Cr(e),null}if(t=La(pn.current),Qd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[dn]=e,n[Pu]=a,t=(e.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(i=0;i<Hc.length;i++)kt(Hc[i],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kj(n,a),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},kt("invalid",n);break;case"textarea":_j(n,a),kt("invalid",n)}jx(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Gd(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Gd(n.textContent,l,t),i=["children",""+l]):ju.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&kt("scroll",n)}switch(r){case"input":Ud(n),Sj(n,a,!0);break;case"textarea":Ud(n),Ej(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=pm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dn]=e,t[Pu]=n,O_(t,e,!1,!1),e.stateNode=t;e:{switch(o=wx(r,n),r){case"dialog":kt("cancel",t),kt("close",t),i=n;break;case"iframe":case"object":case"embed":kt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Hc.length;i++)kt(Hc[i],t);i=n;break;case"source":kt("error",t),i=n;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=n;break;case"details":kt("toggle",t),i=n;break;case"input":kj(t,n),i=gx(t,n),kt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Lt({},n,{value:void 0}),kt("invalid",t);break;case"textarea":_j(t,n),i=vx(t,n),kt("invalid",t);break;default:i=n}jx(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?mS(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dS(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wu(t,c):typeof c=="number"&&wu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ju.hasOwnProperty(a)?c!=null&&a==="onScroll"&&kt("scroll",t):c!=null&&b0(t,a,c,o))}switch(r){case"input":Ud(t),Sj(t,n,!1);break;case"textarea":Ud(t),Ej(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ra(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ll(t,!!n.multiple,a,!1):n.defaultValue!=null&&ll(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)M_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(xe(166));if(r=La(Ru.current),La(pn.current),Qd(e)){if(n=e.stateNode,r=e.memoizedProps,n[dn]=e,(a=n.nodeValue!==r)&&(t=cs,t!==null))switch(t.tag){case 3:Gd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=e,e.stateNode=n}return Cr(e),null;case 13:if(Et(Rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&ls!==null&&e.mode&1&&!(e.flags&128))e_(),Tl(),e.flags|=98560,a=!1;else if(a=Qd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(xe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(xe(317));a[dn]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),a=!1}else Us!==null&&(ry(Us),Us=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?ar===0&&(ar=3):rv())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return Al(),Gx(t,e),t===null&&Cu(e.stateNode.containerInfo),Cr(e),null;case 10:return V0(e.type._context),Cr(e),null;case 17:return Zr(e.type)&&gm(),Cr(e),null;case 19:if(Et(Rt),a=e.memoizedState,a===null)return Cr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ac(a,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nm(t),o!==null){for(e.flags|=128,Ac(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(Rt,Rt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Qt()>Il&&(e.flags|=128,n=!0,Ac(a,!1),e.lanes=4194304)}else{if(!n)if(t=Nm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ac(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!It)return Cr(e),null}else 2*Qt()-a.renderingStartTime>Il&&r!==1073741824&&(e.flags|=128,n=!0,Ac(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,r=Rt.current,Nt(Rt,n?r&1|2:r&1),e):(Cr(e),null);case 22:case 23:return tv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?is&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function QI(t,e){switch(D0(e),e.tag){case 1:return Zr(e.type)&&gm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),Et(Xr),Et(Lr),z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q0(e),null;case 13:if(Et(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(Rt),null;case 4:return Al(),null;case 10:return V0(e.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Xd=!1,Or=!1,YI=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function el(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bt(t,e,n)}else r.current=null}function Qx(t,e,r){try{r()}catch(n){Bt(t,e,n)}}var gw=!1;function JI(t,e){if(Ix=hm,t=BS(),R0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=t,h=null;t:for(;;){for(var f;m!==r||i!==0&&m.nodeType!==3||(l=o+i),m!==a||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===t)break t;if(h===r&&++u===i&&(l=o),h===a&&++d===n&&(c=o),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rx={focusedElem:t,selectionRange:r},hm=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,j=g.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fs(e.type,v),j);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(w){Bt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=gw,gw=!1,g}function su(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qx(e,r,a)}i=i.next}while(i!==n)}}function Vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Yx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function L_(t){var e=t.alternate;e!==null&&(t.alternate=null,L_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[Pu],delete e[Mx],delete e[RI],delete e[OI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F_(t){return t.tag===5||t.tag===3||t.tag===4}function xw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pm));else if(n!==4&&(t=t.child,t!==null))for(Jx(t,e,r),t=t.sibling;t!==null;)Jx(t,e,r),t=t.sibling}function Xx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xx(t,e,r),t=t.sibling;t!==null;)Xx(t,e,r),t=t.sibling}var xr=null,Vs=!1;function pi(t,e,r){for(r=r.child;r!==null;)V_(t,e,r),r=r.sibling}function V_(t,e,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Pf,r)}catch{}switch(r.tag){case 5:Or||el(r,e);case 6:var n=xr,i=Vs;xr=null,pi(t,e,r),xr=n,Vs=i,xr!==null&&(Vs?(t=xr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xr.removeChild(r.stateNode));break;case 18:xr!==null&&(Vs?(t=xr,r=r.stateNode,t.nodeType===8?cg(t.parentNode,r):t.nodeType===1&&cg(t,r),_u(t)):cg(xr,r.stateNode));break;case 4:n=xr,i=Vs,xr=r.stateNode.containerInfo,Vs=!0,pi(t,e,r),xr=n,Vs=i;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Qx(r,e,o),i=i.next}while(i!==n)}pi(t,e,r);break;case 1:if(!Or&&(el(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bt(r,e,l)}pi(t,e,r);break;case 21:pi(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,pi(t,e,r),Or=n):pi(t,e,r);break;default:pi(t,e,r)}}function yw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new YI),e.forEach(function(n){var i=a5.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ls(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xr=l.stateNode,Vs=!1;break e;case 3:xr=l.stateNode.containerInfo,Vs=!0;break e;case 4:xr=l.stateNode.containerInfo,Vs=!0;break e}l=l.return}if(xr===null)throw Error(xe(160));V_(a,o,i),xr=null,Vs=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U_(e,t),e=e.sibling}function U_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ls(e,t),sn(t),n&4){try{su(3,t,t.return),Vf(3,t)}catch(v){Bt(t,t.return,v)}try{su(5,t,t.return)}catch(v){Bt(t,t.return,v)}}break;case 1:Ls(e,t),sn(t),n&512&&r!==null&&el(r,r.return);break;case 5:if(Ls(e,t),sn(t),n&512&&r!==null&&el(r,r.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(v){Bt(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&lS(i,a),wx(l,o);var u=wx(l,a);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?mS(i,m):d==="dangerouslySetInnerHTML"?dS(i,m):d==="children"?wu(i,m):b0(i,d,m,u)}switch(l){case"input":xx(i,a);break;case"textarea":cS(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?ll(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?ll(i,!!a.multiple,a.defaultValue,!0):ll(i,!!a.multiple,a.multiple?[]:"",!1))}i[Pu]=a}catch(v){Bt(t,t.return,v)}}break;case 6:if(Ls(e,t),sn(t),n&4){if(t.stateNode===null)throw Error(xe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Bt(t,t.return,v)}}break;case 3:if(Ls(e,t),sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(v){Bt(t,t.return,v)}break;case 4:Ls(e,t),sn(t);break;case 13:Ls(e,t),sn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Z0=Qt())),n&4&&yw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(u=Or)||d,Ls(e,t),Or=u):Ls(e,t),sn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(m=Ce=d;Ce!==null;){switch(h=Ce,f=h.child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Bt(n,r,v)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){bw(m);continue}}f!==null?(f.return=h,Ce=f):bw(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hS("display",o))}catch(v){Bt(t,t.return,v)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){Bt(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ls(e,t),sn(t),n&4&&yw(t);break;case 21:break;default:Ls(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F_(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wu(i,""),n.flags&=-33);var a=xw(t);Xx(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xw(t);Jx(t,l,o);break;default:throw Error(xe(161))}}catch(c){Bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XI(t,e,r){Ce=t,B_(t)}function B_(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Xd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Or;l=Xd;var u=Or;if(Xd=o,(Or=c)&&!u)for(Ce=i;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?jw(i):c!==null?(c.return=o,Ce=c):jw(i);for(;a!==null;)Ce=a,B_(a),a=a.sibling;Ce=i,Xd=l,Or=u}vw(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):vw(t)}}function vw(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Vf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&sw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sw(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&_u(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Or||e.flags&512&&Yx(e)}catch(h){Bt(e,e.return,h)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function bw(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function jw(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vf(4,e)}catch(c){Bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Bt(e,i,c)}}var a=e.return;try{Yx(e)}catch(c){Bt(e,a,c)}break;case 5:var o=e.return;try{Yx(e)}catch(c){Bt(e,o,c)}}}catch(c){Bt(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var ZI=Math.ceil,_m=ni.ReactCurrentDispatcher,J0=ni.ReactCurrentOwner,Ts=ni.ReactCurrentBatchConfig,dt=0,hr=null,tr=null,wr=0,is=0,tl=pa(0),ar=0,Lu=null,Ya=0,Uf=0,X0=0,nu=null,Qr=null,Z0=0,Il=1/0,Pn=null,Em=!1,Zx=null,qi=null,Zd=!1,Di=null,Tm=0,iu=0,ey=null,Ih=-1,Rh=0;function zr(){return dt&6?Qt():Ih!==-1?Ih:Ih=Qt()}function zi(t){return t.mode&1?dt&2&&wr!==0?wr&-wr:MI.transition!==null?(Rh===0&&(Rh=SS()),Rh):(t=yt,t!==0||(t=window.event,t=t===void 0?16:IS(t.type)),t):1}function Ws(t,e,r,n){if(50<iu)throw iu=0,ey=null,Error(xe(185));nd(t,r,n),(!(dt&2)||t!==hr)&&(t===hr&&(!(dt&2)&&(Uf|=r),ar===4&&Ti(t,wr)),es(t,n),r===1&&dt===0&&!(e.mode&1)&&(Il=Qt()+500,Mf&&ga()))}function es(t,e){var r=t.callbackNode;M3(t,e);var n=dm(t,t===hr?wr:0);if(n===0)r!==null&&Aj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Aj(r),e===1)t.tag===0?DI(ww.bind(null,t)):JS(ww.bind(null,t)),PI(function(){!(dt&6)&&ga()}),r=null;else{switch(_S(n)){case 1:r=S0;break;case 4:r=NS;break;case 16:r=um;break;case 536870912:r=kS;break;default:r=um}r=Q_(r,$_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $_(t,e){if(Ih=-1,Rh=0,dt&6)throw Error(xe(327));var r=t.callbackNode;if(ml()&&t.callbackNode!==r)return null;var n=dm(t,t===hr?wr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cm(t,n);else{e=n;var i=dt;dt|=2;var a=z_();(hr!==t||wr!==e)&&(Pn=null,Il=Qt()+500,qa(t,e));do try{r5();break}catch(l){q_(t,l)}while(1);F0(),_m.current=a,dt=i,tr!==null?e=0:(hr=null,wr=0,e=ar)}if(e!==0){if(e===2&&(i=Ex(t),i!==0&&(n=i,e=ty(t,i))),e===1)throw r=Lu,qa(t,0),Ti(t,n),es(t,Qt()),r;if(e===6)Ti(t,n);else{if(i=t.current.alternate,!(n&30)&&!e5(i)&&(e=Cm(t,n),e===2&&(a=Ex(t),a!==0&&(n=a,e=ty(t,a))),e===1))throw r=Lu,qa(t,0),Ti(t,n),es(t,Qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(xe(345));case 2:Aa(t,Qr,Pn);break;case 3:if(Ti(t,n),(n&130023424)===n&&(e=Z0+500-Qt(),10<e)){if(dm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dx(Aa.bind(null,t,Qr,Pn),e);break}Aa(t,Qr,Pn);break;case 4:if(Ti(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-zs(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZI(n/1960))-n,10<n){t.timeoutHandle=Dx(Aa.bind(null,t,Qr,Pn),n);break}Aa(t,Qr,Pn);break;case 5:Aa(t,Qr,Pn);break;default:throw Error(xe(329))}}}return es(t,Qt()),t.callbackNode===r?$_.bind(null,t):null}function ty(t,e){var r=nu;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=Cm(t,e),t!==2&&(e=Qr,Qr=r,e!==null&&ry(e)),t}function ry(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function e5(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ks(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ti(t,e){for(e&=~X0,e&=~Uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-zs(e),n=1<<r;t[r]=-1,e&=~n}}function ww(t){if(dt&6)throw Error(xe(327));ml();var e=dm(t,0);if(!(e&1))return es(t,Qt()),null;var r=Cm(t,e);if(t.tag!==0&&r===2){var n=Ex(t);n!==0&&(e=n,r=ty(t,n))}if(r===1)throw r=Lu,qa(t,0),Ti(t,e),es(t,Qt()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Aa(t,Qr,Pn),es(t,Qt()),null}function ev(t,e){var r=dt;dt|=1;try{return t(e)}finally{dt=r,dt===0&&(Il=Qt()+500,Mf&&ga())}}function Ja(t){Di!==null&&Di.tag===0&&!(dt&6)&&ml();var e=dt;dt|=1;var r=Ts.transition,n=yt;try{if(Ts.transition=null,yt=1,t)return t()}finally{yt=n,Ts.transition=r,dt=e,!(dt&6)&&ga()}}function tv(){is=tl.current,Et(tl)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AI(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(D0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gm();break;case 3:Al(),Et(Xr),Et(Lr),z0();break;case 5:q0(n);break;case 4:Al();break;case 13:Et(Rt);break;case 19:Et(Rt);break;case 10:V0(n.type._context);break;case 22:case 23:tv()}r=r.return}if(hr=t,tr=t=Wi(t.current,null),wr=is=e,ar=0,Lu=null,X0=Uf=Ya=0,Qr=nu=null,Ma!==null){for(e=0;e<Ma.length;e++)if(r=Ma[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ma=null}return t}function q_(t,e){do{var r=tr;try{if(F0(),Ch.current=Sm,km){for(var n=Dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}km=!1}if(Qa=0,ur=ir=Dt=null,ru=!1,Ou=0,J0.current=null,r===null||r.return===null){ar=1,Lu=e,tr=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=wr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=cw(o);if(f!==null){f.flags&=-257,uw(f,o,l,a,e),f.mode&1&&lw(a,u,e),e=f,c=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){lw(a,u,e),rv();break e}c=Error(xe(426))}}else if(It&&l.mode&1){var j=cw(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),uw(j,o,l,a,e),M0(Pl(c,l));break e}}a=c=Pl(c,l),ar!==4&&(ar=2),nu===null?nu=[a]:nu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=__(a,c,e);rw(a,y);break e;case 1:l=c;var p=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qi===null||!qi.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=E_(a,l,e);rw(a,w);break e}}a=a.return}while(a!==null)}H_(r)}catch(S){e=S,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(1)}function z_(){var t=_m.current;return _m.current=Sm,t===null?Sm:t}function rv(){(ar===0||ar===3||ar===2)&&(ar=4),hr===null||!(Ya&268435455)&&!(Uf&268435455)||Ti(hr,wr)}function Cm(t,e){var r=dt;dt|=2;var n=z_();(hr!==t||wr!==e)&&(Pn=null,qa(t,e));do try{t5();break}catch(i){q_(t,i)}while(1);if(F0(),dt=r,_m.current=n,tr!==null)throw Error(xe(261));return hr=null,wr=0,ar}function t5(){for(;tr!==null;)W_(tr)}function r5(){for(;tr!==null&&!E3();)W_(tr)}function W_(t){var e=G_(t.alternate,t,is);t.memoizedProps=t.pendingProps,e===null?H_(t):tr=e,J0.current=null}function H_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=QI(r,e),r!==null){r.flags&=32767,tr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,tr=null;return}}else if(r=GI(r,e,is),r!==null){tr=r;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ar===0&&(ar=5)}function Aa(t,e,r){var n=yt,i=Ts.transition;try{Ts.transition=null,yt=1,s5(t,e,r,n)}finally{Ts.transition=i,yt=n}return null}function s5(t,e,r,n){do ml();while(Di!==null);if(dt&6)throw Error(xe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(L3(t,a),t===hr&&(tr=hr=null,wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zd||(Zd=!0,Q_(um,function(){return ml(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ts.transition,Ts.transition=null;var o=yt;yt=1;var l=dt;dt|=4,J0.current=null,JI(t,r),U_(r,t),NI(Rx),hm=!!Ix,Rx=Ix=null,t.current=r,XI(r),T3(),dt=l,yt=o,Ts.transition=a}else t.current=r;if(Zd&&(Zd=!1,Di=t,Tm=i),a=t.pendingLanes,a===0&&(qi=null),P3(r.stateNode),es(t,Qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Em)throw Em=!1,t=Zx,Zx=null,t;return Tm&1&&t.tag!==0&&ml(),a=t.pendingLanes,a&1?t===ey?iu++:(iu=0,ey=t):iu=0,ga(),null}function ml(){if(Di!==null){var t=_S(Tm),e=Ts.transition,r=yt;try{if(Ts.transition=null,yt=16>t?16:t,Di===null)var n=!1;else{if(t=Di,Di=null,Tm=0,dt&6)throw Error(xe(331));var i=dt;for(dt|=4,Ce=t.current;Ce!==null;){var a=Ce,o=a.child;if(Ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:su(8,d,a)}var m=d.child;if(m!==null)m.return=d,Ce=m;else for(;Ce!==null;){d=Ce;var h=d.sibling,f=d.return;if(L_(d),d===u){Ce=null;break}if(h!==null){h.return=f,Ce=h;break}Ce=f}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}Ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ce=o;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:su(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ce=y;break e}Ce=a.return}}var p=t.current;for(Ce=p;Ce!==null;){o=Ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ce=b;else e:for(o=p;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vf(9,l)}}catch(S){Bt(l,l.return,S)}if(l===o){Ce=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ce=w;break e}Ce=l.return}}if(dt=i,ga(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Pf,t)}catch{}n=!0}return n}finally{yt=r,Ts.transition=e}}return!1}function Nw(t,e,r){e=Pl(r,e),e=__(t,e,1),t=$i(t,e,1),e=zr(),t!==null&&(nd(t,1,e),es(t,e))}function Bt(t,e,r){if(t.tag===3)Nw(t,t,r);else for(;e!==null;){if(e.tag===3){Nw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qi===null||!qi.has(n))){t=Pl(r,t),t=E_(e,t,1),e=$i(e,t,1),t=zr(),e!==null&&(nd(e,1,t),es(e,t));break}}e=e.return}}function n5(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,hr===t&&(wr&r)===r&&(ar===4||ar===3&&(wr&130023424)===wr&&500>Qt()-Z0?qa(t,0):X0|=r),es(t,e)}function K_(t,e){e===0&&(t.mode&1?(e=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):e=1);var r=zr();t=Hn(t,e),t!==null&&(nd(t,e,r),es(t,r))}function i5(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),K_(t,r)}function a5(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(e),K_(t,r)}var G_;G_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yr=!1,KI(t,e,r);Yr=!!(t.flags&131072)}else Yr=!1,It&&e.flags&1048576&&XS(e,vm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ph(t,e),t=e.pendingProps;var i=El(e,Lr.current);hl(e,r),i=H0(null,e,n,t,i,r);var a=K0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zr(n)?(a=!0,xm(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B0(e),i.updater=Ff,e.stateNode=i,i._reactInternals=e,$x(e,n,t,r),e=Wx(null,e,n,!0,a,r)):(e.tag=0,It&&a&&O0(e),qr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=l5(n),t=Fs(n,t),i){case 0:e=zx(null,e,n,t,r);break e;case 1:e=mw(null,e,n,t,r);break e;case 11:e=dw(null,e,n,t,r);break e;case 14:e=hw(null,e,n,Fs(n.type,t),r);break e}throw Error(xe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),zx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),mw(t,e,n,i,r);case 3:e:{if(P_(e),t===null)throw Error(xe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,n_(t,e),wm(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Pl(Error(xe(423)),e),e=fw(t,e,n,r,i);break e}else if(n!==i){i=Pl(Error(xe(424)),e),e=fw(t,e,n,r,i);break e}else for(ls=Bi(e.stateNode.containerInfo.firstChild),cs=e,It=!0,Us=null,r=r_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tl(),n===i){e=Kn(t,e,r);break e}qr(t,e,n,r)}e=e.child}return e;case 5:return i_(e),t===null&&Vx(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ox(n,i)?o=null:a!==null&&Ox(n,a)&&(e.flags|=32),A_(t,e),qr(t,e,o,r),e.child;case 6:return t===null&&Vx(e),null;case 13:return I_(t,e,r);case 4:return $0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cl(e,null,n,r):qr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),dw(t,e,n,i,r);case 7:return qr(t,e,e.pendingProps,r),e.child;case 8:return qr(t,e,e.pendingProps.children,r),e.child;case 12:return qr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Nt(bm,n._currentValue),n._currentValue=o,a!==null)if(Ks(a.value,o)){if(a.children===i.children&&!Xr.current){e=Kn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Fn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Ux(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ux(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}qr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,hl(e,r),i=Cs(i),n=n(i),e.flags|=1,qr(t,e,n,r),e.child;case 14:return n=e.type,i=Fs(n,e.pendingProps),i=Fs(n.type,i),hw(t,e,n,i,r);case 15:return T_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),Ph(t,e),e.tag=1,Zr(n)?(t=!0,xm(e)):t=!1,hl(e,r),S_(e,n,i),$x(e,n,i,r),Wx(null,e,n,!0,t,r);case 19:return R_(t,e,r);case 22:return C_(t,e,r)}throw Error(xe(156,e.tag))};function Q_(t,e){return wS(t,e)}function o5(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(t,e,r,n){return new o5(t,e,r,n)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l5(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w0)return 11;if(t===N0)return 14}return 2}function Wi(t,e){var r=t.alternate;return r===null?(r=Es(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Oh(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return za(r.children,i,a,e);case j0:o=8,i|=8;break;case hx:return t=Es(12,r,e,i|2),t.elementType=hx,t.lanes=a,t;case mx:return t=Es(13,r,e,i),t.elementType=mx,t.lanes=a,t;case fx:return t=Es(19,r,e,i),t.elementType=fx,t.lanes=a,t;case iS:return Bf(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sS:o=10;break e;case nS:o=9;break e;case w0:o=11;break e;case N0:o=14;break e;case Ni:o=16,n=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=Es(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function za(t,e,r,n){return t=Es(7,t,n,e),t.lanes=r,t}function Bf(t,e,r,n){return t=Es(22,t,n,e),t.elementType=iS,t.lanes=r,t.stateNode={isHidden:!1},t}function xg(t,e,r){return t=Es(6,t,null,e),t.lanes=r,t}function yg(t,e,r){return e=Es(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c5(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nv(t,e,r,n,i,a,o,l,c){return t=new c5(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Es(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},B0(a),t}function u5(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Y_(t){if(!t)return sa;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(Zr(r))return YS(t,r,e)}return e}function J_(t,e,r,n,i,a,o,l,c){return t=nv(r,n,!0,t,i,a,o,l,c),t.context=Y_(null),r=t.current,n=zr(),i=zi(r),a=Fn(n,i),a.callback=e??null,$i(r,a,i),t.current.lanes=i,nd(t,i,n),es(t,n),t}function $f(t,e,r,n){var i=e.current,a=zr(),o=zi(i);return r=Y_(r),e.context===null?e.context=r:e.pendingContext=r,e=Fn(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$i(i,e,o),t!==null&&(Ws(t,i,o,a),Th(t,i,o)),o}function Am(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function iv(t,e){kw(t,e),(t=t.alternate)&&kw(t,e)}function d5(){return null}var X_=typeof reportError=="function"?reportError:function(t){console.error(t)};function av(t){this._internalRoot=t}qf.prototype.render=av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));$f(t,e,null,null)};qf.prototype.unmount=av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ja(function(){$f(null,t,null,null)}),e[Wn]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=CS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ei.length&&e!==0&&e<Ei[r].priority;r++);Ei.splice(r,0,t),r===0&&PS(t)}};function ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function h5(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Am(o);a.call(u)}}var o=J_(e,n,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=o,t[Wn]=o.current,Cu(t.nodeType===8?t.parentNode:t),Ja(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Am(c);l.call(u)}}var c=nv(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=c,t[Wn]=c.current,Cu(t.nodeType===8?t.parentNode:t),Ja(function(){$f(e,c,r,n)}),c}function Wf(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Am(o);l.call(c)}}$f(e,o,t,i)}else o=h5(r,e,t,i,n);return Am(o)}ES=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wc(e.pendingLanes);r!==0&&(_0(e,r|1),es(e,Qt()),!(dt&6)&&(Il=Qt()+500,ga()))}break;case 13:Ja(function(){var n=Hn(t,1);if(n!==null){var i=zr();Ws(n,t,1,i)}}),iv(t,1)}};E0=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var r=zr();Ws(e,t,134217728,r)}iv(t,134217728)}};TS=function(t){if(t.tag===13){var e=zi(t),r=Hn(t,e);if(r!==null){var n=zr();Ws(r,t,e,n)}iv(t,e)}};CS=function(){return yt};AS=function(t,e){var r=yt;try{return yt=t,e()}finally{yt=r}};kx=function(t,e,r){switch(e){case"input":if(xx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Df(n);if(!i)throw Error(xe(90));oS(n),xx(n,i)}}}break;case"textarea":cS(t,r);break;case"select":e=r.value,e!=null&&ll(t,!!r.multiple,e,!1)}};gS=ev;xS=Ja;var m5={usingClientEntryPoint:!1,Events:[ad,Qo,Df,fS,pS,ev]},Pc={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f5={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bS(t),t===null?null:t.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||d5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Pf=eh.inject(f5),fn=eh}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;ms.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(e))throw Error(xe(200));return u5(t,e,null,r)};ms.createRoot=function(t,e){if(!ov(t))throw Error(xe(299));var r=!1,n="",i=X_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nv(t,1,!1,null,null,r,!1,n,i),t[Wn]=e.current,Cu(t.nodeType===8?t.parentNode:t),new av(e)};ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=bS(e),t=t===null?null:t.stateNode,t};ms.flushSync=function(t){return Ja(t)};ms.hydrate=function(t,e,r){if(!zf(e))throw Error(xe(200));return Wf(null,t,e,!0,r)};ms.hydrateRoot=function(t,e,r){if(!ov(t))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=X_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=J_(e,null,t,1,r??null,i,!1,a,o),t[Wn]=e.current,Cu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qf(e)};ms.render=function(t,e,r){if(!zf(e))throw Error(xe(200));return Wf(null,t,e,!1,r)};ms.unmountComponentAtNode=function(t){if(!zf(t))throw Error(xe(40));return t._reactRootContainer?(Ja(function(){Wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};ms.unstable_batchedUpdates=ev;ms.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zf(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Wf(t,e,r,!1,n)};ms.version="18.3.1-next-f1338f8080-20240426";function Z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z_)}catch(t){console.error(t)}}Z_(),Zk.exports=ms;var lv=Zk.exports;const p5=oo(lv);var _w=lv;ux.createRoot=_w.createRoot,ux.hydrateRoot=_w.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const Ew="popstate";function g5(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return sy("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Pm(i)}return y5(e,r,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x5(){return Math.random().toString(36).substr(2,8)}function Tw(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,r,n){return r===void 0&&(r=null),Fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gl(e):e,{state:r,key:e&&e.key||n||x5()})}function Pm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function y5(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Mi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=Mi.Pop;let j=d(),y=j==null?null:j-u;u=j,c&&c({action:l,location:v.location,delta:y})}function h(j,y){l=Mi.Push;let p=sy(v.location,j,y);r&&r(p,j),u=d()+1;let b=Tw(p,u),w=v.createHref(p);try{o.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}a&&c&&c({action:l,location:v.location,delta:1})}function f(j,y){l=Mi.Replace;let p=sy(v.location,j,y);r&&r(p,j),u=d();let b=Tw(p,u),w=v.createHref(p);o.replaceState(b,"",w),a&&c&&c({action:l,location:v.location,delta:0})}function g(j){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof j=="string"?j:Pm(j);return p=p.replace(/ $/,"%20"),Mt(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return l},get location(){return t(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ew,m),c=j,()=>{i.removeEventListener(Ew,m),c=null}},createHref(j){return e(i,j)},createURL:g,encodeLocation(j){let y=g(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(j){return o.go(j)}};return v}var Cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cw||(Cw={}));function v5(t,e,r){return r===void 0&&(r="/"),b5(t,e,r,!1)}function b5(t,e,r,n){let i=typeof e=="string"?Gl(e):e,a=Rl(i.pathname||"/",r);if(a==null)return null;let o=tE(t);j5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=I5(a);l=A5(o[c],u,n)}return l}function tE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Mt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Hi([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tE(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:T5(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of rE(a.path))i(a,o,c)}),e}function rE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=rE(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function j5(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:C5(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const w5=/^:[\w-]+$/,N5=3,k5=2,S5=1,_5=10,E5=-2,Aw=t=>t==="*";function T5(t,e){let r=t.split("/"),n=r.length;return r.some(Aw)&&(n+=E5),e&&(n+=k5),r.filter(i=>!Aw(i)).reduce((i,a)=>i+(w5.test(a)?N5:a===""?S5:_5),n)}function C5(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function A5(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",m=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Im({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Hi([a,m.pathname]),pathnameBase:M5(Hi([a,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(a=Hi([a,m.pathnameBase]))}return o}function Im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=P5(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:h,isOptional:f}=d;if(h==="*"){let v=l[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function P5(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function I5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function R5(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Gl(t):t;return{pathname:r?r.startsWith("/")?r:O5(r,e):e,search:L5(n),hash:F5(i)}}function O5(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D5(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cv(t,e){let r=D5(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uv(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Gl(t):(i=Fu({},t),Mt(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;i.pathname=h.join("/")}l=m>=0?e[m]:"/"}let c=R5(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Hi=t=>t.join("/").replace(/\/\/+/g,"/"),M5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nE=["post","put","patch","delete"];new Set(nE);const V5=["get",...nE];new Set(V5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}const Hf=P.createContext(null),iE=P.createContext(null),ii=P.createContext(null),Kf=P.createContext(null),Sn=P.createContext({outlet:null,matches:[],isDataRoute:!1}),aE=P.createContext(null);function U5(t,e){let{relative:r}=e===void 0?{}:e;Ql()||Mt(!1);let{basename:n,navigator:i}=P.useContext(ii),{hash:a,pathname:o,search:l}=Gf(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Hi([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Ql(){return P.useContext(Kf)!=null}function Ys(){return Ql()||Mt(!1),P.useContext(Kf).location}function oE(t){P.useContext(ii).static||P.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=P.useContext(Sn);return t?e6():B5()}function B5(){Ql()||Mt(!1);let t=P.useContext(Hf),{basename:e,future:r,navigator:n}=P.useContext(ii),{matches:i}=P.useContext(Sn),{pathname:a}=Ys(),o=JSON.stringify(cv(i,r.v7_relativeSplatPath)),l=P.useRef(!1);return oE(()=>{l.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=uv(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hi([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,o,a,t])}const $5=P.createContext(null);function q5(t){let e=P.useContext(Sn).outlet;return e&&P.createElement($5.Provider,{value:t},e)}function lE(){let{matches:t}=P.useContext(Sn),e=t[t.length-1];return e?e.params:{}}function Gf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(ii),{matches:i}=P.useContext(Sn),{pathname:a}=Ys(),o=JSON.stringify(cv(i,n.v7_relativeSplatPath));return P.useMemo(()=>uv(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function z5(t,e){return W5(t,e)}function W5(t,e,r,n){Ql()||Mt(!1);let{navigator:i}=P.useContext(ii),{matches:a}=P.useContext(Sn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ys(),d;if(e){var m;let j=typeof e=="string"?Gl(e):e;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||Mt(!1),d=j}else d=u;let h=d.pathname||"/",f=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=v5(t,{pathname:f}),v=Y5(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Hi([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Hi([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return e&&v?P.createElement(Kf.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mi.Pop}},v):v}function H5(){let t=dE(),e=sE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,a)}const K5=P.createElement(H5,null);class G5 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Sn.Provider,{value:this.props.routeContext},P.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q5(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(Hf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Sn.Provider,{value:e},n)}function Y5(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:h,errors:f}=r,g=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,h)=>{let f,g=!1,v=null,j=null;r&&(f=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||K5,c&&(u<0&&h===0?(t6("route-fallback",!1),g=!0,j=null):u===h&&(g=!0,j=m.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),p=()=>{let b;return f?b=v:g?b=j:m.route.Component?b=P.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=d,P.createElement(Q5,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?P.createElement(G5,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var cE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cE||{}),Rm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rm||{});function J5(t){let e=P.useContext(Hf);return e||Mt(!1),e}function X5(t){let e=P.useContext(iE);return e||Mt(!1),e}function Z5(t){let e=P.useContext(Sn);return e||Mt(!1),e}function uE(t){let e=Z5(),r=e.matches[e.matches.length-1];return r.route.id||Mt(!1),r.route.id}function dE(){var t;let e=P.useContext(aE),r=X5(Rm.UseRouteError),n=uE(Rm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function e6(){let{router:t}=J5(cE.UseNavigateStable),e=uE(Rm.UseNavigateStable),r=P.useRef(!1);return oE(()=>{r.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vu({fromRouteId:e},a)))},[t,e])}const Pw={};function t6(t,e,r){!e&&!Pw[t]&&(Pw[t]=!0)}function r6(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Iw(t){let{to:e,replace:r,state:n,relative:i}=t;Ql()||Mt(!1);let{future:a,static:o}=P.useContext(ii),{matches:l}=P.useContext(Sn),{pathname:c}=Ys(),u=_n(),d=uv(e,cv(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(d);return P.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:i}),[u,m,i,r,n]),null}function hE(t){return q5(t.context)}function mE(t){Mt(!1)}function s6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Mi.Pop,navigator:a,static:o=!1,future:l}=t;Ql()&&Mt(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:a,static:o,future:Vu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Gl(n));let{pathname:d="/",search:m="",hash:h="",state:f=null,key:g="default"}=n,v=P.useMemo(()=>{let j=Rl(d,c);return j==null?null:{location:{pathname:j,search:m,hash:h,state:f,key:g},navigationType:i}},[c,d,m,h,f,g,i]);return v==null?null:P.createElement(ii.Provider,{value:u},P.createElement(Kf.Provider,{children:r,value:v}))}function n6(t){let{children:e,location:r}=t;return z5(ny(e),r)}new Promise(()=>{});function ny(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let a=[...e,i];if(n.type===P.Fragment){r.push.apply(r,ny(n.props.children,a));return}n.type!==mE&&Mt(!1),!n.props.index||!n.props.children||Mt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ny(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(this,arguments)}function fE(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function i6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a6(t,e){return t.button===0&&(!e||e==="_self")&&!i6(t)}function iy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function o6(t,e){let r=iy(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const l6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],u6="6";try{window.__reactRouterVersion=u6}catch{}const d6=P.createContext({isTransitioning:!1}),h6="startTransition",Rw=n3[h6];function m6(t){let{basename:e,children:r,future:n,window:i}=t,a=P.useRef();a.current==null&&(a.current=g5({window:i,v5Compat:!0}));let o=a.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=P.useCallback(m=>{u&&Rw?Rw(()=>c(m)):c(m)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>r6(n),[n]),P.createElement(s6,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const f6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,h=fE(e,l6),{basename:f}=P.useContext(ii),g,v=!1;if(typeof u=="string"&&p6.test(u)&&(g=u,f6))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Rl(w.pathname,f);w.origin===b.origin&&S!=null?u=S+w.search+w.hash:v=!0}catch{}let j=U5(u,{relative:i}),y=x6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:m});function p(b){n&&n(b),b.defaultPrevented||y(b)}return P.createElement("a",Om({},h,{href:g||j,onClick:v||a?n:p,ref:r,target:c}))}),gi=P.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,m=fE(e,c6),h=Gf(c,{relative:m.relative}),f=Ys(),g=P.useContext(iE),{navigator:v,basename:j}=P.useContext(ii),y=g!=null&&y6(h)&&u===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,b=f.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(b=b.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&j&&(w=Rl(w,j)||w);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let R=b===p||!o&&b.startsWith(p)&&b.charAt(S)==="/",N=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),k={isActive:R,isPending:N,isTransitioning:y},E=R?n:void 0,T;typeof a=="function"?T=a(k):T=[a,R?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(k):l;return P.createElement(De,Om({},m,{"aria-current":E,className:T,ref:r,style:_,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var ay;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ay||(ay={}));var Ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ow||(Ow={}));function g6(t){let e=P.useContext(Hf);return e||Mt(!1),e}function x6(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=_n(),u=Ys(),d=Gf(t,{relative:o});return P.useCallback(m=>{if(a6(m,r)){m.preventDefault();let h=n!==void 0?n:Pm(u)===Pm(d);c(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function dv(t){let e=P.useRef(iy(t)),r=P.useRef(!1),n=Ys(),i=P.useMemo(()=>o6(n.search,r.current?null:e.current),[n.search]),a=_n(),o=P.useCallback((l,c)=>{const u=iy(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}function y6(t,e){e===void 0&&(e={});let r=P.useContext(d6);r==null&&Mt(!1);let{basename:n}=g6(ay.useViewTransitionState),i=Gf(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Rl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Im(i.pathname,o)!=null||Im(i.pathname,a)!=null}function oy(t,e){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oy(t,e)}function Yl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oy(t,e)}var Jl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var i=this,a=n||function(){};return this.listeners.push(a),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==a}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tt.apply(null,arguments)}var Dm=typeof window>"u";function yr(){}function v6(t,e){return typeof t=="function"?t(e):t}function ly(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mm(t){return Array.isArray(t)?t:[t]}function pE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dh(t,e,r){return ld(t)?typeof e=="function"?tt({},r,{queryKey:t,queryFn:e}):tt({},e,{queryKey:t}):t}function b6(t,e,r){return ld(t)?typeof e=="function"?tt({},r,{mutationKey:t,mutationFn:e}):tt({},e,{mutationKey:t}):typeof t=="function"?tt({},e,{mutationFn:t}):tt({},t)}function Si(t,e,r){return ld(t)?[tt({},e,{queryKey:t}),r]:[t||{},e]}function j6(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function Dw(t,e){var r=t.active,n=t.exact,i=t.fetching,a=t.inactive,o=t.predicate,l=t.queryKey,c=t.stale;if(ld(l)){if(n){if(e.queryHash!==hv(l,e.options))return!1}else if(!Lm(e.queryKey,l))return!1}var u=j6(r,a);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function Mw(t,e){var r=t.exact,n=t.fetching,i=t.predicate,a=t.mutationKey;if(ld(a)){if(!e.options.mutationKey)return!1;if(r){if(Fa(e.options.mutationKey)!==Fa(a))return!1}else if(!Lm(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function hv(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||Fa;return r(t)}function Fa(t){var e=Mm(t);return w6(e)}function w6(t){return JSON.stringify(t,function(e,r){return cy(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function Lm(t,e){return gE(Mm(t),Mm(e))}function gE(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!gE(t[r],e[r])}):!1}function Fm(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||cy(t)&&cy(e)){for(var n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{},l=0,c=0;c<a;c++){var u=r?c:i[c];o[u]=Fm(t[u],e[u]),o[u]===t[u]&&l++}return n===a&&l===n?t:o}return e}function N6(t,e){if(t&&!e||e&&!t)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}function cy(t){if(!Lw(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!Lw(r)||!r.hasOwnProperty("isPrototypeOf"))}function Lw(t){return Object.prototype.toString.call(t)==="[object Object]"}function ld(t){return typeof t=="string"||Array.isArray(t)}function k6(t){return new Promise(function(e){setTimeout(e,t)})}function Fw(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function xE(){if(typeof AbortController=="function")return new AbortController}var S6=function(t){Yl(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!Dm&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Jl),au=new S6,_6=function(t){Yl(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!Dm&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Jl),Mh=new _6;function E6(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Vm(t){return typeof(t==null?void 0:t.cancel)=="function"}var yE=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Lh(t){return t instanceof yE}var vE=function(e){var r=this,n=!1,i,a,o,l;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,f){o=h,l=f});var c=function(f){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(f),a==null||a(),o(f))},u=function(f){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(f),a==null||a(),l(f))},d=function(){return new Promise(function(f){a=f,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},m=function h(){if(!r.isResolved){var f;try{f=e.fn()}catch(g){f=Promise.reject(g)}i=function(v){if(!r.isResolved&&(u(new yE(v)),r.abort==null||r.abort(),Vm(f)))try{f.cancel()}catch{}},r.isTransportCancelable=Vm(f),Promise.resolve(f).then(c).catch(function(g){var v,j;if(!r.isResolved){var y=(v=e.retry)!=null?v:3,p=(j=e.retryDelay)!=null?j:E6,b=typeof p=="function"?p(r.failureCount,g):p,w=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,g);if(n||!w){u(g);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,g),k6(b).then(function(){if(!au.isFocused()||!Mh.isOnline())return d()}).then(function(){n?u(g):h()})}})}};m()},T6=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):Fw(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];i.schedule(function(){n.apply(void 0,o)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&Fw(function(){n.batchNotifyFn(function(){i.forEach(function(a){n.notifyFn(a)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Pt=new T6,bE=console;function Um(){return bE}function C6(t){bE=t}var A6=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var i;this.options=tt({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),ly(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var a,o,l=this.state.data,c=v6(n,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Fm(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,a=this.promise;return(i=this.retryer)==null||i.cancel(n),a?a.then(yr).catch(yr):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!pE(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var a=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(p){return p.options.queryFn});d&&this.setOptions(d.options)}var m=Mm(this.queryKey),h=xE(),f={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return a.abortSignalConsumed=!0,h.signal}});var g=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(f)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:m,state:this.state,fetchFn:g,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var j;(j=this.options.behavior)==null||j.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=v.fetchOptions)==null?void 0:l.meta)){var y;this.dispatch({type:"fetch",meta:(y=v.fetchOptions)==null?void 0:y.meta})}return this.retryer=new vE({fn:v.fetchFn,abort:h==null||(c=h.abort)==null?void 0:c.bind(h),onSuccess:function(b){a.setData(b),a.cache.config.onSuccess==null||a.cache.config.onSuccess(b,a),a.cacheTime===0&&a.optionalRemove()},onError:function(b){Lh(b)&&b.silent||a.dispatch({type:"error",error:b}),Lh(b)||(a.cache.config.onError==null||a.cache.config.onError(b,a),Um().error(b)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Pt.batch(function(){i.observers.forEach(function(a){a.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,a=typeof n.initialData<"u",o=a?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(n,i){var a,o;switch(i.type){case"failed":return tt({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return tt({},n,{isPaused:!0});case"continue":return tt({},n,{isPaused:!1});case"fetch":return tt({},n,{fetchFailureCount:0,fetchMeta:(a=i.meta)!=null?a:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return tt({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=i.error;return Lh(l)&&l.revert&&this.revertState?tt({},this.revertState):tt({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return tt({},n,{isInvalidated:!0});case"setState":return tt({},n,i.state);default:return n}},t}(),P6=function(t){Yl(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,a,o){var l,c=a.queryKey,u=(l=a.queryHash)!=null?l:hv(c,a),d=this.get(u);return d||(d=new A6({cache:this,queryKey:c,queryHash:u,options:i.defaultQueryOptions(a),state:o,defaultOptions:i.getQueryDefaults(c),meta:a.meta}),this.add(d)),d},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(a){i.remove(a)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,a){var o=Si(i,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return Dw(l,c)})},r.findAll=function(i,a){var o=Si(i,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return Dw(l,c)}):this.queries},r.notify=function(i){var a=this;Pt.batch(function(){a.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(a){a.onFocus()})})},r.onOnline=function(){var i=this;Pt.batch(function(){i.queries.forEach(function(a){a.onOnline()})})},e}(Jl),I6=function(){function t(r){this.options=tt({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||jE(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(yr).catch(yr)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(l){i=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),Um().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var n=this,i;return this.retryer=new vE({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=R6(this.state,n),Pt.batch(function(){i.observers.forEach(function(a){a.onMutationUpdate(n)}),i.mutationCache.notify(i)})},t}();function jE(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function R6(t,e){switch(e.type){case"failed":return tt({},t,{failureCount:t.failureCount+1});case"pause":return tt({},t,{isPaused:!0});case"continue":return tt({},t,{isPaused:!1});case"loading":return tt({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return tt({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return tt({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return tt({},t,e.state);default:return t}}var O6=function(t){Yl(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,a,o){var l=new I6({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(a){return a!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Pt.batch(function(){i.mutations.forEach(function(a){i.remove(a)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(a){return Mw(i,a)})},r.findAll=function(i){return this.mutations.filter(function(a){return Mw(i,a)})},r.notify=function(i){var a=this;Pt.batch(function(){a.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(a){return a.state.isPaused});return Pt.batch(function(){return i.reduce(function(a,o){return a.then(function(){return o.continue().catch(yr)})},Promise.resolve())})},e}(Jl);function D6(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,a,o,l,c=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,d=u==null?void 0:u.pageParam,m=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",f=((o=e.state.data)==null?void 0:o.pages)||[],g=((l=e.state.data)==null?void 0:l.pageParams)||[],v=xE(),j=v==null?void 0:v.signal,y=g,p=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},w=function(O,U,L,q){return y=q?[U].concat(y):[].concat(y,[U]),q?[L].concat(O):[].concat(O,[L])},S=function(O,U,L,q){if(p)return Promise.reject("Cancelled");if(typeof L>"u"&&!U&&O.length)return Promise.resolve(O);var M={queryKey:e.queryKey,signal:j,pageParam:L,meta:e.meta},z=b(M),D=Promise.resolve(z).then(function(H){return w(O,L,H,q)});if(Vm(z)){var F=D;F.cancel=z.cancel}return D},R;if(!f.length)R=S([]);else if(m){var N=typeof d<"u",k=N?d:Vw(e.options,f);R=S(f,N,k)}else if(h){var E=typeof d<"u",T=E?d:M6(e.options,f);R=S(f,E,T,!0)}else(function(){y=[];var C=typeof e.options.getNextPageParam>"u",O=c&&f[0]?c(f[0],0,f):!0;R=O?S([],C,g[0]):Promise.resolve(w([],g[0],f[0]));for(var U=function(M){R=R.then(function(z){var D=c&&f[M]?c(f[M],M,f):!0;if(D){var F=C?g[M]:Vw(e.options,z);return S(z,C,F)}return Promise.resolve(w(z,g[M],f[M]))})},L=1;L<f.length;L++)U(L)})();var _=R.then(function(C){return{pages:C,pageParams:y}}),A=_;return A.cancel=function(){p=!0,v==null||v.abort(),Vm(R)&&R.cancel()},_}}}}function Vw(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function M6(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var L6=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new P6,this.mutationCache=r.mutationCache||new O6,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=au.subscribe(function(){au.isFocused()&&Mh.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Mh.subscribe(function(){au.isFocused()&&Mh.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var a=Si(n,i),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(n){return this.mutationCache.findAll(tt({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var a=i.queryKey,o=i.state,l=o.data;return[a,l]})},e.setQueryData=function(n,i,a){var o=Dh(n),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(i,a)},e.setQueriesData=function(n,i,a){var o=this;return Pt.batch(function(){return o.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,i,a)]})})},e.getQueryState=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state},e.removeQueries=function(n,i){var a=Si(n,i),o=a[0],l=this.queryCache;Pt.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},e.resetQueries=function(n,i,a){var o=this,l=Si(n,i,a),c=l[0],u=l[1],d=this.queryCache,m=tt({},c,{active:!0});return Pt.batch(function(){return d.findAll(c).forEach(function(h){h.reset()}),o.refetchQueries(m,u)})},e.cancelQueries=function(n,i,a){var o=this,l=Si(n,i,a),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var m=Pt.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.cancel(d)})});return Promise.all(m).then(yr).catch(yr)},e.invalidateQueries=function(n,i,a){var o,l,c,u=this,d=Si(n,i,a),m=d[0],h=d[1],f=tt({},m,{active:(o=(l=m.refetchActive)!=null?l:m.active)!=null?o:!0,inactive:(c=m.refetchInactive)!=null?c:!1});return Pt.batch(function(){return u.queryCache.findAll(m).forEach(function(g){g.invalidate()}),u.refetchQueries(f,h)})},e.refetchQueries=function(n,i,a){var o=this,l=Si(n,i,a),c=l[0],u=l[1],d=Pt.batch(function(){return o.queryCache.findAll(c).map(function(h){return h.fetch(void 0,tt({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),m=Promise.all(d).then(yr);return u!=null&&u.throwOnError||(m=m.catch(yr)),m},e.fetchQuery=function(n,i,a){var o=Dh(n,i,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},e.prefetchQuery=function(n,i,a){return this.fetchQuery(n,i,a).then(yr).catch(yr)},e.fetchInfiniteQuery=function(n,i,a){var o=Dh(n,i,a);return o.behavior=D6(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(n,i,a){return this.fetchInfiniteQuery(n,i,a).then(yr).catch(yr)},e.cancelMutations=function(){var n=this,i=Pt.batch(function(){return n.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(i).then(yr).catch(yr)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var a=this.queryDefaults.find(function(o){return Fa(n)===Fa(o.queryKey)});a?a.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(a){return Lm(n,a.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var a=this.mutationDefaults.find(function(o){return Fa(n)===Fa(o.mutationKey)});a?a.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(a){return Lm(n,a.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=tt({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=hv(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:tt({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),F6=function(t){Yl(e,t);function e(n,i){var a;return a=t.call(this)||this,a.client=n,a.options=i,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(i),a}var r=e.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Uw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return uy(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return uy(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(i,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&Bw(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(i){var a=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(i,a){var o=this,l={},c=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),i[u]}})}),(a.useErrorBoundary||a.suspense)&&c("error"),l},r.getNextResult=function(i){var a=this;return new Promise(function(o,l){var c=a.subscribe(function(u){u.isFetching||(c(),u.isError&&(i!=null&&i.throwOnError)?l(u.error):o(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(i){return this.fetch(tt({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},r.fetchOptimistic=function(i){var a=this,o=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},r.fetch=function(i){var a=this;return this.executeFetch(i).then(function(){return a.updateResult(),a.currentResult})},r.executeFetch=function(i){this.updateQuery();var a=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(a=a.catch(yr)),a},r.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Dm||this.currentResult.isStale||!ly(this.options.staleTime))){var a=pE(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},r.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},r.updateRefetchInterval=function(i){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Dm||this.options.enabled===!1||!ly(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||au.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(i,a){var o=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,m=i!==o,h=m?i.state:this.currentQueryInitialState,f=m?this.currentResult:this.previousQueryResult,g=i.state,v=g.dataUpdatedAt,j=g.error,y=g.errorUpdatedAt,p=g.isFetching,b=g.status,w=!1,S=!1,R;if(a.optimisticResults){var N=this.hasListeners(),k=!N&&Uw(i,a),E=N&&Bw(i,o,a,l);(k||E)&&(p=!0,v||(b="loading"))}if(a.keepPreviousData&&!g.dataUpdateCount&&(f!=null&&f.isSuccess)&&b!=="error")R=f.data,v=f.dataUpdatedAt,b=f.status,w=!0;else if(a.select&&typeof g.data<"u")if(c&&g.data===(u==null?void 0:u.data)&&a.select===this.selectFn)R=this.selectResult;else try{this.selectFn=a.select,R=a.select(g.data),a.structuralSharing!==!1&&(R=Fm(c==null?void 0:c.data,R)),this.selectResult=R,this.selectError=null}catch(A){Um().error(A),this.selectError=A}else R=g.data;if(typeof a.placeholderData<"u"&&typeof R>"u"&&(b==="loading"||b==="idle")){var T;if(c!=null&&c.isPlaceholderData&&a.placeholderData===(d==null?void 0:d.placeholderData))T=c.data;else if(T=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof T<"u")try{T=a.select(T),a.structuralSharing!==!1&&(T=Fm(c==null?void 0:c.data,T)),this.selectError=null}catch(A){Um().error(A),this.selectError=A}typeof T<"u"&&(b="success",R=T,S=!0)}this.selectError&&(j=this.selectError,R=this.selectResult,y=Date.now(),b="error");var _={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:R,dataUpdatedAt:v,error:j,errorUpdatedAt:y,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:p,isRefetching:p&&b!=="loading",isLoadingError:b==="error"&&g.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:w,isRefetchError:b==="error"&&g.dataUpdatedAt!==0,isStale:mv(i,a),refetch:this.refetch,remove:this.remove};return _},r.shouldNotifyListeners=function(i,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(i).some(function(d){var m=d,h=i[m]!==a[m],f=u==null?void 0:u.some(function(v){return v===d}),g=c==null?void 0:c.some(function(v){return v===d});return h&&!g&&(!u||f)})},r.updateResult=function(i){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!N6(this.currentResult,a)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(tt({},o,i))}},r.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var a=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),i.addObserver(this))}},r.onQueryUpdate=function(i){var a={};i.type==="success"?a.onSuccess=!0:i.type==="error"&&!Lh(i.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},r.notify=function(i){var a=this;Pt.batch(function(){i.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):i.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),i.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),i.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},e}(Jl);function V6(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Uw(t,e){return V6(t,e)||t.state.dataUpdatedAt>0&&uy(t,e,e.refetchOnMount)}function uy(t,e,r){if(e.enabled!==!1){var n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&mv(t,e)}return!1}function Bw(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&mv(t,r)}function mv(t,e){return t.isStaleByTime(e.staleTime)}var U6=function(t){Yl(e,t);function e(n,i){var a;return a=t.call(this)||this,a.client=n,a.setOptions(i),a.bindMethods(),a.updateResult(),a}var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},r.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},r.onMutationUpdate=function(i){this.updateResult();var a={listeners:!0};i.type==="success"?a.onSuccess=!0:i.type==="error"&&(a.onError=!0),this.notify(a)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(i,a){return this.mutateOptions=a,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,tt({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:jE(),a=tt({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=a},r.notify=function(i){var a=this;Pt.batch(function(){a.mutateOptions&&(i.onSuccess?(a.mutateOptions.onSuccess==null||a.mutateOptions.onSuccess(a.currentResult.data,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(a.currentResult.data,null,a.currentResult.variables,a.currentResult.context)):i.onError&&(a.mutateOptions.onError==null||a.mutateOptions.onError(a.currentResult.error,a.currentResult.variables,a.currentResult.context),a.mutateOptions.onSettled==null||a.mutateOptions.onSettled(void 0,a.currentResult.error,a.currentResult.variables,a.currentResult.context))),i.listeners&&a.listeners.forEach(function(o){o(a.currentResult)})})},e}(Jl),B6=p5.unstable_batchedUpdates;Pt.setBatchNotifyFunction(B6);var $6=console;C6($6);var $w=pt.createContext(void 0),wE=pt.createContext(!1);function NE(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=$w),window.ReactQueryClientContext):$w}var ps=function(){var e=pt.useContext(NE(pt.useContext(wE)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},q6=function(e){var r=e.client,n=e.contextSharing,i=n===void 0?!1:n,a=e.children;pt.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=NE(i);return pt.createElement(wE.Provider,{value:i},pt.createElement(o.Provider,{value:r},a))};function z6(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var W6=pt.createContext(z6()),H6=function(){return pt.useContext(W6)};function kE(t,e,r){return typeof e=="function"?e.apply(void 0,r):typeof e=="boolean"?e:!!t}function et(t,e,r){var n=pt.useRef(!1),i=pt.useState(0),a=i[1],o=b6(t,e,r),l=ps(),c=pt.useRef();c.current?c.current.setOptions(o):c.current=new U6(l,o);var u=c.current.getCurrentResult();pt.useEffect(function(){n.current=!0;var m=c.current.subscribe(Pt.batchCalls(function(){n.current&&a(function(h){return h+1})}));return function(){n.current=!1,m()}},[]);var d=pt.useCallback(function(m,h){c.current.mutate(m,h).catch(yr)},[]);if(u.error&&kE(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return tt({},u,{mutate:d,mutateAsync:u.mutate})}function K6(t,e){var r=pt.useRef(!1),n=pt.useState(0),i=n[1],a=ps(),o=H6(),l=a.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=Pt.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=Pt.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=Pt.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=pt.useState(function(){return new e(a,l)}),u=c[0],d=u.getOptimisticResult(l);if(pt.useEffect(function(){r.current=!0,o.clearReset();var m=u.subscribe(Pt.batchCalls(function(){r.current&&i(function(h){return h+1})}));return u.updateResult(),function(){r.current=!1,m()}},[o,u]),pt.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(m){var h=m.data;l.onSuccess==null||l.onSuccess(h),l.onSettled==null||l.onSettled(h,null)}).catch(function(m){o.clearReset(),l.onError==null||l.onError(m),l.onSettled==null||l.onSettled(void 0,m)});if(d.isError&&!o.isReset()&&!d.isFetching&&kE(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function Ct(t,e,r){var n=Dh(t,e,r);return K6(n,F6)}var SE={exports:{}},G6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q6=G6,Y6=Q6;function _E(){}function EE(){}EE.resetWarningCache=_E;var J6=function(){function t(n,i,a,o,l,c){if(c!==Y6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EE,resetWarningCache:_E};return r.PropTypes=r,r};SE.exports=J6();var X6=SE.exports;const ot=oo(X6);var Z6=typeof Element<"u",eR=typeof Map=="function",tR=typeof Set=="function",rR=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Fh(t[n],e[n]))return!1;return!0}var a;if(eR&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!Fh(n.value[1],e.get(n.value[0])))return!1;return!0}if(tR&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(rR&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(Z6&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&t.$$typeof)&&!Fh(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}var sR=function(e,r){try{return Fh(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const nR=oo(sR);var iR=function(t,e,r,n,i,a,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},aR=iR;const qw=oo(aR);var oR=function(e,r,n,i){var a=n?n.call(i,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var m=e[d],h=r[d];if(a=n?n.call(i,m,h,d):void 0,a===!1||a===void 0&&m!==h)return!1}return!0};const lR=oo(oR);function Kt(){return Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kt.apply(this,arguments)}function fv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dy(t,e)}function dy(t,e){return dy=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},dy(t,e)}function zw(t,e){if(t==null)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(i[r]=t[r]);return i}var Le={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},cR={rel:["amphtml","canonical","alternate"]},uR={type:["application/ld+json"]},dR={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Ww=Object.keys(Le).map(function(t){return Le[t]}),Bm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hR=Object.keys(Bm).reduce(function(t,e){return t[Bm[e]]=e,t},{}),fl=function(t,e){for(var r=t.length-1;r>=0;r-=1){var n=t[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},mR=function(t){var e=fl(t,Le.TITLE),r=fl(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),r&&e)return r.replace(/%s/g,function(){return e});var n=fl(t,"defaultTitle");return e||n||void 0},fR=function(t){return fl(t,"onChangeClientState")||function(){}},bg=function(t,e){return e.filter(function(r){return r[t]!==void 0}).map(function(r){return r[t]}).reduce(function(r,n){return Kt({},r,n)},{})},pR=function(t,e){return e.filter(function(r){return r[Le.BASE]!==void 0}).map(function(r){return r[Le.BASE]}).reverse().reduce(function(r,n){if(!r.length)for(var i=Object.keys(n),a=0;a<i.length;a+=1){var o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&n[o])return r.concat(n)}return r},[])},Ic=function(t,e,r){var n={};return r.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,a){var o={};a.filter(function(m){for(var h,f=Object.keys(m),g=0;g<f.length;g+=1){var v=f[g],j=v.toLowerCase();e.indexOf(j)===-1||h==="rel"&&m[h].toLowerCase()==="canonical"||j==="rel"&&m[j].toLowerCase()==="stylesheet"||(h=j),e.indexOf(v)===-1||v!=="innerHTML"&&v!=="cssText"&&v!=="itemprop"||(h=v)}if(!h||!m[h])return!1;var y=m[h].toLowerCase();return n[h]||(n[h]={}),o[h]||(o[h]={}),!n[h][y]&&(o[h][y]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var l=Object.keys(o),c=0;c<l.length;c+=1){var u=l[c],d=Kt({},n[u],o[u]);n[u]=d}return i},[]).reverse()},gR=function(t,e){if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;r+=1)if(t[r][e])return!0}return!1},TE=function(t){return Array.isArray(t)?t.join(""):t},jg=function(t,e){return Array.isArray(t)?t.reduce(function(r,n){return function(i,a){for(var o=Object.keys(i),l=0;l<o.length;l+=1)if(a[o[l]]&&a[o[l]].includes(i[o[l]]))return!0;return!1}(n,e)?r.priority.push(n):r.default.push(n),r},{priority:[],default:[]}):{default:t}},Hw=function(t,e){var r;return Kt({},t,((r={})[e]=void 0,r))},xR=[Le.NOSCRIPT,Le.SCRIPT,Le.STYLE],wg=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Kw=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r]!==void 0?r+'="'+t[r]+'"':""+r;return e?e+" "+n:n},"")},Gw=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(r,n){return r[Bm[n]||n]=t[n],r},e)},Vh=function(t,e){return e.map(function(r,n){var i,a=((i={key:n})["data-rh"]=!0,i);return Object.keys(r).forEach(function(o){var l=Bm[o]||o;l==="innerHTML"||l==="cssText"?a.dangerouslySetInnerHTML={__html:r.innerHTML||r.cssText}:a[l]=r[o]}),pt.createElement(t,a)})},vs=function(t,e,r){switch(t){case Le.TITLE:return{toComponent:function(){return i=e.titleAttributes,(a={key:n=e.title})["data-rh"]=!0,o=Gw(i,a),[pt.createElement(Le.TITLE,o,n)];var n,i,a,o},toString:function(){return function(n,i,a,o){var l=Kw(a),c=TE(i);return l?"<"+n+' data-rh="true" '+l+">"+wg(c,o)+"</"+n+">":"<"+n+' data-rh="true">'+wg(c,o)+"</"+n+">"}(t,e.title,e.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Gw(e)},toString:function(){return Kw(e)}};default:return{toComponent:function(){return Vh(t,e)},toString:function(){return function(n,i,a){return i.reduce(function(o,l){var c=Object.keys(l).filter(function(m){return!(m==="innerHTML"||m==="cssText")}).reduce(function(m,h){var f=l[h]===void 0?h:h+'="'+wg(l[h],a)+'"';return m?m+" "+f:f},""),u=l.innerHTML||l.cssText||"",d=xR.indexOf(n)===-1;return o+"<"+n+' data-rh="true" '+c+(d?"/>":">"+u+"</"+n+">")},"")}(t,e,r)}}}},hy=function(t){var e=t.baseTag,r=t.bodyAttributes,n=t.encode,i=t.htmlAttributes,a=t.noscriptTags,o=t.styleTags,l=t.title,c=l===void 0?"":l,u=t.titleAttributes,d=t.linkTags,m=t.metaTags,h=t.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var g=function(v){var j=v.linkTags,y=v.scriptTags,p=v.encode,b=jg(v.metaTags,dR),w=jg(j,cR),S=jg(y,uR);return{priorityMethods:{toComponent:function(){return[].concat(Vh(Le.META,b.priority),Vh(Le.LINK,w.priority),Vh(Le.SCRIPT,S.priority))},toString:function(){return vs(Le.META,b.priority,p)+" "+vs(Le.LINK,w.priority,p)+" "+vs(Le.SCRIPT,S.priority,p)}},metaTags:b.default,linkTags:w.default,scriptTags:S.default}}(t);f=g.priorityMethods,d=g.linkTags,m=g.metaTags,h=g.scriptTags}return{priority:f,base:vs(Le.BASE,e,n),bodyAttributes:vs("bodyAttributes",r,n),htmlAttributes:vs("htmlAttributes",i,n),link:vs(Le.LINK,d,n),meta:vs(Le.META,m,n),noscript:vs(Le.NOSCRIPT,a,n),script:vs(Le.SCRIPT,h,n),style:vs(Le.STYLE,o,n),title:vs(Le.TITLE,{title:c,titleAttributes:u},n)}},th=[],my=function(t,e){var r=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(n){r.context.helmet=n},helmetInstances:{get:function(){return r.canUseDOM?th:r.instances},add:function(n){(r.canUseDOM?th:r.instances).push(n)},remove:function(n){var i=(r.canUseDOM?th:r.instances).indexOf(n);(r.canUseDOM?th:r.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=hy({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},CE=pt.createContext({}),yR=ot.shape({setHelmet:ot.func,helmetInstances:ot.shape({get:ot.func,add:ot.func,remove:ot.func})}),vR=typeof document<"u",rl=function(t){function e(r){var n;return(n=t.call(this,r)||this).helmetData=new my(n.props.context,e.canUseDOM),n}return fv(e,t),e.prototype.render=function(){return pt.createElement(CE.Provider,{value:this.helmetData.value},this.props.children)},e}(P.Component);rl.canUseDOM=vR,rl.propTypes={context:ot.shape({helmet:ot.shape()}),children:ot.node.isRequired},rl.defaultProps={context:{}},rl.displayName="HelmetProvider";var Lo=function(t,e){var r,n=document.head||document.querySelector(Le.HEAD),i=n.querySelectorAll(t+"[data-rh]"),a=[].slice.call(i),o=[];return e&&e.length&&e.forEach(function(l){var c=document.createElement(t);for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(u==="innerHTML"?c.innerHTML=l.innerHTML:u==="cssText"?c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText)):c.setAttribute(u,l[u]===void 0?"":l[u]));c.setAttribute("data-rh","true"),a.some(function(d,m){return r=m,c.isEqualNode(d)})?a.splice(r,1):o.push(c)}),a.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return n.appendChild(l)}),{oldTags:a,newTags:o}},Ng=function(t,e){var r=document.getElementsByTagName(t)[0];if(r){for(var n=r.getAttribute("data-rh"),i=n?n.split(","):[],a=[].concat(i),o=Object.keys(e),l=0;l<o.length;l+=1){var c=o[l],u=e[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),i.indexOf(c)===-1&&i.push(c);var d=a.indexOf(c);d!==-1&&a.splice(d,1)}for(var m=a.length-1;m>=0;m-=1)r.removeAttribute(a[m]);i.length===a.length?r.removeAttribute("data-rh"):r.getAttribute("data-rh")!==o.join(",")&&r.setAttribute("data-rh",o.join(","))}},Qw=function(t,e){var r=t.baseTag,n=t.htmlAttributes,i=t.linkTags,a=t.metaTags,o=t.noscriptTags,l=t.onChangeClientState,c=t.scriptTags,u=t.styleTags,d=t.title,m=t.titleAttributes;Ng(Le.BODY,t.bodyAttributes),Ng(Le.HTML,n),function(v,j){v!==void 0&&document.title!==v&&(document.title=TE(v)),Ng(Le.TITLE,j)}(d,m);var h={baseTag:Lo(Le.BASE,r),linkTags:Lo(Le.LINK,i),metaTags:Lo(Le.META,a),noscriptTags:Lo(Le.NOSCRIPT,o),scriptTags:Lo(Le.SCRIPT,c),styleTags:Lo(Le.STYLE,u)},f={},g={};Object.keys(h).forEach(function(v){var j=h[v],y=j.newTags,p=j.oldTags;y.length&&(f[v]=y),p.length&&(g[v]=h[v].oldTags)}),e&&e(),l(t,f,g)},Rc=null,$m=function(t){function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).rendered=!1,n}fv(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(n){return!lR(n,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var n,i,a=this.props.context,o=a.setHelmet,l=null,c=(n=a.helmetInstances.get().map(function(u){var d=Kt({},u.props);return delete d.context,d}),{baseTag:pR(["href"],n),bodyAttributes:bg("bodyAttributes",n),defer:fl(n,"defer"),encode:fl(n,"encodeSpecialCharacters"),htmlAttributes:bg("htmlAttributes",n),linkTags:Ic(Le.LINK,["rel","href"],n),metaTags:Ic(Le.META,["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ic(Le.NOSCRIPT,["innerHTML"],n),onChangeClientState:fR(n),scriptTags:Ic(Le.SCRIPT,["src","innerHTML"],n),styleTags:Ic(Le.STYLE,["cssText"],n),title:mR(n),titleAttributes:bg("titleAttributes",n),prioritizeSeoTags:gR(n,"prioritizeSeoTags")});rl.canUseDOM?(i=c,Rc&&cancelAnimationFrame(Rc),i.defer?Rc=requestAnimationFrame(function(){Qw(i,function(){Rc=null})}):(Qw(i),Rc=null)):hy&&(l=hy(c)),o(l)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},e}(P.Component);$m.propTypes={context:yR.isRequired},$m.displayName="HelmetDispatcher";var bR=["children"],jR=["children"],ou=function(t){function e(){return t.apply(this,arguments)||this}fv(e,t);var r=e.prototype;return r.shouldComponentUpdate=function(n){return!nR(Hw(this.props,"helmetData"),Hw(n,"helmetData"))},r.mapNestedChildrenToProps=function(n,i){if(!i)return null;switch(n.type){case Le.SCRIPT:case Le.NOSCRIPT:return{innerHTML:i};case Le.STYLE:return{cssText:i};default:throw new Error("<"+n.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(n){var i,a=n.child,o=n.arrayTypeChildren;return Kt({},o,((i={})[a.type]=[].concat(o[a.type]||[],[Kt({},n.newChildProps,this.mapNestedChildrenToProps(a,n.nestedChildren))]),i))},r.mapObjectTypeChildren=function(n){var i,a,o=n.child,l=n.newProps,c=n.newChildProps,u=n.nestedChildren;switch(o.type){case Le.TITLE:return Kt({},l,((i={})[o.type]=u,i.titleAttributes=Kt({},c),i));case Le.BODY:return Kt({},l,{bodyAttributes:Kt({},c)});case Le.HTML:return Kt({},l,{htmlAttributes:Kt({},c)});default:return Kt({},l,((a={})[o.type]=Kt({},c),a))}},r.mapArrayTypeChildrenToProps=function(n,i){var a=Kt({},i);return Object.keys(n).forEach(function(o){var l;a=Kt({},a,((l={})[o]=n[o],l))}),a},r.warnOnInvalidChildren=function(n,i){return qw(Ww.some(function(a){return n.type===a}),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Ww.join(", ")+" are allowed. Helmet does not support rendering <"+n.type+"> elements. Refer to our API for more information."),qw(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(a){return typeof a!="string"}),"Helmet expects a string as a child of <"+n.type+">. Did you forget to wrap your children in braces? ( <"+n.type+">{``}</"+n.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(n,i){var a=this,o={};return pt.Children.forEach(n,function(l){if(l&&l.props){var c=l.props,u=c.children,d=zw(c,bR),m=Object.keys(d).reduce(function(f,g){return f[hR[g]||g]=d[g],f},{}),h=l.type;switch(typeof h=="symbol"?h=h.toString():a.warnOnInvalidChildren(l,u),h){case Le.FRAGMENT:i=a.mapChildrenToProps(u,i);break;case Le.LINK:case Le.META:case Le.NOSCRIPT:case Le.SCRIPT:case Le.STYLE:o=a.flattenArrayTypeChildren({child:l,arrayTypeChildren:o,newChildProps:m,nestedChildren:u});break;default:i=a.mapObjectTypeChildren({child:l,newProps:i,newChildProps:m,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(o,i)},r.render=function(){var n=this.props,i=n.children,a=zw(n,jR),o=Kt({},a),l=a.helmetData;return i&&(o=this.mapChildrenToProps(i,o)),!l||l instanceof my||(l=new my(l.context,l.instances)),l?pt.createElement($m,Kt({},o,{context:l.value,helmetData:void 0})):pt.createElement(CE.Consumer,null,function(c){return pt.createElement($m,Kt({},o,{context:c}))})},e}(P.Component);ou.propTypes={base:ot.object,bodyAttributes:ot.object,children:ot.oneOfType([ot.arrayOf(ot.node),ot.node]),defaultTitle:ot.string,defer:ot.bool,encodeSpecialCharacters:ot.bool,htmlAttributes:ot.object,link:ot.arrayOf(ot.object),meta:ot.arrayOf(ot.object),noscript:ot.arrayOf(ot.object),onChangeClientState:ot.func,script:ot.arrayOf(ot.object),style:ot.arrayOf(ot.object),title:ot.string,titleAttributes:ot.object,titleTemplate:ot.string,prioritizeSeoTags:ot.bool,helmetData:ot.object},ou.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},ou.displayName="Helmet";let wR={data:""},NR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wR,kR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SR=/\/\*[^]*?\*\/|  +/g,Yw=/\n+/g,Ci=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Ci(o,a):a+"{"+Ci(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ci(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ci.p?Ci.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},An={},AE=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+AE(t[r]);return e}return t},_R=(t,e,r,n,i)=>{let a=AE(t),o=An[a]||(An[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!An[o]){let c=a!==t?t:(u=>{let d,m,h=[{}];for(;d=kR.exec(u.replace(SR,""));)d[4]?h.shift():d[3]?(m=d[3].replace(Yw," ").trim(),h.unshift(h[0][m]=h[0][m]||{})):h[0][d[1]]=d[2].replace(Yw," ").trim();return h[0]})(t);An[o]=Ci(i?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&An.g?An.g:null;return r&&(An.g=An[o]),((c,u,d,m)=>{m?u.data=u.data.replace(m,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(An[o],e,n,l),o},ER=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ci(l,""):l===!1?"":l}return n+i+(o??"")},"");function Qf(t){let e=this||{},r=t.call?t(e.p):t;return _R(r.unshift?r.raw?ER(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,NR(e.target),e.g,e.o,e.k)}let PE,fy,py;Qf.bind({g:1});let Gn=Qf.bind({k:1});function TR(t,e,r,n){Ci.p=e,PE=t,fy=r,py=n}function xa(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;r.p=Object.assign({theme:fy&&fy()},l),r.o=/ *go\d+/.test(c),l.className=Qf.apply(r,n)+(c?" "+c:""),e&&(l.ref=o);let u=t;return t[0]&&(u=l.as||t,delete l.as),py&&u[0]&&py(l),PE(u,l)}return e?e(i):i}}var CR=t=>typeof t=="function",qm=(t,e)=>CR(t)?t(e):t,AR=(()=>{let t=0;return()=>(++t).toString()})(),IE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),PR=20,RE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,PR)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return RE(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Uh=[],Va={toasts:[],pausedAt:void 0},uo=t=>{Va=RE(Va,t),Uh.forEach(e=>{e(Va)})},IR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RR=(t={})=>{let[e,r]=P.useState(Va),n=P.useRef(Va);P.useEffect(()=>(n.current!==Va&&r(Va),Uh.push(r),()=>{let a=Uh.indexOf(r);a>-1&&Uh.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||IR[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:i}},OR=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||AR()}),cd=t=>(e,r)=>{let n=OR(e,t,r);return uo({type:2,toast:n}),n.id},xt=(t,e)=>cd("blank")(t,e);xt.error=cd("error");xt.success=cd("success");xt.loading=cd("loading");xt.custom=cd("custom");xt.dismiss=t=>{uo({type:3,toastId:t})};xt.remove=t=>uo({type:4,toastId:t});xt.promise=(t,e,r)=>{let n=xt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?qm(e.success,i):void 0;return a?xt.success(a,{id:n,...r,...r==null?void 0:r.success}):xt.dismiss(n),i}).catch(i=>{let a=e.error?qm(e.error,i):void 0;a?xt.error(a,{id:n,...r,...r==null?void 0:r.error}):xt.dismiss(n)}),t};var DR=(t,e)=>{uo({type:1,toast:{id:t,height:e}})},MR=()=>{uo({type:5,time:Date.now()})},lu=new Map,LR=1e3,FR=(t,e=LR)=>{if(lu.has(t))return;let r=setTimeout(()=>{lu.delete(t),uo({type:4,toastId:t})},e);lu.set(t,r)},VR=t=>{let{toasts:e,pausedAt:r}=RR(t);P.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&xt.dismiss(l.id);return}return setTimeout(()=>xt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=P.useCallback(()=>{r&&uo({type:6,time:Date.now()})},[r]),i=P.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(f=>(f.position||u)===(a.position||u)&&f.height),m=d.findIndex(f=>f.id===a.id),h=d.filter((f,g)=>g<m&&f.visible).length;return d.filter(f=>f.visible).slice(...l?[h+1]:[0,h]).reduce((f,g)=>f+(g.height||0)+c,0)},[e]);return P.useEffect(()=>{e.forEach(a=>{if(a.dismissed)FR(a.id,a.removeDelay);else{let o=lu.get(a.id);o&&(clearTimeout(o),lu.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:DR,startPause:MR,endPause:n,calculateOffset:i}}},UR=Gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BR=Gn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$R=Gn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qR=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$R} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zR=Gn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,WR=xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${zR} 1s linear infinite;
`,HR=Gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KR=Gn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,GR=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QR=xa("div")`
  position: absolute;
`,YR=xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,JR=Gn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XR=xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${JR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZR=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?P.createElement(XR,null,e):e:r==="blank"?null:P.createElement(YR,null,P.createElement(WR,{...n}),r!=="loading"&&P.createElement(QR,null,r==="error"?P.createElement(qR,{...n}):P.createElement(GR,{...n})))},eO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,rO="0%{opacity:0;} 100%{opacity:1;}",sO="0%{opacity:1;} 100%{opacity:0;}",nO=xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iO=xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aO=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=IE()?[rO,sO]:[eO(r),tO(r)];return{animation:e?`${Gn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oO=P.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?aO(t.position||e||"top-center",t.visible):{opacity:0},a=P.createElement(ZR,{toast:t}),o=P.createElement(iO,{...t.ariaProps},qm(t.message,t));return P.createElement(nO,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):P.createElement(P.Fragment,null,a,o))});TR(P.createElement);var lO=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=P.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return P.createElement("div",{ref:a,className:e,style:r},i)},cO=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:IE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},uO=Qf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rh=16,dO=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=VR(r);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:rh,left:rh,right:rh,bottom:rh,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,m=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=cO(d,m);return P.createElement(lO,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?uO:"",style:h},u.type==="custom"?qm(u.message,u):i?i(u):P.createElement(oO,{toast:u,position:d}))}))},At=xt;class hO extends P.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e),console.error("Error info:",r),console.error("Component stack:",r.componentStack),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-ajira-primary hover:bg-ajira-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-primary",children:"Refresh Page"}),!1]})})}):this.props.children}}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>P.createElement("svg",{ref:d,...mO,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${fO(t)}`,l].join(" "),...u},[...e.map(([m,h])=>P.createElement(m,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=he("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=he("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=he("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=he("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=he("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=he("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=he("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=he("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=he("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=he("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=he("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=he("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=he("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=he("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=he("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=he("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=he("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=he("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=he("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=he("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=he("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=he("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=he("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=he("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=he("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=he("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=he("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=he("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=he("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=he("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=he("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=he("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=he("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=he("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=he("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=he("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=he("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=he("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=he("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),sh={"Smileys & People":["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","👻","👽","🤖","😈","👿","👹","👺","💀","☠️","💩","🤡","👹","👺"],"Animals & Nature":["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐸","🐵","🐔","🐧","🐦","🐤","🐣","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐞","🐜","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐊","🐅","🐆","🦓","🦍","🦧","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩"],"Food & Drink":["🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🥪","🥙","🧆","🌮","🌯","🫔","🥗","🥘","🫕","🥫","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧"],Activities:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛷️","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸‍♂️","⛹️‍♀️","⛹️‍♂️","🤺","🤾‍♀️","🤾‍♂️","🏊‍♀️","🏊‍♂️","🤽‍♀️","🤽‍♂️","🚣‍♀️","🚣‍♂️","🧗‍♀️","🧗‍♂️","🚵‍♀️","🚵‍♂️","🚴‍♀️","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼"],"Travel & Places":["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🛵","🏍️","🛺","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","🚧","⛽","🚏","🚦","🚥","🗺️","🗿","🗽"],Objects:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🎮","🎰","🎲","🧩","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🪕","🎻","📺","📻","📟","📠","📞","☎️","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","🪙","💰","💳","💎","⚖️","🪜","🧰","🪛","🔧","🔨"],Symbols:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️"]},qE=({onEmojiSelect:t,onClose:e,position:r="bottom"})=>{const[n,i]=P.useState("Smileys & People"),[a,o]=P.useState(""),[l,c]=P.useState([]),u=P.useRef(null);P.useEffect(()=>{if(a.trim()){const f=Object.values(sh).flat().filter(g=>g.includes(a)||sh[n].includes(g));c(f)}else c(sh[n])},[a,n]),P.useEffect(()=>{const h=f=>{u.current&&!u.current.contains(f.target)&&e()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[e]);const d=h=>{t(h),e()},m=Object.keys(sh);return s.jsxs("div",{ref:u,className:`absolute z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-96 max-h-[500px] overflow-hidden ${r==="top"?"bottom-full mb-2":"top-full mt-2"}`,children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Emoji"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx(as,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search emoji...",value:a,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-3 py-2 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-ajira-primary focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),!a&&s.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:m.map(h=>s.jsx("button",{onClick:()=>i(h),className:`flex-shrink-0 px-3 py-2 text-sm font-medium transition-colors ${n===h?"text-ajira-primary border-b-2 border-ajira-primary":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:h},h))}),s.jsxs("div",{className:"p-4 max-h-80 overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-10 gap-2",children:l.map((h,f)=>s.jsx("button",{onClick:()=>d(h),className:"w-10 h-10 flex items-center justify-center text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:h,children:h},`${h}-${f}`))}),l.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No emojis found"})]})]})},zE=({onFileSelect:t,multiple:e=!0,maxFiles:r=10,maxSize:n=100,allowedTypes:i=[],uploadContext:a="chat",uploadedBy:o="user",relatedId:l})=>{const[c,u]=P.useState([]),[d,m]=P.useState(!1),h=P.useRef(null),f=S=>S.startsWith("image/")?s.jsx(LE,{className:"w-4 h-4"}):S.startsWith("video/")?s.jsx(eo,{className:"w-4 h-4"}):S.startsWith("audio/")?s.jsx(Wm,{className:"w-4 h-4"}):S==="application/pdf"||S.includes("document")?s.jsx(mn,{className:"w-4 h-4"}):s.jsx(gy,{className:"w-4 h-4"}),g=S=>{if(S===0)return"0 Bytes";const R=1024,N=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(S)/Math.log(R));return parseFloat((S/Math.pow(R,k)).toFixed(2))+" "+N[k]},v=S=>S.size>n*1024*1024?`File size exceeds ${n}MB limit`:c.length>=r?`Maximum ${r} files allowed`:null,j=async S=>{const R=new FormData;R.append("file",S),R.append("uploadedBy",o),R.append("uploadContext",a),l&&R.append("relatedId",l);const N=await fetch("/api/files/upload",{method:"POST",body:R});if(!N.ok)throw new Error("Upload failed");return{...(await N.json()).file,status:"completed",progress:100}},y=async S=>{const R=Array.from(S.target.files||[]);if(R.length===0)return;m(!0);const N=[];for(const k of R){const E=v(k);if(E){const _={id:Date.now().toString()+Math.random(),fileName:k.name,originalName:k.name,fileType:k.type.split("/")[1]||"unknown",fileSize:g(k.size),downloadUrl:"",mimeType:k.type,status:"failed",error:E};N.push(_);continue}const T={id:Date.now().toString()+Math.random(),fileName:k.name,originalName:k.name,fileType:k.type.split("/")[1]||"unknown",fileSize:g(k.size),downloadUrl:"",mimeType:k.type,status:"uploading",progress:0,previewUrl:URL.createObjectURL(k)};N.push(T),u(_=>[..._,T]);try{const A={...await j(k),status:"completed",progress:100,previewUrl:T.previewUrl};u(O=>O.map(U=>U.id===T.id?A:U));const C=N.findIndex(O=>O.id===T.id);C!==-1&&(N[C]=A)}catch{const A={...T,status:"failed",error:"Upload failed"};u(O=>O.map(U=>U.id===T.id?A:U));const C=N.findIndex(O=>O.id===T.id);C!==-1&&(N[C]=A)}}m(!1),t(N)},p=S=>{u(R=>R.filter(N=>N.id!==S))},b=S=>{if(S.preventDefault(),Array.from(S.dataTransfer.files).length>0){const N=h.current;N&&(N.files=S.dataTransfer.files,y({target:{files:S.dataTransfer.files}}))}},w=S=>{S.preventDefault()};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:`border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center transition-colors ${d?"border-ajira-primary bg-ajira-primary/5":"hover:border-ajira-primary hover:bg-gray-50 dark:hover:bg-gray-700"}`,onDrop:b,onDragOver:w,children:[s.jsx(Un,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Drop files here or click to upload"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:["Max ",n,"MB per file • All file types supported"]}),s.jsx("button",{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},disabled:d,className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors disabled:opacity-50",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Choose Files"}),s.jsx("input",{ref:h,type:"file",multiple:e,accept:"*/*",onChange:y,className:"hidden"})]}),c.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:c.map(S=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${S.status==="completed"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":S.status==="failed"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[f(S.mimeType),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:S.originalName}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.fileSize," • ",S.fileType.toUpperCase()]}),S.error&&s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:S.error})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[S.status==="uploading"&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ye,{className:"w-3 h-3 animate-spin"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[S.progress||0,"%"]})]}),s.jsx("button",{onClick:()=>p(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(as,{className:"w-4 h-4"})})]})]},S.id))})]})},qO=()=>{const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[i,a]=P.useState([]),[o,l]=P.useState(""),[c,u]=P.useState(!1),[d,m]=P.useState(!1),[h,f]=P.useState(!1),[g,v]=P.useState(!1),[j,y]=P.useState([]),p=P.useRef(null),b=P.useRef(null),w=P.useRef(null);P.useEffect(()=>{const C=localStorage.getItem("kinap-chatbot-messages");if(C){const O=JSON.parse(C).map(U=>({...U,timestamp:new Date(U.timestamp)}));a(O)}else{const O={id:"1",text:"Hello! I'm your Ajira Digital assistant. How can I help you today? 🚀",sender:"bot",timestamp:new Date,status:"read"};a([O]),localStorage.setItem("kinap-chatbot-messages",JSON.stringify([O]))}},[]),P.useEffect(()=>{i.length>0&&localStorage.setItem("kinap-chatbot-messages",JSON.stringify(i))},[i]);const S=()=>{var C;(C=p.current)==null||C.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{S()},[i]),P.useEffect(()=>{(c||d)&&S()},[c,d]),P.useEffect(()=>{t&&b.current&&b.current.focus()},[t]);const R=C=>{l(O=>O+C),f(!1)},N=C=>{y(C),v(!1)},k=async()=>{var O,U,L,q;if(!o.trim()&&j.length===0||c)return;const C={id:Date.now().toString(),text:o.trim(),sender:"user",timestamp:new Date,status:"sending",messageType:j.length>0?"file":"text",mediaUrl:(O=j[0])==null?void 0:O.downloadUrl,fileName:(U=j[0])==null?void 0:U.originalName,fileSize:(L=j[0])==null?void 0:L.fileSize,fileType:(q=j[0])==null?void 0:q.fileType};a(M=>[...M,C]),l(""),y([]),u(!0),setTimeout(()=>{a(M=>M.map(z=>z.id===C.id?{...z,status:"sent"}:z))},500);try{const M=await fetch("/api/chatbot/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C.text})});if(!M.ok)throw new Error(`Failed to get response: ${M.status}`);const z=await M.json();m(!0),setTimeout(()=>{m(!1);const D={id:(Date.now()+1).toString(),text:z.message,sender:"bot",timestamp:new Date,status:"read"};a(F=>[...F,D]),a(F=>F.map(H=>H.id===C.id?{...H,status:"delivered"}:H))},1500)}catch(M){console.error("Chat error:",M),m(!1);const z={id:(Date.now()+1).toString(),text:"I'm sorry, I'm having trouble connecting right now. Please try again later. 😔",sender:"bot",timestamp:new Date,status:"read"};a(D=>[...D,z])}finally{u(!1)}},E=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),k())},T=C=>C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),_=()=>{const C={id:"1",text:"Hello! I'm your Ajira Digital assistant. How can I help you today? 🚀",sender:"bot",timestamp:new Date,status:"read"};a([C]),localStorage.setItem("kinap-chatbot-messages",JSON.stringify([C]))},A=C=>{switch(C){case"sending":return s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"});case"sent":return s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})});case"delivered":return s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"read":return s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}};return t?s.jsxs("div",{className:"fixed left-6 bottom-6 z-50 w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden chat-container chat-fixed no-shake",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bh,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Kinap Ajira Assistant"}),s.jsxs("p",{className:"text-xs opacity-90 flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Online"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:_,className:"text-white/80 hover:text-white transition-colors p-1","aria-label":"Clear chat",title:"Clear chat history",children:s.jsx(ai,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>n(!r),className:"text-white/80 hover:text-white transition-colors p-1","aria-label":r?"Maximize":"Minimize",children:r?s.jsx(AO,{className:"w-4 h-4"}):s.jsx(IO,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>e(!1),className:"text-white/80 hover:text-white transition-colors p-1","aria-label":"Close chat",children:s.jsx(as,{className:"w-4 h-4"})})]})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:w,className:"flex-1 h-80 overflow-y-auto bg-gray-50 p-4 space-y-3 chat-messages chat-scroll no-shake",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0)",backgroundSize:"20px 20px",minHeight:"320px",maxHeight:"320px"},children:[i.map(C=>{var O,U,L;return s.jsx("div",{className:`flex ${C.sender==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl shadow-sm relative ${C.sender==="user"?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md border border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[C.sender==="bot"&&s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Bh,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[C.messageType==="file"&&C.mediaUrl&&s.jsx("div",{className:"mb-2",children:(O=C.fileType)!=null&&O.startsWith("image")?s.jsx("img",{src:C.mediaUrl,alt:C.fileName||"Image",className:"max-w-full rounded-lg"}):s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-white/10 rounded-lg",children:[(U=C.fileType)!=null&&U.startsWith("video")?s.jsx(eo,{className:"w-4 h-4"}):(L=C.fileType)!=null&&L.startsWith("audio")?s.jsx(Wm,{className:"w-4 h-4"}):s.jsx(gy,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:C.fileName}),s.jsx("p",{className:"text-xs opacity-70",children:C.fileSize})]}),s.jsx("a",{href:C.mediaUrl,download:C.fileName,className:"text-xs underline hover:no-underline",children:"Download"})]})}),C.text&&s.jsx("p",{className:"text-sm leading-relaxed",children:C.text}),s.jsxs("div",{className:`flex items-center justify-between mt-1 ${C.sender==="user"?"text-white/70":"text-gray-500"}`,children:[s.jsx("span",{className:"text-xs",children:T(C.timestamp)}),C.sender==="user"&&s.jsx("div",{className:"flex items-center ml-2",children:A(C.status)})]})]}),C.sender==="user"&&s.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(or,{className:"w-4 h-4 text-white"})})]})})},C.id)}),d&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-800 max-w-xs lg:max-w-md px-4 py-2 rounded-2xl shadow-sm border border-gray-200 rounded-bl-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx(Bh,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),s.jsx("div",{ref:p})]}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 relative chat-input no-shake",children:[g&&s.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4",children:s.jsx(zE,{onFileSelect:N,multiple:!1,maxFiles:1,maxSize:50,uploadContext:"chat",uploadedBy:"user"})}),j.length>0&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-lg",children:j.map((C,O)=>{var U,L,q;return s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[(U=C.mimeType)!=null&&U.startsWith("image")?s.jsx(LE,{className:"w-4 h-4 text-blue-500"}):(L=C.mimeType)!=null&&L.startsWith("video")?s.jsx(eo,{className:"w-4 h-4 text-purple-500"}):(q=C.mimeType)!=null&&q.startsWith("audio")?s.jsx(Wm,{className:"w-4 h-4 text-green-500"}):s.jsx(gy,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"flex-1 truncate",children:C.originalName}),s.jsx("button",{onClick:()=>y(j.filter((M,z)=>z!==O)),className:"text-red-500 hover:text-red-700",children:s.jsx(as,{className:"w-4 h-4"})})]},O)})}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>v(!g),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(RO,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:b,value:o,onChange:C=>l(C.target.value),onKeyPress:E,placeholder:"Type a message...",rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-sm leading-relaxed bg-gray-50 placeholder-gray-500 transition-all duration-200 chat-textarea",disabled:c}),h&&s.jsx("div",{className:"absolute bottom-full left-0 mb-2",children:s.jsx(qE,{onEmojiSelect:R,onClose:()=>f(!1),position:"top"})})]}),s.jsx("button",{onClick:()=>f(!h),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(FO,{className:"w-5 h-5"})}),o.trim()||j.length>0?s.jsx("button",{onClick:k,disabled:c,className:"p-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-full hover:from-ajira-primary/90 hover:to-ajira-secondary/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:s.jsx(bv,{className:"w-5 h-5"})}):s.jsx("button",{className:"p-3 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(VE,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"Press Enter to send, Shift+Enter for new line"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]})]})]}):s.jsx("div",{className:"fixed left-6 bottom-6 z-50",children:s.jsx("button",{onClick:()=>e(!0),className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110","aria-label":"Open chat",children:s.jsx(Gs,{className:"w-6 h-6"})})})};function WE(t,e){return function(){return t.apply(e,arguments)}}const{toString:zO}=Object.prototype,{getPrototypeOf:jv}=Object,{iterator:Xf,toStringTag:HE}=Symbol,Zf=(t=>e=>{const r=zO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Js=t=>(t=t.toLowerCase(),e=>Zf(e)===t),ep=t=>e=>typeof e===t,{isArray:Xl}=Array,qu=ep("undefined");function WO(t){return t!==null&&!qu(t)&&t.constructor!==null&&!qu(t.constructor)&&ts(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KE=Js("ArrayBuffer");function HO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KE(t.buffer),e}const KO=ep("string"),ts=ep("function"),GE=ep("number"),tp=t=>t!==null&&typeof t=="object",GO=t=>t===!0||t===!1,zh=t=>{if(Zf(t)!=="object")return!1;const e=jv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(HE in t)&&!(Xf in t)},QO=Js("Date"),YO=Js("File"),JO=Js("Blob"),XO=Js("FileList"),ZO=t=>tp(t)&&ts(t.pipe),eD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ts(t.append)&&((e=Zf(t))==="formdata"||e==="object"&&ts(t.toString)&&t.toString()==="[object FormData]"))},tD=Js("URLSearchParams"),[rD,sD,nD,iD]=["ReadableStream","Request","Response","Headers"].map(Js),aD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Xl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function QE(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ua=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),YE=t=>!qu(t)&&t!==Ua;function vy(){const{caseless:t}=YE(this)&&this||{},e={},r=(n,i)=>{const a=t&&QE(e,i)||i;zh(e[a])&&zh(n)?e[a]=vy(e[a],n):zh(n)?e[a]=vy({},n):Xl(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&dd(arguments[n],r);return e}const oD=(t,e,r,{allOwnKeys:n}={})=>(dd(e,(i,a)=>{r&&ts(i)?t[a]=WE(i,r):t[a]=i},{allOwnKeys:n}),t),lD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cD=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},uD=(t,e,r,n)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&jv(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},dD=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},hD=t=>{if(!t)return null;if(Xl(t))return t;let e=t.length;if(!GE(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},mD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jv(Uint8Array)),fD=(t,e)=>{const n=(t&&t[Xf]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},pD=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},gD=Js("HTMLFormElement"),xD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),a1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yD=Js("RegExp"),JE=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};dd(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},vD=t=>{JE(t,(e,r)=>{if(ts(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ts(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bD=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Xl(t)?n(t):n(String(t).split(e)),r},jD=()=>{},wD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ND(t){return!!(t&&ts(t.append)&&t[HE]==="FormData"&&t[Xf])}const kD=t=>{const e=new Array(10),r=(n,i)=>{if(tp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Xl(n)?[]:{};return dd(n,(o,l)=>{const c=r(o,i+1);!qu(c)&&(a[l]=c)}),e[i]=void 0,a}}return n};return r(t,0)},SD=Js("AsyncFunction"),_D=t=>t&&(tp(t)||ts(t))&&ts(t.then)&&ts(t.catch),XE=((t,e)=>t?setImmediate:e?((r,n)=>(Ua.addEventListener("message",({source:i,data:a})=>{i===Ua&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ua.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ts(Ua.postMessage)),ED=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||XE,TD=t=>t!=null&&ts(t[Xf]),ae={isArray:Xl,isArrayBuffer:KE,isBuffer:WO,isFormData:eD,isArrayBufferView:HO,isString:KO,isNumber:GE,isBoolean:GO,isObject:tp,isPlainObject:zh,isReadableStream:rD,isRequest:sD,isResponse:nD,isHeaders:iD,isUndefined:qu,isDate:QO,isFile:YO,isBlob:JO,isRegExp:yD,isFunction:ts,isStream:ZO,isURLSearchParams:tD,isTypedArray:mD,isFileList:XO,forEach:dd,merge:vy,extend:oD,trim:aD,stripBOM:lD,inherits:cD,toFlatObject:uD,kindOf:Zf,kindOfTest:Js,endsWith:dD,toArray:hD,forEachEntry:fD,matchAll:pD,isHTMLForm:gD,hasOwnProperty:a1,hasOwnProp:a1,reduceDescriptors:JE,freezeMethods:vD,toObjectSet:bD,toCamelCase:xD,noop:jD,toFiniteNumber:wD,findKey:QE,global:Ua,isContextDefined:YE,isSpecCompliantForm:ND,toJSONObject:kD,isAsyncFn:SD,isThenable:_D,setImmediate:XE,asap:ED,isIterable:TD};function Ze(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ae.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const ZE=Ze.prototype,e4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{e4[t]={value:t}});Object.defineProperties(Ze,e4);Object.defineProperty(ZE,"isAxiosError",{value:!0});Ze.from=(t,e,r,n,i,a)=>{const o=Object.create(ZE);return ae.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ze.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const CD=null;function by(t){return ae.isPlainObject(t)||ae.isArray(t)}function t4(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function o1(t,e,r){return t?t.concat(e).map(function(i,a){return i=t4(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function AD(t){return ae.isArray(t)&&!t.some(by)}const PD=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function rp(t,e,r){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!ae.isUndefined(j[v])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ae.isDate(g))return g.toISOString();if(ae.isBoolean(g))return g.toString();if(!c&&ae.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(g)||ae.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,j){let y=g;if(g&&!j&&typeof g=="object"){if(ae.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(ae.isArray(g)&&AD(g)||(ae.isFileList(g)||ae.endsWith(v,"[]"))&&(y=ae.toArray(g)))return v=t4(v),y.forEach(function(b,w){!(ae.isUndefined(b)||b===null)&&e.append(o===!0?o1([v],w,a):o===null?v:v+"[]",u(b))}),!1}return by(g)?!0:(e.append(o1(j,v,a),u(g)),!1)}const m=[],h=Object.assign(PD,{defaultVisitor:d,convertValue:u,isVisitable:by});function f(g,v){if(!ae.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(g),ae.forEach(g,function(y,p){(!(ae.isUndefined(y)||y===null)&&i.call(e,y,ae.isString(p)?p.trim():p,v,h))===!0&&f(y,v?v.concat(p):[p])}),m.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return f(t),e}function l1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function wv(t,e){this._pairs=[],t&&rp(t,this,e)}const r4=wv.prototype;r4.append=function(e,r){this._pairs.push([e,r])};r4.toString=function(e){const r=e?function(n){return e.call(this,n,l1)}:l1;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ID(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s4(t,e,r){if(!e)return t;const n=r&&r.encode||ID;ae.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=ae.isURLSearchParams(e)?e.toString():new wv(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class RD{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(n){n!==null&&e(n)})}}const c1=RD,n4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OD=typeof URLSearchParams<"u"?URLSearchParams:wv,DD=typeof FormData<"u"?FormData:null,MD=typeof Blob<"u"?Blob:null,LD={isBrowser:!0,classes:{URLSearchParams:OD,FormData:DD,Blob:MD},protocols:["http","https","file","blob","url","data"]},Nv=typeof window<"u"&&typeof document<"u",jy=typeof navigator=="object"&&navigator||void 0,FD=Nv&&(!jy||["ReactNative","NativeScript","NS"].indexOf(jy.product)<0),VD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),UD=Nv&&window.location.href||"http://localhost",BD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nv,hasStandardBrowserEnv:FD,hasStandardBrowserWebWorkerEnv:VD,navigator:jy,origin:UD},Symbol.toStringTag,{value:"Module"})),Mr={...BD,...LD};function $D(t,e){return rp(t,new Mr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Mr.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function qD(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zD(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function i4(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&ae.isArray(i)?i.length:o,c?(ae.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!ae.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&ae.isArray(i[o])&&(i[o]=zD(i[o])),!l)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const r={};return ae.forEachEntry(t,(n,i)=>{e(qD(n),i,r,0)}),r}return null}function WD(t,e,r){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const kv={transitional:n4,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ae.isObject(e);if(a&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(i4(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $D(e,this.formSerializer).toString();if((l=ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return rp(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),WD(e)):e}],transformResponse:[function(e){const r=this.transitional||kv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mr.classes.FormData,Blob:Mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{kv.headers[t]={}});const Sv=kv,HD=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KD=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&HD[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},u1=Symbol("internals");function Dc(t){return t&&String(t).trim().toLowerCase()}function Wh(t){return t===!1||t==null?t:ae.isArray(t)?t.map(Wh):String(t)}function GD(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const QD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sg(t,e,r,n,i){if(ae.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ae.isString(e)){if(ae.isString(n))return e.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(e)}}function YD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function JD(t,e){const r=ae.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class sp{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(l,c,u){const d=Dc(c);if(!d)throw new Error("header name must be a non-empty string");const m=ae.findKey(i,d);(!m||i[m]===void 0||u===!0||u===void 0&&i[m]!==!1)&&(i[m||c]=Wh(l))}const o=(l,c)=>ae.forEach(l,(u,d)=>a(u,d,c));if(ae.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(ae.isString(e)&&(e=e.trim())&&!QD(e))o(KD(e),r);else if(ae.isObject(e)&&ae.isIterable(e)){let l={},c,u;for(const d of e){if(!ae.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ae.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=Dc(e),e){const n=ae.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return GD(i);if(ae.isFunction(r))return r.call(this,i,n);if(ae.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Dc(e),e){const n=ae.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Sg(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=Dc(o),o){const l=ae.findKey(n,o);l&&(!r||Sg(n,n[l],l,r))&&(delete n[l],i=!0)}}return ae.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||Sg(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return ae.forEach(this,(i,a)=>{const o=ae.findKey(n,a);if(o){r[o]=Wh(i),delete r[a];return}const l=e?YD(a):String(a).trim();l!==a&&delete r[a],r[l]=Wh(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ae.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[u1]=this[u1]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Dc(o);n[l]||(JD(i,o),n[l]=!0)}return ae.isArray(e)?e.forEach(a):a(e),this}}sp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(sp.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ae.freezeMethods(sp);const Hs=sp;function _g(t,e){const r=this||Sv,n=e||r,i=Hs.from(n.headers);let a=n.data;return ae.forEach(t,function(l){a=l.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function a4(t){return!!(t&&t.__CANCEL__)}function Zl(t,e,r){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,r),this.name="CanceledError"}ae.inherits(Zl,Ze,{__CANCEL__:!0});function o4(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function XD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZD(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let m=a,h=0;for(;m!==i;)h+=r[m++],m=m%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const f=d&&u-d;return f?Math.round(h*1e3/f):void 0}}function eM(t,e){let r=0,n=1e3/e,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-m)))},()=>i&&o(i)]}const Gm=(t,e,r=3)=>{let n=0;const i=ZD(50,250);return eM(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},r)},d1=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},h1=t=>(...e)=>ae.asap(()=>t(...e)),tM=Mr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Mr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Mr.origin),Mr.navigator&&/(msie|trident)/i.test(Mr.navigator.userAgent)):()=>!0,rM=Mr.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];ae.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ae.isString(n)&&o.push("path="+n),ae.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function l4(t,e,r){let n=!sM(e);return t&&(n||r==!1)?nM(t,e):e}const m1=t=>t instanceof Hs?{...t}:t;function to(t,e){e=e||{};const r={};function n(u,d,m,h){return ae.isPlainObject(u)&&ae.isPlainObject(d)?ae.merge.call({caseless:h},u,d):ae.isPlainObject(d)?ae.merge({},d):ae.isArray(d)?d.slice():d}function i(u,d,m,h){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return n(void 0,u,m,h)}else return n(u,d,m,h)}function a(u,d){if(!ae.isUndefined(d))return n(void 0,d)}function o(u,d){if(ae.isUndefined(d)){if(!ae.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in e)return n(u,d);if(m in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,m)=>i(m1(u),m1(d),m,!0)};return ae.forEach(Object.keys(Object.assign({},t,e)),function(d){const m=c[d]||i,h=m(t[d],e[d],d);ae.isUndefined(h)&&m!==l||(r[d]=h)}),r}const c4=t=>{const e=to({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Hs.from(o),e.url=s4(l4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ae.isFormData(r)){if(Mr.hasStandardBrowserEnv||Mr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Mr.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(e)),n||n!==!1&&tM(e.url))){const u=i&&a&&rM.read(a);u&&o.set(i,u)}return e},iM=typeof XMLHttpRequest<"u",aM=iM&&function(t){return new Promise(function(r,n){const i=c4(t);let a=i.data;const o=Hs.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,m,h,f,g;function v(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function y(){if(!j)return;const b=Hs.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:b,config:t,request:j};o4(function(N){r(N),v()},function(N){n(N),v()},S),j=null}"onloadend"in j?j.onloadend=y:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(y)},j.onabort=function(){j&&(n(new Ze("Request aborted",Ze.ECONNABORTED,t,j)),j=null)},j.onerror=function(){n(new Ze("Network Error",Ze.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||n4;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Ze(w,S.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&ae.forEach(o.toJSON(),function(w,S){j.setRequestHeader(S,w)}),ae.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),l&&l!=="json"&&(j.responseType=i.responseType),u&&([h,g]=Gm(u,!0),j.addEventListener("progress",h)),c&&j.upload&&([m,f]=Gm(c),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(d=b=>{j&&(n(!b||b.type?new Zl(null,t,j):b),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const p=XD(i.url);if(p&&Mr.protocols.indexOf(p)===-1){n(new Ze("Unsupported protocol "+p+":",Ze.ERR_BAD_REQUEST,t));return}j.send(a||null)})},oM=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ze?d:new Zl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,a(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ae.asap(l),c}},lM=oM,cM=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},uM=async function*(t,e){for await(const r of dM(t))yield*cM(r,e)},dM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},f1=(t,e,r,n)=>{const i=uM(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let h=a+=m;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},np=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u4=np&&typeof ReadableStream=="function",hM=np&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),d4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mM=u4&&d4(()=>{let t=!1;const e=new Request(Mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),p1=64*1024,wy=u4&&d4(()=>ae.isReadableStream(new Response("").body)),Qm={stream:wy&&(t=>t.body)};np&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qm[e]&&(Qm[e]=ae.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,n)})})})(new Response);const fM=async t=>{if(t==null)return 0;if(ae.isBlob(t))return t.size;if(ae.isSpecCompliantForm(t))return(await new Request(Mr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(t)||ae.isArrayBuffer(t))return t.byteLength;if(ae.isURLSearchParams(t)&&(t=t+""),ae.isString(t))return(await hM(t)).byteLength},pM=async(t,e)=>{const r=ae.toFiniteNumber(t.getContentLength());return r??fM(e)},gM=np&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:m="same-origin",fetchOptions:h}=c4(t);u=u?(u+"").toLowerCase():"text";let f=lM([i,a&&a.toAbortSignal()],o),g;const v=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let j;try{if(c&&mM&&r!=="get"&&r!=="head"&&(j=await pM(d,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(ae.isFormData(n)&&(R=S.headers.get("content-type"))&&d.setContentType(R),S.body){const[N,k]=d1(j,Gm(h1(c)));n=f1(S.body,p1,N,k)}}ae.isString(m)||(m=m?"include":"omit");const y="credentials"in Request.prototype;g=new Request(e,{...h,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?m:void 0});let p=await fetch(g,h);const b=wy&&(u==="stream"||u==="response");if(wy&&(l||b&&v)){const S={};["status","statusText","headers"].forEach(E=>{S[E]=p[E]});const R=ae.toFiniteNumber(p.headers.get("content-length")),[N,k]=l&&d1(R,Gm(h1(l),!0))||[];p=new Response(f1(p.body,p1,N,()=>{k&&k(),v&&v()}),S)}u=u||"text";let w=await Qm[ae.findKey(Qm,u)||"text"](p,t);return!b&&v&&v(),await new Promise((S,R)=>{o4(S,R,{data:w,headers:Hs.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:g})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,g),{cause:y.cause||y}):Ze.from(y,y&&y.code,t,g)}}),Ny={http:CD,xhr:aM,fetch:gM};ae.forEach(Ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const g1=t=>`- ${t}`,xM=t=>ae.isFunction(t)||t===null||t===!1,h4={getAdapter:t=>{t=ae.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!xM(r)&&(n=Ny[(o=String(r)).toLowerCase()],n===void 0))throw new Ze(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(g1).join(`
`):" "+g1(a[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Ny};function Eg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zl(null,t)}function x1(t){return Eg(t),t.headers=Hs.from(t.headers),t.data=_g.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h4.getAdapter(t.adapter||Sv.adapter)(t).then(function(n){return Eg(t),n.data=_g.call(t,t.transformResponse,n),n.headers=Hs.from(n.headers),n},function(n){return a4(n)||(Eg(t),n&&n.response&&(n.response.data=_g.call(t,t.transformResponse,n.response),n.response.headers=Hs.from(n.response.headers))),Promise.reject(n)})}const m4="1.10.0",ip={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ip[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const y1={};ip.transitional=function(e,r,n){function i(a,o){return"[Axios v"+m4+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new Ze(i(o," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!y1[o]&&(y1[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};ip.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function yM(t,e,r){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new Ze("option "+a+" must be "+c,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+a,Ze.ERR_BAD_OPTION)}}const Hh={assertOptions:yM,validators:ip},nn=Hh.validators;class Ym{constructor(e){this.defaults=e||{},this.interceptors={request:new c1,response:new c1}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=to(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Hh.assertOptions(n,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),i!=null&&(ae.isFunction(i)?r.paramsSerializer={serialize:i}:Hh.assertOptions(i,{encode:nn.function,serialize:nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Hh.assertOptions(r,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ae.merge(a.common,a[r.method]);a&&ae.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=Hs.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,m=0,h;if(!c){const g=[x1.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(r);m<h;)d=d.then(g[m++],g[m++]);return d}h=l.length;let f=r;for(m=0;m<h;){const g=l[m++],v=l[m++];try{f=g(f)}catch(j){v.call(this,j);break}}try{d=x1.call(this,f)}catch(g){return Promise.reject(g)}for(m=0,h=u.length;m<h;)d=d.then(u[m++],u[m++]);return d}getUri(e){e=to(this.defaults,e);const r=l4(e.baseURL,e.url,e.allowAbsoluteUrls);return s4(r,e.params,e.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(e){Ym.prototype[e]=function(r,n){return this.request(to(n||{},{method:e,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(to(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ym.prototype[e]=r(),Ym.prototype[e+"Form"]=r(!0)});const Kh=Ym;class _v{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new Zl(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new _v(function(i){e=i}),cancel:e}}}const vM=_v;function bM(t){return function(r){return t.apply(null,r)}}function jM(t){return ae.isObject(t)&&t.isAxiosError===!0}const ky={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ky).forEach(([t,e])=>{ky[e]=t});const wM=ky;function f4(t){const e=new Kh(t),r=WE(Kh.prototype.request,e);return ae.extend(r,Kh.prototype,e,{allOwnKeys:!0}),ae.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return f4(to(t,i))},r}const nr=f4(Sv);nr.Axios=Kh;nr.CanceledError=Zl;nr.CancelToken=vM;nr.isCancel=a4;nr.VERSION=m4;nr.toFormData=rp;nr.AxiosError=Ze;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=bM;nr.isAxiosError=jM;nr.mergeConfig=to;nr.AxiosHeaders=Hs;nr.formToJSON=t=>i4(ae.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=h4.getAdapter;nr.HttpStatusCode=wM;nr.default=nr;const be=nr,Ev="http://localhost:5000/api",fo=`${Ev}/better-auth`,NM=async t=>{var e,r;try{return(await be.post(`${fo}/signin`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Sign in failed")}},kM=async t=>{var e,r;try{return(await be.post(`${fo}/signup`,t)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Sign up failed")}},SM=async()=>{var t,e;try{return(await be.post(`${fo}/signout`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||"Sign out failed")}},_M=async()=>{var t,e;try{return(await be.get(`${fo}/session`)).data}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to get session")}},v1=async t=>{var e,r;try{return(await be.post(`${fo}/forgot-password`,{email:t})).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to send verification code")}},EM=async(t,e,r)=>{var n,i;try{return(await be.post(`${fo}/reset-password`,{email:t,code:e,password:r})).data}catch(a){throw new Error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to reset password")}},TM=async t=>{var e,r;try{return(await be.post(`${fo}/resend-code`,{email:t})).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to resend verification code")}},CM=async(t,e)=>{var r,n;try{return(await be.post(`${Ev}/auth/reset-password`,{token:t,password:e})).data}catch(i){throw new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to reset password")}},AM=async t=>{var e,r;try{return(await be.get(`${Ev}/auth/verify-reset-token/${t}`)).data}catch(n){throw new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to verify reset token")}},xi={signIn:async(t,e)=>{console.log("Better Auth signIn called with:",t,e);try{const r=await NM({email:e.email,password:e.password});if(r.requiresVerification)return{data:null,error:null,requiresVerification:!0,message:r.message||"Verification code sent to your email"};if(r.success&&r.user)return{data:{user:r.user,session:{token:r.token,expires:new Date(Date.now()+30*60*1e3).toISOString()}},error:null};throw new Error(r.message||"Sign in failed")}catch(r){throw console.error("Sign in error:",r),r}},signUp:async(t,e)=>{console.log("Better Auth signUp called with:",t,e);try{const r=await kM({email:e.email,password:e.password,displayName:e.displayName,phoneNumber:e.phoneNumber,course:e.course,year:e.year,skills:e.skills,ajiraGoals:e.ajiraGoals,experienceLevel:e.experienceLevel,preferredLearningMode:e.preferredLearningMode,otherInfo:e.otherInfo,interests:e.interests});if(r.success)return{data:null,error:null,requiresVerification:!0,message:r.message||"Account created! Verification code sent to your email"};throw new Error(r.message||"Sign up failed")}catch(r){throw console.error("Sign up error:",r),r}},verifyCode:async(t,e)=>{console.log("Better Auth verifyCode called with:",t,e);try{const r=await fetch("http://localhost:5000/api/better-auth/verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code:e})}),n=await r.json();if(console.log("🔍 Verification response:",n),r.ok&&n.success){console.log("✅ Verification successful, returning data"),console.log("🔍 Result data structure:"),console.log("  - result.success:",n.success),console.log("  - result.data.user:",n.data.user),console.log("  - result.data.token:",n.data.token),console.log("  - result.data.sessionExpiresAt:",n.data.sessionExpiresAt);const i={data:{user:n.data.user,session:{token:n.data.token,expires:n.data.sessionExpiresAt}},error:null};return console.log("🔍 Returning data structure:",JSON.stringify(i,null,2)),i}else throw console.log("❌ Verification failed:",n.message),new Error(n.message||"Verification failed")}catch(r){throw console.error("Verification error:",r),r}},signOut:async t=>{console.log("Better Auth signOut called");try{return await SM(),{data:null,error:null}}catch(e){throw console.error("Sign out error:",e),e}},getSession:async()=>{console.log("Better Auth getSession called");try{const t=await _M();return t.success&&t.data?{data:{user:t.data.user,session:t.data.session},error:null}:{data:null,error:null}}catch(t){return console.error("Get session error:",t),{data:null,error:t}}},getProviders:async()=>(console.log("Better Auth getProviders called"),{data:["emailAndPassword"],error:null}),resendCode:async t=>{console.log("Better Auth resendCode called with:",t);try{const e=await TM(t);if(e.success)return{data:null,error:null,message:e.message||"Verification code resent successfully"};throw new Error(e.message||"Failed to resend code")}catch(e){throw console.error("Resend code error:",e),e}}},p4=P.createContext(void 0),Vr=()=>{const t=P.useContext(p4);if(t===void 0)throw new Error("useBetterAuthContext must be used within a BetterAuthProvider");return t},PM=({children:t})=>{const[e,r]=P.useState(null),[n,i]=P.useState(null),[a,o]=P.useState(!0),[l,c]=P.useState(null),[u,d]=P.useState(!1);P.useEffect(()=>{(async()=>{var g;try{o(!0);const v=localStorage.getItem("userData"),j=localStorage.getItem("token");if(v&&j){const p=JSON.parse(v);r(p),i({token:j}),d(!0),o(!1);return}const y=await xi.getSession();console.log("BetterAuthContext: Session from Better Auth",y),(g=y==null?void 0:y.data)!=null&&g.user?(r(y.data.user),i(y.data.session),d(!0)):(console.log("BetterAuthContext: No existing session found"),r(null),i(null),d(!1))}catch(v){console.error("Error checking existing session:",v),r(null),i(null),d(!1)}finally{o(!1)}})()},[]);const m={signInWithEmail:async(f,g)=>{var v;try{o(!0),c(null);const j=await xi.signIn("emailAndPassword",{email:f,password:g,redirect:!1});return j.requiresVerification?{requiresVerification:!0,message:j.message,email:f}:((v=j==null?void 0:j.data)!=null&&v.user&&(localStorage.setItem("token",j.data.session.token),localStorage.setItem("userData",JSON.stringify(j.data.user)),r(j.data.user),i(j.data.session),d(!0)),j)}catch(j){const y=(j==null?void 0:j.message)||(j==null?void 0:j.statusText)||"Authentication failed";throw c(y),j}finally{o(!1)}},signUpWithEmail:async(f,g,v)=>{var j;try{o(!0),c(null);const y=await xi.signUp("emailAndPassword",{email:f,password:g,...v,redirect:!1});return y.requiresVerification?{requiresVerification:!0,message:y.message,email:f}:((j=y==null?void 0:y.data)!=null&&j.user&&(localStorage.setItem("token",y.data.session.token),localStorage.setItem("userData",JSON.stringify(y.data.user)),r(y.data.user),i(y.data.session),d(!0)),y)}catch(y){const p=(y==null?void 0:y.message)||(y==null?void 0:y.statusText)||"Registration failed";throw c(p),y}finally{o(!1)}},verifyCode:async(f,g)=>{var v;try{o(!0),c(null);const j=await xi.verifyCode(f,g);return console.log("🔍 BetterAuthContext verifyCode result:",j),(v=j==null?void 0:j.data)!=null&&v.user?(console.log("✅ Setting user data and session"),console.log("🔍 User data:",j.data.user),console.log("🔍 Session data:",j.data.session),localStorage.setItem("token",j.data.session.token),localStorage.setItem("userData",JSON.stringify(j.data.user)),r(j.data.user),i(j.data.session),d(!0),console.log("✅ Authentication state updated - user set, session set, isAuthenticated set to true"),j):(console.log("❌ No user data in result:",j),j)}catch(j){console.log("🔍 BetterAuthContext caught error:",j),console.log("🔍 Error type:",typeof j),console.log("🔍 Error message:",j==null?void 0:j.message),console.log("🔍 Error statusText:",j==null?void 0:j.statusText);const y=(j==null?void 0:j.message)||(j==null?void 0:j.statusText)||"Verification failed";throw console.log("🔍 BetterAuthContext setting error:",y),c(y),j}finally{o(!1)}},resendCode:async f=>{try{return c(null),await xi.resendCode(f)}catch(g){const v=(g==null?void 0:g.message)||(g==null?void 0:g.statusText)||"Failed to resend code";throw c(v),g}},signOut:async()=>{try{o(!0),await xi.signOut({redirect:!1}),localStorage.removeItem("token"),localStorage.removeItem("userData"),r(null),i(null),d(!1),c(null)}catch(f){console.error("Sign out error:",f),localStorage.removeItem("token"),localStorage.removeItem("userData"),r(null),i(null),d(!1)}finally{o(!1)}},getSession:async()=>{try{return await xi.getSession()}catch(f){return console.error("Get session error:",f),null}},getProviders:async()=>{try{return await xi.getProviders()}catch(f){return console.error("Get providers error:",f),[]}}},h={user:e,session:n,isLoading:a,error:l,isAuthenticated:u,signIn:m.signInWithEmail,signUp:m.signUpWithEmail,verifyCode:m.verifyCode,resendCode:m.resendCode,signOut:m.signOut,getSession:m.getSession,getProviders:m.getProviders};return s.jsx(p4.Provider,{value:h,children:t})},g4=P.createContext(void 0),x4=()=>{const t=P.useContext(g4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},y4=({children:t})=>{const[e,r]=P.useState(()=>localStorage.getItem("theme")||"system"),[n,i]=P.useState(!1);P.useEffect(()=>{localStorage.setItem("theme",e);const o=()=>{let l=!1;e==="system"?l=window.matchMedia("(prefers-color-scheme: dark)").matches:l=e==="dark",i(l);const c=document.documentElement;l?c.classList.add("dark"):c.classList.remove("dark")};if(o(),e==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>o();return l.addEventListener("change",c),()=>l.removeEventListener("change",c)}},[e]);const a={theme:e,setTheme:r,isDark:n};return s.jsx(g4.Provider,{value:a,children:t})},IM=()=>{var Q,X,G;const[t,e]=P.useState(!1),[r,n]=P.useState(null),[i,a]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(""),[d,m]=P.useState(!1),[h,f]=P.useState([{id:1,title:"New message from Sarah",message:"Hey! I loved your portfolio work. Can we discuss a project?",time:"2 min ago",type:"message",unread:!0},{id:2,title:"Order completed",message:"Your graphic design project has been delivered successfully.",time:"1 hour ago",type:"order",unread:!0},{id:3,title:"New review received",message:"Michael gave you a 5-star review for web development.",time:"3 hours ago",type:"review",unread:!1},{id:4,title:"Payment received",message:"KSh 15,000 has been credited to your account.",time:"1 day ago",type:"payment",unread:!0},{id:5,title:"Profile verification",message:"Your KiNaP student verification is complete!",time:"2 days ago",type:"system",unread:!1}]),g=P.useRef(null),v=P.useRef(null),j=P.useRef(null),y=P.useRef([]),p=_n(),{user:b,signOut:w}=Vr(),{theme:S,setTheme:R,isDark:N}=x4(),k=h.filter(K=>K.unread).length,E=K=>{f(J=>J.map($=>$.id===K?{...$,unread:!1}:$))},T=()=>{f(K=>K.map(J=>({...J,unread:!1})))},_=K=>{switch(K){case"message":return"💬";case"order":return"📦";case"review":return"⭐";case"payment":return"💰";case"system":return"🔔";default:return"📢"}},A=K=>K?(K.displayName||K.email||"User").split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):"U",C=K=>K!=null&&K.photoURL?K.photoURL:null,O=[{title:"Home",description:"Welcome to KiNaP Ajira Club",url:"/",category:"Pages"},{title:"Community Hub",description:"Connect with other members and join discussions",url:"/community",category:"Community"},{title:"Videos",description:"Educational video content and tutorials",url:"/videos",category:"Learning"},{title:"Marketplace",description:"Digital services marketplace",url:"/marketplace",category:"Services"},{title:"Profile",description:"Manage your personal profile",url:"/profile",category:"Account"},{title:"About Us",description:"Learn about KiNaP Ajira Club",url:"/about",category:"About"},{title:"Team",description:"Meet our team members",url:"/team",category:"About"},{title:"Updates",description:"Latest news and updates",url:"/updates",category:"About"},{title:"FAQ",description:"Frequently asked questions",url:"/faq",category:"About"},{title:"Testimonials",description:"Success stories from members",url:"/testimonials",category:"Community"},{title:"Ambassador Program",description:"Join our ambassador program",url:"/ambassador",category:"Community"},{title:"Showcase",description:"Member projects and achievements",url:"/showcase",category:"Community"},{title:"Training",description:"Digital skills training programs",url:"/training",category:"Learning"},{title:"Mentorship",description:"Find mentors and mentees",url:"/mentorship",category:"Learning"},{title:"Blog",description:"Latest articles and insights",url:"/blog",category:"Learning"},{title:"Events",description:"Upcoming workshops and events",url:"/events",category:"Learning"},{title:"Become Seller",description:"Start offering digital services",url:"/become-seller",category:"Services"},{title:"Orders",description:"View your orders and transactions",url:"/orders",category:"Account"},{title:"Notifications",description:"Manage your notifications",url:"/notifications",category:"Account"},{title:"Sign In",description:"Access your account",url:"/auth",category:"Account"},{title:"Contact",description:"Get in touch with us",url:"/contact",category:"Support"}],U=[{id:"about",label:"About",icon:xy,items:[{label:"About KiNaP",to:"/about",icon:xy,description:"Learn about our mission"},{label:"Our Team",to:"/team",icon:ze,description:"Meet our dedicated team"},{label:"Latest Updates",to:"/updates",icon:ct,description:"News and announcements"},{label:"FAQ",to:"/faq",icon:vv,description:"Common questions"},{label:"Contact Us",to:"/contact",icon:Gs,description:"Get in touch"}]},{id:"programs",label:"Programs",icon:Xa,items:[{label:"Digital Training",to:"/training",icon:Xa,description:"Skill development courses"},{label:"Mentorship",to:"/mentorship",icon:Wa,description:"Connect with mentors"},{label:"Events & Workshops",to:"/events",icon:vt,description:"Live learning sessions"},{label:"Videos & Resources",to:"/videos",icon:ks,description:"Educational content"}]},{id:"community",label:"Community",icon:ze,items:[{label:"Community Hub",to:"/community",icon:ze,description:"Join discussions"},{label:"Success Stories",to:"/testimonials",icon:ct,description:"Member achievements"},{label:"Project Showcase",to:"/showcase",icon:vt,description:"Featured work"},{label:"Ambassador Program",to:"/ambassador",icon:Wa,description:"Become a leader"}]},{id:"services",label:"Services",icon:Uu,items:[{label:"Marketplace",to:"/marketplace",icon:Uu,description:"Digital services hub"},{label:"Become a Seller",to:"/become-seller",icon:Wa,description:"Offer your skills"}]}],L=O.filter(K=>K.title.toLowerCase().includes(c.toLowerCase())||K.description.toLowerCase().includes(c.toLowerCase())||K.category.toLowerCase().includes(c.toLowerCase())),q=L.reduce((K,J)=>(K[J.category]||(K[J.category]=[]),K[J.category].push(J),K),{});P.useEffect(()=>{c.trim()===""?m(!1):m(!0)},[c]),P.useEffect(()=>{const K=$=>{g.current&&!g.current.contains($.target)&&m(!1),v.current&&!v.current.contains($.target)&&a(!1),j.current&&!j.current.contains($.target)&&l(!1)},J=$=>{$.key==="Escape"&&(m(!1),a(!1),l(!1),n(null),e(!1))};return document.addEventListener("mousedown",K),document.addEventListener("keydown",J),()=>{document.removeEventListener("mousedown",K),document.removeEventListener("keydown",J)}},[]),P.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const M=()=>{u(""),m(!1),e(!1)},z=()=>{u(""),m(!1)},D=async()=>{try{await w(),a(!1),l(!1),e(!1),p("/")}catch(K){console.error("Error signing out:",K)}},F=()=>{R(S==="light"?"dark":S==="dark"?"system":"light")},H=(K,J)=>{r===K?n(null):(n(K),setTimeout(()=>{const $=J??0;if(y.current[$]){const Z=y.current[$].querySelector("a, button");Z&&Z.focus()}},50))},W=()=>{n(null),a(!1),l(!1),e(!1)};return s.jsxs("nav",{className:"bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 backdrop-blur-sm w-full",children:[s.jsx("div",{className:"max-w-7xl mx-auto w-full px-2 sm:px-4 lg:px-8",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between min-h-16 w-full gap-y-2",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center w-full sm:w-auto mb-2 sm:mb-0 min-w-0",children:s.jsxs(De,{to:"/",className:"flex items-center group","aria-label":"Home",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club Logo",className:"h-10 w-auto drop-shadow-md rounded-md min-w-10",onError:K=>{K.currentTarget.style.display="none"}}),s.jsxs("div",{className:"ml-3 flex flex-col min-w-0",children:[s.jsx("span",{className:"text-lg font-bold leading-tight truncate transition-colors duration-700",style:{animation:"kinapColorCycle 3s infinite",WebkitAnimation:"kinapColorCycle 3s infinite"},children:"KiNaP Ajira Club"}),s.jsx("span",{className:"text-xs text-kenya-green leading-tight font-medium truncate",children:"Digital Skills Hub"})]})]})}),s.jsx("div",{className:"hidden lg:flex items-center space-x-1 w-full lg:w-auto min-w-0",children:U.map((K,J)=>s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsxs("button",{onMouseEnter:()=>{window.innerWidth>=1024&&H(K.id,J)},onMouseLeave:()=>{},onClick:()=>H(K.id,J),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 min-w-0 truncate ${r===K.id?"text-kenya-red bg-kenya-green/10 shadow-sm":"text-gray-700 hover:text-kenya-red hover:bg-gray-50"}`,"aria-label":K.label,"aria-haspopup":"true","aria-expanded":r===K.id,"aria-controls":`dropdown-menu-${K.id}`,tabIndex:0,onKeyDown:$=>{var Z;if($.key==="ArrowDown"&&r===K.id){const se=(Z=y.current[J])==null?void 0:Z.querySelector("a, button");se&&se.focus()}},children:[s.jsx(K.icon,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:K.label}),s.jsx(cu,{className:`w-3 h-3 ml-1 transition-transform flex-shrink-0 ${r===K.id?"rotate-180":""}`})]}),r===K.id&&s.jsx("div",{onMouseEnter:()=>{window.innerWidth>=1024&&n(K.id)},id:`dropdown-menu-${K.id}`,ref:$=>y.current[J]=$,className:"absolute left-0 mt-2 w-[370px] bg-white rounded-2xl shadow-2xl border border-gray-200 py-4 z-[9999] animate-in slide-in-from-top-2 duration-200 focus:outline-none",role:"menu","aria-label":K.label,tabIndex:-1,onKeyDown:$=>{var te,ge,Pe;const Z=Array.from(((te=y.current[J])==null?void 0:te.querySelectorAll("a, button"))||[]),se=document.activeElement,pe=Z.indexOf(se);if($.key==="ArrowDown"){$.preventDefault();const Xe=Z[(pe+1)%Z.length];Xe&&Xe.focus()}else if($.key==="ArrowUp"){$.preventDefault();const Xe=Z[(pe-1+Z.length)%Z.length];Xe&&Xe.focus()}else $.key==="Escape"&&(n(null),(Pe=(ge=y.current[J])==null?void 0:ge.previousElementSibling)==null||Pe.focus())},children:K.items.map(($,Z)=>s.jsxs(De,{to:$.to,className:"flex items-center gap-4 px-6 py-5 hover:bg-gray-50 transition-colors rounded-xl mb-2 last:mb-0",onClick:W,tabIndex:0,role:"menuitem","aria-label":$.label,onKeyDown:se=>{(se.key==="Enter"||se.key===" ")&&W()},children:[s.jsx($.icon,{className:"w-7 h-7 text-ajira-accent flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-base font-semibold text-gray-900 mb-1",children:$.label}),s.jsx("span",{className:"text-sm text-gray-500",children:$.description})]})]},Z))})]},K.id))}),s.jsx("div",{className:"hidden md:flex items-center mx-6 flex-1 max-w-md w-full min-w-0",children:s.jsxs("div",{ref:g,className:"relative w-full min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:K=>u(K.target.value),placeholder:"Search programs, services...",className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-kenya-red/20 focus:border-kenya-red transition-all duration-200"}),c&&s.jsx("button",{onClick:z,className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-kenya-red transition-colors",children:s.jsx(as,{className:"h-4 w-4"})})]}),d&&L.length>0&&s.jsx("div",{className:"absolute top-full mt-2 w-full bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50 max-h-80 overflow-y-auto",children:Object.entries(q).map(([K,J])=>s.jsxs("div",{className:"mb-2 last:mb-0",children:[s.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-kenya-red uppercase tracking-wide border-b border-gray-100",children:K}),J.map(($,Z)=>s.jsxs(De,{to:$.url,onClick:M,className:"flex items-center px-4 py-3 hover:bg-gray-50 transition-colors group",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-kenya-red",children:$.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:$.description})]}),s.jsx(Ol,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]},Z))]},K))})]})}),s.jsx("div",{className:"flex items-center space-x-4 w-full lg:w-auto justify-end min-w-0",children:b?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{ref:j,className:"relative",children:[s.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-kenya-red hover:bg-gray-50 rounded-lg transition-colors group","aria-label":"Notifications",children:[s.jsx(Bs,{className:"h-5 w-5 group-hover:animate-pulse"}),k>0&&s.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-r from-kenya-red to-kenya-green rounded-full flex items-center justify-center shadow-lg animate-pulse",children:s.jsx("span",{className:"text-white text-xs font-bold",children:k>9?"9+":k})})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-[9999] max-h-96",children:[s.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Notifications"]}),k>0&&s.jsx("button",{onClick:T,className:"text-xs text-kenya-red hover:text-kenya-green transition-colors font-medium",children:"Mark all read"})]}),k>0&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[k," new notification",k>1?"s":""]})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:h.slice(0,5).map(K=>s.jsx("div",{onClick:()=>E(K.id),className:`p-3 hover:bg-gray-50 transition-colors cursor-pointer border-l-4 ${K.unread?"bg-blue-50/50 border-l-kenya-red":"border-l-transparent"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:_(K.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm truncate ${K.unread?"font-semibold text-gray-900":"text-gray-700"}`,children:K.title}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mt-1",children:K.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),K.time]})]}),K.unread&&s.jsx("div",{className:"w-2 h-2 bg-kenya-red rounded-full flex-shrink-0 mt-2"})]})},K.id))}),s.jsx("div",{className:"px-4 py-3 bg-gray-50 text-center border-t border-gray-100",children:s.jsx(De,{to:"/notifications",onClick:()=>l(!1),className:"text-sm font-medium text-kenya-red hover:text-kenya-green transition-colors",children:"View all notifications"})})]})]}),s.jsxs("div",{ref:v,className:"relative",children:[s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors group","aria-label":"User profile",children:[s.jsxs("div",{className:"relative",children:[C(b)?s.jsx("img",{src:C(b),alt:b.displayName||b.email,className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200 group-hover:border-kenya-red transition-colors shadow-sm"}):s.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-sm border-2 border-gray-200 group-hover:border-kenya-green transition-colors",children:s.jsx("span",{className:"text-white text-sm font-bold",children:A(b)})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm animate-pulse"})]}),s.jsxs("div",{className:"hidden sm:block text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:b.displayName||((Q=b.email)==null?void 0:Q.split("@")[0])||"User"}),s.jsx(Tg,{user:b})]}),s.jsx(cu,{className:`h-4 w-4 text-gray-400 transition-transform ${i?"rotate-180":""}`})]}),i&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-[9999] overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[C(b)?s.jsx("img",{src:C(b),alt:b.displayName||b.email,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:s.jsx("span",{className:"text-white text-lg font-bold",children:A(b)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:b.displayName||((X=b.email)==null?void 0:X.split("@")[0])||"User"}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:b.email}),s.jsx("div",{className:"mt-1",children:s.jsx(Tg,{user:b})})]})]})}),s.jsxs("div",{className:"py-2",children:[s.jsxs(De,{to:"/profile",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>a(!1),children:[s.jsx(or,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Profile"]}),s.jsxs(De,{to:"/orders",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>a(!1),children:[s.jsx(Bu,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Orders"]}),s.jsxs(De,{to:"/notifications",className:"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",onClick:()=>a(!1),children:[s.jsx(Bs,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),"Notifications",k>0&&s.jsx("span",{className:"ml-auto bg-kenya-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),s.jsxs("button",{onClick:F,className:"flex items-center w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors group",children:[N?s.jsx(i1,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}):s.jsx(t1,{className:"h-4 w-4 mr-3 text-kenya-green group-hover:text-kenya-red transition-colors"}),N?"Light Mode":"Dark Mode"]}),s.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:s.jsxs("button",{onClick:D,className:"flex items-center w-full px-4 py-2.5 text-sm text-kenya-red hover:bg-kenya-red/5 transition-colors group",children:[s.jsx(e1,{className:"h-4 w-4 mr-3 group-hover:animate-pulse"}),"Sign Out"]})})]})]})]})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(De,{to:"/auth",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-kenya-red border border-gray-300 rounded-lg hover:border-kenya-red transition-all duration-200","aria-label":"Sign in",children:"Sign In"}),s.jsx(De,{to:"/auth?mode=register",className:"bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white px-6 py-2 rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105","aria-label":"Join now",children:"Join Now"})]})}),s.jsx("div",{className:"lg:hidden ml-4 w-full flex justify-end min-w-0",children:s.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg text-gray-600 hover:text-kenya-red hover:bg-gray-50 transition-colors","aria-label":"Open mobile menu",children:s.jsx(PO,{className:"h-6 w-6"})})})]})}),t&&s.jsx("div",{className:"lg:hidden border-t border-kenya-green/10 bg-white dark:bg-gray-900 shadow-xl animate-in slide-in-from-top duration-300 z-[9999]",children:s.jsxs("div",{className:"px-4 pt-4 pb-6 space-y-4",children:[s.jsx("div",{className:"space-y-3",children:U.map((K,J)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>H(K.id,J),className:"flex items-center justify-between w-full px-4 py-3 text-lg font-semibold text-kenya-black dark:text-white hover:bg-kenya-green/10 hover:text-kenya-red rounded-lg transition-colors","aria-expanded":r===K.id,"aria-controls":`mobile-dropdown-${K.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(K.icon,{className:"w-5 h-5 text-kenya-green"}),K.label]}),s.jsx(cu,{className:`w-4 h-4 transition-transform duration-200 ${r===K.id?"rotate-180":""}`})]}),r===K.id&&s.jsx("div",{id:`mobile-dropdown-${K.id}`,className:"ml-4 space-y-1 animate-in slide-in-from-top-2 duration-200",children:K.items.map(($,Z)=>s.jsxs(De,{to:$.to,className:"flex items-center gap-3 px-4 py-3 text-base text-kenya-black dark:text-white hover:bg-kenya-green/10 hover:text-kenya-red rounded-lg transition-colors",onClick:W,children:[s.jsx($.icon,{className:"w-4 h-4 text-kenya-green"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:$.label}),s.jsx("span",{className:"text-xs text-gray-500",children:$.description})]})]},Z))})]},K.id))}),s.jsx("div",{className:"border-t border-kenya-green/10 pt-4 mt-4",children:b?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-kenya-green/10 to-kenya-red/10 rounded-lg",children:[C(b)?s.jsx("img",{src:C(b),alt:b.displayName||b.email,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-kenya-red via-kenya-green to-kenya-red rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:s.jsx("span",{className:"text-white text-lg font-bold",children:A(b)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-kenya-black",children:b.displayName||((G=b.email)==null?void 0:G.split("@")[0])||"User"}),s.jsx("div",{className:"text-sm text-gray-600 truncate",children:b.email}),s.jsx("div",{className:"mt-1",children:s.jsx(Tg,{user:b})})]}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(De,{to:"/profile",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:W,children:[s.jsx(or,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Profile"]}),s.jsxs(De,{to:"/orders",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:W,children:[s.jsx(Bu,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"My Orders"]}),s.jsxs(De,{to:"/notifications",className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group",onClick:W,children:[s.jsx(Bs,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),"Notifications",k>0&&s.jsx("span",{className:"ml-auto bg-kenya-red text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:k>9?"9+":k})]}),s.jsxs("button",{onClick:()=>{F(),W()},className:"flex items-center gap-3 px-4 py-3 text-kenya-black hover:bg-kenya-green/10 rounded-lg transition-colors group w-full",children:[N?s.jsx(i1,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}):s.jsx(t1,{className:"h-4 w-4 text-kenya-green group-hover:text-kenya-red transition-colors"}),N?"Light Mode":"Dark Mode"]}),s.jsxs("button",{onClick:D,className:"flex items-center gap-3 w-full px-4 py-3 text-kenya-red hover:bg-kenya-red/10 rounded-lg transition-colors group",children:[s.jsx(e1,{className:"h-4 w-4 group-hover:animate-pulse"}),"Sign Out"]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs(De,{to:"/auth",className:"flex items-center justify-center gap-2 w-full px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:text-kenya-red hover:border-kenya-red transition-all duration-200",onClick:W,children:[s.jsx(or,{className:"w-5 h-5"}),"Sign In"]}),s.jsxs(De,{to:"/auth?mode=register",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white px-6 py-3 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200",onClick:W,children:[s.jsx(ct,{className:"w-5 h-5"}),"Join Now"]})]})}),d&&L.length>0&&s.jsxs("div",{className:"border-t border-kenya-green/10 pt-4 mt-4",children:[s.jsx("div",{className:"text-sm font-semibold text-kenya-red mb-3",children:"Search Results"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(q).map(([K,J])=>s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:K}),J.map(($,Z)=>s.jsxs(De,{to:$.url,onClick:M,className:"block px-3 py-2 hover:bg-kenya-green/10 rounded-lg transition-colors",children:[s.jsx("div",{className:"font-medium text-kenya-black",children:$.title}),s.jsx("div",{className:"text-xs text-gray-600",children:$.description})]},Z))]},K))})]})]})})]})},Tg=({user:t})=>t?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 bg-kenya-accent rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:"text-xs text-kenya-text-muted",children:"Verified Member"})]}):null,RM=()=>{const t=new Date().getFullYear(),e=[{icon:s.jsx(jO,{size:20}),href:"https://facebook.com/ajiradigital"},{icon:s.jsx(BO,{size:20}),href:"https://twitter.com/ajiradigital"},{icon:s.jsx(_O,{size:20}),href:"https://instagram.com/ajiradigital"},{icon:s.jsx($O,{size:20}),href:"https://youtube.com/ajiradigital"}];return s.jsx("footer",{className:"bg-ajira-primary text-ajira-light",children:s.jsxs("div",{className:"container-custom py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs(De,{to:"/",className:"flex items-center space-x-4 mb-4",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Club Logo",className:"h-12 w-auto rounded-lg"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Ajira Digital"}),s.jsx("p",{className:"text-sm text-white/80",children:"KiNaP Club"})]})]}),s.jsx("p",{className:"text-sm text-white/80 mb-6",children:"Empowering youth through digital skills and online work opportunities at Kiambu National Polytechnic."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(De,{to:"/marketplace",className:"text-sm text-white/80 hover:text-white",children:"Marketplace"})}),s.jsx("li",{children:s.jsx(De,{to:"/videos",className:"text-sm text-white/80 hover:text-white",children:"Video Tutorials"})}),s.jsx("li",{children:s.jsx(De,{to:"/stories",className:"text-sm text-white/80 hover:text-white",children:"Success Stories"})}),s.jsx("li",{children:s.jsx("a",{href:"https://ajiradigital.go.ke",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white/80 hover:text-white",children:"Official Portal"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start space-x-3",children:[s.jsx(Yn,{className:"w-5 h-5 text-ajira-accent mt-1"}),s.jsxs("p",{className:"text-sm text-white/80",children:["Kiambu National Polytechnic",s.jsx("br",{}),"P.O. Box 414-00900",s.jsx("br",{}),"Kiambu, Kenya"]})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"w-5 h-5 text-ajira-accent"}),s.jsx("a",{href:"mailto:kinapajira@gmail.com",className:"text-sm text-white/80 hover:text-white",children:"kinapajira@gmail.com"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(Za,{className:"w-5 h-5 text-ajira-accent"}),s.jsx("a",{href:"tel:+254792343958",className:"text-sm text-white/80 hover:text-white",children:"+254 792 343 958"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Find Us"}),s.jsx("div",{className:"rounded-lg overflow-hidden h-48",children:s.jsx("iframe",{title:"KiNaP Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.0176604666584!2d36.8206!3d-1.1722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMcKwMTAnMTkuMiJTIDM2wrA0OSczNC4yIkU!5e0!3m2!1sen!2ske!4v1620000000000!5m2!1sen!2ske",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-white/10",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex items-center space-x-6",children:e.map((r,n)=>s.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"text-white/80 hover:text-white",children:r.icon},n))}),s.jsxs("p",{className:"text-sm text-white/80",children:["© ",t," Ajira Digital KiNaP Club. All rights reserved."]})]})})]})})},st=({children:t})=>s.jsxs("div",{className:"min-h-screen bg-gray-50 w-full overflow-x-hidden",children:[s.jsxs(ou,{children:[s.jsx("title",{children:"Ajira Digital KiNaP Club - Digital Skills & Opportunities"}),s.jsx("meta",{name:"description",content:"Join Ajira Digital at Kiambu National Polytechnic. Learn digital skills, find online work opportunities, and build your digital career."}),s.jsx("meta",{name:"keywords",content:"Ajira Digital, KiNaP, digital skills, online work, freelancing, digital economy, Kiambu National Polytechnic"}),s.jsx("meta",{property:"og:title",content:"Ajira Digital KiNaP Club"}),s.jsx("meta",{property:"og:description",content:"Empowering youth through digital skills and online work opportunities at Kiambu National Polytechnic."}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),s.jsx(IM,{}),s.jsx("main",{className:"flex-1 w-full mt-6",children:s.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-8",children:t||s.jsx(hE,{})})}),s.jsx(RM,{})]}),nh=({children:t})=>s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"bg-ajira-primary text-ajira-light py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Ajira Digital Marketplace"}),s.jsx("p",{className:"text-lg text-ajira-light/80 mb-8",children:"Connect with talented freelancers and find opportunities in the digital economy"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:"Search for services...",className:"w-full px-4 py-3 pl-12 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50"}),s.jsx(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/60",size:20})]}),s.jsxs("button",{className:"px-6 py-3 bg-ajira-accent hover:bg-ajira-accent/90 text-white rounded-lg flex items-center space-x-2",children:[s.jsx(xv,{size:20}),s.jsx("span",{children:"Filters"})]}),s.jsxs("button",{className:"px-6 py-3 bg-ajira-accent hover:bg-ajira-accent/90 text-white rounded-lg flex items-center space-x-2",children:[s.jsx(pO,{size:20}),s.jsx("span",{children:"Sort"})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("div",{className:"container-custom py-4",children:s.jsxs("div",{className:"flex items-center space-x-6 overflow-x-auto scrollbar-hide",children:[s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200",children:"All Categories"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Digital Marketing"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Web Development"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Content Writing"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Graphic Design"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Virtual Assistant"}),s.jsx("button",{className:"text-ajira-primary hover:text-ajira-accent whitespace-nowrap px-4 py-2 rounded-full hover:bg-gray-100",children:"Data Entry"})]})})}),s.jsx("main",{className:"container-custom py-8",children:t||s.jsx(hE,{})}),s.jsx("div",{className:"fixed bottom-8 right-8",children:s.jsx("button",{className:"bg-ajira-accent hover:bg-ajira-accent/90 text-white px-6 py-3 rounded-full shadow-lg flex items-center space-x-2",children:s.jsx("span",{children:"Post a Gig"})})})]}),OM=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(0),[i,a]=P.useState(!0);if(P.useEffect(()=>{(async()=>{try{const c=[{title:"From Local Developer to Global AI Innovator",content:"Through Ajira's AI Development Program, I transformed from a traditional web developer into a Quantum AI specialist. Now I lead a team developing neural interfaces for the African market.",author:"Sarah Mwangi",authorRole:"Senior Quantum AI Architect",rating:5,image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=80",impact:{earnings:5e6,jobsCreated:15,skillsGained:["Quantum Computing","Neural Networks","AI Ethics"]},aiInsights:{marketPotential:"High growth in African AI market expected (300% by 2026)",growthOpportunities:["Neural Interface Development","Quantum AI Solutions","Green Tech Integration"],skillRecommendations:["Advanced Quantum Programming","Neural Architecture Design","Sustainable AI Practices"]}},{title:"Freelancer to Digital Agency Owner",content:"Ajira's mentorship helped me scale from a solo freelancer to running a digital agency with 20+ employees, serving clients worldwide.",author:"James Kamau",authorRole:"Founder, Kamau Digital Solutions",rating:5,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",impact:{earnings:3e6,jobsCreated:22,skillsGained:["Project Management","Client Acquisition","Team Leadership"]},aiInsights:{marketPotential:"Digital services demand is booming in Africa and globally.",growthOpportunities:["Remote Team Building","Cross-border E-commerce","Brand Strategy"],skillRecommendations:["Digital Marketing","Business Automation","Cross-cultural Communication"]}},{title:"Student to Award-Winning Content Creator",content:"With Ajira's training, I turned my passion for storytelling into a career. My YouTube channel now has 100k+ subscribers and I mentor other students.",author:"Grace Wanjiru",authorRole:"Content Creator & Mentor",rating:5,image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=800&q=80",impact:{earnings:12e5,jobsCreated:5,skillsGained:["Video Production","Public Speaking","Mentorship"]},aiInsights:{marketPotential:"Content creation is a top growth sector for youth in Africa.",growthOpportunities:["Edutainment","Online Courses","Brand Partnerships"],skillRecommendations:["SEO for Video","Personal Branding","Community Building"]}}];for(const u of c)e(d=>[...d,u]);a(!1)}catch(c){console.error("Error fetching stories:",c),a(!1)}})()},[]),P.useEffect(()=>{if(t.length===0)return;const l=setInterval(()=>{n(c=>(c+1)%t.length)},1e4);return()=>clearInterval(l)},[t]),i)return s.jsx("div",{className:"text-center py-12",children:"Loading featured stories..."});if(t.length===0)return null;const o=t[r];return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-64 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/75 to-transparent"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"2025 Success Story of the Day"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600 line-clamp-3",children:o.content})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-ajira-primary mb-3",children:"Impact Metrics"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-ajira-accent",children:[o.impact.earnings.toLocaleString()," KES"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Annual Earnings"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:o.impact.jobsCreated}),s.jsx("div",{className:"text-sm text-gray-600",children:"Jobs Created"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:o.impact.skillsGained.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"New Skills"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/5 to-ajira-accent/5 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-ajira-primary mb-3",children:"AI Market Insights"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:o.aiInsights.marketPotential}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-ajira-primary mb-2",children:"Growth Areas"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.aiInsights.growthOpportunities.map((l,c)=>s.jsxs("li",{children:["• ",l]},c))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-ajira-primary mb-2",children:"Recommended Skills"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.aiInsights.skillRecommendations.map((l,c)=>s.jsxs("li",{children:["• ",l]},c))})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-ajira-primary",children:o.author}),s.jsx("div",{className:"text-sm text-gray-500",children:o.authorRole})]}),s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((l,c)=>s.jsx(ct,{className:`w-4 h-4 ${c<o.rating?"text-yellow-400 fill-current":"text-gray-300"}`},c))})]}),s.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:t.map((l,c)=>s.jsx("button",{onClick:()=>n(c),className:`w-2 h-2 rounded-full transition-colors ${c===r?"bg-ajira-accent":"bg-gray-300 hover:bg-gray-400"}`},c))}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(De,{to:"/become-seller",className:"inline-flex items-center text-ajira-accent hover:text-ajira-accent/80",children:["Start Your Success Story",s.jsx(Ki,{className:"ml-2 w-4 h-4"})]})})]})]})},DM=()=>{const[t,e]=P.useState(0),r=[{id:"1",name:"Grace Wanjiku",role:"Web Developer",content:"Ajira Digital transformed my career completely. From learning basic HTML to building full-stack applications, the program gave me all the tools I needed to succeed as a freelancer.",rating:5,avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:"2",name:"James Kamau",role:"Digital Marketer",content:"The mentorship and hands-on training at Ajira Digital helped me land a remote job with a US company. I now earn 3x what I used to make locally.",rating:5,avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:"3",name:"Mary Njeri",role:"Content Creator",content:"Through Ajira Digital, I learned video editing and content creation. I now run my own YouTube channel with over 50K subscribers and multiple income streams.",rating:5,avatar:"https://randomuser.me/api/portraits/women/67.jpg"},{id:"4",name:"Peter Ochieng",role:"Mobile App Developer",content:"The React Native training was exceptional. I built my first app within 3 months and now have clients from different countries. Life-changing experience!",rating:5,avatar:"https://randomuser.me/api/portraits/men/45.jpg"}],n=()=>{e(o=>o===r.length-1?0:o+1)},i=()=>{e(o=>o===0?r.length-1:o-1)};P.useEffect(()=>{const o=setInterval(n,5e3);return()=>clearInterval(o)},[]);const a=o=>Array.from({length:5},(l,c)=>s.jsx(ct,{className:`w-5 h-5 ${c<o?"text-yellow-400 fill-current":"text-gray-300"}`},c));return s.jsx("div",{className:"relative bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 md:p-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(Hm,{className:"w-12 h-12 text-blue-500"})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-xl md:text-2xl text-gray-700 mb-8 leading-relaxed italic",children:['"',r[t].content,'"']}),s.jsx("div",{className:"flex justify-center mb-6",children:a(r[t].rating)}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("img",{src:r[t].avatar,alt:r[t].name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:r[t].name}),s.jsx("p",{className:"text-gray-600",children:r[t].role})]})]})]}),s.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[s.jsx("button",{onClick:i,className:"p-3 bg-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-gray-600 hover:text-blue-600",children:s.jsx(pl,{className:"w-6 h-6"})}),s.jsx("button",{onClick:n,className:"p-3 bg-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-gray-600 hover:text-blue-600",children:s.jsx(Ol,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:r.map((o,l)=>s.jsx("button",{onClick:()=>e(l),className:`w-3 h-3 rounded-full transition-all duration-200 ${l===t?"bg-blue-500 scale-125":"bg-gray-300 hover:bg-gray-400"}`},l))})]})})},v4=be.create({baseURL:"http://localhost:5000/api",withCredentials:!0});v4.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&t.headers&&(t.headers.Authorization=`Bearer ${e}`),t});const ya=v4,MM=()=>{const[t,e]=P.useState({totalMembers:25e4,projectsCompleted:18e4,totalEarnings:5e8,activeFreelancers:75e3,successRate:94.5,averageRating:4.8}),[r,n]=P.useState(!0);if(P.useEffect(()=>{(async()=>{try{const o=await ya.get("/metrics");o.data&&e(o.data),n(!1)}catch(o){console.error("Error fetching metrics:",o),n(!1)}})()},[]),r)return s.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Loading metrics..."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we fetch the latest data"})]})});const i=[{icon:s.jsx(ze,{className:"w-8 h-8 text-ajira-accent"}),label:"Total Members",value:t.totalMembers??0,format:a=>(a??0).toLocaleString()},{icon:s.jsx(Uu,{className:"w-8 h-8 text-ajira-primary"}),label:"Projects Completed",value:t.projectsCompleted??0,format:a=>(a??0).toLocaleString()},{icon:s.jsx(Qn,{className:"w-8 h-8 text-green-500"}),label:"Total Earnings",value:t.totalEarnings??0,format:a=>`KES ${(a??0).toLocaleString()}`},{icon:s.jsx(vt,{className:"w-8 h-8 text-yellow-500"}),label:"Success Rate",value:t.successRate??0,format:a=>`${(a??0).toFixed(1)}%`}];return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary text-center mb-8",children:"Our Impact in 2025"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((a,o)=>s.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"mb-4",children:a.icon}),s.jsx("div",{className:"text-2xl font-bold text-ajira-primary mb-2",children:a.format(a.value)}),s.jsx("div",{className:"text-sm text-gray-600 text-center",children:a.label})]},o))}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"Active Freelancers"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-6 h-6 text-ajira-accent mr-3"}),s.jsx("span",{className:"text-2xl font-bold text-ajira-primary",children:(t.activeFreelancers??0).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Members actively taking on projects"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"Average Project Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,o)=>s.jsx(ct,{className:`w-6 h-6 ${o<Math.round(t.averageRating??0)?"text-yellow-400 fill-current":"text-gray-300"}`},o))}),s.jsx("span",{className:"ml-3 text-2xl font-bold text-ajira-primary",children:(t.averageRating??0).toFixed(1)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Based on completed project ratings"})]})]}),s.jsxs("div",{className:"mt-8 bg-gradient-to-r from-ajira-primary/5 to-ajira-accent/5 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-primary mb-4",children:"2025 AI-Driven Insights"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-ajira-primary mb-2",children:"Top Skills in Demand"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsx("li",{children:"• AI/ML Development"}),s.jsx("li",{children:"• Blockchain Solutions"}),s.jsx("li",{children:"• Quantum Computing"}),s.jsx("li",{children:"• Green Tech Innovation"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-ajira-primary mb-2",children:"Emerging Opportunities"}),s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsx("li",{children:"• Remote Work Solutions"}),s.jsx("li",{children:"• Digital Healthcare"}),s.jsx("li",{children:"• EdTech Platforms"}),s.jsx("li",{children:"• Sustainable Tech"})]})]})]})]})]})},LM=()=>{var i,a,o,l,c;const[t,e]=P.useState(null),[r,n]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const d=await be.get("/api/homepage");e(d.data)}catch{e(null)}finally{n(!1)}})()},[]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Loading..."}):s.jsxs("div",{className:"min-h-screen bg-ajira-white w-full overflow-x-hidden",children:[s.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden w-full",children:[s.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[s.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-40",poster:"/images/hero-poster.jpg",onError:u=>{u.currentTarget.style.display="none";const d=u.currentTarget.parentElement;d&&(d.style.background="linear-gradient(135deg, #000000 0%, #CE1126 35%, #006B3F 70%, #000000 100%)")},onLoadedData:()=>{console.log("Background video loaded successfully")},children:[s.jsx("source",{src:"/videos/digital-transformation.mp4",type:"video/mp4"}),s.jsx("source",{src:"/videos/kinap-promo.webm",type:"video/webm"}),s.jsx("source",{src:"/videos/ajira-background.mov",type:"video/quicktime"}),"Your browser does not support the video tag."]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-kenya-black/90 via-kenya-green/80 to-kenya-red/85"}),s.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-8 h-8 bg-kenya-red rounded-full animate-bounce-slow opacity-70"}),s.jsx("div",{className:"absolute top-40 right-32 w-6 h-6 bg-kenya-white rounded-full animate-float opacity-60"}),s.jsx("div",{className:"absolute bottom-40 left-1/4 w-7 h-7 bg-kenya-green rounded-full animate-pulse opacity-80"}),s.jsx("div",{className:"absolute top-60 left-1/3 w-5 h-5 bg-kenya-red rounded-full animate-bounce opacity-50"}),s.jsx("div",{className:"absolute bottom-60 right-1/4 w-6 h-6 bg-kenya-white rounded-full animate-float opacity-40"}),s.jsx("div",{className:"absolute inset-0 opacity-15",children:s.jsx("div",{className:"grid grid-cols-16 grid-rows-10 h-full w-full gap-2",children:Array.from({length:160}).map((u,d)=>s.jsx("div",{className:`border border-kenya-green/30 rounded-sm ${Math.random()>.85?"bg-kenya-red/20 animate-pulse":""}`,style:{animationDelay:`${Math.random()*4}s`,animationDuration:`${3+Math.random()*3}s`}},d))})}),s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-kenya-red/60 rounded-full animate-spin-slow"}),s.jsx("div",{className:"absolute top-32 right-20 w-20 h-20 border-2 border-kenya-white/50 rounded-lg rotate-45 animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 bg-kenya-green/40 rounded-full animate-bounce-slow"}),s.jsx("div",{className:"absolute bottom-32 right-1/3 w-28 h-28 border-2 border-kenya-green/60 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-kenya-red/30 to-transparent"}),s.jsx("div",{className:"absolute top-0 right-1/3 w-px h-full bg-gradient-to-b from-transparent via-kenya-green/30 to-transparent"})]})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto text-center px-2 sm:px-4 py-20",children:[s.jsx("div",{className:"mb-8 flex justify-center",children:s.jsx("img",{src:(t==null?void 0:t.heroImage)||"/logo.jpeg",alt:"KiNaP Ajira Club Logo",className:"h-20 w-auto drop-shadow-lg rounded-lg"})}),s.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-lg break-words",children:(t==null?void 0:t.heroTitle)||"Empowering Kenya's Digital Generation"}),s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-kenya-white mb-8 drop-shadow-md",children:(t==null?void 0:t.heroSubtitle)||"KiNaP Ajira Digital Club - Innovation & Excellence"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-12 w-full",children:(i=t==null?void 0:t.ctaButtons)==null?void 0:i.map((u,d)=>u.url.startsWith("http")?s.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"bg-kenya-black hover:bg-kenya-white text-white hover:text-kenya-black text-lg font-bold px-10 py-4 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 border-2 border-kenya-white w-full sm:w-auto",children:u.label},d):s.jsx(De,{to:u.url,className:"bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red text-white text-lg font-bold px-10 py-4 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 border-2 border-kenya-white w-full sm:w-auto",children:u.label},d))}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8 mt-8 w-full",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-red drop-shadow-lg",children:[((a=t==null?void 0:t.stats)==null?void 0:a.studentsTrained)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Students Trained"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-green drop-shadow-lg",children:[((o=t==null?void 0:t.stats)==null?void 0:o.successStories)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Success Stories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-kenya-white drop-shadow-lg",children:[((l=t==null?void 0:t.stats)==null?void 0:l.skillsPrograms)??0,"+"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Skills Programs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white drop-shadow-lg",children:[((c=t==null?void 0:t.stats)==null?void 0:c.digitalExcellence)??0,"%"]}),s.jsx("div",{className:"text-white/80 text-xs sm:text-base",children:"Digital Excellence"})]})]})]})]}),s.jsx("section",{className:"py-12 sm:py-24 bg-gradient-to-br from-ajira-light to-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx($u,{className:"w-5 h-5"}),"Why Choose Us"]}),s.jsxs("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:["Why Choose ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-accent to-ajira-secondary",children:"Ajira Digital?"})]}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Discover the comprehensive ecosystem designed to transform your digital career in Kenya"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-10 w-full",children:[{icon:s.jsx(ze,{className:"w-10 h-10"}),title:"Community Driven",description:"Join a thriving community of digital professionals and learners across Kenya",color:"from-ajira-primary to-ajira-blue-600",bgColor:"bg-ajira-primary/10"},{icon:s.jsx(vt,{className:"w-10 h-10"}),title:"Certified Training",description:"Industry-recognized certifications and skill development programs",color:"from-ajira-secondary to-ajira-green-600",bgColor:"bg-ajira-secondary/10"},{icon:s.jsx(ds,{className:"w-10 h-10"}),title:"Career Growth",description:"Track your progress and unlock new opportunities in the digital economy",color:"from-ajira-accent to-ajira-orange-600",bgColor:"bg-ajira-accent/10"},{icon:s.jsx(ks,{className:"w-10 h-10"}),title:"Global Reach",description:"Connect with international markets and opportunities worldwide",color:"from-ajira-info to-ajira-blue-500",bgColor:"bg-ajira-info/10"}].map((u,d)=>s.jsxs("div",{className:"group card-ajira-hover p-10 w-full",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r ${u.color} rounded-2xl text-white mb-8 group-hover:scale-110 transition-transform shadow-ajira-lg`,children:u.icon}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-text-primary mb-6 group-hover:text-ajira-primary transition-colors",children:u.title}),s.jsx("p",{className:"text-ajira-text-muted leading-relaxed text-lg",children:u.description})]},d))})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-secondary/10 text-ajira-secondary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(vt,{className:"w-5 h-5"}),"Success Stories"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"Transforming Lives"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Discover how Ajira Digital is creating opportunities and changing lives at Kiambu National Polytechnic"})]}),s.jsx(OM,{})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5 w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-accent/10 text-ajira-accent px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(ds,{className:"w-5 h-5"}),"Our Impact"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"Making a Difference"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"See the real impact we're making in digital skills development across Kenya"})]}),s.jsx(MM,{})]})}),s.jsx("section",{className:"py-12 sm:py-24 bg-white w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-6 py-3 rounded-full text-base sm:text-lg font-semibold mb-8",children:[s.jsx(ze,{className:"w-5 h-5"}),"Student Voices"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-ajira-text-primary mb-8",children:"What Students Say"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-text-muted max-w-4xl mx-auto",children:"Real experiences from students who have transformed their careers through our programs"})]}),s.jsx(DM,{})]})}),s.jsxs("section",{className:"py-12 sm:py-24 bg-gradient-ajira text-white relative overflow-hidden w-full",children:[s.jsxs("div",{className:"absolute inset-0 opacity-20",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border-2 border-white rounded-full"}),s.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 border-2 border-ajira-orange-300 rounded-lg rotate-45"}),s.jsx("div",{className:"absolute bottom-32 left-1/3 w-20 h-20 bg-ajira-green-300 rounded-full"}),s.jsx("div",{className:"absolute bottom-20 right-1/4 w-36 h-36 border-2 border-ajira-blue-300 rounded-full"})]}),s.jsx("div",{className:"container-custom text-center relative z-10 px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-2xl mb-8",children:s.jsx(Jn,{className:"w-12 h-12 text-ajira-orange-200"})})}),s.jsx("h2",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-8",children:"Ready to Transform Your Future?"}),s.jsx("p",{className:"text-base sm:text-2xl text-ajira-blue-200 mb-12 max-w-3xl mx-auto",children:"Join thousands of students who have already started their digital transformation journey with Ajira Digital"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center w-full",children:[s.jsx(De,{to:"/auth",className:"bg-white text-ajira-primary px-10 py-5 rounded-2xl text-xl font-bold hover:bg-ajira-gray-100 transition-all duration-200 hover:scale-105 shadow-ajira-xl w-full sm:w-auto",children:"Join Us Today"}),s.jsx(De,{to:"/marketplace",className:"bg-white/20 backdrop-blur-sm text-white border-2 border-white/40 px-10 py-5 rounded-2xl text-xl font-bold hover:bg-white/30 transition-all duration-200 hover:scale-105 w-full sm:w-auto",children:"Explore Services"})]})]})})]})]})},FM=({seller:t,compact:e=!1})=>{const r=t.verified,n=t.rating>=4.5,i=t.rating>=4.8;return e?s.jsxs("div",{className:"flex items-center gap-1",children:[r&&s.jsx(gn,{className:"w-3 h-3 text-ajira-secondary"}),n&&s.jsx(Xw,{className:"w-3 h-3 text-ajira-accent"}),i&&s.jsx(vt,{className:"w-3 h-3 text-ajira-warning"})]}):s.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r&&s.jsxs("div",{className:"flex items-center bg-ajira-secondary/10 text-ajira-secondary px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"Verified"]}),n&&s.jsxs("div",{className:"flex items-center bg-ajira-accent/10 text-ajira-accent px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(Xw,{className:"w-3 h-3 mr-1"}),"Pro"]}),i&&s.jsxs("div",{className:"flex items-center bg-ajira-warning/10 text-ajira-warning px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(vt,{className:"w-3 h-3 mr-1"}),"Top Rated"]}),isFeatured&&s.jsxs("div",{className:"flex items-center bg-gradient-to-r from-purple-500/10 to-ajira-primary/10 text-purple-600 px-2 py-0.5 rounded-full text-xs font-medium",children:[s.jsx(Jn,{className:"w-3 h-3 mr-1"}),"Featured"]})]})},b4=({gig:t,viewMode:e="grid"})=>{var f,g,v,j,y,p,b,w,S,R,N,k,E,T,_,A,C,O,U,L;const[r,n]=P.useState(0),[i,a]=P.useState(!1),o=((f=t.images)==null?void 0:f.map(q=>q.url))||[],l=o.length>1,c=q=>{q.preventDefault(),q.stopPropagation(),n(M=>(M+1)%o.length)},u=q=>{q.preventDefault(),q.stopPropagation(),n(M=>(M-1+o.length)%o.length)},d=q=>{q.preventDefault(),q.stopPropagation(),a(!i)},m=()=>{var M;if(!((M=t.seller)!=null&&M.level))return null;const q={"Level 1":"bg-ajira-green-100 text-ajira-green-700 border-ajira-green-200","Level 2":"bg-ajira-blue-100 text-ajira-blue-700 border-ajira-blue-200","Top Rated":"bg-ajira-orange-100 text-ajira-orange-700 border-ajira-orange-200"};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${q[t.seller.level]||q["Level 1"]}`,children:t.seller.level})},h=()=>{var q;return(q=t.seller)!=null&&q.verifications?s.jsxs("div",{className:"flex items-center gap-1",children:[t.seller.verifications.includes("identity")&&s.jsxs("div",{className:"flex items-center bg-ajira-green-100 text-ajira-green-700 px-2 py-0.5 rounded text-xs",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"ID"]}),t.seller.verifications.includes("email")&&s.jsx("div",{className:"flex items-center bg-ajira-blue-100 text-ajira-blue-700 px-2 py-0.5 rounded text-xs",children:"📧"}),t.seller.verifications.includes("phone")&&s.jsx("div",{className:"flex items-center bg-ajira-secondary-100 text-ajira-secondary-700 px-2 py-0.5 rounded text-xs",children:"📱"})]}):null};return e==="list"?s.jsx("div",{className:"bg-white border border-ajira-gray-200 rounded-lg shadow-ajira hover:shadow-ajira-lg transition-all duration-300 overflow-hidden",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"relative w-64 h-40 flex-shrink-0",children:[s.jsx("img",{src:o[r]||"/api/placeholder/280/160",alt:t.title,className:"w-full h-full object-cover"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 w-6 h-6 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition",children:s.jsx(pl,{className:"w-3 h-3 text-ajira-text-primary"})}),s.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition",children:s.jsx(Ol,{className:"w-3 h-3 text-ajira-text-primary"})}),s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:o.map((q,M)=>s.jsx("button",{onClick:z=>{z.preventDefault(),z.stopPropagation(),n(M)},className:`w-1.5 h-1.5 rounded-full transition ${M===r?"bg-white":"bg-white/50"}`},M))})]}),t.featured&&s.jsxs("div",{className:"absolute top-2 left-2 bg-ajira-accent text-white px-2 py-1 rounded-md text-xs font-bold flex items-center gap-1 shadow-md",children:[s.jsx(vt,{className:"w-3 h-3"}),"KiNaP's Choice"]}),s.jsx("button",{onClick:d,className:"absolute top-2 right-2 w-8 h-8 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition shadow-md",children:s.jsx(zm,{className:`w-4 h-4 ${i?"fill-red-500 text-red-500":"text-ajira-text-muted"}`})})]}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-ajira-text-primary mb-2 line-clamp-2 hover:text-ajira-secondary transition",children:t.title}),s.jsx("p",{className:"text-ajira-text-muted text-sm line-clamp-2 mb-3",children:t.description})]})}),s.jsx("div",{className:"flex items-center gap-3 mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:((g=t.seller)==null?void 0:g.avatar)||"/api/placeholder/32/32",alt:(v=t.seller)==null?void 0:v.name,className:"w-8 h-8 rounded-full object-cover border-2 border-ajira-gray-200"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:(j=t.seller)==null?void 0:j.name}),m()]}),h()]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ct,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:Number(((y=t.stats)==null?void 0:y.rating)||t.rating||0).toFixed(1)}),s.jsxs("span",{className:"text-xs text-ajira-text-muted",children:["(",(((p=t.stats)==null?void 0:p.reviews)||t.reviews||0).toLocaleString(),")"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-ajira-text-muted",children:[s.jsx(Ft,{className:"w-3 h-3"}),s.jsxs("span",{children:[t.deliveryTime||((w=(b=t.packages)==null?void 0:b[0])==null?void 0:w.deliveryTime)||"3 days"," ","delivery"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-ajira-text-muted mb-1",children:"Starting at"}),s.jsxs("div",{className:"text-lg font-bold text-ajira-text-primary",children:["KES"," ",(((R=(S=t.packages)==null?void 0:S[0])==null?void 0:R.price)||t.price||0).toLocaleString()]})]})]}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,3).map((q,M)=>s.jsx("span",{className:"inline-block bg-ajira-light text-ajira-text-muted px-2 py-1 rounded-md text-xs",children:q},M)),t.tags.length>3&&s.jsxs("span",{className:"inline-block bg-ajira-light text-ajira-text-muted px-2 py-1 rounded-md text-xs",children:["+",t.tags.length-3," more"]})]})]})]})}):s.jsxs("div",{className:"bg-white border border-ajira-gray-200 rounded-lg shadow-ajira hover:shadow-ajira-lg transition-all duration-300 overflow-hidden group",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:o[r]||"/api/placeholder/280/192",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition opacity-0 group-hover:opacity-100",children:s.jsx(pl,{className:"w-4 h-4 text-ajira-text-primary"})}),s.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 w-7 h-7 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-md transition opacity-0 group-hover:opacity-100",children:s.jsx(Ol,{className:"w-4 h-4 text-ajira-text-primary"})}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1",children:o.map((q,M)=>s.jsx("button",{onClick:z=>{z.preventDefault(),z.stopPropagation(),n(M)},className:`w-2 h-2 rounded-full transition ${M===r?"bg-white":"bg-white/60"}`},M))})]}),t.featured&&s.jsxs("div",{className:"absolute top-3 left-3 bg-ajira-accent text-white px-2 py-1 rounded-md text-xs font-bold flex items-center gap-1 shadow-md",children:[s.jsx(vt,{className:"w-3 h-3"}),"KiNaP's Choice"]}),s.jsx("button",{onClick:d,className:"absolute top-3 right-3 w-8 h-8 bg-white/80 hover:bg-white rounded-full flex items-center justify-center transition shadow-md opacity-0 group-hover:opacity-100",children:s.jsx(zm,{className:`w-4 h-4 ${i?"fill-red-500 text-red-500":"text-ajira-text-muted"}`})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("img",{src:((N=t.seller)==null?void 0:N.avatar)||"/api/placeholder/24/24",alt:(k=t.seller)==null?void 0:k.name,className:"w-6 h-6 rounded-full object-cover border border-ajira-gray-200"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:(E=t.seller)==null?void 0:E.displayName}),m()]}),s.jsx("h3",{className:"text-base font-semibold text-ajira-text-primary mb-2 line-clamp-2 hover:text-ajira-secondary transition",children:t.title}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[s.jsx(ct,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium text-ajira-text-primary",children:Number(((T=t.stats)==null?void 0:T.rating)||0).toFixed(1)}),s.jsxs("span",{className:"text-xs text-ajira-text-muted",children:["(",(((_=t.stats)==null?void 0:_.reviews)||0).toLocaleString(),")"]})]}),s.jsx("div",{className:"mb-4",children:s.jsx(FM,{seller:t.seller})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-ajira-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-ajira-text-muted",children:[s.jsx(Ft,{className:"w-3 h-3"}),s.jsxs("span",{children:[((C=(A=t.packages)==null?void 0:A[0])==null?void 0:C.deliveryTime)||"3 days"," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-ajira-text-muted",children:"Starting at"}),s.jsxs("div",{className:"text-lg font-bold text-ajira-text-primary",children:["KES"," ",(((U=(O=t.packages)==null?void 0:O[0])==null?void 0:U.price)||((L=t.pricing)==null?void 0:L.amount)||0).toLocaleString()]})]})]})]})]})},oi=({message:t="Loading...",description:e="Please wait while we fetch the data",fullScreen:r=!1})=>{const n=r?"min-h-screen flex items-center justify-center p-4":"min-h-[400px] flex items-center justify-center p-4";return s.jsx("div",{className:n,children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t}),s.jsx("p",{className:"text-sm text-gray-500",children:e})]})})},Tv="http://localhost:5000/api",VM=async(t={})=>{try{const e=new URLSearchParams;Object.entries(t).forEach(([n,i])=>{i!=null&&i!==""&&e.append(n,i.toString())});const r=await fetch(`${Tv}/marketplace/gigs?${e.toString()}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch(e){throw console.error("Error fetching gigs:",e),e}},UM=async t=>{try{const e=await fetch(`${Tv}/marketplace/gigs/${t}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching gig:",e),e}},BM=async()=>{try{const t=await fetch(`${Tv}/marketplace/stats`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching marketplace stats:",t),t}},$M=()=>{const t=[{name:"Graphics & Design",icon:BE,count:"125 services",color:"from-ajira-primary to-ajira-blue-600",image:"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop"},{name:"Digital Marketing",icon:FE,count:"125 services",color:"from-ajira-secondary to-ajira-green-600",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop"},{name:"Programming & Tech",icon:uu,count:"125 services",color:"from-ajira-dark to-ajira-primary",image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=300&fit=crop"},{name:"Video & Animation",icon:gv,count:"125 services",color:"from-ajira-info to-ajira-blue-500",image:"https://images.unsplash.com/photo-1536240478700-b869070f9279?w=400&h=300&fit=crop"},{name:"Music & Audio",icon:Wm,count:"125 services",color:"from-purple-500 to-ajira-primary",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop"},{name:"Writing & Translation",icon:OO,count:"125 services",color:"from-ajira-accent to-ajira-orange-600",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?w=400&h=300&fit=crop"}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-light to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx($u,{className:"w-4 h-4"}),"Explore Categories"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Discover Amazing Services"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"From creative design to technical development, find the perfect freelancer for any project"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>{const n=e.icon;return s.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 overflow-hidden border border-ajira-gray-200 hover:border-ajira-primary/30 hover:-translate-y-2",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-80`}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"absolute top-6 left-6 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:s.jsx(n,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"absolute top-6 right-6 bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium",children:e.count})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-ajira-text-primary mb-2 group-hover:text-ajira-primary transition-colors",children:e.name}),s.jsx("p",{className:"text-ajira-text-muted mb-4",children:"Professional services delivered by top-rated freelancers"}),s.jsxs("button",{className:"flex items-center gap-2 text-ajira-primary font-semibold group-hover:gap-3 transition-all duration-200",children:["Explore Services",s.jsx(Ki,{className:"w-4 h-4"})]})]})]},r)})})]})})},qM=()=>{const t=["Safaricom","KCB Bank","Equity Bank","NCBA","Stanbic Bank","Co-op Bank","I&M Bank","Standard Chartered"];return s.jsx("section",{className:"py-16 bg-white border-y border-ajira-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h3",{className:"text-2xl font-bold text-ajira-text-primary mb-4",children:"Trusted by Leading Kenyan Companies"}),s.jsx("p",{className:"text-ajira-text-muted",children:"Join thousands of businesses that trust KiNaP Digital Marketplace"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-8 items-center",children:t.map((e,r)=>s.jsx("div",{className:"flex items-center justify-center p-4 bg-ajira-light rounded-xl hover:bg-white hover:shadow-ajira transition-all duration-200 border border-ajira-gray-200",children:s.jsx("div",{className:"text-ajira-text-secondary font-bold text-lg",children:e})},r))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/10 rounded-xl flex items-center justify-center",children:s.jsx(gn,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-secondary",children:"100%"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Secure Payments"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/10 rounded-xl flex items-center justify-center",children:s.jsx(Ft,{className:"w-6 h-6 text-ajira-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-primary",children:"24/7"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Support"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/10 rounded-xl flex items-center justify-center",children:s.jsx(vt,{className:"w-6 h-6 text-ajira-accent"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent",children:"98%"}),s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Satisfaction"})]})]})]})})]})})},zM=()=>{const t=[{name:"Sarah Wanjiku",role:"Marketing Director, TechStart Kenya",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",rating:5,text:"KiNaP Digital Marketplace connected us with amazing Kenyan talent. Our brand redesign project was completed ahead of schedule with exceptional quality.",verified:!0},{name:"James Mwangi",role:"CEO, GreenTech Solutions",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",rating:5,text:"The web development team we found here delivered a world-class e-commerce platform. Highly professional and cost-effective.",verified:!0},{name:"Grace Njeri",role:"Founder, Fashion Forward",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",rating:5,text:"From logo design to social media content, KiNaP freelancers helped launch our fashion brand with stunning creative work.",verified:!0}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-accent/10 text-ajira-accent px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(zm,{className:"w-4 h-4"}),"Client Stories"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"What Our Clients Say"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"Real success stories from businesses that have grown with KiNaP Digital Marketplace"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((e,r)=>s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 relative",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-ajira-accent rounded-full flex items-center justify-center",children:s.jsx(Hm,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"flex items-center gap-1 mb-6",children:[...Array(e.rating)].map((n,i)=>s.jsx(ct,{className:"w-5 h-5 text-ajira-warning fill-current"},i))}),s.jsxs("p",{className:"text-ajira-text-primary mb-6 text-lg leading-relaxed",children:['"',e.text,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-bold text-ajira-text-primary",children:e.name}),e.verified&&s.jsx(Ke,{className:"w-4 h-4 text-ajira-secondary"})]}),s.jsx("p",{className:"text-sm text-ajira-text-muted",children:e.role})]})]})]},r))})]})})},WM=()=>{const t=[{step:"01",title:"Browse & Discover",description:"Explore thousands of services from verified Kenyan freelancers across 8+ categories",icon:ks,color:"from-ajira-primary to-ajira-blue-600"},{step:"02",title:"Compare & Select",description:"Compare portfolios, reviews, and prices to find the perfect match for your project",icon:Ps,color:"from-ajira-secondary to-ajira-green-600"},{step:"03",title:"Collaborate & Create",description:"Work directly with your chosen freelancer using our secure platform and communication tools",icon:ze,color:"from-ajira-accent to-ajira-orange-600"},{step:"04",title:"Review & Pay",description:"Review the completed work, provide feedback, and pay securely when you're 100% satisfied",icon:Ke,color:"from-ajira-success to-ajira-green-500"}];return s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-primary/10 text-ajira-primary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(DO,{className:"w-4 h-4"}),"How It Works"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Get Things Done in 4 Simple Steps"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"From idea to completion, our platform makes it easy to connect with top talent and get professional results"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>{const n=e.icon;return s.jsxs("div",{className:"relative group",children:[r<t.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-20 -right-4 w-8 h-0.5 bg-gradient-to-r from-ajira-gray-300 to-transparent"}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 hover:border-ajira-primary/30 text-center group-hover:-translate-y-2",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} text-white font-bold text-xl mb-6 shadow-ajira-lg`,children:e.step}),s.jsx("div",{className:"w-12 h-12 bg-ajira-light rounded-xl flex items-center justify-center mx-auto mb-6",children:s.jsx(n,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h3",{className:"text-xl font-bold text-ajira-text-primary mb-4 group-hover:text-ajira-primary transition-colors",children:e.title}),s.jsx("p",{className:"text-ajira-text-muted leading-relaxed",children:e.description})]})]},r)})}),s.jsx("div",{className:"text-center mt-16",children:s.jsx("button",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:shadow-ajira-xl transition-all duration-200 hover:scale-105",children:"Start Your Project Today"})})]})})},HM=()=>{const t=[{name:"Logo Design",orders:"2,500+",price:"From KES 2,000",trend:"+25%"},{name:"Website Development",orders:"1,800+",price:"From KES 15,000",trend:"+40%"},{name:"Social Media Management",orders:"3,200+",price:"From KES 5,000",trend:"+60%"},{name:"Content Writing",orders:"2,100+",price:"From KES 1,500",trend:"+35%"},{name:"Video Editing",orders:"1,400+",price:"From KES 3,000",trend:"+50%"},{name:"SEO Services",orders:"900+",price:"From KES 8,000",trend:"+45%"}];return s.jsx("section",{className:"py-20 bg-gradient-to-br from-ajira-light to-ajira-primary/5",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-ajira-secondary/10 text-ajira-secondary px-4 py-2 rounded-full text-sm font-semibold mb-6",children:[s.jsx(ds,{className:"w-4 h-4"}),"Popular This Month"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-ajira-text-primary mb-4",children:"Most Requested Services"}),s.jsx("p",{className:"text-xl text-ajira-text-muted max-w-3xl mx-auto",children:"Discover the top services that businesses are ordering right now"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,r)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-ajira-lg hover:shadow-ajira-xl transition-all duration-300 border border-ajira-gray-200 hover:border-ajira-secondary/30 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-ajira-text-primary group-hover:text-ajira-secondary transition-colors",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1 bg-ajira-secondary/10 text-ajira-secondary px-2 py-1 rounded-full text-xs font-medium",children:[s.jsx(ds,{className:"w-3 h-3"}),e.trend]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Orders completed"}),s.jsx("div",{className:"text-xl font-bold text-ajira-primary",children:e.orders})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-ajira-text-muted",children:"Starting at"}),s.jsx("div",{className:"text-lg font-bold text-ajira-accent",children:e.price})]})]}),s.jsx("button",{className:"w-full mt-4 bg-ajira-light hover:bg-ajira-secondary hover:text-white text-ajira-text-primary py-3 rounded-xl font-semibold transition-all duration-200",children:"Browse Services"})]},r))})]})})},j4=t=>{if(!t.trim())return!1;const e=/^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_.]+\/?$/,r=/^[a-zA-Z0-9-_.]+$/;return e.test(t.trim())||r.test(t.trim())},KM=t=>{const e=t||{},r=["displayName","email","photoURL","bio","course","year","skills","experienceLevel","ajiraGoals","linkedinProfile","phoneNumber","idNumber"];let n=0,i=r.length;return r.forEach(a=>{const o=e[a];o!=null&&o!==""&&(Array.isArray(o)?o.length>0&&n++:a==="linkedinProfile"?j4(String(o))&&n++:(typeof o=="string"&&o.trim()!==""||typeof o!="string")&&n++)}),Math.round(n/i*100)},vl=(t,e)=>{const r=t||{},n=KM(r),a={community:{requiredCompletion:70,requiredFields:["displayName","email","photoURL","bio","course","year","skills","experienceLevel","ajiraGoals"]},ambassador:{requiredCompletion:100,requiredFields:["displayName","email","photoURL","bio","course","year","skills","experienceLevel","ajiraGoals","linkedinProfile","phoneNumber","idNumber"]},marketplace:{requiredCompletion:70,requiredFields:["displayName","email","photoURL","bio","skills","experienceLevel"]}}[e];if(!a)return console.error(`Invalid feature: ${e}`),{allowed:!1,completion:n,requiredCompletion:100,missingFields:["Invalid feature"]};const o=n>=a.requiredCompletion,l=[];return a.requiredFields.forEach(c=>{const u=r[c];(u==null||u===""||Array.isArray(u)&&u.length===0||typeof u=="string"&&u.trim()===""||c==="linkedinProfile"&&!j4(String(u)))&&l.push(c)}),{allowed:o,completion:n,requiredCompletion:a.requiredCompletion,missingFields:l}},GM=t=>({displayName:"Display Name",email:"Email Address",photoURL:"Profile Photo",bio:"Bio/About Me",course:"Course of Study",year:"Year of Study",skills:"Skills",experienceLevel:"Experience Level",ajiraGoals:"Ajira Goals",linkedinProfile:"LinkedIn Profile",phoneNumber:"Phone Number",idNumber:"ID Number"})[t]||t,Cv=({profileData:t,feature:e,onComplete:r})=>{const n=vl(t,e),{allowed:i=!1,completion:a=0,requiredCompletion:o=100,missingFields:l=[]}=n||{};if(i)return null;const u=(()=>{switch(e){case"community":return{title:"Complete Your Profile to Access Community Hub",description:"Help us understand your interests to match you with the right community groups. Your profile helps create better learning communities.",icon:s.jsx(ze,{className:"w-6 h-6"}),color:"bg-blue-50 border-blue-200 text-blue-800"};case"ambassador":return{title:"Complete Your Profile to Join Ambassador Program",description:"Represent KiNaP Ajira Club and help other students succeed in their digital journey.",icon:s.jsx(Ps,{className:"w-6 h-6"}),color:"bg-purple-50 border-purple-200 text-purple-800"};case"marketplace":return{title:"Complete Your Profile to Access Marketplace",description:"Start offering services or browse available opportunities.",icon:s.jsx(or,{className:"w-6 h-6"}),color:"bg-green-50 border-green-200 text-green-800"}}})();return s.jsx("div",{className:`border rounded-lg p-6 mb-6 ${u.color}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:u.title}),s.jsx("p",{className:"text-sm mb-4 opacity-90",children:u.description}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{children:"Profile Completion"}),s.jsxs("span",{children:[a,"% / ",o,"%"]})]}),s.jsx("div",{className:"w-full bg-white/50 rounded-full h-2",children:s.jsx("div",{className:"bg-current h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(a,100)}%`}})})]}),l.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Missing Required Fields:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[l.slice(0,6).map(d=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(pv,{className:"w-4 h-4 text-orange-500"}),s.jsx("span",{children:GM(d)})]},d)),l.length>6&&s.jsxs("div",{className:"text-sm opacity-75",children:["+",l.length-6," more fields"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(De,{to:"/profile",className:"inline-flex items-center justify-center px-4 py-2 bg-current text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:[s.jsx(or,{className:"w-4 h-4 mr-2"}),"Complete Profile",s.jsx(Ki,{className:"w-4 h-4 ml-2"})]}),r&&s.jsxs("button",{onClick:r,className:"inline-flex items-center justify-center px-4 py-2 border border-current rounded-lg hover:bg-white/20 transition-colors font-medium",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2"}),"I'll Complete Later"]})]})]})]})})},b1=[{name:"Graphics & Design",value:"Graphics & Design",subcategories:["Logo Design","Brand Style Guides","Business Cards","Flyer Design","Poster Design","Brochure Design","Social Media Design","Web & Mobile Design","Package & Label Design","Illustration","Pattern Design","Presentations","Infographic Design","Vector Tracing","Resume Design"],icon:"🎨",color:"from-ajira-primary to-ajira-blue-600"},{name:"Digital Marketing",value:"Digital Marketing",subcategories:["Social Media Marketing","SEO","Content Marketing","Video Marketing","Email Marketing","Search Engine Marketing","Marketing Strategy","Web Analytics","Influencer Marketing","Public Relations","Local SEO","E-Commerce Marketing","Mobile App Marketing","Music Promotion","Podcast Marketing"],icon:"📊",color:"from-ajira-secondary to-ajira-green-600"},{name:"Writing & Translation",value:"Writing & Translation",subcategories:["Content Writing","Copywriting","Technical Writing","Creative Writing","Translation","Proofreading & Editing","Resume Writing","Cover Letters","LinkedIn Profiles","Product Descriptions","Press Releases","Speechwriting","Grant Writing","Book Writing","Script Writing"],icon:"✍️",color:"from-ajira-accent to-ajira-orange-600"},{name:"Video & Animation",value:"Video & Animation",subcategories:["Video Editing","Visual Effects","Intro & Outro Videos","Video Ads","Lyric & Music Videos","Slideshow Videos","Live Action Explainer","Animation","Character Animation","Logo Animation","Lottie & Web Animation","NFT Animation","Article to Video","App & Website Previews","Crowdfunding Videos"],icon:"🎬",color:"from-ajira-info to-ajira-blue-500"},{name:"Music & Audio",value:"Music & Audio",subcategories:["Voice Over","Music Production","Audio Editing","Sound Design","Mixing & Mastering","Jingles & Intros","Audiobook Production","Podcast Production","Audio Ads","Custom Songs","Online Music Lessons","Audio Logo & Sonic Branding","DJ Drops & Tags","Singer-Songwriter","Session Musicians"],icon:"🎵",color:"from-purple-500 to-ajira-primary"},{name:"Programming & Tech",value:"Programming & Tech",subcategories:["Website Development","Website Platforms","Website Maintenance","Mobile Apps","Desktop Applications","Chatbot Development","Game Development","Web Programming","E-Commerce Development","Database","User Testing","QA & Review","DevOps & Cloud","Cybersecurity","Data Processing"],icon:"💻",color:"from-ajira-dark to-ajira-primary"},{name:"Business",value:"Business",subcategories:["Virtual Assistant","Data Entry","Market Research","Business Plans","Legal Consulting","Financial Consulting","HR Consulting","Customer Care","Project Management","CRM Management","ERP Management","Supply Chain Management","Event Management","Sales","Lead Generation"],icon:"💼",color:"from-ajira-secondary to-ajira-green-700"},{name:"Lifestyle",value:"Lifestyle",subcategories:["Gaming","Fitness","Nutrition","Cooking Lessons","Arts & Crafts","Relationship Advice","Travel Itineraries","Astrology","Spiritual & Healing","Family & Genealogy","Career Counseling","Life Coaching","Fashion Advice","Beauty","Wellness"],icon:"🌟",color:"from-ajira-accent to-ajira-orange-700"}],QM=[{value:"recommended",label:"Recommended"},{value:"kinapChoice",label:"KiNaP's Choice"},{value:"bestSelling",label:"Best Selling"},{value:"newest",label:"Newest Arrivals"},{value:"topRated",label:"Top Rated"},{value:"priceLow",label:"Price: Low to High"},{value:"priceHigh",label:"Price: High to Low"}],ih=[{value:"all",label:"Any Price",min:0,max:1/0},{value:"under500",label:"Under KES 500",min:0,max:500},{value:"500to2000",label:"KES 500 - KES 2,000",min:500,max:2e3},{value:"2000to5000",label:"KES 2,000 - KES 5,000",min:2e3,max:5e3},{value:"5000to10000",label:"KES 5,000 - KES 10,000",min:5e3,max:1e4},{value:"over10000",label:"KES 10,000+",min:1e4,max:1/0}],j1=[{value:"all",label:"Any Time"},{value:"1day",label:"Express 24H"},{value:"3days",label:"Up to 3 days"},{value:"7days",label:"Up to 7 days"},{value:"14days",label:"Up to 14 days"}],Cg=20,YM=()=>{var F,H;const[t,e]=P.useState("all"),[r,n]=P.useState("all"),[i,a]=P.useState(""),[o,l]=P.useState("recommended"),[c,u]=P.useState("all"),[d,m]=P.useState("all"),[h,f]=P.useState(!1),[g,v]=P.useState(!1),[j,y]=P.useState("grid"),[p,b]=P.useState(1),[w,S]=P.useState([]),[R,N]=P.useState(!0),[k,E]=P.useState(null),[T,_]=P.useState(null);Vr();const[A,C]=P.useState({}),[O,U]=P.useState(!0),L=vl(A,"marketplace");P.useEffect(()=>{(async()=>{var Q,X;try{N(!0),E(null);const G={category:t!=="all"?t:void 0,subcategory:r!=="all"?r:void 0,minPrice:c!=="all"?(Q=ih.find($=>$.value===c))==null?void 0:Q.min:void 0,maxPrice:c!=="all"?(X=ih.find($=>$.value===c))==null?void 0:X.max:void 0,search:i||void 0,sort:o==="newest"?"newest":o==="priceLow"?"price-low":o==="priceHigh"?"price-high":o==="topRated"?"rating":o==="bestSelling"?"orders":"newest",page:p,limit:Cg},K=await VM(G);S(K.gigs);const J=await BM();_(J)}catch(G){console.error("Error loading gigs:",G),E("Failed to load gigs. Please try again."),S([])}finally{N(!1)}})()},[t,r,i,o,c,d,p]);const q=b1.find(W=>W.value===t),M=(q==null?void 0:q.subcategories)||[];let z=w.filter(W=>{var K,J;const Q=((J=(K=W.packages)==null?void 0:K[0])==null?void 0:J.deliveryTime)||999,X=d==="all"||d==="1day"&&Q<=1||d==="3days"&&Q<=3||d==="7days"&&Q<=7||d==="14days"&&Q<=14,G=!h||W.featured;return X&&G});z=z.sort((W,Q)=>{const X=$=>{var Z,se;return((se=(Z=$.packages)==null?void 0:Z[0])==null?void 0:se.price)||$.pricing.amount||0},G=$=>$.stats.rating||0,K=$=>$.stats.orders||0,J=$=>$.stats.reviews||0;switch(o){case"recommended":if(W.featured&&!Q.featured)return-1;if(!W.featured&&Q.featured)return 1;const $=G(W)*.4+Math.log(K(W)+1)*.3+Math.log(J(W)+1)*.3;return G(Q)*.4+Math.log(K(Q)+1)*.3+Math.log(J(Q)+1)*.3-$;case"kinapChoice":return W.featured&&!Q.featured?-1:!W.featured&&Q.featured?1:G(Q)-G(W);case"bestSelling":return K(Q)-K(W);case"newest":return new Date(Q.createdAt).getTime()-new Date(W.createdAt).getTime();case"topRated":return G(Q)!==G(W)?G(Q)-G(W):J(Q)-J(W);case"priceLow":return X(W)-X(Q);case"priceHigh":return X(Q)-X(W);default:return 0}});const D=z;return P.useEffect(()=>{b(1)},[t,r,i,o,c,d,h]),R?s.jsx(oi,{message:"Loading marketplace",description:"Please wait while we fetch the latest gigs"}):s.jsxs("div",{className:"bg-ajira-light min-h-screen",children:[s.jsxs("section",{className:"relative bg-gradient-ajira text-white py-24 px-4 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white rounded-full"}),s.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 border-2 border-ajira-orange-300 rounded-lg rotate-45"}),s.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-ajira-green-300 rounded-full"}),s.jsx("div",{className:"absolute bottom-32 right-1/3 w-24 h-24 border-2 border-ajira-blue-300 rounded-full"})]}),s.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx($u,{className:"w-8 h-8 text-ajira-orange-300 animate-spin-slow"}),s.jsx("span",{className:"text-ajira-orange-200 text-lg font-medium",children:"KiNaP Digital Marketplace"}),s.jsx($u,{className:"w-8 h-8 text-ajira-orange-300 animate-spin-slow"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:["Find the"," ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-orange-200 to-ajira-green-200",children:"perfect"}),s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ajira-green-200 to-ajira-blue-200",children:"freelance service"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-ajira-blue-200 mb-12 max-w-3xl mx-auto",children:"Connect with top Kenyan talent and get your projects done with quality and speed"}),s.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:s.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-md rounded-2xl shadow-ajira-xl overflow-hidden border border-white/20",children:[s.jsx(Wt,{className:"w-6 h-6 text-ajira-blue-200 ml-6"}),s.jsx("input",{type:"text",placeholder:"What service are you looking for today?",className:"flex-1 px-6 py-6 text-lg text-white placeholder-ajira-blue-200 bg-transparent outline-none",value:i,onChange:W=>a(W.target.value)}),s.jsx("button",{className:"bg-ajira-accent hover:bg-ajira-orange-600 text-white px-10 py-6 font-semibold text-lg transition-all duration-200 hover:scale-105",onClick:()=>{var W;i.trim()&&((W=document.getElementById("results-section"))==null||W.scrollIntoView({behavior:"smooth"}))},children:"Search"})]})}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[s.jsx("span",{className:"text-ajira-orange-200 text-lg",children:"Popular:"}),["Logo Design","WordPress","Voice Over","Video Editing","Data Entry","Social Media","SEO"].map(W=>s.jsx("button",{onClick:()=>a(W),className:"bg-white/10 backdrop-blur-sm hover:bg-white/20 px-4 py-2 rounded-full text-sm transition-all duration-200 border border-white/20 hover:border-ajira-accent/50 hover:scale-105",children:W},W))]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-16",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-orange-200",children:"1000+"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Active Services"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-green-200",children:"50+"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Expert Freelancers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-orange-200",children:"98%"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Satisfaction Rate"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-ajira-green-200",children:"24H"}),s.jsx("div",{className:"text-ajira-blue-200",children:"Avg Response"})]})]})]})]}),O&&!L.allowed&&s.jsx("section",{className:"bg-white border-b border-ajira-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx(Cv,{profileData:A,feature:"marketplace",onComplete:()=>U(!1)})})}),s.jsx("section",{className:"bg-white border-b border-ajira-gray-200 sticky top-0 z-40 shadow-ajira",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex items-center overflow-x-auto py-4 space-x-6",children:[s.jsxs("button",{onClick:()=>{e("all"),n("all")},className:`flex items-center whitespace-nowrap px-6 py-3 rounded-xl transition-all duration-200 ${t==="all"?"bg-gradient-ajira-blue text-white font-semibold shadow-ajira-lg scale-105":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-ajira-light"}`,children:[s.jsx("span",{className:"mr-2 text-lg",children:"🏠"}),"All Categories"]}),b1.map(W=>s.jsxs("button",{onClick:()=>{e(W.value),n("all")},className:`flex items-center whitespace-nowrap px-6 py-3 rounded-xl transition-all duration-200 relative overflow-hidden ${t===W.value?`bg-gradient-to-r ${W.color} text-white font-semibold shadow-ajira-lg scale-105`:"text-ajira-text-secondary hover:text-ajira-primary hover:bg-ajira-light hover:scale-105"}`,children:[s.jsx("span",{className:"mr-2 text-lg",children:W.icon}),W.name,t===W.value&&s.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"})]},W.value))]})})}),t!=="all"&&M.length>0&&s.jsx("section",{className:"bg-ajira-light border-b border-ajira-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center overflow-x-auto space-x-3",children:[s.jsxs("button",{onClick:()=>n("all"),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm transition-all duration-200 ${r==="all"?"bg-ajira-primary text-white shadow-ajira":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-white"}`,children:["All ",q==null?void 0:q.name]}),M.map(W=>s.jsx("button",{onClick:()=>n(W),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm transition-all duration-200 ${r===W?"bg-ajira-primary text-white shadow-ajira":"text-ajira-text-secondary hover:text-ajira-primary hover:bg-white"}`,children:W},W))]})})}),w.filter(W=>W.isKinapChoice).length>0&&!h&&s.jsxs("section",{className:"bg-gradient-ajira-orange text-white py-16 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s.jsx(vt,{className:"w-12 h-12 animate-bounce-slow"}),s.jsx("h2",{className:"text-5xl font-bold",children:"KiNaP's Choice"}),s.jsx(vt,{className:"w-12 h-12 animate-bounce-slow"})]}),s.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Premium services hand-picked by our team for exceptional quality and customer satisfaction. Work with the best talent in Kenya."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx("button",{onClick:()=>f(!0),className:"bg-white text-ajira-accent px-8 py-4 rounded-xl font-semibold hover:bg-ajira-gray-100 transition-all duration-200 shadow-ajira-lg hover:scale-105",children:"Explore KiNaP's Choice"}),s.jsxs("div",{className:"flex items-center gap-2 text-ajira-orange-200",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{children:"Quality Guaranteed"})]})]})]})]}),s.jsxs("section",{id:"results-section",className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-ajira-text-primary mb-2",children:[h?s.jsxs("span",{className:"flex items-center gap-3",children:[s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),"KiNaP's Choice Services"]}):`${z.length.toLocaleString()} services available`,t!=="all"&&s.jsxs("span",{className:"text-xl font-normal text-ajira-text-secondary ml-3",children:["in ",q==null?void 0:q.name,r!=="all"&&` > ${r}`]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-ajira-text-muted",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"w-4 h-4"}),s.jsxs("span",{children:[w.length.toLocaleString()," freelancers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:"Kenya"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{children:"Growing daily"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs("button",{onClick:()=>f(!h),className:`flex items-center gap-2 px-6 py-3 rounded-xl border transition-all duration-200 ${h?"bg-ajira-accent text-white border-ajira-accent shadow-ajira-lg":"bg-white text-ajira-text-primary border-ajira-gray-300 hover:border-ajira-accent hover:shadow-ajira"}`,children:[s.jsx(vt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"KiNaP's Choice"})]}),s.jsxs("button",{onClick:()=>v(!g),className:"flex items-center gap-2 px-6 py-3 rounded-xl border border-ajira-gray-300 bg-white text-ajira-text-primary hover:border-ajira-secondary hover:shadow-ajira transition-all duration-200",children:[s.jsx(xv,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Filter"}),s.jsx(cu,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),s.jsx("select",{value:o,onChange:W=>l(W.target.value),className:"px-6 py-3 border border-ajira-gray-300 rounded-xl bg-white text-ajira-text-primary focus:outline-none focus:ring-2 focus:ring-ajira-secondary focus:border-transparent shadow-ajira hover:shadow-ajira-lg transition-all duration-200",children:QM.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))}),s.jsxs("div",{className:"flex border border-ajira-gray-300 rounded-xl overflow-hidden shadow-ajira",children:[s.jsx("button",{onClick:()=>y("grid"),className:`p-3 transition-all duration-200 ${j==="grid"?"bg-ajira-primary text-white":"bg-white text-ajira-text-secondary hover:bg-ajira-light"}`,children:s.jsx(yv,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>y("list"),className:`p-3 transition-all duration-200 ${j==="list"?"bg-ajira-primary text-white":"bg-white text-ajira-text-secondary hover:bg-ajira-light"}`,children:s.jsx(Jf,{className:"w-5 h-5"})})]})]})]}),g&&s.jsx("div",{className:"bg-white border border-ajira-gray-200 rounded-2xl p-8 mb-8 shadow-ajira-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-ajira-text-primary mb-3",children:"Price Range"}),s.jsx("select",{value:c,onChange:W=>u(W.target.value),className:"w-full px-4 py-3 border border-ajira-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-ajira-secondary transition-all duration-200",children:ih.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-ajira-text-primary mb-3",children:"Delivery Time"}),s.jsx("select",{value:d,onChange:W=>m(W.target.value),className:"w-full px-4 py-3 border border-ajira-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-ajira-secondary transition-all duration-200",children:j1.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))})]}),s.jsx("div",{className:"md:col-span-2 lg:col-span-2",children:s.jsxs("div",{className:"flex items-center justify-end space-x-4 h-full",children:[s.jsx("button",{onClick:()=>{u("all"),m("all"),f(!1)},className:"px-6 py-3 text-ajira-text-muted hover:text-ajira-text-primary transition-colors",children:"Clear all filters"}),s.jsx("button",{onClick:()=>v(!1),className:"px-8 py-3 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira",children:"Apply Filters"})]})})]})}),D.length>0?s.jsxs(s.Fragment,{children:[(h||c!=="all"||d!=="all"||t!=="all")&&s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-8",children:[s.jsx("span",{className:"text-sm text-ajira-text-muted font-medium",children:"Active filters:"}),h&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-orange-100 text-ajira-orange-800 px-4 py-2 rounded-full text-sm font-medium",children:[s.jsx(vt,{className:"w-4 h-4"}),"KiNaP's Choice",s.jsx("button",{onClick:()=>f(!1),className:"ml-1 hover:text-ajira-orange-900 text-lg",children:"×"})]}),t!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-green-100 text-ajira-green-800 px-4 py-2 rounded-full text-sm font-medium",children:[q==null?void 0:q.name,s.jsx("button",{onClick:()=>e("all"),className:"ml-1 hover:text-ajira-green-900 text-lg",children:"×"})]}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-ajira-blue-100 text-ajira-blue-800 px-4 py-2 rounded-full text-sm font-medium",children:[(F=ih.find(W=>W.value===c))==null?void 0:F.label,s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-ajira-blue-900 text-lg",children:"×"})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-2 bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium",children:[s.jsx(Ft,{className:"w-4 h-4"}),(H=j1.find(W=>W.value===d))==null?void 0:H.label,s.jsx("button",{onClick:()=>m("all"),className:"ml-1 hover:text-purple-900 text-lg",children:"×"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-ajira-green-50 to-ajira-blue-50 border border-ajira-green-200 rounded-2xl p-6 mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(gn,{className:"w-8 h-8 text-ajira-secondary"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-ajira-green-800 text-lg",children:"Quality Guaranteed"}),s.jsx("p",{className:"text-ajira-green-600",children:"All services are verified and quality-checked by our team"})]})]}),s.jsxs("div",{className:"flex items-center gap-8 text-sm text-ajira-green-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Fast delivery"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Expert freelancers"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Secure payments"})]})]})]})}),R&&s.jsx("div",{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8},(W,Q)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-ajira animate-pulse",children:[s.jsx("div",{className:"w-full h-48 bg-ajira-gray-200 rounded-xl mb-4"}),s.jsx("div",{className:"h-4 bg-ajira-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-ajira-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-6 bg-ajira-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-ajira-gray-200 rounded"})]},Q))}),k&&!R&&s.jsx("div",{className:"text-center py-20",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Wt,{className:"w-12 h-12 text-red-500"})}),s.jsx("h3",{className:"text-2xl font-semibold text-ajira-text-primary mb-4",children:"Error loading gigs"}),s.jsx("p",{className:"text-ajira-text-muted mb-8",children:k}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira-lg",children:"Try again"})]})}),!R&&!k&&s.jsx("div",{className:`grid gap-8 ${j==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:D.map(W=>s.jsx(b4,{gig:W,viewMode:j},W._id))}),s.jsxs("div",{className:"mt-16",children:[s.jsxs("div",{className:"text-center text-sm text-ajira-text-muted mb-8",children:["Showing ",(p-1)*Cg+1," -"," ",Math.min(p*Cg,z.length)," of"," ",z.length.toLocaleString()," results"]}),totalPages>1&&s.jsxs("div",{className:"flex justify-center items-center gap-3",children:[s.jsx("button",{onClick:()=>b(Math.max(1,p-1)),disabled:p===1,className:"px-6 py-3 border border-ajira-gray-300 rounded-xl text-ajira-text-primary bg-white hover:bg-ajira-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-ajira",children:"Previous"}),Array.from({length:Math.min(totalPages,7)},(W,Q)=>{let X;return totalPages<=7||p<=4?X=Q+1:p>=totalPages-3?X=totalPages-6+Q:X=p-3+Q,s.jsx("button",{onClick:()=>b(X),className:`px-4 py-3 border rounded-xl transition-all duration-200 ${p===X?"bg-ajira-primary text-white border-ajira-primary shadow-ajira-lg":"border-ajira-gray-300 text-ajira-text-primary bg-white hover:bg-ajira-gray-50 shadow-ajira"}`,children:X},X)}),s.jsx("button",{onClick:()=>b(Math.min(totalPages,p+1)),disabled:p===totalPages,className:"px-6 py-3 border border-ajira-gray-300 rounded-xl text-ajira-text-primary bg-white hover:bg-ajira-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-ajira",children:"Next"})]})]})]}):s.jsx("div",{className:"text-center py-20",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-ajira-light rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Wt,{className:"w-12 h-12 text-ajira-text-muted"})}),s.jsx("h3",{className:"text-2xl font-semibold text-ajira-text-primary mb-4",children:"No services found"}),s.jsx("p",{className:"text-ajira-text-muted mb-8",children:"Try adjusting your search or filter criteria to find what you're looking for."}),s.jsx("button",{onClick:()=>{a(""),e("all"),n("all"),u("all"),m("all"),f(!1)},className:"px-8 py-4 bg-ajira-primary text-white rounded-xl hover:bg-ajira-blue-600 transition-all duration-200 shadow-ajira-lg",children:"Clear all filters"})]})})]}),!h&&s.jsxs(s.Fragment,{children:[s.jsx($M,{}),s.jsx(HM,{}),s.jsx(WM,{}),s.jsx(zM,{}),s.jsx(qM,{})]})]})};function w1(t){return`KES ${t.toLocaleString("en-KE")}`}const JM=()=>{const{gigId:t}=lE(),{user:e}=Vr(),r=_n(),n=ps(),[i,a]=P.useState("basic");P.useState("");const{data:o,isLoading:l}=Ct(["gig",t],async()=>t?await UM(t):null,{enabled:!!t,retry:3,onError:m=>{console.error("Error fetching gig:",m),xt.error("Failed to load gig details")}}),c=o==null?void 0:o.seller,u=et(async()=>{if(!e||!o||!c)throw new Error("Missing required data");return"mock-order-id"},{onSuccess:m=>{n.invalidateQueries(["orders"]),r(`/orders/${m}`),xt.success("Order created successfully!")},onError:m=>{console.error("Error creating order:",m),xt.error("Failed to create order. Please try again.")}}),d=()=>{if(!e){xt.error("Please sign in to place an order");return}u.mutate()};return l?s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg mb-8"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 mb-8"})]})})]})}):!o||!c?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gig Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The gig you're looking for doesn't exist."}),s.jsx(Link,{to:"/marketplace",className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"Back to Marketplace"})]})}):(o.images.map(m=>({original:m,thumbnail:m})),o.packages.find(m=>m.name===i),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[s.jsxs(Link,{to:"/marketplace",className:"flex items-center text-green-600 hover:text-green-700 mb-2",children:[s.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Marketplace"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{children:"Marketplace"})," / ",s.jsx("span",{children:"Gigs"})," /"," ",s.jsx("span",{className:"text-gray-900",children:o.title})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:s.jsx("img",{src:o.image,alt:o.title,className:"w-full h-64 md:h-96 object-cover"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:o.title}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{src:c.photoURL,alt:c.displayName,className:"w-12 h-12 rounded-full object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:c.displayName}),s.jsx("p",{className:"text-sm text-gray-600",children:o.seller.level})]})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsxs("div",{className:"flex items-center mr-4",children:[s.jsx(ct,{className:"w-5 h-5 text-yellow-400 fill-current"}),s.jsx("span",{className:"font-semibold ml-1",children:o.stats.rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-600 ml-1",children:["(",o.stats.reviews,")"]})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[o.stats.views," views"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.description})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"What you get"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.features.map((m,h)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Shield,{className:"w-5 h-5 text-green-600 mr-3"}),s.jsx("span",{className:"text-gray-700",children:m})]},h))})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:o.originalPrice>o.price&&s.jsx("span",{className:"text-lg text-gray-400 line-through",children:w1(o.originalPrice)})}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w1(o.price)}),s.jsx("p",{className:"text-gray-600",children:"Starting price"})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ft,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("span",{className:"text-gray-700",children:["Delivery in ",o.deliveryTime," days"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:d,disabled:u.isLoading,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:u.isLoading?"Creating Order...":"Continue"}),s.jsx("button",{className:"w-full border border-green-600 text-green-600 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors",children:"Contact Seller"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"About the seller"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"From"}),s.jsx("span",{className:"text-gray-900",children:o.seller.country})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Response time"}),s.jsx("span",{className:"text-gray-900",children:o.seller.responseTime})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last seen"}),s.jsx("span",{className:"text-gray-900",children:o.seller.lastSeen})]})]})]})]})})]})})]}))},XM=[{value:"digital-marketing",label:"Digital Marketing"},{value:"web-development",label:"Web Development"},{value:"content-writing",label:"Content Writing"},{value:"graphic-design",label:"Graphic Design"},{value:"virtual-assistant",label:"Virtual Assistant"},{value:"data-entry",label:"Data Entry"}],ZM={"digital-marketing":[{value:"social-media",label:"Social Media Marketing"},{value:"seo",label:"Search Engine Optimization"},{value:"email-marketing",label:"Email Marketing"}],"web-development":[{value:"frontend",label:"Frontend Development"},{value:"backend",label:"Backend Development"},{value:"full-stack",label:"Full Stack Development"}]},Ag={name:"basic",price:0,description:"",deliveryTime:1,revisions:1,features:[]},eL=()=>{var C;const t=_n(),{user:e}=Vr(),[r,n]=P.useState(!1),[i,a]=P.useState(0),[o,l]=P.useState({title:"",description:"",category:"",subcategory:"",tags:[],requirements:[],faqs:[],packages:[{...Ag,name:"basic"},{...Ag,name:"standard"},{...Ag,name:"premium"}]}),[c,u]=P.useState({images:[],documents:[]}),[d,m]=P.useState({}),h=O=>{const{name:U,value:L}=O.target;l(q=>({...q,[U]:L})),d[U]&&m(q=>({...q,[U]:""}))},f=(O,U,L)=>{l(q=>({...q,packages:q.packages.map((M,z)=>z===O?{...M,[U]:L}:M)}))},g=(O,U,L)=>{l(q=>({...q,packages:q.packages.map((M,z)=>z===O?{...M,features:M.features.map((D,F)=>F===U?L:D)}:M)}))},v=O=>{l(U=>({...U,packages:U.packages.map((L,q)=>q===O?{...L,features:[...L.features,""]}:L)}))},j=(O,U)=>{l(L=>({...L,packages:L.packages.map((q,M)=>M===O?{...q,features:q.features.filter((z,D)=>D!==U)}:q)}))},y=O=>{const U=O.target.value.split(",").map(L=>L.trim());l(L=>({...L,tags:U}))},p=(O,U)=>{l(L=>({...L,requirements:L.requirements.map((q,M)=>M===O?U:q)}))},b=()=>{l(O=>({...O,requirements:[...O.requirements,""]}))},w=O=>{l(U=>({...U,requirements:U.requirements.filter((L,q)=>q!==O)}))},S=(O,U,L)=>{l(q=>({...q,faqs:q.faqs.map((M,z)=>z===O?{...M,[U]:L}:M)}))},R=()=>{l(O=>({...O,faqs:[...O.faqs,{question:"",answer:""}]}))},N=O=>{l(U=>({...U,faqs:U.faqs.filter((L,q)=>q!==O)}))},k=(O,U)=>{const L=Array.from(O.target.files||[]);if(U==="images"&&L.length+c.images.length>8){xt.error("Maximum 8 images allowed");return}if(U==="video"&&L.length>1){xt.error("Only one video allowed");return}u(q=>({...q,[U]:U==="video"?L[0]:[...q[U],...L]}))},E=(O,U)=>{u(L=>({...L,[O]:O==="video"?void 0:L[O].filter((q,M)=>M!==U)}))},T=()=>{const O={};return o.title||(O.title="Title is required"),o.description||(O.description="Description is required"),o.category||(O.category="Category is required"),o.subcategory||(O.subcategory="Subcategory is required"),c.images.length===0&&(O.images="At least one image is required"),o.packages.forEach((U,L)=>{U.price||(O[`package-${L}-price`]="Price is required"),U.description||(O[`package-${L}-description`]="Description is required"),U.features.length===0&&(O[`package-${L}-features`]="At least one feature is required")}),m(O),Object.keys(O).length===0},_=async(O,U)=>URL.createObjectURL(O),A=et(async()=>{if(!e)throw new Error("User not authenticated");if(!T())throw new Error("Please fill all required fields");n(!0),a(0);try{const O=await Promise.all(c.images.map(z=>_(z,"gig-images")));a(40);let U;c.video&&(U=await _(c.video,"gig-videos")),a(60);const L=await Promise.all(c.documents.map(z=>_(z,"gig-documents")));a(80);const q={sellerId:e.uid,title:o.title,description:o.description,category:o.category,subcategory:o.subcategory,packages:o.packages,images:O,video:U,documents:L,tags:o.tags,requirements:o.requirements,faqs:o.faqs,status:"active",stats:{views:0,orders:0,rating:0,reviews:0,completionRate:100},createdAt:new Date,updatedAt:new Date},M="placeholder-gig-id";return a(100),M}catch(O){throw console.error("Error creating gig:",O),O}finally{n(!1)}},{onSuccess:O=>{xt.success("Gig created successfully!"),t(`/marketplace/gigs/${O}`)},onError:O=>{xt.error("Failed to create gig. Please try again."),console.error("Error:",O)}});return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create a New Gig"}),s.jsxs("form",{onSubmit:O=>{O.preventDefault(),A.mutate()},className:"space-y-8",children:[s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gig Overview"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Gig Title"}),s.jsx("input",{type:"text",id:"title",name:"title",value:o.title,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"I will..."}),d.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),s.jsxs("select",{id:"category",name:"category",value:o.category,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Select a category"}),XM.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))]}),d.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.category})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subcategory",className:"block text-sm font-medium text-gray-700",children:"Subcategory"}),s.jsxs("select",{id:"subcategory",name:"subcategory",value:o.subcategory,onChange:h,disabled:!o.category,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Select a subcategory"}),o.category&&((C=ZM[o.category])==null?void 0:C.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value)))]}),d.subcategory&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.subcategory})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:h,rows:5,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Describe your service in detail..."}),d.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",id:"tags",name:"tags",value:o.tags.join(", "),onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., logo design, branding, creative"})]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing Packages"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.packages.map((O,U)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 capitalize mb-4",children:[O.name," Package"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (KES)"}),s.jsx("input",{type:"number",value:O.price,onChange:L=>f(U,"price",Number(L.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"}),d[`package-${U}-price`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${U}-price`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{value:O.description,onChange:L=>f(U,"description",L.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"}),d[`package-${U}-description`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${U}-description`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Time (days)"}),s.jsx("input",{type:"number",value:O.deliveryTime,onChange:L=>f(U,"deliveryTime",Number(L.target.value)),min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Revisions"}),s.jsx("input",{type:"number",value:O.revisions,onChange:L=>f(U,"revisions",Number(L.target.value)),min:1,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),O.features.map((L,q)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:L,onChange:M=>g(U,q,M.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., 3 logo concepts"}),s.jsx("button",{type:"button",onClick:()=>j(U,q),className:"text-red-500 hover:text-red-700",children:s.jsx(as,{size:20})})]},q)),s.jsxs("button",{type:"button",onClick:()=>v(U),className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(Vn,{size:16,className:"mr-1"}),"Add Feature"]}),d[`package-${U}-features`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`package-${U}-features`]})]})]})]},O.name))})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Buyer Requirements"}),s.jsxs("div",{className:"space-y-4",children:[o.requirements.map((O,U)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O,onChange:L=>p(U,L.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., What's your brand name?"}),s.jsx("button",{type:"button",onClick:()=>w(U),className:"text-red-500 hover:text-red-700",children:s.jsx(as,{size:20})})]},U)),s.jsxs("button",{type:"button",onClick:b,className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(Vn,{size:16,className:"mr-1"}),"Add Requirement"]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[o.faqs.map((O,U)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O.question,onChange:L=>S(U,"question",L.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Question"}),s.jsx("button",{type:"button",onClick:()=>N(U),className:"text-red-500 hover:text-red-700",children:s.jsx(as,{size:20})})]}),s.jsx("textarea",{value:O.answer,onChange:L=>S(U,"answer",L.target.value),rows:2,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Answer"})]},U)),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center text-sm text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(Vn,{size:16,className:"mr-1"}),"Add FAQ"]})]})]}),s.jsxs("section",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Media"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images (up to 8)"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[c.images.map((O,U)=>s.jsxs("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("img",{src:URL.createObjectURL(O),alt:`Preview ${U+1}`,className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>E("images",U),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:s.jsx(as,{size:16})})]},U)),c.images.length<8&&s.jsxs("label",{className:"aspect-video flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:O=>k(O,"images"),className:"hidden"}),s.jsx(Un,{className:"w-6 h-6 text-gray-400"})]})]}),d.images&&s.jsx("p",{className:"text-sm text-red-600",children:d.images})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video (optional)"}),c.video?s.jsxs("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("video",{src:URL.createObjectURL(c.video),controls:!0,className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>E("video",0),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:s.jsx(as,{size:16})})]}):s.jsxs("label",{className:"aspect-video flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:"video/*",onChange:O=>k(O,"video"),className:"hidden"}),s.jsx(Un,{className:"w-6 h-6 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Documents (optional)"}),s.jsxs("div",{className:"space-y-2",children:[c.documents.map((O,U)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-600",children:O.name}),s.jsx("button",{type:"button",onClick:()=>E("documents",U),className:"text-red-500 hover:text-red-700",children:s.jsx(as,{size:20})})]},U)),s.jsxs("label",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-ajira-primary cursor-pointer",children:[s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",multiple:!0,onChange:O=>k(O,"documents"),className:"hidden"}),s.jsx(Un,{className:"w-6 h-6 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Upload documents"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-primary disabled:opacity-50",children:r?"Creating Gig...":"Create Gig"}),r&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2.5 mr-2",children:s.jsx("div",{className:"bg-ajira-primary h-2.5 rounded-full",style:{width:`${i}%`}})}),s.jsxs("span",{children:[i,"%"]})]})]}),A.isError&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 mt-4",children:[s.jsx(qt,{size:20}),s.jsx("span",{children:"Failed to create gig. Please try again."})]})]})]})},tL=()=>{const[t]=dv(),e=t.get("q")||"",[r,n]=P.useState("relevance"),[i,a]=P.useState(!1),[o,l]=P.useState({priceRange:[0,1e5],rating:null,deliveryTime:null,category:null,subcategory:null});P.useEffect(()=>{},[e,r,o]);const{data:c,isLoading:u}=Ct(["search-results",e,r,o],async()=>[].filter(f=>{const g=Math.min(...f.packages.map(j=>j.price)),v=Math.min(...f.packages.map(j=>j.deliveryTime));return g>=o.priceRange[0]&&g<=o.priceRange[1]&&(!o.deliveryTime||v<=o.deliveryTime)})),d=c||[],m=d.length;return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[m,' results for "',e,'"']}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:r,onChange:h=>n(h.target.value),className:"rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"relevance",children:"Most Relevant"}),s.jsx("option",{value:"rating",children:"Highest Rated"}),s.jsx("option",{value:"price_low",children:"Lowest Price"}),s.jsx("option",{value:"price_high",children:"Highest Price"}),s.jsx("option",{value:"newest",children:"Newest First"})]}),s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50",children:[s.jsx(MO,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[i&&s.jsxs("div",{className:"w-full md:w-64 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Price Range"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:o.priceRange[0],onChange:h=>l({...o,priceRange:[Number(h.target.value),o.priceRange[1]]}),className:"w-24 rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"number",value:o.priceRange[1],onChange:h=>l({...o,priceRange:[o.priceRange[0],Number(h.target.value)]}),className:"w-24 rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Rating"}),s.jsxs("select",{value:o.rating||"",onChange:h=>l({...o,rating:h.target.value?Number(h.target.value):null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Any Rating"}),s.jsx("option",{value:"4",children:"4+ Stars"}),s.jsx("option",{value:"3",children:"3+ Stars"}),s.jsx("option",{value:"2",children:"2+ Stars"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Delivery Time"}),s.jsxs("select",{value:o.deliveryTime||"",onChange:h=>l({...o,deliveryTime:h.target.value?Number(h.target.value):null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"",children:"Any Time"}),s.jsx("option",{value:"1",children:"Up to 24 hours"}),s.jsx("option",{value:"3",children:"Up to 3 days"}),s.jsx("option",{value:"7",children:"Up to 7 days"}),s.jsx("option",{value:"14",children:"Up to 14 days"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Category"}),s.jsx("select",{value:o.category||"",onChange:h=>l({...o,category:h.target.value||null,subcategory:null}),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:s.jsx("option",{value:"",children:"All Categories"})})]}),s.jsx("button",{onClick:()=>l({priceRange:[0,1e5],rating:null,deliveryTime:null,category:null,subcategory:null}),className:"w-full px-4 py-2 text-sm text-ajira-primary hover:bg-ajira-primary/5 rounded-lg",children:"Reset Filters"})]}),s.jsx("div",{className:"flex-1",children:u?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,f)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 animate-pulse",children:[s.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},f))}):d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>s.jsx(b4,{gig:h},h.id))})})})]})]})},ah=43200,N1=1440,k1=Symbol.for("constructDateFrom");function Av(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&k1 in t?t[k1](e):t instanceof Date?new t.constructor(e):new Date(e)}function ia(t,e){return Av(e||t,t)}let rL={};function sL(){return rL}function S1(t){const e=ia(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Pv(t,...e){const r=Av.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function Gh(t,e){const r=+ia(t)-+ia(e);return r<0?-1:r>0?1:r}function nL(t){return Av(t,Date.now())}function iL(t,e,r){const[n,i]=Pv(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return a*12+o}function aL(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function oL(t,e){return+ia(t)-+ia(e)}function lL(t,e){const r=ia(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function cL(t,e){const r=ia(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function uL(t,e){const r=ia(t,e==null?void 0:e.in);return+lL(r,e)==+cL(r,e)}function dL(t,e,r){const[n,i,a]=Pv(r==null?void 0:r.in,t,t,e),o=Gh(i,a),l=Math.abs(iL(i,a));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let c=Gh(i,a)===-o;uL(n)&&l===1&&Gh(n,a)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function hL(t,e,r){const n=oL(t,e)/1e3;return aL(r==null?void 0:r.roundingMethod)(n)}const mL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fL=(t,e,r)=>{let n;const i=mL[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pg(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const pL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yL={date:Pg({formats:pL,defaultWidth:"full"}),time:Pg({formats:gL,defaultWidth:"full"}),dateTime:Pg({formats:xL,defaultWidth:"full"})},vL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bL=(t,e,r,n)=>vL[t];function Mc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const jL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_L={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EL=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TL={ordinalNumber:EL,era:Mc({values:jL,defaultWidth:"wide"}),quarter:Mc({values:wL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mc({values:NL,defaultWidth:"wide"}),day:Mc({values:kL,defaultWidth:"wide"}),dayPeriod:Mc({values:SL,defaultWidth:"wide",formattingValues:_L,defaultFormattingWidth:"wide"})};function Lc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?AL(l,m=>m.test(o)):CL(l,m=>m.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function CL(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function AL(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function PL(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const IL=/^(\d+)(th|st|nd|rd)?/i,RL=/\d+/i,OL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DL={any:[/^b/i,/^(a|c)/i]},ML={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},FL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$L={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zL={ordinalNumber:PL({matchPattern:IL,parsePattern:RL,valueCallback:t=>parseInt(t,10)}),era:Lc({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),quarter:Lc({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lc({matchPatterns:FL,defaultMatchWidth:"wide",parsePatterns:VL,defaultParseWidth:"any"}),day:Lc({matchPatterns:UL,defaultMatchWidth:"wide",parsePatterns:BL,defaultParseWidth:"any"}),dayPeriod:Lc({matchPatterns:$L,defaultMatchWidth:"any",parsePatterns:qL,defaultParseWidth:"any"})},WL={code:"en-US",formatDistance:fL,formatLong:yL,formatRelative:bL,localize:TL,match:zL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HL(t,e,r){const n=sL(),i=(r==null?void 0:r.locale)??n.locale??WL,a=2520,o=Gh(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=Pv(r==null?void 0:r.in,...o>0?[e,t]:[t,e]),d=hL(u,c),m=(S1(u)-S1(c))/1e3,h=Math.round((d-m)/60);let f;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<N1){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,l)}else{if(h<a)return i.formatDistance("xDays",1,l);if(h<ah){const g=Math.round(h/N1);return i.formatDistance("xDays",g,l)}else if(h<ah*2)return f=Math.round(h/ah),i.formatDistance("aboutXMonths",f,l)}if(f=dL(u,c),f<12){const g=Math.round(h/ah);return i.formatDistance("xMonths",g,l)}else{const g=f%12,v=Math.trunc(f/12);return g<3?i.formatDistance("aboutXYears",v,l):g<9?i.formatDistance("overXYears",v,l):i.formatDistance("almostXYears",v+1,l)}}function Jm(t,e){return HL(t,nL(t),e)}const KL=()=>{var S,R;const{orderId:t}=lE(),{user:e}=Vr(),r=ps(),[n,i]=P.useState(""),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(""),[m,h]=P.useState(""),{data:f,isLoading:g}=Ct(["order",t],async()=>t?{id:t}:null),v=et(async()=>{if(!e||!f)throw new Error("Missing required data");const N=await Promise.all(a.map(async k=>"https://example.com/file.pdf"));return e.uid,!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),i(""),o([]),xt.success("Message sent successfully")},onError:N=>{console.error("Error sending message:",N),xt.error("Failed to send message")}}),j=et(async()=>{if(!e||!f)throw new Error("Missing required data");return await Promise.all(l.map(async N=>"https://example.com/deliverable.pdf")),!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),c([]),d(""),h(""),xt.success("Delivery submitted successfully")},onError:N=>{console.error("Error submitting delivery:",N),xt.error("Failed to submit delivery")}}),y=et(async()=>{if(!e||!f)throw new Error("Missing required data");return!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),xt.success("Delivery accepted successfully")}}),p=et(async N=>{if(!e||!f)throw new Error("Missing required data");return!0},{onSuccess:()=>{r.invalidateQueries(["order",t]),xt.success("Revision requested successfully")}});if(g)return s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})});if(!f)return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order not found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The order you're looking for doesn't exist or has been removed."}),s.jsx(De,{to:"/orders",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ajira-primary hover:bg-ajira-primary-dark",children:"Back to Orders"})]});const b=f.status==="active"&&(e==null?void 0:e.uid)===f.sellerId,w=f.status==="delivered"&&(e==null?void 0:e.uid)===f.buyerId;return f.status==="delivered"&&(e==null||e.uid,f.buyerId),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Order #",f.id.slice(-8)]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="delivered"?"bg-blue-100 text-blue-800":f.status==="active"?"bg-yellow-100 text-yellow-800":f.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),s.jsxs("span",{className:"text-gray-500",children:[s.jsx(Ft,{className:"inline-block w-4 h-4 mr-1"}),Jm(f.createdAt.toDate(),{addSuffix:!0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Buyer"}),s.jsx("p",{className:"text-gray-900",children:f.buyerName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Seller"}),s.jsx("p",{className:"text-gray-900",children:f.sellerName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Package"}),s.jsx("p",{className:"text-gray-900",children:f.packageName})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Price"}),s.jsxs("p",{className:"text-gray-900",children:["KES ",f.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Delivery Date"}),s.jsx("p",{className:"text-gray-900",children:new Date(f.deliveryDate.toDate()).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Payment Status"}),s.jsx("p",{className:`${f.paymentStatus==="paid"?"text-green-600":f.paymentStatus==="pending"?"text-yellow-600":"text-red-600"}`,children:f.paymentStatus.charAt(0).toUpperCase()+f.paymentStatus.slice(1)})]})]}),f.requirements&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Requirements"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:f.requirements})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Messages"}),s.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:(S=f.messages)==null?void 0:S.map((N,k)=>{var E;return s.jsx("div",{className:`flex ${N.senderId===(e==null?void 0:e.uid)?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] ${N.senderId===(e==null?void 0:e.uid)?"bg-ajira-primary text-white":"bg-gray-100 text-gray-900"} rounded-lg p-3`,children:[s.jsx("p",{className:"text-sm mb-1",children:N.content}),((E=N.attachments)==null?void 0:E.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.attachments.map((T,_)=>s.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline",children:["Attachment ",_+1]},_))}),s.jsx("span",{className:"text-xs opacity-75",children:Jm(N.createdAt.toDate(),{addSuffix:!0})})]})},k)})}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:n,onChange:N=>i(N.target.value),placeholder:"Type your message...",className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",rows:3}),a.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.map((N,k)=>s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx("span",{children:N.name}),s.jsx("button",{onClick:()=>o(a.filter((E,T)=>T!==k)),className:"text-red-500 hover:text-red-700",children:s.jsx(Jr,{size:16})})]},k))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",multiple:!0,onChange:N=>o(Array.from(N.target.files||[])),className:"hidden"}),s.jsx(Un,{className:"w-6 h-6 text-gray-500 hover:text-ajira-primary"})]}),s.jsx("button",{onClick:()=>v.mutate(),disabled:!n.trim()&&a.length===0,className:"bg-ajira-primary text-white p-2 rounded-lg hover:bg-ajira-primary-dark disabled:opacity-50",children:s.jsx(bv,{size:20})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Deliverables"}),(R=f.deliverables)==null?void 0:R.map((N,k)=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:N.title}),s.jsx("span",{className:`px-2 py-1 rounded text-sm ${N.status==="accepted"?"bg-green-100 text-green-800":N.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:N.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.files.map((E,T)=>s.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-ajira-primary hover:text-ajira-primary-dark",children:[s.jsx(gl,{size:16}),s.jsxs("span",{children:["Download File ",T+1]})]},T))}),N.feedback&&s.jsxs("div",{className:"mt-3 p-3 bg-red-50 text-red-800 rounded",children:[s.jsx("p",{className:"font-medium mb-1",children:"Revision Requested"}),s.jsx("p",{children:N.feedback})]})]},k)),b&&s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Submit Delivery"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:u,onChange:N=>d(N.target.value),className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"e.g., Final Logo Design"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:m,onChange:N=>h(N.target.value),rows:3,className:"w-full rounded-lg border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",placeholder:"Describe what you're delivering..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Files"}),s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-white rounded-lg border-2 border-dashed border-gray-300 cursor-pointer hover:border-ajira-primary",children:[s.jsx(Un,{className:"w-8 h-8 text-gray-400"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Drop files here or click to upload"}),s.jsx("input",{type:"file",multiple:!0,onChange:N=>c(Array.from(N.target.files||[])),className:"hidden"})]})}),l.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:l.map((N,k)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:N.name}),s.jsx("button",{onClick:()=>c(E=>E.filter((T,_)=>_!==k)),className:"text-red-500 hover:text-red-700",children:s.jsx(Jr,{size:16})})]},k))})]}),s.jsx("button",{onClick:()=>j.mutate(),disabled:!u||!m||l.length===0,className:"w-full bg-ajira-primary text-white py-2 rounded-lg hover:bg-ajira-primary-dark disabled:opacity-50",children:"Submit Delivery"})]})]}),w&&s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("button",{onClick:()=>y.mutate(),className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600",children:[s.jsx(Ke,{className:"inline-block w-5 h-5 mr-2"}),"Accept Delivery"]}),s.jsxs("button",{onClick:()=>{const N=prompt("Please provide feedback for the revision:");N&&p.mutate(N)},className:"flex-1 bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600",children:[s.jsx(pv,{className:"inline-block w-5 h-5 mr-2"}),"Request Revision"]})]})]})]})},GL=()=>{const{user:t}=Vr(),[e,r]=P.useState(""),[n,i]=P.useState("all"),[a,o]=P.useState("buyer"),{data:l,isLoading:c}=Ct(["orders",t==null?void 0:t.id,a,n],async()=>t?[]:[],{enabled:!!t}),u=l==null?void 0:l.filter(d=>{var h,f,g;if(!e)return!0;const m=e.toLowerCase();return d.id.toLowerCase().includes(m)||((h=d.gigTitle)==null?void 0:h.toLowerCase().includes(m))||((f=d.buyerName)==null?void 0:f.toLowerCase().includes(m))||((g=d.sellerName)==null?void 0:g.toLowerCase().includes(m))});return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>o("buyer"),className:`px-4 py-2 ${a==="buyer"?"bg-ajira-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"As Buyer"}),s.jsx("button",{onClick:()=>o("seller"),className:`px-4 py-2 ${a==="seller"?"bg-ajira-primary text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"As Seller"})]})})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:e,onChange:d=>r(d.target.value),placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xv,{size:20,className:"text-gray-400"}),s.jsxs("select",{value:n,onChange:d=>i(d.target.value),className:"rounded-lg border border-gray-300 focus:border-ajira-primary focus:ring-ajira-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),c?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((d,m)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},m))}):(u==null?void 0:u.length)===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:e?"No orders match your search criteria":a==="buyer"?"You haven't placed any orders yet":"You haven't received any orders yet"}),a==="buyer"&&s.jsx(De,{to:"/marketplace",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ajira-primary hover:bg-ajira-primary-dark",children:"Browse Marketplace"})]}):s.jsx("div",{className:"space-y-4",children:u==null?void 0:u.map(d=>s.jsxs(De,{to:`/orders/${d.id}`,className:"block bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:d.gigTitle}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",d.id.slice(-8)]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="delivered"?"bg-blue-100 text-blue-800":d.status==="active"?"bg-yellow-100 text-yellow-800":d.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),s.jsxs("span",{className:"text-sm text-gray-500",children:[s.jsx(Ft,{className:"inline-block w-4 h-4 mr-1"}),Jm(d.createdAt.toDate(),{addSuffix:!0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:a==="buyer"?"Seller":"Buyer"}),s.jsx("p",{className:"font-medium text-gray-900",children:a==="buyer"?d.sellerName:d.buyerName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Package"}),s.jsx("p",{className:"font-medium text-gray-900",children:d.packageName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["KES ",d.price.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Due Date"}),s.jsx("p",{className:"font-medium text-gray-900",children:new Date(d.deliveryDate.toDate()).toLocaleDateString()})]})]}),d.status==="delivered"&&a==="buyer"&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-ajira-primary",children:[s.jsx("span",{children:"Review delivery"}),s.jsx("span",{children:"→"})]})]},d.id))})]})},oh="http://localhost:5000/api";class QL{async checkSupport(){try{const e=typeof window<"u"&&window.PublicKeyCredential&&await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable(),r=typeof window<"u"&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=typeof window<"u"&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia;return{fingerprint:e,face:r,voice:n}}catch(e){return console.error("Error checking biometric support:",e),{fingerprint:!1,face:!1,voice:!1}}}async registerFingerprint(){try{if(!window.PublicKeyCredential)throw new Error("WebAuthn is not supported in this browser");if(!await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable())throw new Error("Fingerprint authentication is not available on this device");const r=this.generateChallenge(),n=await navigator.credentials.create({publicKey:{challenge:this.base64ToArrayBuffer(r),rp:{name:"Ajira Digital KiNaP Club",id:window.location.hostname},user:{id:this.stringToArrayBuffer("user-id"),name:"user@example.com",displayName:"User"},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4}});if(!n)throw new Error("Failed to create biometric credential");const i=this.arrayBufferToBase64(n.response.clientDataJSON);return{credentialId:n.id,publicKey:i}}catch(e){throw console.error("Fingerprint registration error:",e),e}}async verifyFingerprint(e){try{if(!await navigator.credentials.get({publicKey:{challenge:this.generateChallenge(),rpId:window.location.hostname,allowCredentials:[{type:"public-key",id:this.base64ToArrayBuffer(e)}],userVerification:"required",timeout:6e4}}))throw new Error("Fingerprint verification failed");return!0}catch(r){return console.error("Fingerprint verification error:",r),!1}}async registerWithBackend(e,r){try{const n=localStorage.getItem("token");if(!n)throw new Error("No authentication token found");const a=await(await fetch(`${oh}/api/biometric/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({type:e,publicKey:r})})).json();if(!a.success)throw new Error(a.message);return a.data.credentialId}catch(n){throw console.error("Backend registration error:",n),n}}async verifyWithBackend(e,r,n,i){try{return(await(await fetch(`${oh}/api/biometric/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,credentialId:r,signature:n,type:i})})).json()).success}catch(a){return console.error("Backend verification error:",a),!1}}async getCredentials(){try{const e=localStorage.getItem("token");if(!e)return[];const n=await(await fetch(`${oh}/api/biometric/credentials`,{headers:{Authorization:`Bearer ${e}`}})).json();return n.success?n.data:[]}catch(e){return console.error("Get credentials error:",e),[]}}async removeCredential(e){try{const r=localStorage.getItem("token");if(!r)throw new Error("No authentication token found");return(await(await fetch(`${oh}/api/biometric/credentials/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})).json()).success}catch(r){return console.error("Remove credential error:",r),!1}}generateChallenge(){const e=new Uint8Array(32);return crypto.getRandomValues(e),this.arrayBufferToBase64(e)}generateCredentialId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),this.arrayBufferToBase64(e)}hashData(e){const n=new TextEncoder().encode(e);return crypto.subtle.digest("SHA-256",n).then(i=>this.arrayBufferToBase64(i))}base64ToArrayBuffer(e){const r=window.atob(e),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}arrayBufferToBase64(e){const r=new Uint8Array(e);let n="";for(let i=0;i<r.byteLength;i++)n+=String.fromCharCode(r[i]);return window.btoa(n)}stringToArrayBuffer(e){return new TextEncoder().encode(e).buffer}}const un=new QL,YL=({onSuccess:t,onCancel:e,mode:r="register"})=>{Vr();const[n,i]=P.useState(null),[a,o]=P.useState([]),[l,c]=P.useState(!1),[u,d]=P.useState(null),[m,h]=P.useState(null),[f,g]=P.useState(null),[v,j]=P.useState(!1);P.useEffect(()=>{y(),r==="verify"&&p()},[r]);const y=async()=>{try{const k=await un.checkSupport();i(k)}catch(k){console.error("Error checking biometric support:",k)}},p=async()=>{try{const k=await un.getCredentials();o(k)}catch(k){console.error("Error loading credentials:",k)}},b=async k=>{try{c(!0),d(null),j(!0),g(k);let E;switch(k){case"fingerprint":E=await un.registerFingerprint();break;default:throw new Error("Only fingerprint authentication is currently supported")}const T=await un.registerWithBackend(k,E.publicKey);h(`${k.replace("-"," ")} registered successfully!`),await p(),setTimeout(()=>{t==null||t()},2e3)}catch(E){d(E.message||"Registration failed")}finally{c(!1),j(!1),g(null)}},w=async k=>{try{c(!0),d(null),g(k.type);let E=!1;switch(k.type){case"fingerprint":E=await un.verifyFingerprint(k.id);break;default:throw new Error("Unsupported biometric method")}E?(h("Biometric authentication successful!"),setTimeout(()=>{t==null||t()},2e3)):d("Biometric verification failed. Please try again.")}catch(E){d(E.message||"Verification failed")}finally{c(!1),g(null)}},S=async k=>{try{await un.removeCredential(k)?(h("Biometric credential removed successfully!"),await p()):d("Failed to remove credential")}catch(E){d(E.message||"Failed to remove credential")}},R=k=>{switch(k){case"fingerprint":return s.jsx(xl,{className:"w-6 h-6"});case"face-recognition":return s.jsx(gv,{className:"w-6 h-6"});case"voice-recognition":return s.jsx(VE,{className:"w-6 h-6"});default:return s.jsx(gn,{className:"w-6 h-6"})}},N=k=>{switch(k){case"fingerprint":return"Fingerprint";case"face-recognition":return"Face Recognition";case"voice-recognition":return"Voice Recognition";default:return k}};return l&&!v?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processing..."})]}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r==="register"?"Setup Biometric Authentication":"Biometric Login"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r==="register"?"Choose a biometric method to secure your account":"Select your preferred authentication method"})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:u})]})}),m&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-5 h-5 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:m})]})}),r==="register"?s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-3",children:[(n==null?void 0:n.fingerprint)&&s.jsxs("button",{onClick:()=>b("fingerprint"),disabled:l,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(xl,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Fingerprint"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use your device's fingerprint sensor"})]})]}),f==="fingerprint"&&l&&s.jsx(Ye,{className:"w-5 h-5 animate-spin text-ajira-primary"})]}),!(n!=null&&n.fingerprint)&&s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:s.jsx(xl,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-500",children:"Fingerprint"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Not available on this device"})]})]})})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(gn,{className:"w-5 h-5 text-blue-600 mr-2 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Note"}),s.jsx("p",{children:"Your biometric data is stored securely on your device and is never shared with our servers."})]})]})})]}):s.jsx("div",{children:a.length>0?s.jsx("div",{className:"space-y-3",children:a.map(k=>s.jsxs("button",{onClick:()=>w(k),disabled:l,className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:R(k.type)}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:N(k.type)}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Registered on ",new Date(k.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[f===k.type&&l&&s.jsx(Ye,{className:"w-5 h-5 animate-spin text-ajira-primary"}),s.jsx("button",{onClick:E=>{E.stopPropagation(),S(k.id)},className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Remove credential",children:s.jsx(ai,{className:"w-4 h-4 text-red-500"})})]})]},k.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(LO,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Biometric Credentials"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't set up any biometric authentication methods yet."}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Set Up Now"})]})})]})},JL=({onBack:t,onSuccess:e})=>{const[r,n]=P.useState(""),[i,a]=P.useState(""),[o,l]=P.useState(""),[c,u]=P.useState(""),[d,m]=P.useState("email"),[h,f]=P.useState(!1),[g,v]=P.useState(null),[j,y]=P.useState(null),[p,b]=P.useState(0);P.useEffect(()=>{if(p>0){const R=setTimeout(()=>b(p-1),1e3);return()=>clearTimeout(R)}},[p]);const w=async R=>{if(R.preventDefault(),d==="email"){if(!r.trim()){v("Please enter your email address");return}try{f(!0),v(null),y(null),await v1(r.trim()),y("Verification code sent to your email."),m("verify")}catch(N){v(N.message||"Failed to send verification code")}finally{f(!1)}}else if(d==="verify"){if(!i.trim()){v("Please enter the verification code");return}try{f(!0),v(null),y(null),m("reset"),y("Code verified. Please enter your new password.")}catch(N){v(N.message||"Failed to verify code")}finally{f(!1)}}else if(d==="reset"){if(!o.trim()){v("Please enter a new password");return}if(o!==c){v("Passwords do not match");return}if(o.length<6){v("Password must be at least 6 characters long");return}try{f(!0),v(null),y(null),await EM(r.trim(),i.trim(),o),y("Password reset successfully! Redirecting..."),setTimeout(()=>{e==null||e()},2e3)}catch(N){v(N.message||"Failed to reset password")}finally{f(!1)}}},S=async()=>{if(!(p>0))try{f(!0),v(null),await v1(r.trim()),y("New verification code sent to your email."),b(60)}catch(R){v(R.message||"Failed to resend code")}finally{f(!1)}};return s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(br,{className:"w-8 h-8 text-ajira-primary"})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[d==="email"&&"Forgot Password?",d==="verify"&&"Verify Your Email",d==="reset"&&"Reset Your Password"]}),s.jsxs("p",{className:"text-gray-600",children:[d==="email"&&"Enter your email address and we'll send you a verification code to reset your password.",d==="verify"&&`We've sent a verification code to ${r}`,d==="reset"&&"Enter your new password below."]})]}),s.jsxs("button",{onClick:t,className:"flex items-center text-ajira-primary hover:text-ajira-primary/80 mb-6 transition-colors",children:[s.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d==="email"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:r,onChange:R=>n(R.target.value),placeholder:"Enter your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h})]}),d==="verify"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),s.jsx("input",{type:"text",id:"verificationCode",value:i,onChange:R=>a(R.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h}),s.jsx("button",{type:"button",onClick:S,disabled:h||p>0,className:"mt-2 text-sm text-ajira-primary hover:text-ajira-primary/80 disabled:opacity-50",children:p>0?`Resend in ${p}s`:"Resend Code"})]}),d==="reset"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",id:"newPassword",value:o,onChange:R=>l(R.target.value),placeholder:"Enter new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",id:"confirmPassword",value:c,onChange:R=>u(R.target.value),placeholder:"Confirm new password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:h})]})]}),g&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:g})]})}),j&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:j})]})}),s.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),d==="email"&&"Sending...",d==="verify"&&"Verifying...",d==="reset"&&"Resetting..."]}):s.jsxs(s.Fragment,{children:[d==="email"&&"Send Verification Code",d==="verify"&&"Verify Code",d==="reset"&&"Reset Password"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Sign up here"})]})})]})},XL=({value:t,onChange:e,disabled:r})=>{const n=P.useRef([]);P.useEffect(()=>{var c;(c=n.current[0])==null||c.focus()},[]);const i=c=>c.replace(/[^0-9]/g,"").slice(0,6),a=(c,u)=>{var h;const d=t.padEnd(6," ").split("");d[c]=u;const m=i(d.join(""));e(m),u&&c<5&&((h=n.current[c+1])==null||h.focus())},o=(c,u)=>{var d;c.key==="Backspace"&&!t[u]&&u>0&&((d=n.current[u-1])==null||d.focus())},l=P.useMemo(()=>{const c=i(t);return[0,1,2,3,4,5].map(u=>c[u]||"")},[t]);return s.jsx("div",{className:"flex gap-2",children:l.map((c,u)=>s.jsx("input",{ref:d=>n.current[u]=d,type:"text",inputMode:"numeric",maxLength:1,value:c,disabled:r,onKeyDown:d=>o(d,u),onChange:d=>a(u,d.target.value.replace(/\D/g,"").slice(0,1)),className:"w-12 h-12 text-center text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"},u))})},ZL=({email:t,title:e,message:r,onBack:n,onSuccess:i,onVerify:a,onResendCode:o})=>{const[l,c]=P.useState(""),[u,d]=P.useState(!1),[m,h]=P.useState(!1),[f,g]=P.useState(0);P.useEffect(()=>{if(f>0){const y=setTimeout(()=>g(f-1),1e3);return()=>clearTimeout(y)}},[f]);const v=async y=>{var b;y.preventDefault();const p=l.replace(/\D/g,"");if(p.length!==6){At.error("Please enter the 6-digit verification code");return}d(!0);try{const w=await a(t,p);if(w&&(((b=w==null?void 0:w.data)==null?void 0:b.user)||(w==null?void 0:w.success))){At.success("✅ Verification successful! Redirecting..."),setTimeout(()=>i(),200);return}const R=(w==null?void 0:w.message)||(w==null?void 0:w.error)||"Verification failed";At.error(`❌ ${R}`)}catch(w){const S=(w==null?void 0:w.message)||"Invalid or expired verification code";At.error(`❌ ${S}`)}finally{d(!1)}},j=async()=>{if(!(f>0)){h(!0);try{await o(t),At.success("📧 New verification code sent! Check your email."),g(60)}catch(y){At.error(`❌ ${(y==null?void 0:y.message)||"Failed to resend code"}`)}finally{h(!1)}}};return s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r}),s.jsx("p",{className:"text-sm font-medium text-ajira-primary",children:t})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[s.jsx(br,{className:"h-5 w-5 text-gray-400"}),s.jsx(XL,{value:l,onChange:c,disabled:u})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{type:"submit",disabled:u||l.replace(/\D/g,"").length!==6,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Verifying..."]}):"Verify Code"}),s.jsx("button",{type:"button",onClick:j,disabled:m||f>0,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Sending..."]}):f>0?`Resend in ${f}s`:s.jsxs(s.Fragment,{children:[s.jsx($E,{className:"w-5 h-5 mr-2"}),"Resend Code"]})}),s.jsxs("button",{type:"button",onClick:n,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Back"]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the code? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:j,disabled:f>0,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium disabled:opacity-50",children:"request a new one"})]})})]})},e8=()=>{var X,G;const t=_n(),r=((G=(X=Ys().state)==null?void 0:X.from)==null?void 0:G.pathname)||"/";console.log("🔍 AuthPage - from path:",r);const{user:n,isLoading:i,error:a,isAuthenticated:o,signIn:l,signUp:c,signOut:u,verifyCode:d,resendCode:m}=Vr(),[h,f]=P.useState(!1),[g,v]=P.useState(!1),[j,y]=P.useState(!1),[p,b]=P.useState(!1),[w,S]=P.useState("register"),[R,N]=P.useState(!1),[k,E]=P.useState(!1),[T,_]=P.useState(""),[A,C]=P.useState("signin"),[O,U]=P.useState({email:"",password:"",confirmPassword:"",displayName:"",phoneNumber:"",course:"",year:"",skills:"",ajiraGoals:"",experienceLevel:"",preferredLearningMode:"",otherInfo:"",interests:[]});P.useEffect(()=>{console.log("🔍 AuthPage useEffect triggered - isAuthenticated:",o,"user:",n,"from:",r),o&&n?(console.log("✅ User is authenticated, navigating to:",r),t(r,{replace:!0})):console.log("❌ User not authenticated or no user data")},[o,n,t,r]),P.useEffect(()=>{if(a){let K="Authentication failed";typeof a=="string"?K=a:a&&typeof a=="object"&&(K=a.message||a.statusText||"Authentication failed"),At.error(`❌ ${K}`)}},[a]);const L=K=>{const{name:J,value:$}=K.target;U(Z=>({...Z,[J]:$}))},q=async K=>{K.preventDefault();try{if(h){if(O.password!==O.confirmPassword){At.error("❌ Passwords do not match");return}console.log("Attempting sign up with:",O.email);const J=await c(O.email,O.password,{displayName:O.displayName,phoneNumber:O.phoneNumber,course:O.course,year:O.year,skills:O.skills,ajiraGoals:O.ajiraGoals,experienceLevel:O.experienceLevel,preferredLearningMode:O.preferredLearningMode,otherInfo:O.otherInfo,interests:O.interests});console.log("Sign up result:",J),J!=null&&J.requiresVerification?(console.log("✅ Sign up requires verification - showing modal"),_(O.email),C("signup"),E(!0),At.success(`📧 ${J.message||"Verification code sent to your email"}`)):J!=null&&J.error?(console.log("❌ Sign up error:",J.error),At.error(`❌ ${J.error}`)):(console.log("✅ Sign up successful - redirecting"),At.success("✅ Account created successfully! Redirecting..."),setTimeout(()=>{t(r,{replace:!0})},2e3))}else{console.log("Attempting sign in with:",O.email);const J=await l(O.email,O.password);console.log("Sign in result:",J),J!=null&&J.requiresVerification?(console.log("✅ Sign in requires verification - showing modal"),_(O.email),C("signin"),E(!0),At.success(`📧 ${J.message||"Verification code sent to your email"}`)):J!=null&&J.error?(console.log("❌ Sign in error:",J.error),At.error(`❌ ${J.error}`)):(console.log("✅ Sign in successful - redirecting"),At.success("✅ Signed in successfully! Redirecting..."),setTimeout(()=>{t(r,{replace:!0})},2e3))}}catch(J){console.error("Auth error:",J),At.error(`❌ ${J.message||"Authentication failed"}`)}},M=()=>{console.log("✅ handleVerificationSuccess called, navigating to:",r),console.log("🔍 Current auth state - isAuthenticated:",o,"user:",n),E(!1),setTimeout(()=>{console.log("🔍 After delay - isAuthenticated:",o,"user:",n),t(r,{replace:!0})},100)},z=()=>{E(!1),_("")},D=async K=>{try{const J=await m(K);J!=null&&J.message?At.success(`📧 ${J.message}`):At.success("📧 New verification code sent to your email")}catch(J){At.error(`❌ ${J.message||"Failed to resend code"}`)}},F=()=>{S("register"),b(!0)},H=()=>{S("verify"),b(!0)},W=()=>{b(!1),t(r,{replace:!0})},Q=()=>{b(!1)};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading authentication..."})]})}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-ajira-primary/5 via-white to-ajira-secondary/5 py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club",className:"h-16 w-auto drop-shadow-lg rounded-lg mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:h?"Join KiNaP Ajira Digital Club":"Welcome back to KiNaP Ajira"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[h?"Already a member?":"New to Ajira Digital?"," ",s.jsx("button",{onClick:()=>f(!h),className:"font-medium text-ajira-accent hover:text-ajira-accent/80 transition-colors",children:h?"Sign in here":"Sign up here"})]})]}),s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:O.email,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your email"}),s.jsx(br,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),!h&&s.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-sm text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:g?"text":"password",id:"password",name:"password",required:!0,value:O.password,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-10 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your password"}),s.jsx(yy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?s.jsx(na,{className:"h-5 w-5"}):s.jsx(zt,{className:"h-5 w-5"})})]})]}),h&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:j?"text":"password",id:"confirmPassword",name:"confirmPassword",required:!0,value:O.confirmPassword,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-10 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Confirm your password"}),s.jsx(yy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("button",{type:"button",onClick:()=>y(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?s.jsx(na,{className:"h-5 w-5"}):s.jsx(zt,{className:"h-5 w-5"})})]})]}),h&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",id:"displayName",name:"displayName",required:!0,value:O.displayName,onChange:L,className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter your full name"}),s.jsx(or,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:O.phoneNumber,onChange:L,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"+254 700 000 000"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsx("div",{className:"mt-4 space-y-3",children:s.jsxs("button",{type:"button",onClick:h?F:H,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(xl,{className:"w-5 h-5 mr-2 text-ajira-primary"}),h?"Setup Biometric Auth":"Use Biometric Login"]})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-kenya-red to-kenya-green hover:from-kenya-green hover:to-kenya-red focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kenya-red disabled:opacity-50 transition-all duration-300",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),h?"Creating account...":"Signing in..."]}):h?"Create Account":"Sign In"})})]})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsx(YL,{mode:w,onSuccess:W,onCancel:Q})})}),R&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsx(JL,{onBack:()=>N(!1),onSuccess:()=>N(!1)})})}),k&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6",children:s.jsx(ZL,{email:T,onBack:z,onSuccess:M,onVerify:d,onResendCode:D,title:A==="signin"?"Verify Your Sign In":"Verify Your Account",message:A==="signin"?"We've sent a verification code to your email address to complete your sign in.":"We've sent a verification code to your email address to verify your account."})})})]})},t8=()=>{const t=_n(),[e]=dv(),[r,n]=P.useState(""),[i,a]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(null),[d,m]=P.useState(null),[h,f]=P.useState(!1),[g,v]=P.useState(0);P.useEffect(()=>{const b=e.get("email"),w=localStorage.getItem("pendingVerificationEmail");b?(a(b),localStorage.setItem("pendingVerificationEmail",b)):w?a(w):t("/auth")},[e,t]),P.useEffect(()=>{if(g>0){const b=setTimeout(()=>v(g-1),1e3);return()=>clearTimeout(b)}},[g]);const j=async b=>{if(b.preventDefault(),!r.trim()){u("Please enter the verification code");return}l(!0),u(null);try{const w=await fetch("http://localhost:5000/api/better-auth/verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:r})}),S=await w.json();w.ok&&S.success?(m("Email verified successfully! Redirecting..."),localStorage.removeItem("pendingVerificationEmail"),S.data&&(localStorage.setItem("token",S.data.token),localStorage.setItem("userData",JSON.stringify(S.data.user))),setTimeout(()=>{t("/")},2e3)):u(S.message||"Verification failed")}catch(w){console.error("Verification error:",w),u("Network error. Please try again.")}finally{l(!1)}},y=async()=>{if(!(g>0)){f(!0),u(null);try{const b=await fetch("http://localhost:5000/api/better-auth/resend-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),w=await b.json();b.ok?(m("New verification code sent! Check your email."),v(60)):u(w.message||"Failed to resend code")}catch(b){console.error("Resend error:",b),u("Network error. Please try again.")}finally{f(!1)}}},p=()=>{localStorage.removeItem("pendingVerificationEmail"),t("/auth")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-ajira-primary/5 via-white to-ajira-secondary/5 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/logo.jpeg",alt:"KiNaP Ajira Club",className:"h-16 w-auto drop-shadow-lg rounded-lg mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Your Email"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a verification code to"}),s.jsx("p",{className:"text-sm font-medium text-ajira-primary",children:i})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qt,{className:"h-5 w-5 text-red-400"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ke,{className:"h-5 w-5 text-green-400"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-green-800",children:d})})]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700",children:"Verification Code"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",id:"verificationCode",value:r,onChange:b=>n(b.target.value),className:"appearance-none block w-full px-4 py-2 pl-10 pr-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",placeholder:"Enter 6-digit code",maxLength:6,required:!0}),s.jsx(br,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{type:"submit",disabled:o||!r.trim(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Verifying..."]}):"Verify Email"}),s.jsx("button",{type:"button",onClick:y,disabled:h||g>0,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Sending..."]}):g>0?`Resend in ${g}s`:s.jsxs(s.Fragment,{children:[s.jsx($E,{className:"w-5 h-5 mr-2"}),"Resend Code"]})}),s.jsxs("button",{type:"button",onClick:p,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent transition-all duration-300",children:[s.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Back to Login"]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the code? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:y,disabled:g>0,className:"text-ajira-primary hover:text-ajira-primary/80 font-medium disabled:opacity-50",children:"request a new one"})]})})]})})},lh="http://localhost:5000/api",ch=t=>{if(!t.trim())return!1;const e=/^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-_.]+\/?$/,r=/^[a-zA-Z0-9-_.]+$/;return e.test(t.trim())||r.test(t.trim())},_1=()=>{const{user:t,isLoading:e}=Vr(),[r,n]=P.useState(!1),[i,a]=P.useState("overview"),[o,l]=P.useState({displayName:(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",photoURL:"",bio:"",course:"",year:"",skills:[],preferredPlatforms:[],experienceLevel:"",ajiraGoals:"",preferredLearningMode:"",linkedinProfile:"",githubProfile:"",portfolioUrl:"",phoneNumber:"",idNumber:"",achievements:[],completedProjects:0,mentorshipInterest:!1,availableForFreelance:!1,joinedDate:new Date().toISOString(),lastActive:new Date().toISOString(),interests:[]}),{data:c}=Ct("ajira-trainings",async()=>(await be.get(`${lh}/students/ajira-trainings`)).data.trainings),u=c||[];if(e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Please Log In"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view and manage your Ajira Digital KiNaP Club profile."}),s.jsx("a",{href:"/auth",className:"inline-flex items-center px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Go to Login"})]})});P.useEffect(()=>{let p=!0,b=!1;return(async()=>{if(!(!(t!=null&&t.email)||b)){b=!0;try{const S=await be.post(`${lh}/students/get-profile`,{email:t.email},{headers:{"Content-Type":"application/json"}});if(!p)return;const R=S.data;console.log("Loaded profile data:",R),console.log("PhotoURL from backend:",R.photoURL),console.log("All profile completion fields:"),console.log("- Bio:",R.bio),console.log("- Goals:",R.ajiraGoals),console.log("- LinkedIn:",R.linkedinProfile),console.log("- Photo:",!!R.photoURL),l(N=>({...N,displayName:R.fullname||N.displayName,course:R.course||N.course,year:R.year||N.year,skills:typeof R.skills=="string"?R.skills.split(",").map(k=>k.trim()):R.skills||N.skills,experienceLevel:R.experience||N.experienceLevel,phoneNumber:R.phone||N.phoneNumber,idNumber:R.idNo||N.idNumber,bio:R.bio||N.bio,ajiraGoals:R.ajiraGoals||N.ajiraGoals,linkedinProfile:R.linkedinProfile||N.linkedinProfile,photoURL:R.photoURL||N.photoURL,lastActive:R.lastActive||N.lastActive,interests:R.interests||[]}))}catch(S){p&&console.warn("Failed to load profile",S)}}})(),()=>{p=!1}},[t==null?void 0:t.email]);const m=(()=>{const p=["bio","ajiraGoals","linkedinProfile"];let b=0,w=p.length+1;return p.forEach(S=>{o[S]&&String(o[S]).trim()!==""&&(S==="linkedinProfile"?ch(String(o[S]))&&b++:b++)}),o.photoURL&&o.photoURL.trim()!==""&&b++,Math.round(b/w*100)})(),h=async p=>{var b;if(!(!t||!((b=p.target.files)!=null&&b[0])))try{const w=p.target.files[0];if(w.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!w.type.startsWith("image/")){alert("Please select a valid image file");return}const S=await f(w,800,800,.8),R=new FileReader;R.onload=async()=>{const N=R.result;console.log("Base64 image size:",N.length,"characters"),l(k=>({...k,photoURL:N}));try{console.log("Saving profile image to MongoDB..."),await be.post(`${lh}/students/update-profile`,{email:t.email,photoURL:N},{headers:{"Content-Type":"application/json"}}),console.log("Profile image saved successfully!"),alert("Profile picture uploaded and saved!")}catch(k){console.error("Failed to save profile image:",k),alert("Failed to save profile picture. Please try again."),l(E=>({...E,photoURL:""}))}},R.readAsDataURL(S)}catch(w){console.error("Error uploading profile image:",w)}},f=(p,b,w,S)=>new Promise(R=>{const N=document.createElement("canvas"),k=N.getContext("2d"),E=new Image;E.onload=()=>{let{width:T,height:_}=E;T>_?T>b&&(_=_*b/T,T=b):_>w&&(T=T*w/_,_=w),N.width=T,N.height=_,k.drawImage(E,0,0,T,_),N.toBlob(A=>{if(A){const C=new File([A],p.name,{type:p.type,lastModified:Date.now()});R(C)}else R(p)},p.type,S)},E.src=URL.createObjectURL(p)}),g=et(async()=>{var w,S,R;if(!(t!=null&&t.email))return;if(!o.bio.trim())throw new Error("Bio is required");if(!o.ajiraGoals.trim())throw new Error("Digital goals are required");let p=o.linkedinProfile.trim();if(/^[a-zA-Z0-9-_.]+$/.test(p)&&(p=`https://linkedin.com/in/${p}`),!ch(p))throw new Error("Please enter a valid LinkedIn profile URL (e.g., https://linkedin.com/in/yourname) or handle (e.g., yourname)");if(!o.photoURL.trim())throw new Error("Profile picture is required. Please upload an image.");const b={bio:o.bio,ajiraGoals:o.ajiraGoals,linkedinProfile:p,photoURL:o.photoURL,lastActive:new Date,interests:o.interests||[],skills:Array.isArray(o.skills)?o.skills:[]};console.log("Saving profile data to MongoDB:",b);try{await be.post(`${lh}/students/update-profile`,{email:t.email,...b},{headers:{"Content-Type":"application/json"}}),console.log("Profile data saved successfully!"),alert("Profile updated and saved to database!"),l(k=>({...k,lastActive:new Date().toISOString()}));const N=new Date().toLocaleString();setTimeout(()=>{alert(`✅ All profile data saved successfully at ${N}!

📊 Saved to MongoDB:
• Bio
• Goals
• LinkedIn
• Profile Photo
• Skills (${o.skills.length} skills)
• Last Updated Time

🎯 You've been automatically added to groups based on your skills!
Check the Community page to see your new groups.`)},500),n(!1)}catch(N){throw console.error("Failed to update profile:",N),console.error("Error details:",(w=N.response)==null?void 0:w.data),console.error("Request data:",{email:t.email,...b}),alert(`Failed to save profile data. Error: ${((R=(S=N.response)==null?void 0:S.data)==null?void 0:R.message)||N.message}

Please check the console for more details.`),new Error("Failed to update profile")}}),v=p=>{const{name:b,value:w,type:S}=p.target;if(S==="checkbox"){const R=p.target.checked;l(N=>({...N,[b]:R}))}else l(R=>({...R,[b]:w})),b==="linkedinProfile"&&w.trim()&&(ch(w)?p.target.style.borderColor="#10b981":p.target.style.borderColor="#ef4444")},j=["Upwork","Fiverr","Freelancer.com","LinkedIn","GitHub","Behance","Dribbble","99designs","Toptal","Guru.com","PeoplePerHour","Local Clients"],y={"Web Development":["HTML/CSS","JavaScript","React","Node.js","Python","PHP","WordPress"],"Mobile Development":["React Native","Flutter","iOS (Swift)","Android (Kotlin/Java)"],Design:["UI/UX Design","Graphic Design","Logo Design","Branding","Figma","Adobe Creative Suite"],"Digital Marketing":["SEO","Social Media Marketing","Content Marketing","Email Marketing","PPC Advertising"],"Data & Analytics":["Data Analysis","Excel","Python","SQL","Power BI","Tableau"],"Writing & Content":["Content Writing","Copywriting","Technical Writing","Blog Writing","Translation"],Business:["Project Management","Business Analysis","Consulting","Virtual Assistant"]};return s.jsx("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-8 w-full overflow-x-hidden",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg mb-8 w-full",children:[s.jsxs("div",{className:"relative h-48 rounded-t-lg bg-gradient-to-r from-ajira-primary to-ajira-accent w-full",children:[s.jsx("div",{className:"absolute -bottom-16 left-4 sm:left-8",children:s.jsxs("div",{className:"relative",children:[!o.photoURL&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Required"}),s.jsx("img",{src:o.photoURL||"/images/default-avatar.png",alt:o.displayName,className:`w-24 sm:w-32 h-24 sm:h-32 rounded-full border-4 object-cover ${o.photoURL?"border-white":"border-red-300 border-dashed"}`}),s.jsxs("label",{htmlFor:"profile-image",className:`absolute bottom-0 right-0 rounded-full p-2 shadow-lg cursor-pointer ${o.photoURL?"bg-white hover:bg-gray-50":"bg-red-500 hover:bg-red-600 text-white"}`,children:[s.jsx(gv,{className:`w-5 h-5 ${o.photoURL?"text-gray-600":"text-white"}`}),s.jsx("input",{type:"file",id:"profile-image",accept:"image/*",onChange:h,className:"hidden"})]})]})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("div",{className:"bg-white rounded-full p-4 shadow-lg",children:s.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16",children:[s.jsxs("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#e5e7eb",strokeWidth:"2"}),s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:m>=100?"#10b981":m>=70?"#f59e0b":"#ef4444",strokeWidth:"2",strokeDasharray:`${m}, 100`})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs sm:text-sm font-bold text-gray-700",children:[m,"%"]})})]})})})]}),s.jsxs("div",{className:"pt-20 px-2 sm:px-8 pb-8 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-6 w-full gap-4",children:[s.jsxs("div",{className:"w-full",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary break-words",children:o.displayName||"Club Member"}),s.jsxs("p",{className:"text-gray-600 flex items-center mt-1 break-all",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),o.email]}),o.phoneNumber&&s.jsxs("p",{className:"text-gray-600 flex items-center mt-1 break-all",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),o.phoneNumber]}),s.jsxs("div",{className:"flex flex-wrap items-center mt-2 gap-2",children:[o.course&&s.jsx("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-xs sm:text-sm",children:o.course}),o.year&&s.jsx("span",{className:"bg-ajira-accent/10 text-ajira-accent px-3 py-1 rounded-full text-xs sm:text-sm",children:o.year}),o.experienceLevel&&s.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs sm:text-sm",children:o.experienceLevel})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[s.jsx("strong",{children:"Basic Info Complete:"})," Your name, email, course, year, phone, skills, and experience were collected during signup. Now add: bio, goals, LinkedIn, and profile photo for 100%!"]})})]}),s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 bg-ajira-accent text-white px-4 py-2 rounded-lg hover:bg-ajira-accent/90 w-full sm:w-auto mt-4 sm:mt-0",children:[s.jsx(ho,{className:"w-5 h-5"}),s.jsx("span",{children:r?"Cancel":"Edit Profile"})]})]}),m<100&&s.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(qt,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-yellow-800",children:"5 required fields to complete!"}),s.jsxs("p",{className:"text-xs sm:text-sm text-yellow-700 mt-1",children:["Your profile is ",m,"% complete. Required: bio, goals, valid LinkedIn URL, and profile photo."]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-8 w-full",children:[s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:o.completedProjects}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Projects Completed"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:o.skills.length}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Skills Listed"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:o.achievements.length}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Achievements"})]}),s.jsxs("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-ajira-primary",children:Math.floor((new Date().getTime()-new Date(o.joinedDate).getTime())/(1e3*60*60*24))}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Days Active"})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6 overflow-x-auto",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 w-full",children:["overview","skills","goals","platforms","portfolio"].map(p=>s.jsx("button",{onClick:()=>a(p),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm capitalize whitespace-nowrap ${i===p?"border-ajira-accent text-ajira-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:p},p))})}),r?s.jsxs("form",{onSubmit:p=>{p.preventDefault(),g.mutateAsync()},className:"space-y-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Just 4 simple fields to complete your profile and unlock all features!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tell us about yourself *"}),s.jsx("textarea",{name:"bio",value:o.bio,onChange:v,rows:4,required:!0,placeholder:"Briefly describe yourself, your interests, and what you hope to achieve...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are your digital goals? *"}),s.jsx("textarea",{name:"ajiraGoals",value:o.ajiraGoals,onChange:v,rows:3,required:!0,placeholder:"What do you want to achieve? (e.g., Learn new skills, find freelance work, start a business)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile *"}),s.jsx("input",{type:"text",name:"linkedinProfile",value:o.linkedinProfile,onChange:v,required:!0,placeholder:"e.g., https://linkedin.com/in/yourname or just yourname",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your full LinkedIn profile URL or just your handle (e.g., yourname)"}),o.linkedinProfile&&!ch(o.linkedinProfile)&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please enter a valid LinkedIn URL or handle"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Your Interests (Ajira Trainings)"}),s.jsx("p",{className:"text-xs text-blue-600 mb-2",children:"For each interest you choose, you will be automatically added to the corresponding group in the Community Hub."}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(p=>{var b;return s.jsxs("label",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-1 rounded-full cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((b=o.interests)==null?void 0:b.includes(p))||!1,onChange:w=>{l(S=>({...S,interests:w.target.checked?[...S.interests||[],p]:(S.interests||[]).filter(R=>R!==p)}))},className:"form-checkbox accent-ajira-accent"}),s.jsx("span",{children:p})]},p)})})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g.isLoading,className:"px-8 py-3 bg-ajira-accent text-white rounded-lg hover:bg-ajira-accent/90 disabled:opacity-50 flex items-center space-x-2",children:g.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jw,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Profile"})]})})]})]}):s.jsxs("div",{className:"space-y-8",children:[i==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"About Me"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.bio||'No bio provided yet. Click "Edit Profile" to add your story!'})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Digital Goals"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.ajiraGoals||'No goals specified yet. Click "Edit Profile" to add your goals!'})]}),o.linkedinProfile&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),"Professional Links"]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("a",{href:o.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-ajira-primary hover:text-ajira-accent",children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"LinkedIn Profile"]})})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(uu,{className:"w-5 h-5 mr-2"}),"Digital Skills"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.length>0?o.skills.map((p,b)=>s.jsx("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-sm",children:p},b)):s.jsx("span",{className:"text-gray-500 text-sm",children:"No skills listed"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Skills collected during signup"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Academic Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Course:"})," ",o.course||"Not specified"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Year:"})," ",o.year||"Not specified"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Experience:"})," ",o.experienceLevel||"Not specified"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Contact Information"}),s.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:s.jsxs("p",{className:"flex items-center",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),o.phoneNumber||"Not provided"]})})]})]}),o.achievements.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(vt,{className:"w-5 h-5 mr-2"}),"Achievements & Certifications"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.achievements.map((p,b)=>s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center",children:[s.jsx(Jw,{className:"w-4 h-4 mr-1"}),p]},b))})]})]}),i==="skills"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(uu,{className:"w-5 h-5 mr-2"}),"Digital Skills"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.length>0?o.skills.map((p,b)=>s.jsx("span",{className:"px-4 py-2 bg-ajira-primary/10 text-ajira-primary rounded-lg text-sm font-medium",children:p},b)):s.jsx("p",{className:"text-gray-600",children:"No skills listed yet. Add your skills to showcase your abilities!"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Skill Development Suggestions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(y).map(([p,b])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-ajira-primary mb-2",children:p}),s.jsx("div",{className:"space-y-1",children:b.slice(0,4).map((w,S)=>s.jsxs("div",{className:"text-sm text-gray-600",children:["• ",w]},S))})]},p))})]})]}),i==="goals"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Ajira Goals"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-lg",children:o.ajiraGoals||"No goals specified yet. Set your digital transformation goals!"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(Xa,{className:"w-5 h-5 mr-2"}),"Learning Preferences"]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Preferred Mode:"})," ",o.preferredLearningMode||"Not specified"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[s.jsx(ds,{className:"w-5 h-5 mr-2"}),"Mentorship"]}),s.jsx("p",{className:"text-sm text-gray-600",children:o.mentorshipInterest?"✅ Open to mentoring other members":"Not currently interested in mentoring"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[s.jsx(Uu,{className:"w-5 h-5 mr-2"}),"Freelance Availability"]}),s.jsx("p",{className:"text-sm text-gray-600",children:o.availableForFreelance?"✅ Available for freelance projects":"Not currently available for freelance work"})]})]})]}),i==="platforms"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),"Preferred Work Platforms"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.preferredPlatforms.length>0?o.preferredPlatforms.map((p,b)=>s.jsx("span",{className:"px-4 py-2 bg-ajira-accent/10 text-ajira-accent rounded-lg text-sm font-medium",children:p},b)):s.jsx("p",{className:"text-gray-600",children:"No platforms specified yet. Add platforms where you want to find work!"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Available Platforms"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:j.map((p,b)=>s.jsx("div",{className:`p-3 rounded-lg border text-center text-sm ${o.preferredPlatforms.includes(p)?"border-ajira-accent bg-ajira-accent/10 text-ajira-accent":"border-gray-200 text-gray-600"}`,children:p},b))})]})]}),i==="portfolio"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-ajira-primary mb-3 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),"Professional Links"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.linkedinProfile&&s.jsxs("a",{href:o.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"in"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"LinkedIn"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Professional Profile"})]})]}),o.githubProfile&&s.jsxs("a",{href:o.githubProfile,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded flex items-center justify-center mr-3",children:s.jsx(uu,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"GitHub"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Code Repository"})]})]}),o.portfolioUrl&&s.jsxs("a",{href:o.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-ajira-accent transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent rounded flex items-center justify-center mr-3",children:s.jsx(ks,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Portfolio"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Personal Website"})]})]})]}),!o.linkedinProfile&&!o.githubProfile&&!o.portfolioUrl&&s.jsx("p",{className:"text-gray-600",children:"No professional links added yet. Add your LinkedIn, GitHub, or portfolio links!"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Project Portfolio"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx(UE,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h5",{className:"text-lg font-medium text-gray-700 mb-2",children:"Showcase Your Work"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Upload screenshots, links, or descriptions of your projects to showcase your skills."}),s.jsx("button",{className:"bg-ajira-accent text-white px-6 py-2 rounded-lg hover:bg-ajira-accent/90",children:"Add Project"})]})]})]})]})]})]})})},w4=P.createContext(void 0),r8=()=>{const t=P.useContext(w4);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},s8=({children:t})=>{const{user:e}=Vr(),[r,n]=P.useState([]);P.useEffect(()=>{if(e!=null&&e.email){const m=localStorage.getItem(`notifications_${e.email}`);if(m)try{const h=JSON.parse(m);n(h.map(f=>({...f,timestamp:new Date(f.timestamp)})))}catch(h){console.error("Error loading notifications:",h)}}},[e==null?void 0:e.email]),P.useEffect(()=>{e!=null&&e.email&&localStorage.setItem(`notifications_${e.email}`,JSON.stringify(r))},[r,e==null?void 0:e.email]);const i=m=>{const h={...m,id:Date.now().toString(),timestamp:new Date,read:!1};n(f=>[h,...f])},a=m=>{n(h=>h.map(f=>f.id===m?{...f,read:!0}:f))},o=()=>{n(m=>m.map(h=>({...h,read:!0})))},l=m=>{n(h=>h.filter(f=>f.id!==m))},c=()=>{n([])},u=r.filter(m=>!m.read).length,d={notifications:r,addNotification:i,markAsRead:a,markAllAsRead:o,removeNotification:l,clearAll:c,unreadCount:u};return s.jsx(w4.Provider,{value:d,children:t})},Ig=10,n8=()=>{const{notifications:t,markAsRead:e,markAllAsRead:r}=r8(),[n,i]=P.useState(1),[a]=P.useState("all"),o=t.filter(h=>a==="all"?!0:a==="unread"?!h.isRead:h.type===a),l=Math.ceil(o.length/Ig),c=(n-1)*Ig,u=c+Ig,d=o.slice(c,u),m=h=>{switch(h){case"message":return s.jsx($h,{className:"w-5 h-5 text-red-500"});case"order":return s.jsx(UE,{className:"w-5 h-5 text-green-500"});case"review":return s.jsx(ct,{className:"w-5 h-5 text-yellow-500"});case"payment":return s.jsx(Qn,{className:"w-5 h-5 text-emerald-500"});case"system":return s.jsx(qt,{className:"w-5 h-5 text-red-500"})}};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," notifications"]}),t.some(h=>!h.isRead)&&s.jsx("button",{onClick:()=>r(),className:"text-sm text-ajira-primary hover:text-ajira-primary-dark",children:"Mark all as read"})]}),s.jsx("div",{className:"space-y-4",children:d.length===0?s.jsx("div",{className:"text-center py-8 text-gray-600",children:"No notifications found"}):d.map(h=>s.jsx("div",{className:`bg-white rounded-lg border p-4 transition-colors ${h.isRead?"":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[m(h.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:h.message})]}),s.jsx("button",{onClick:()=>e(h.id),className:`text-sm ${h.isRead?"text-gray-400":"text-ajira-primary hover:text-ajira-primary-dark"}`,children:h.isRead?"Read":"Mark as read"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:Jm(h.createdAt.toDate(),{addSuffix:!0})}),h.link&&s.jsx(De,{to:h.link,className:"text-sm text-ajira-primary hover:text-ajira-primary-dark",children:"View details"})]})]})]})},h.id))}),l>1&&s.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[s.jsx("button",{onClick:()=>i(h=>Math.max(1,h-1)),disabled:n===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Previous"}),Array.from({length:l},(h,f)=>f+1).map(h=>s.jsx("button",{onClick:()=>i(h),className:`px-3 py-1 rounded text-sm ${n===h?"bg-ajira-primary text-white":"border text-gray-600 hover:bg-gray-50"}`,children:h},h)),s.jsx("button",{onClick:()=>i(h=>Math.min(l,h+1)),disabled:n===l,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Next"})]})]})},i8=()=>{const[t,e]=P.useState("all");return s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{className:"w-8 h-8 text-ajira-primary"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="all"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),s.jsx("button",{onClick:()=>e("unread"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="unread"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Unread"}),s.jsx("button",{onClick:()=>e("message"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="message"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Messages"}),s.jsx("button",{onClick:()=>e("order"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="order"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Orders"}),s.jsx("button",{onClick:()=>e("review"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="review"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Reviews"}),s.jsx("button",{onClick:()=>e("payment"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="payment"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Payments"}),s.jsx("button",{onClick:()=>e("system"),className:`px-4 py-2 rounded-lg text-sm font-medium ${t==="system"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"System"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsx(n8,{})})]})};let E1=0;const a8=2e3,Ar=({children:t,requiredRole:e})=>{const{user:r,isLoading:n}=Vr(),i=Ys();if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin"})});if(!r){const a=Date.now();return a-E1<a8?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ye,{className:"w-8 h-8 text-ajira-accent animate-spin"})}):(E1=a,s.jsx(Iw,{to:"/auth",state:{from:i},replace:!0}))}return e&&r.role!==e?s.jsx(Iw,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:t})},T1={greeting:["Hello! 👋 I'm Kinap AI, your friendly assistant! How can I help you today?","Hi there! 🌟 I'm here to help you with programming, studying, and more. What's on your mind?","Hey! 😊 Welcome to the KiNaP community. How can I assist you today?"],programming:["I'd love to help you with programming! 💻 What specific language or framework are you working with?","Programming is exciting! 🚀 Tell me more about what you're building or learning.","Great! Let's dive into some code! 💪 What programming challenge are you facing?"],study:["Learning is a journey! 📚 What are you currently studying? I can help you with strategies and resources.","Education is the key to success! 🎓 What subject or topic are you working on?","Studying can be challenging but rewarding! 📖 How can I help you with your studies?"],project:["Building projects is the best way to learn! 💡 What kind of project are you working on?","Projects are where theory meets practice! 🔨 Tell me about what you're building.","Creating something new is always exciting! 🎨 What project are you developing?"],career:["Career development is important! 🚀 What are your professional goals?","Building a career in tech is exciting! 💼 How can I help you with your career path?","Your future is bright! ⭐ What career advice are you looking for?"],default:["That's interesting! 🤔 Tell me more about that.","I'd love to help you with that! 💪 What specific questions do you have?","Great question! 🎯 Let me think about that...","I'm here to help! 😊 Could you give me a bit more context?","That sounds fascinating! 🌟 I'd be happy to discuss this further.","Thanks for sharing! 🙏 How can I assist you with this?","I'm all ears! 👂 What would you like to explore together?","That's a good point! 👍 Let's dive deeper into this topic."]};class o8{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.listeners=new Map,this.messageQueue=[],this.reconnectTimer=null}connect(e,r){return this.socket&&this.isConnected?(console.log("✅ Already connected to WebSocket"),Promise.resolve()):(this.currentUserId=e,this.currentUserName=r,console.log("🔌 Attempting to connect to WebSocket at ws://localhost:5000..."),console.log("👤 User:",{userId:e,userName:r}),new Promise((n,i)=>{try{this.socket=new WebSocket("ws://localhost:5000"),this.socket.onopen=()=>{for(console.log("✅ WebSocket connected successfully!"),this.isConnected=!0,this.reconnectAttempts=0,this.send({type:"join_community",data:{userId:e,userName:r}});this.messageQueue.length>0;){const a=this.messageQueue.shift();this.socket.send(JSON.stringify(a))}n()},this.socket.onclose=a=>{console.log("❌ WebSocket disconnected:",a.code,a.reason),this.isConnected=!1,a.code!==1e3&&this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect()},this.socket.onerror=a=>{console.error("❌ WebSocket connection error:",a),console.error("🔍 Check if backend server is running on port 5000"),this.isConnected=!1,i(a)},this.socket.onmessage=a=>{try{const o=JSON.parse(a.data);this.handleMessage(o)}catch(o){console.error("Error parsing WebSocket message:",o)}}}catch(a){console.error("Error creating WebSocket connection:",a),i(a)}}))}scheduleReconnect(){this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),3e4);console.log(`⏳ Scheduling reconnect attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts} in ${e/1e3}s`),this.reconnectTimer=setTimeout(()=>{this.reconnectAttempts<=this.maxReconnectAttempts&&(console.log(`🔄 Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect(this.currentUserId,this.currentUserName).catch(r=>{console.error(`❌ Reconnect attempt ${this.reconnectAttempts} failed:`,r),this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():console.log("🛑 Max reconnect attempts reached. Stopping reconnection.")}))},e)}send(e){if(!this.socket||this.socket.readyState!==WebSocket.OPEN){console.warn("⚠️ WebSocket not ready, queuing message"),this.messageQueue.push(e);return}(e.type==="join_community"||e.type==="join_group")&&console.log("📤 Sending WebSocket message:",e.type),this.socket.send(JSON.stringify(e))}handleMessage(e){const{type:r,data:n}=e;(r==="user_joined"||r==="user_left"||r==="error")&&console.log("📥 Received WebSocket message:",r),(this.listeners.get(r)||[]).forEach(a=>{try{a(n)}catch(o){console.error("❌ Error in event listener:",o)}})}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.socket&&(this.socket.close(1e3,"User disconnected"),this.socket=null,this.isConnected=!1)}joinGroup(e,r){if(!this.isConnected){console.warn("WebSocket not connected");return}this.send({type:"join_group",data:{groupId:e,userId:r}})}leaveGroup(e,r){this.isConnected&&this.send({type:"leave_group",data:{groupId:e,userId:r}})}sendMessage(e){return this.isConnected?new Promise((r,n)=>{try{this.send({type:"send_group_message",data:e}),setTimeout(()=>r(),100)}catch(i){n(i)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}loadGroupMessages(e,r=50,n=0){return this.isConnected?new Promise((i,a)=>{try{this.send({type:"load_group_messages",data:{groupId:e,limit:r,offset:n}});const o=c=>{this.off("group_messages_loaded",o),i(c)},l=c=>{this.off("load_messages_error",l),a(c)};this.on("group_messages_loaded",o),this.on("load_messages_error",l),setTimeout(()=>{this.off("group_messages_loaded",o),this.off("load_messages_error",l),a(new Error("Load messages timeout"))},1e4)}catch(o){a(o)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}deleteMessage(e,r){return this.isConnected?new Promise((n,i)=>{try{this.send({type:"delete_message",data:{messageId:e,userId:r}});const a=l=>{this.off("message_deleted_success",a),n(l)},o=l=>{this.off("delete_message_error",o),i(l)};this.on("message_deleted_success",a),this.on("delete_message_error",o),setTimeout(()=>{this.off("message_deleted_success",a),this.off("delete_message_error",o),i(new Error("Delete message timeout"))},1e4)}catch(a){i(a)}}):(console.warn("WebSocket not connected"),Promise.reject(new Error("WebSocket not connected")))}startTyping(e,r){this.isConnected&&this.send({type:"typing_start",data:{groupId:e,userName:r}})}stopTyping(e,r){this.isConnected&&this.send({type:"typing_stop",data:{groupId:e,userName:r}})}updateStatus(e,r){this.isConnected&&this.send({type:"update_status",data:{userId:e,status:r}})}getUserStatus(e){return this.isConnected?new Promise((r,n)=>{try{this.send({type:"get_user_status",data:{userIds:e}});const i=a=>{this.off("user_status_info",i),r(a)};this.on("user_status_info",i),setTimeout(()=>{this.off("user_status_info",i),n(new Error("Get user status timeout"))},5e3)}catch(i){n(i)}}):Promise.reject(new Error("WebSocket not connected"))}on(e,r){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(r)}off(e,r){if(!this.listeners.has(e))return;const n=this.listeners.get(e),i=n.indexOf(r);i>-1&&n.splice(i,1)}onMessage(e){this.on("group_message",e)}onUserJoined(e){this.on("user_joined",e)}onUserLeft(e){this.on("user_left",e)}onTyping(e){this.on("typing",e)}onStopTyping(e){this.on("stop_typing",e)}onMessageDeleted(e){this.on("message_deleted",e)}onUserStatusUpdate(e){this.on("user_status_update",e)}onUserStatusInfo(e){this.on("user_status_info",e)}removeAllListeners(){this.listeners.clear()}getConnectionStatus(){return{isConnected:this.isConnected,reconnectAttempts:this.reconnectAttempts,readyState:this.socket?this.socket.readyState:null}}}const Kr=new o8,l8=[{id:"account",name:"Account",icon:EO,description:"Security notifications, account info"},{id:"chats",name:"Chats",icon:Gs,description:"Theme, wallpaper, chat settings"},{id:"notifications",name:"Notifications",icon:Bs,description:"Message notifications"},{id:"keyboard",name:"Keyboard shortcuts",icon:TO,description:"Quick actions"}],c8=[{id:"display",name:"Display",hasArrow:!0},{id:"theme",name:"Theme",hasArrow:!0},{id:"wallpaper",name:"Wallpaper",hasArrow:!0},{id:"chat_settings",name:"Chat settings",hasArrow:!0},{id:"media_upload_quality",name:"Media upload quality",hasArrow:!0},{id:"media_auto_download",name:"Media auto-download",hasArrow:!0},{id:"spell_check",name:"Spell check",description:"Check spelling while typing",toggle:!0,value:!1},{id:"replace_text_with_emoji",name:"Replace text with emoji",description:"Emoji will replace specific text as you type",toggle:!0,value:!1}],yi=[{id:"default",name:"Default",color:"#f0f2f5",pattern:"none",preview:"default",text:"dark"},{id:"cape-honey",name:"Cape Honey",color:"#f7dc6f",pattern:"doodles",preview:"cape-honey",text:"dark"},{id:"light-blue",name:"Light Blue",color:"#e3f2fd",pattern:"doodles",preview:"light-blue",text:"dark"},{id:"light-green",name:"Light Green",color:"#e8f5e8",pattern:"doodles",preview:"light-green",text:"dark"},{id:"light-purple",name:"Light Purple",color:"#f3e5f5",pattern:"doodles",preview:"light-purple",text:"dark"},{id:"light-gray",name:"Light Gray",color:"#f5f5f5",pattern:"doodles",preview:"light-gray",text:"dark"},{id:"light-yellow",name:"Light Yellow",color:"#fffde7",pattern:"doodles",preview:"light-yellow",text:"dark"},{id:"light-orange",name:"Light Orange",color:"#fff3e0",pattern:"doodles",preview:"light-orange",text:"dark"},{id:"light-pink",name:"Light Pink",color:"#fce4ec",pattern:"doodles",preview:"light-pink",text:"dark"},{id:"light-red",name:"Light Red",color:"#ffebee",pattern:"doodles",preview:"light-red",text:"dark"},{id:"dark-blue",name:"Dark Blue",color:"#1a237e",pattern:"doodles",preview:"dark-blue",text:"light"},{id:"dark-green",name:"Dark Green",color:"#1b5e20",pattern:"doodles",preview:"dark-green",text:"light"},{id:"dark-purple",name:"Dark Purple",color:"#4a148c",pattern:"doodles",preview:"dark-purple",text:"light"},{id:"dark-gray",name:"Dark Gray",color:"#424242",pattern:"doodles",preview:"dark-gray",text:"light"},{id:"dark-yellow",name:"Dark Yellow",color:"#f57f17",pattern:"doodles",preview:"dark-yellow",text:"dark"},{id:"dark-orange",name:"Dark Orange",color:"#e65100",pattern:"doodles",preview:"dark-orange",text:"light"},{id:"dark-pink",name:"Dark Pink",color:"#880e4f",pattern:"doodles",preview:"dark-pink",text:"light"},{id:"dark-red",name:"Dark Red",color:"#b71c1c",pattern:"doodles",preview:"dark-red",text:"light"}],u8=()=>{var Ao,hi,tn,Po,Cd,gc,xc,yc,Io;const[t,e]=P.useState([]),[r,n]=P.useState(null),[i,a]=P.useState(""),[o,l]=P.useState(window.innerWidth<1024),[c,u]=P.useState(!1),[d,m]=P.useState(!1);P.useState(!1);const[h,f]=P.useState("chats"),[g,v]=P.useState(window.innerWidth<1024),[j,y]=P.useState(!1),{user:p}=Vr(),[b,w]=P.useState({}),[S,R]=P.useState(!0),[N,k]=P.useState({darkTheme:!1,enterToSend:!0,messageNotifications:!0,sound:!0,spellCheck:!1,replaceTextWithEmoji:!1,messagePreview:!1,readReceipts:!1,typingIndicators:!1,autoSaveMedia:!1,lastSeen:!1,profilePhoto:!1,about:!1,groups:!1,status:!1,showPreviews:!1,reactionNotifications:!1,backgroundSync:!1,incomingSounds:!1,outgoingSounds:!1,vibration:!1,ledLight:!1});P.useState({name:"",description:"",category:""});const E=P.useRef(null),[T,_]=P.useState(!1),[A,C]=P.useState(""),[O,U]=P.useState(""),[L,q]=P.useState(""),[M,z]=P.useState(!1),[D,F]=P.useState(!1),[H,W]=P.useState([]),[Q,X]=P.useState(!1),[G,K]=P.useState(!1),{theme:J,setTheme:$}=x4();P.useState(!1);const[Z,se]=P.useState(!1),[pe,te]=P.useState(!1),[ge,Pe]=P.useState([]),[Xe,mt]=P.useState(!1),[oe,ue]=P.useState(!1),[ye,we]=P.useState(null);P.useRef(null),P.useRef(null);const ne=p?{id:p.id||p._id||"anonymous",name:p.displayName||p.name||p.email||"Anonymous User",avatar:p.photoURL||p.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(p.displayName||p.name||p.email||"A")}&background=1B4F72&color=fff`,status:"online"}:{id:"anonymous",name:"Anonymous User",avatar:"https://ui-avatars.com/api/?name=A&background=1B4F72&color=fff",status:"offline"},Be=B=>{try{const le=B instanceof Date?B:new Date(B);return isNaN(le.getTime())?"":le.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}},Fe=async(B,le)=>{if(!r)throw new Error("No group selected");const ce={messageId:le,groupId:r.id,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:B.content,content:B.content,messageType:B.messageType||"text",status:"sent",replyTo:B.replyTo,mediaUrl:B.mediaUrl,fileName:B.fileName,fileSize:B.fileSize};console.log("📡 Sending message via REST API:",ce);const ve=await fetch("http://localhost:5000/api/chat-messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!ve.ok){const ke=await ve.text();throw console.error("REST API Error Response:",ve.status,ke),new Error(`Failed to save message: ${ve.status} - ${ke}`)}const Te=await ve.json();return console.log("✅ Message saved to database via REST API:",Te),Te},$e=async(B,le)=>{try{const ce="http://localhost:5000/api",ve=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous",Te=await fetch(`${ce}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:B.content,conversationId:le,userId:ve})});if(Te.ok)return console.log("✅ User message saved successfully to Kinap AI MongoDB"),!0;{const ke=await Te.text();return console.error("Failed to save user message to Kinap AI:",Te.status,ke),!1}}catch(ce){return console.error("Error saving user message to Kinap AI:",ce),!1}},Ht=async(B,le,ce,ve)=>{try{const Te="http://localhost:5000/api",ke=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous",Ne=await fetch(`${Te}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:ce,conversationId:le,userId:ke,isAIResponse:!0,messageId:B})});if(Ne.ok)return console.log("✅ AI message saved successfully to Kinap AI MongoDB"),!0;{const _e=await Ne.text();return console.error("Failed to save AI message to Kinap AI MongoDB:",Ne.status,_e),!1}}catch(Te){return console.error("Error saving AI message to Kinap AI MongoDB:",Te),!1}},ut=async(B,le,ce,ve)=>{try{const ke=await fetch("http://localhost:5000/api/chat-messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:B,groupId:le,userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:ce,content:ce,messageType:"text",status:"sent",isAIMessage:!0,userProfile:ve})});if(ke.ok)console.log("✅ AI message saved successfully to MongoDB");else{const Ne=await ke.text();console.error("Failed to save AI message to MongoDB:",ke.status,Ne),At.error("Failed to save AI message to database")}}catch(Te){console.error("Error saving AI message to MongoDB:",Te),At.error("Failed to save AI message to database")}};P.useEffect(()=>{p&&w({displayName:p.displayName||p.name,email:p.email,photoURL:p.photoURL||p.avatar,bio:p.bio,location:p.location,course:p.course,year:p.year,skills:p.skills||[],preferredPlatforms:p.preferredPlatforms||[],experienceLevel:p.experienceLevel,ajiraGoals:p.ajiraGoals,preferredLearningMode:p.preferredLearningMode,linkedinProfile:p.linkedinProfile,githubProfile:p.githubProfile,portfolioUrl:p.portfolioUrl,phoneNumber:p.phoneNumber,idNumber:p.idNumber,achievements:p.achievements||[],completedProjects:p.completedProjects,mentorshipInterest:p.mentorshipInterest,availableForFreelance:p.availableForFreelance,joinedDate:p.joinedDate,lastActive:p.lastActive})},[p]),P.useEffect(()=>{(async()=>{if(!p||!p.id){w({});return}try{const ce=await fetch(`http://localhost:5000/api/users/profile/${p.id}`);if(ce.ok){const ve=await ce.json();w(ve.profile||{})}else console.log("⚠️ Could not load user profile, using empty data"),w({})}catch(le){console.error("❌ Error loading user profile:",le),w({})}})()},[p]);const Ge=P.useRef(null),Sr=P.useRef(null);P.useRef(!1);const[bt,Jt]=P.useState(!1),[Rs,En]=P.useState(()=>localStorage.getItem("kinap-media-quality")||"standard"),[wo,ba]=P.useState(!1),[Xs,ee]=P.useState(()=>{const B=localStorage.getItem("kinap-media-auto-download");return B?JSON.parse(B):{photos:!0,audio:!0,videos:!1,documents:!1}}),[fe,We]=P.useState(!1),[Ur,Br]=P.useState(!1),[No,fc]=P.useState(new Map),[gs,xs]=P.useState(!1),[ss,ja]=P.useState("default"),[ys,ui]=P.useState("default"),[wa,mr]=P.useState([]);P.useEffect(()=>{const B=()=>{v(window.innerWidth<768),l(window.innerWidth<1024)};return window.addEventListener("resize",B),B(),()=>window.removeEventListener("resize",B)},[]);const pc=async()=>{if(!(!i.trim()&&H.length===0||!r)&&(i.trim()&&H.length>0,i.trim())){const B=`${Date.now()}-${Math.random().toString(36).slice(2)}`,le=i.trim(),ce={id:B,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:le,timestamp:new Date,messageType:"text",status:"sending",isOwn:!0,content:le,replyTo:ye==null?void 0:ye.id};n(ke=>{if(!ke)return null;const Ne={...ke,messages:[...ke.messages,ce]};if(ke.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Ne.messages)),console.log("✅ Saved user message to Kinap AI localStorage:",ce.content)}catch(_e){console.error("Error saving Kinap AI messages to localStorage:",_e)}return Ne}),e(ke=>ke.map(Ne=>Ne.id===r.id?{...Ne,messages:[...Ne.messages,ce],lastMessage:le,lastMessageTime:new Date}:Ne)),a(""),we(null);const ve=ke=>{n(Ne=>Ne?{...Ne,messages:Ne.messages.map(_e=>_e.id===B?{..._e,status:ke}:_e)}:null),e(Ne=>Ne.map(_e=>_e.id===r.id?{..._e,messages:_e.messages.map(Me=>Me.id===B?{...Me,status:ke}:Me)}:_e))};if(await(async(ke=3)=>{for(let Ne=1;Ne<=ke;Ne++)try{if(r.id==="kinap-ai"){const _e=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";if(await $e(ce,_e))return ve("sent"),!0;throw new Error("Failed to save to Kinap AI")}else return await Fe(ce,B),ve("sent"),!0}catch{if(Ne===ke)return ve("failed"),!1;const Me=Math.min(1e3*Math.pow(2,Ne-1),5e3);await new Promise(Ie=>setTimeout(Ie,Me))}return!1})(),gs)try{await Kr.sendMessage({groupId:r.id,userId:ne.id,userName:ne.name,content:le,messageType:"text",replyTo:ye==null?void 0:ye.id})}catch{}if(N.typingIndicators&&(Pe(ke=>[...ke,"demo-user"]),setTimeout(()=>{Pe(ke=>ke.filter(Ne=>Ne!=="demo-user"))},2e3)),N.outgoingSounds&&ko(ss||"notification"),N.readReceipts&&setTimeout(()=>{e(ke=>ke.map(Ne=>Ne.id===r.id?{...Ne,messages:Ne.messages.map(_e=>_e.id===ce.id?{..._e,status:"read"}:_e)}:Ne))},1e3),r.name==="Kinap AI"&&!pe){te(!0),se(!0),setTimeout(()=>{se(!0)},0);const ke=setTimeout(()=>{console.log("AI processing timeout - resetting state"),se(!1),te(!1);const _e="I'm having trouble responding right now. Please try again in a moment! 😊",Me={id:Date.now().toString()+"-ai-timeout",userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:_e,timestamp:new Date,messageType:"text",status:"sent",content:_e};e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:[...Ae.messages,Me]}:Ae)),n(Ie=>Ie?{...Ie,messages:[...Ie.messages,Me]}:null);try{ut(Me.id,r.id,_e,Ne)}catch(Ie){console.error("Failed to save timeout message:",Ie)}},1e4),Ne={name:(p==null?void 0:p.displayName)||"Student",course:(p==null?void 0:p.course)||"Not specified",year:(p==null?void 0:p.year)||"Not specified",skills:(p==null?void 0:p.skills)||[]};try{const _e="http://localhost:5000/api",Me={greeting:["👋 Hello! How can I help you with Ajira Digital today?","🌟 Hi there! What would you like to know about our platform?","✨ Hey! Welcome to KiNaP Ajira Club. How can I assist you?"],help:["💡 I'm here to help with mentorship, marketplace, training, and community topics!","🚀 Let me guide you through our amazing Ajira Digital features!","🎯 I can help with programming, career advice, project ideas, and more!"],thanks:["✨ You're welcome! Happy to help!","🎉 Anytime! That's what I'm here for!","🙏 My pleasure! Feel free to ask anything else!"]},Ie=le.toLowerCase();let Ae;if(Ie.includes("hello")||Ie.includes("hi")||Ie.includes("hey"))Ae=Me.greeting[Math.floor(Math.random()*Me.greeting.length)];else if(Ie.includes("help")||Ie.includes("what can you do"))Ae=Me.help[Math.floor(Math.random()*Me.help.length)];else if(Ie.includes("thank")||Ie.includes("thanks"))Ae=Me.thanks[Math.floor(Math.random()*Me.thanks.length)];else{const Qe=new AbortController,Xt=setTimeout(()=>Qe.abort(),5e3),pr=await fetch(`${_e}/chatbot/kinap-ai`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:le,userId:(p==null?void 0:p.id)||"anonymous",conversationId:r.id}),signal:Qe.signal});if(clearTimeout(Xt),!pr.ok)throw new Error(`HTTP ${pr.status}`);const rn=await pr.json();Ae=rn.response||rn.message||T1.default[Math.floor(Math.random()*T1.default.length)]}const Re=Date.now().toString()+"-ai",fr={id:Re,userId:"kinap-ai",userName:"Kinap AI",userAvatar:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50IiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4QjVDRjY7c3RvcC1vcGFjaXR5OjEiIC8+CjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzYzNjZGMjtzdG9wLW9wYWNpdHk6MSIgLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8dGV4dCB4PSIyMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5LPC90ZXh0Pgo8L3N2Zz4=",message:Ae,timestamp:new Date,messageType:"text",status:"sent",content:Ae};clearTimeout(ke),e(Qe=>Qe.map(Xt=>Xt.id===r.id?{...Xt,messages:[...Xt.messages,fr]}:Xt)),n(Qe=>{if(!Qe)return null;const Xt={...Qe,messages:[...Qe.messages,fr]};if(Qe.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Xt.messages)),console.log("✅ Saved AI response to Kinap AI localStorage:",fr.content)}catch(pr){console.error("Error saving Kinap AI messages to localStorage:",pr)}return Xt}),se(!1),te(!1),setTimeout(()=>{Xe||Ds(!0)},50);try{if(r.id==="kinap-ai"){const Qe=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";await Ht(Re,Qe,Ae,Ne)?console.log("✅ AI message saved to Kinap AI MongoDB successfully"):(console.error("❌ Failed to save AI message to Kinap AI backend"),At.error("Failed to save AI message. Please try again."))}else await ut(Re,r.id,Ae,Ne),console.log("✅ AI message saved to MongoDB successfully")}catch(Qe){console.error("❌ Failed to save AI message to backend:",Qe),At.error("Failed to save AI message. Please try again.")}}catch(_e){console.error("Kinap AI error:",_e),clearTimeout(ke),se(!1),te(!1),At.error("AI is having trouble responding. Please try again!");const Me="I'm having trouble connecting right now. Please try again in a moment! 😊";console.log("Using fallback response:",Me);const Ie={id:Date.now().toString()+"-ai",userId:"kinap-ai",userName:"Kinap AI",userAvatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=40",message:Me,timestamp:new Date,messageType:"text",status:"sent",content:Me};e(Ae=>Ae.map(Re=>Re.id===r.id?{...Re,messages:[...Re.messages,Ie]}:Re)),n(Ae=>{if(!Ae)return null;const Re={...Ae,messages:[...Ae.messages,Ie]};if(Ae.id==="kinap-ai")try{localStorage.setItem("kinap-ai-conversation",JSON.stringify(Re.messages)),console.log("✅ Saved fallback AI response to Kinap AI localStorage:",Ie.content)}catch(fr){console.error("Error saving fallback AI message to localStorage:",fr)}return Re}),se(!1),te(!1);try{const Ae=Date.now().toString()+"-ai-fallback";if(r.id==="kinap-ai"){const Re=(p==null?void 0:p.id)||(p==null?void 0:p._id)||"anonymous";await Ht(Ae,Re,Me,Ne)?console.log("✅ Fallback AI message saved to Kinap AI MongoDB successfully"):console.error("❌ Failed to save fallback AI message to Kinap AI backend")}else await ut(Ae,r.id,Me,Ne),console.log("✅ Fallback AI message saved to MongoDB successfully")}catch(Ae){console.error("❌ Failed to save fallback AI message to backend:",Ae)}setTimeout(()=>{Xe||Ds(!0)},50),N.incomingSounds&&ko(ss||"notification")}}}},Tn=async()=>{if(!r||H.length===0)return;const B=Array.isArray(H)?H:[];for(const le of B)try{const ce=`${Date.now()}-${Math.random().toString(36).slice(2)}`,ve=(le==null?void 0:le.originalName)||(le==null?void 0:le.name)||"File",Te=(le==null?void 0:le.fileSize)||(le!=null&&le.size?`${Math.round(le.size/1024)} KB`:""),ke=(le==null?void 0:le.mimeType)||(le==null?void 0:le.type)||"application/octet-stream";let Ne="file";ke.startsWith("image/")?Ne="image":ke.startsWith("video/")?Ne="video":ke.startsWith("audio/")&&(Ne="audio");const _e=(le==null?void 0:le.downloadUrl)||(le==null?void 0:le.previewUrl)||(le==null?void 0:le.url)||(typeof URL<"u"&&le instanceof Blob?URL.createObjectURL(le):void 0),Me={id:ce,userId:ne.id,userName:ne.name,userAvatar:ne.avatar,message:`📎 ${ve}`,content:`📎 ${ve}`,timestamp:new Date,messageType:Ne,status:"sending",isOwn:!0,mediaUrl:_e,fileName:ve,fileSize:Te};n(Ie=>Ie?{...Ie,messages:[...Ie.messages,Me]}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:[...Ae.messages,Me],lastMessage:Me.content||Me.message,lastMessageTime:new Date}:Ae));try{await Fe(Me,ce),n(Ie=>Ie?{...Ie,messages:Ie.messages.map(Ae=>Ae.id===ce?{...Ae,status:"sent"}:Ae)}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:Ae.messages.map(Re=>Re.id===ce?{...Re,status:"sent"}:Re)}:Ae))}catch{n(Ie=>Ie?{...Ie,messages:Ie.messages.map(Ae=>Ae.id===ce?{...Ae,status:"failed"}:Ae)}:null),e(Ie=>Ie.map(Ae=>Ae.id===r.id?{...Ae,messages:Ae.messages.map(Re=>Re.id===ce?{...Re,status:"failed"}:Re)}:Ae))}}catch{}W([]),F(!1)},Na=B=>{const le=typeof B=="string"?B:(B==null?void 0:B.native)||(B==null?void 0:B.emoji)||"";le&&(a(ce=>`${ce||""}${le}`),z(!1))},Fp=B=>{!B||B.length===0||W(le=>[...le,...B])},Vp=B=>{W(le=>le.filter(ce=>(ce==null?void 0:ce.id)!==B))},di=B=>{C(B)},Up=B=>B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Bp=(B,le)=>le?B.split(new RegExp(`(${Up(le)})`,"gi")).map((ve,Te)=>ve.toLowerCase()===le.toLowerCase()?s.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-600/60 px-0.5 rounded",children:ve},Te):s.jsx("span",{children:ve},Te)):B;P.useMemo(()=>{try{const B=vl(b,"community"),le=!!(b.displayName&&b.email);return{allowed:!0,completion:(B==null?void 0:B.completion)??100,requiredCompletion:(B==null?void 0:B.requiredCompletion)??70,missingFields:le?[]:(B==null?void 0:B.missingFields)??[]}}catch{return{allowed:!0,completion:100,requiredCompletion:70,missingFields:[]}}},[b]),P.useEffect(()=>{try{const B=localStorage.getItem("kinap-hide-community-banner")==="1",le=vl(b,"community"),ce=!!(b.displayName&&b.email),ve=((le==null?void 0:le.completion)??100)<((le==null?void 0:le.requiredCompletion)??70)&&!ce;R(!B&&ve)}catch{R(!1)}},[b]);const ka=[{id:"over-the-horizon",name:"Over the Horizon",description:"Signature"},{id:"calypso",name:"Calypso",description:"Bright marimba"},{id:"morning-flower",name:"Morning Flower",description:"Light chime"},{id:"skyline",name:"Skyline",description:"Soft synth"},{id:"atomic-bell",name:"Atomic Bell",description:"Classic bell"},{id:"basic-call",name:"Basic Call",description:"Clean tone"},{id:"beep-once",name:"Beep Once",description:"Short alert"},{id:"crystal",name:"Crystal",description:"Glass sparkle"},{id:"crescendo",name:"Crescendo",description:"Rising tone"},{id:"hologram",name:"Hologram",description:"Digital sweep"},{id:"moon",name:"Moon",description:"Ambient pad"},{id:"nostalgia",name:"Nostalgia",description:"Soft melody"},{id:"orchid",name:"Orchid",description:"Gentle pluck"},{id:"plum",name:"Plum",description:"Warm chime"},{id:"sunrise",name:"Sunrise",description:"Uplifting tone"}],ko=P.useCallback(B=>{if(typeof window.playRingtone=="function")try{window.playRingtone(B);return}catch{}try{const ce={"over-the-horizon":"/ringtones/samsung/over-the-horizon.mp3",calypso:"/ringtones/samsung/calypso.mp3","morning-flower":"/ringtones/samsung/morning-flower.mp3",skyline:"/ringtones/samsung/skyline.mp3","atomic-bell":"/ringtones/samsung/atomic-bell.mp3","basic-call":"/ringtones/samsung/basic-call.mp3","beep-once":"/ringtones/samsung/beep-once.mp3",crystal:"/ringtones/samsung/crystal.mp3",crescendo:"/ringtones/samsung/crescendo.mp3",hologram:"/ringtones/samsung/hologram.mp3",moon:"/ringtones/samsung/moon.mp3",nostalgia:"/ringtones/samsung/nostalgia.mp3",orchid:"/ringtones/samsung/orchid.mp3",plum:"/ringtones/samsung/plum.mp3",sunrise:"/ringtones/samsung/sunrise.mp3"}[B];if(ce){const _e=new Audio(ce);if(_e.volume=.7,_e.play().catch(()=>{}),navigator.vibrate)try{navigator.vibrate(60)}catch{}return}const ve=window.AudioContext||window.webkitAudioContext,Te=new ve,ke=Te.createOscillator(),Ne=Te.createGain();if(ke.type="sine",ke.frequency.setValueAtTime(900,Te.currentTime),Ne.gain.setValueAtTime(.14,Te.currentTime),ke.connect(Ne),Ne.connect(Te.destination),ke.start(),ke.stop(Te.currentTime+.2),navigator.vibrate)try{navigator.vibrate(40)}catch{}}catch{}},[]);P.useEffect(()=>{const B=localStorage.getItem("kinap-chat-settings");if(B)try{const _e=JSON.parse(B);k(Me=>({...Me,..._e}))}catch(_e){console.error("Error loading settings:",_e)}const le=localStorage.getItem("kinap-selected-ringtone");le&&ja(le);const ce=localStorage.getItem("kinap-wallpaper");ce&&ui(ce);const ve=localStorage.getItem("kinap-starred-messages");if(ve)try{const _e=JSON.parse(ve);mr(_e)}catch(_e){console.error("Error loading starred messages:",_e)}const Te=localStorage.getItem("kinap-chat-groups");if(Te)try{const _e=JSON.parse(Te);Array.isArray(_e)&&_e.length>0&&(e(_e),r||n(_e[0]))}catch{}(()=>{try{const _e=localStorage.getItem("kinap-ai-conversation");if(_e){const Me=JSON.parse(_e);Array.isArray(Me)&&Me.length>0&&(e(Ie=>Ie.map(Ae=>Ae.id==="kinap-ai"?{...Ae,messages:Me}:Ae)),n(Ie=>Ie&&Ie.id==="kinap-ai"?{...Ie,messages:Me}:Ie))}}catch(_e){console.error("Error loading Kinap AI history from localStorage:",_e)}})(),(()=>{try{const _e=localStorage.getItem("kinap-ai-conversation");console.log("🔍 Current Kinap AI localStorage:",_e?JSON.parse(_e):"empty")}catch(_e){console.error("Error reading localStorage:",_e)}})()},[]);const Zs=P.useMemo(()=>{const B=(A||"").toLowerCase();return t.filter(ce=>ce.name.toLowerCase().includes(B)||ce.description.toLowerCase().includes(B)).sort((ce,ve)=>{if(ce.name==="Kinap AI")return-1;if(ve.name==="Kinap AI")return 1;const Te=ce.messages.length>0?new Date(ce.messages[ce.messages.length-1].timestamp).getTime():0;return(ve.messages.length>0?new Date(ve.messages[ve.messages.length-1].timestamp).getTime():0)-Te})},[t,A]),So=c8.map(B=>{var le;return B.id==="media_upload_quality"?s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>Jt(!0),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl group-hover:from-blue-500/20 group-hover:to-purple-500/20 transition-all duration-200",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4zM9 6v11h6V6H9z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 font-medium",children:Rs==="hd"?"🎯 HD Quality":"📱 Standard Quality"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"px-3 py-1 bg-ajira-primary/10 text-ajira-primary rounded-full text-sm font-medium",children:Rs==="hd"?"HD":"Standard"}),s.jsx(Ki,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]})]},B.id):B.id==="media_auto_download"?s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>ba(!0),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl group-hover:from-green-500/20 group-hover:to-emerald-500/20 transition-all duration-200",children:s.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"📥 Auto-download media files"})]})]}),s.jsx(Ki,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]},B.id):s.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.01] shadow-lg hover:shadow-xl group",onClick:()=>{B.id==="theme"?X(!0):B.id==="wallpaper"&&K(!0)},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`p-3 rounded-xl transition-all duration-200 ${B.id==="display"?"bg-gradient-to-br from-purple-500/10 to-pink-500/10 group-hover:from-purple-500/20 group-hover:to-pink-500/20":B.id==="theme"?"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 group-hover:from-indigo-500/20 group-hover:to-blue-500/20":B.id==="wallpaper"?"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 group-hover:from-emerald-500/20 group-hover:to-teal-500/20":B.id==="chat_settings"?"bg-gradient-to-br from-orange-500/10 to-red-500/10 group-hover:from-orange-500/20 group-hover:to-red-500/20":"bg-gradient-to-br from-gray-500/10 to-slate-500/10 group-hover:from-gray-500/20 group-hover:to-slate-500/20"}`,children:[B.id==="display"&&s.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),B.id==="theme"&&s.jsx("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})}),B.id==="wallpaper"&&s.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),B.id==="chat_settings"&&s.jsx("svg",{className:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:B.name}),B.description&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:B.description}),B.id==="theme"?s.jsx("div",{className:"text-sm text-ajira-primary dark:text-ajira-accent mt-1 font-medium",children:J==="system"?"🖥️ System default":J==="light"?"☀️ Light":"🌙 Dark"}):B.id==="wallpaper"?s.jsxs("div",{className:"text-sm text-ajira-primary dark:text-ajira-accent mt-1 font-medium",children:["🎨 ",((le=yi.find(ce=>ce.id===ys))==null?void 0:le.name)||"Default"]}):null]})]}),B.hasArrow&&s.jsx(Ki,{className:"w-5 h-5 text-gray-400 group-hover:text-ajira-primary transition-colors duration-200"})]},B.id)}),en=async()=>{try{const B=(p==null?void 0:p.email)||(p==null?void 0:p.googleEmail)||ne.name;console.log("🔄 Loading groups for user:",B),console.log("👤 User object:",p),console.log("🎯 Active user:",ne);const le="http://localhost:5000/api",ce=(p==null?void 0:p.id)||(p==null?void 0:p._id);let ve;if(B){if(ve=await fetch(`${le}/groups/user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B})}),ve.status===404&&ce)try{ve=await fetch(`${le}/groups/user/${ce}`)}catch{}}else if(ce)ve=await fetch(`${le}/groups/user/${ce}`);else{const Te=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! 😊",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(Te),r||Os(Te[0]);return}if(console.log("📡 Groups API response status:",ve.status),ve.ok){const Te=await ve.json();if(console.log("📋 Groups data received:",Te),Te.groups&&Te.groups.length>0){console.log("✅ Found",Te.groups.length,"groups");const ke=Te.groups.map(Ne=>{var _e;return{id:Ne._id||Ne.id,name:Ne.name,description:Ne.description||`Community group for ${Ne.name}`,avatar:Ne.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(Ne.name)}&background=1B4F72&color=fff`,members:((_e=Ne.members)==null?void 0:_e.length)||1,messages:[],lastMessage:"No messages yet",lastMessageTime:new Date,unreadCount:0,admins:Ne.admins||[ne.id],type:Ne.type||"group",category:Ne.name}});e(ke),!r&&ke.length>0&&Os(ke[0]),ke.forEach(async Ne=>{try{const _e=await fetch(`${le}/chat-messages/group/${Ne.id}`);if(_e.ok){const Me=await _e.json();if(Me.success&&Me.messages.length>0){const Ie=Me.messages.map(Re=>({id:Re.messageId,userId:Re.userId,userName:Re.userName,userAvatar:Re.userAvatar,message:Re.message,timestamp:new Date(Re.timestamp),messageType:Re.messageType,status:Re.status,content:Re.content,mediaUrl:Re.mediaUrl,fileName:Re.fileName,fileSize:Re.fileSize,fileType:Re.fileType,duration:Re.duration,isEdited:Re.isEdited,reactions:Re.reactions,replyTo:Re.replyTo}));let Ae=Ie;if(Ne.id==="kinap-ai")try{const Re=localStorage.getItem("kinap-ai-conversation");if(Re){const fr=JSON.parse(Re);if(Array.isArray(fr)&&fr.length>0){const Qe=new Set(Ie.map(pr=>pr.id)),Xt=fr.filter(pr=>!Qe.has(pr.id));Ae=[...Ie,...Xt].sort((pr,rn)=>new Date(pr.timestamp).getTime()-new Date(rn.timestamp).getTime()),console.log("✅ Merged Kinap AI messages from backend and localStorage")}}}catch(Re){console.error("Error merging Kinap AI messages:",Re)}e(Re=>Re.map(fr=>{var Qe,Xt;return fr.id===Ne.id?{...fr,messages:Ae,lastMessage:((Qe=Ae[Ae.length-1])==null?void 0:Qe.content)||"No messages yet",lastMessageTime:((Xt=Ae[Ae.length-1])==null?void 0:Xt.timestamp)||new Date}:fr})),n(Re=>Re&&Re.id===Ne.id?{...Re,messages:Ae}:Re)}}}catch{}})}else{console.log("📭 No groups found for user; showing Kinap AI");const ke=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! 😊",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(ke),r||Os(ke[0]),loadKinapAIHistoryFromBackend()}}else{console.error("❌ Failed to load groups:",ve==null?void 0:ve.status);const Te=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! 😊",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(Te),r||Os(Te[0]),loadKinapAIHistoryFromBackend()}}catch(B){console.error("❌ Error loading groups:",B);const le=[{id:"kinap-ai",name:"Kinap AI",description:"Your AI assistant for programming help, study guidance, and career advice",avatar:"https://ui-avatars.com/api/?name=Kinap+AI&background=8B5CF6&color=FFFFFF&bold=true&size=150",members:1,messages:[],lastMessage:"Say hello to start chatting! 😊",lastMessageTime:new Date,unreadCount:0,admins:[],type:"ai",category:"AI"}];e(le),r||Os(le[0])}},Os=P.useCallback(async B=>{if(r&&gs)try{await Kr.leaveGroup(r.id,ne.id)}catch{}if(n(B),gs)try{if(await Kr.joinGroup(B.id,ne.id),B.messages.length===0)try{const le=await Kr.loadGroupMessages(B.id,50,0);if(le.messages&&le.messages.length>0){const ce=le.messages.map(ve=>({id:ve.id,userId:ve.userId,userName:ve.userName,userAvatar:ve.userAvatar,message:ve.content,timestamp:new Date(ve.timestamp),messageType:ve.messageType,status:ve.status,content:ve.content,mediaUrl:ve.mediaUrl,fileSize:ve.fileSize,duration:ve.duration,isEdited:ve.isEdited,reactions:ve.reactions,replyTo:ve.replyTo}));e(ve=>ve.map(Te=>Te.id===B.id?{...Te,messages:ce}:Te)),n(ve=>ve?{...ve,messages:ce}:null)}}catch{}}catch{}window.innerWidth<1024&&l(!0)},[r,gs,ne.id]);P.useEffect(()=>{if(!p||!ne.id)return;const B=Kr.getConnectionStatus();if(console.log("🔍 WebSocket connection status:",B),B.isConnected){console.log("🔗 WebSocket already connected, skipping..."),xs(!0);return}return(async()=>{try{await Kr.connect(ne.id,ne.name),xs(!0),console.log("✅ WebSocket connected successfully"),Kr.onMessage(ce=>{if(console.log("📨 Received WebSocket message:",ce),ce.userId===ne.id){console.log("🔄 Skipping own message from WebSocket to avoid duplicate");return}if(r==null?void 0:r.messages.find(ke=>ke.content===ce.content&&ke.userId===ne.id&&Date.now()-new Date(ke.timestamp).getTime()<3e3)){console.log("🔄 Skipping recent own message from WebSocket");return}const Te={id:ce.id,userId:ce.userId,userName:ce.userName,userAvatar:ce.userAvatar,message:ce.content,timestamp:new Date(ce.timestamp),messageType:ce.messageType,status:ce.status,content:ce.content,mediaUrl:ce.mediaUrl,fileSize:ce.fileSize,duration:ce.duration,replyTo:ce.replyTo};e(ke=>ke.map(Ne=>Ne.id===ce.groupId&&!Ne.messages.some(Me=>Me.id===ce.id)?{...Ne,messages:[...Ne.messages,Te],lastMessage:ce.content,lastMessageTime:new Date(ce.timestamp)}:Ne)),n(ke=>ke&&ke.id===ce.groupId&&!ke.messages.some(_e=>_e.id===ce.id)?(Xe||setTimeout(()=>Ds(!0),50),{...ke,messages:[...ke.messages,Te],lastMessage:ce.content,lastMessageTime:new Date(ce.timestamp)}):ke)}),Kr.onUserStatusUpdate(ce=>{fc(ve=>{const Te=new Map(ve);return Te.set(ce.userId,{status:ce.status,lastSeen:new Date(ce.lastSeen),userName:ce.userName||"Unknown"}),Te})})}catch(ce){console.error("❌ WebSocket connection failed:",ce),xs(!1)}})(),()=>{Kr.disconnect(),xs(!1)}},[p,ne.id]),P.useEffect(()=>{if(!p||!p.id){console.log("🔒 User not authenticated, skipping group loading"),e([]),n(null);return}if(vl(b).completionPercentage<70){console.log("📋 Profile incomplete, skipping group loading"),e([]),n(null);return}console.log("✅ User authenticated and profile complete, loading groups"),en()},[p,b]),P.useEffect(()=>{gs&&(Kr.onTyping(B=>{e(le=>le.map(ce=>ce.id===B.groupId?{...ce,isTyping:!0,typingUsers:[...ce.typingUsers||[],B.userName]}:ce))}),Kr.onStopTyping(B=>{e(le=>le.map(ce=>{if(ce.id===B.groupId){const ve=(ce.typingUsers||[]).filter(Te=>Te!==B.userName);return{...ce,isTyping:ve.length>0,typingUsers:ve}}return ce}))}))},[gs]),P.useEffect(()=>{if(!gs||!ne)return;Kr.updateStatus(ne.id,"online");const B=()=>{document.hidden?Kr.updateStatus(ne.id,"away"):Kr.updateStatus(ne.id,"online")};return document.addEventListener("visibilitychange",B),()=>{document.removeEventListener("visibilitychange",B)}},[gs,ne]);const Ds=P.useCallback((B=!1)=>{Ge.current&&Ge.current.scrollIntoView({behavior:B?"smooth":"auto",block:"end"})},[]);P.useEffect(()=>{const B=le=>{le.target.closest(".chat-menu-dropdown")||We(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),P.useEffect(()=>{const B=()=>{window.innerWidth<1024?(l(!0),v(!0)):(l(!1),v(!1))};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),P.useEffect(()=>{if(r&&r.messages.length>0&&!Xe){const B=window.setTimeout(()=>{Ds(!0)},100);return()=>window.clearTimeout(B)}},[(Ao=r==null?void 0:r.messages)==null?void 0:Ao.length,r==null?void 0:r.id,Ds,Xe]);const _o=yi.find(B=>B.id===ys)||yi[0];_o.text,_o.text;const Eo=B=>{En(B),Jt(!1),localStorage.setItem("kinap-media-quality",B)},_d=B=>{ee(le=>{const ce={...le,[B]:!le[B]};return localStorage.setItem("kinap-media-auto-download",JSON.stringify(ce)),ce})},To=B=>{$(B),X(!1)},Ed=B=>{ui(B);try{localStorage.setItem("kinap-wallpaper",B)}catch{}K(!1)},Co=()=>{r&&Br(!0)},Td=async()=>{if(r)try{(await fetch(`http://localhost:5000/api/chat-messages/group/${r.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:ne.id})})).ok?(e(le=>le.map(ce=>ce.id===r.id?{...ce,messages:[]}:ce)),n(le=>le?{...le,messages:[]}:null),console.log("Chat deleted successfully")):console.error("Failed to delete chat")}catch(B){console.error("Error deleting chat:",B)}finally{Br(!1)}};return P.useEffect(()=>{r&&r.messages.length>0&&(Ds(!1),mt(!1))},[r==null?void 0:r.id,Ds]),P.useEffect(()=>{const B=Sr.current;if(!B)return;const le=()=>{const{scrollTop:ce,scrollHeight:ve,clientHeight:Te}=B,ke=Math.abs(ve-Te-ce)<50;mt(!ke)};return B.addEventListener("scroll",le),le(),()=>B.removeEventListener("scroll",le)},[r==null?void 0:r.id]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-settings",JSON.stringify(N));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[N]),P.useEffect(()=>{_(!0);try{localStorage.setItem("kinap-selected-ringtone",ss)}catch{}const B=window.setTimeout(()=>_(!1),300);return()=>window.clearTimeout(B)},[ss]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-starred-messages",JSON.stringify(wa));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[wa]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-groups",JSON.stringify(t));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[t]),P.useEffect(()=>{const B=le=>{E.current&&!E.current.contains(le.target)&&(le.target.closest(".menu-dropdown")||u(!1))};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-settings",JSON.stringify(N));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[N]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-selected-ringtone",ss);const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[ss]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-starred-messages",JSON.stringify(wa));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[wa]),P.useEffect(()=>{_(!0),localStorage.setItem("kinap-chat-groups",JSON.stringify(t));const B=window.setTimeout(()=>_(!1),500);return()=>window.clearTimeout(B)},[t]),P.useEffect(()=>{const B=le=>{E.current&&!E.current.contains(le.target)&&(le.target.closest(".menu-dropdown")||u(!1))};return document.addEventListener("click",B),()=>{document.removeEventListener("click",B)}},[]),s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("div",{className:`hidden lg:flex ${o?"w-16":"w-80"} bg-white border-r border-gray-200 transition-all duration-300 flex-col min-h-0`,children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!o&&s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Community"}),s.jsx("button",{onClick:()=>l(!o),className:"p-2 rounded-lg hover:bg-gray-100",children:s.jsx(Gs,{className:"w-5 h-5 text-gray-600"})})]})}),!o&&s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search groups...",value:A,onChange:B=>di(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Zs.length>0?Zs.map(B=>{var le;return s.jsx("div",{onClick:()=>Os(B),className:`p-3 sm:p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors touch-manipulation ${B.name==="Kinap AI"?(r==null?void 0:r.id)===B.id?"bg-gradient-to-r from-purple-500/20 to-indigo-500/20 dark:from-purple-500/30 dark:to-indigo-500/30 border-l-4 border-purple-500":"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 border-l-4 border-purple-300":(r==null?void 0:r.id)===B.id?"bg-ajira-primary/10 dark:bg-ajira-primary/20":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[B.name==="Kinap AI"?s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full ring-2 ring-purple-300 dark:ring-purple-600 shadow-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:"K"})}):s.jsx("img",{src:B.avatar,alt:B.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover"}),B.name==="Kinap AI"?s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-gradient-to-r from-purple-500 to-indigo-600 border-2 border-white dark:border-gray-800 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] sm:text-[10px] text-white font-bold",children:"AI"})}):B.isOnline?s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 border-2 border-white dark:border-gray-800 rounded-full"}):null]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:`font-semibold text-sm sm:text-base truncate ${B.name==="Kinap AI"?"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-indigo-400":"text-gray-900 dark:text-white"}`,children:B.name==="Kinap AI"?"🤖 "+B.name:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:Be(B.lastMessageTime)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[B.name==="Kinap AI"&&s.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-[10px] rounded-full font-semibold flex-shrink-0",children:"PINNED"}),s.jsx("p",{className:`text-sm truncate ${B.name==="Kinap AI"?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300"}`,children:B.lastMessage})]}),B.unreadCount>0&&s.jsx("span",{className:"ml-2 bg-ajira-primary text-white text-xs rounded-full px-2 py-0.5 min-w-[1.25rem] h-5 flex items-center justify-center flex-shrink-0",children:B.unreadCount>99?"99+":B.unreadCount})]}),B.isTyping&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce"}),s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1 h-1 bg-ajira-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsxs("span",{className:"text-xs text-ajira-primary ml-1",children:[(le=B.typingUsers)==null?void 0:le.join(", ")," typing..."]})]})]})]})},B.id)}):s.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx(Gs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No chats yet"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start a conversation with Kinap AI or join a group to begin chatting."})]})})]}),!r&&s.jsxs("div",{className:"lg:hidden flex-1 flex flex-col min-h-0",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-3 flex items-center justify-between",children:s.jsx("h2",{className:"font-semibold text-gray-900",children:"Chats"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Zs.length>0?Zs.map(B=>s.jsx("div",{onClick:()=>Os(B),className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer transition-colors ${B.name==="Kinap AI"?"hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 border-l-4 border-purple-300":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[B.name==="Kinap AI"?s.jsx("div",{className:"w-12 h-12 rounded-full ring-2 ring-purple-300 dark:ring-purple-600 shadow-lg bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"K"})}):s.jsx("img",{src:B.avatar,alt:B.name,className:"w-12 h-12 rounded-full object-cover"}),B.name==="Kinap AI"&&s.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-gradient-to-r from-purple-500 to-indigo-600 border-2 border-white dark:border-gray-800 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] text-white font-bold",children:"AI"})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:`font-semibold truncate ${B.name==="Kinap AI"?"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-indigo-400":"text-gray-900 dark:text-white"}`,children:B.name==="Kinap AI"?"🤖 "+B.name:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:Be(B.lastMessageTime)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[B.name==="Kinap AI"&&s.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-[10px] rounded-full font-semibold",children:"PINNED"}),s.jsx("p",{className:`text-sm truncate ${B.name==="Kinap AI"?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300"}`,children:B.lastMessage})]})]})]})},B.id)):s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No chats yet"})})]}),s.jsxs("div",{className:`${d?"hidden":""} ${r?"flex":"hidden lg:flex"} flex-1 min-w-0 flex-col relative min-h-0`,style:{backgroundColor:((hi=yi.find(B=>B.id===ys))==null?void 0:hi.color)||"#f0f2f5"},children:[s.jsx("div",{className:"sticky top-0 z-10 bg-[#113A59] text-white",children:s.jsxs("div",{className:"max-w-full px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold text-base sm:text-lg",children:"Community Hub"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx("input",{type:"text",placeholder:"Search messages...",value:L,onChange:B=>q(B.target.value),className:"px-3 py-2 rounded-md bg-white/10 text-white placeholder-white/80 text-sm w-56 focus:outline-none focus:ring-2 focus:ring-white/30"})}),s.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-white/10 rounded-md","aria-label":"Options",title:"Options",children:s.jsx(s1,{className:"w-5 h-5"})})]})]})}),((tn=yi.find(B=>B.id===ys))==null?void 0:tn.pattern)==="doodles"&&s.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:s.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center text-gray-600 text-xs p-4",children:[s.jsx("span",{className:"mx-1",children:"💬"}),s.jsx("span",{className:"mx-1",children:"⭐"}),s.jsx("span",{className:"mx-1",children:"❤️"}),s.jsx("span",{className:"mx-1",children:"📱"}),s.jsx("span",{className:"mx-1",children:"📷"}),s.jsx("span",{className:"mx-1",children:"✏️"}),s.jsx("span",{className:"mx-1",children:"⏰"}),s.jsx("span",{className:"mx-1",children:"🦊"}),s.jsx("span",{className:"mx-1",children:"🐋"}),s.jsx("span",{className:"mx-1",children:"🌽"}),s.jsx("span",{className:"mx-1",children:"🎵"})]})}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4 flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[s.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Back to chats",onClick:()=>n(null),children:s.jsx(pl,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),s.jsx("img",{src:r.avatar,alt:r.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base truncate",children:r.name}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:[r.members," members"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0 relative",children:[s.jsx("button",{onClick:()=>We(!fe),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Chat menu",children:s.jsx(s1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"})}),fe&&s.jsxs("div",{className:"chat-menu-dropdown absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-[100]",children:[s.jsx("button",{onClick:()=>{ue(!0),We(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white font-medium rounded-t-lg text-sm sm:text-base",children:"Starred messages"}),s.jsx("button",{onClick:()=>{m(!0),We(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white font-medium text-sm sm:text-base",children:"Settings"}),s.jsx("button",{onClick:()=>{We(!1),Co()},className:"w-full text-left px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 font-medium rounded-b-lg text-sm sm:text-base",children:"Delete chat"})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0 max-h-full",children:[s.jsxs("div",{ref:Sr,className:"flex-1 overflow-y-auto p-2 sm:p-6 space-y-3 sm:space-y-6 scroll-smooth relative bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{scrollBehavior:"smooth",minHeight:"0",maxHeight:"100%"},children:[(r.messages.length>5||Xe)&&s.jsx("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),Ds(!0),mt(!1)},className:`fixed bottom-32 right-8 z-50 p-3 text-white rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-110 active:scale-95 ${Xe?"bg-gradient-to-r from-red-500 to-orange-500 animate-pulse":"bg-gradient-to-r from-ajira-primary to-ajira-secondary"}`,title:Xe?"New messages available - Click to scroll to bottom":"Scroll to bottom",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),r.messages.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-ajira-primary/20 to-ajira-secondary/20 rounded-full flex items-center justify-center mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-ajira-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r.name==="Kinap AI"?"Start chatting with Kinap AI!":`Welcome to ${r.name}`}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:r.name==="Kinap AI"?"Ask me anything about programming, studies, or career advice. I'm here to help!":"This is the beginning of your conversation. Share ideas, collaborate, and connect!"})]}),(r.messages||[]).filter(B=>{if(!L)return!0;const le=L.toLowerCase(),ce=(B.content||B.message||"").toLowerCase(),ve=(B.userName||"").toLowerCase();return ce.includes(le)||ve.includes(le)}).map((B,le)=>(console.log(`🔍 Message ${le}:`,{messageUserId:B.userId,activeUserId:ne.id,isOwn:B.userId===ne.id,userName:B.userName,content:B.content}),s.jsx("div",{"data-message-id":B.id,className:`flex ${B.userId===ne.id?"justify-end":"justify-start"} mb-2 sm:mb-4 px-2 sm:px-6`,children:s.jsxs("div",{className:`max-w-[90vw] sm:max-w-xs md:max-w-md px-4 py-2 rounded-2xl shadow-sm hover:shadow-md transition-all duration-200 ${B.userId===ne.id?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-br-none":B.userName==="Kinap AI"?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-bl-none shadow-lg":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 rounded-bl-none"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"block text-xs font-semibold mb-1",children:B.userId===ne.id?"You":B.userName}),s.jsx("span",{className:"text-xs opacity-70",children:Be(B.timestamp)})]}),s.jsxs("div",{className:"text-sm sm:text-base",children:[B.messageType==="image"&&(B.mediaUrl||B.previewUrl)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("img",{src:B.previewUrl||B.mediaUrl,alt:"Image",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const ce=document.createElement("div");ce.className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999] cursor-pointer",ce.onclick=()=>ce.remove();const ve=document.createElement("img");ve.src=B.previewUrl||B.mediaUrl||"",ve.className="max-w-full max-h-full object-contain",ve.alt="Fullscreen Image",ce.appendChild(ve),document.body.appendChild(ce)}}),B.content&&B.content!=="Image"&&B.content!==`📎 ${B.fileName||""}`&&s.jsx("p",{children:B.content})]}):B.messageType==="video"&&(B.mediaUrl||B.previewUrl)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("video",{controls:!0,className:"max-w-full rounded-lg",preload:"metadata",children:[s.jsx("source",{src:B.previewUrl||B.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("p",{children:B.content||B.message})]}):B.messageType==="audio"&&B.mediaUrl?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:B.mediaUrl,type:"audio/mpeg"}),"Your browser does not support the audio tag."]}),s.jsx("p",{children:B.content||B.message})]}):B.messageType==="file"&&B.mediaUrl?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:B.mediaUrl,download:B.fileName,className:"flex items-center gap-3 p-3 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors cursor-pointer",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:B.fileName||"File"}),B.fileSize&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.fileSize})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),s.jsx("p",{children:B.content||B.message})]}):s.jsx("div",{children:L?Bp(B.content||B.message||"",L):B.content||B.message}),B.userId===ne.id&&s.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[B.status==="sending"&&s.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),B.status==="sent"&&s.jsx("span",{className:"text-xs opacity-70",children:"✓"}),B.status==="delivered"&&s.jsx("span",{className:"text-xs opacity-70",children:"✓✓"}),B.status==="read"&&s.jsx("span",{className:"text-xs opacity-70 text-blue-300",children:"✓✓"}),B.status==="failed"&&s.jsx("span",{className:"text-xs text-red-300",children:"✗"})]})]})]})},le))),Z&&(r==null?void 0:r.name)==="Kinap AI"&&s.jsx("div",{className:"flex justify-start mb-4 px-2 sm:px-6 animate-pulse",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-2xl rounded-bl-none px-4 py-3 shadow-lg max-w-[90vw] sm:max-w-xs md:max-w-md border-2 border-purple-300",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce"}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsx("div",{className:"text-sm font-semibold",children:"🤖 Kinap AI is typing..."})]}),s.jsx("button",{onClick:()=>{se(!1),te(!1),At.error("AI response cancelled. Please try again!")},className:"text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors",children:"Cancel"})]})})}),s.jsx("div",{ref:Ge})]}),s.jsxs("div",{className:"px-2 sm:px-6 py-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 z-10",children:[s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>F(!D),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Attach files",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:i,onChange:B=>a(B.target.value),onKeyPress:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),pc())},placeholder:(r==null?void 0:r.name)==="Kinap AI"?"💬 Ask Kinap AI anything...":"💬 Type a message...",rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent resize-none text-sm leading-relaxed bg-gray-50 placeholder-gray-500 transition-all duration-200",style:{minHeight:"44px",maxHeight:"120px"},disabled:Z}),M&&s.jsx("div",{className:"absolute bottom-full left-0 mb-2",children:s.jsx(qE,{onEmojiSelect:Na,onClose:()=>z(!1)})})]}),s.jsx("button",{onClick:()=>z(!M),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.trim()||H.length>0?s.jsx("button",{onClick:i.trim()?pc:Tn,disabled:Z,className:"p-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white rounded-full hover:from-ajira-primary/90 hover:to-ajira-secondary/90 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed","aria-label":i.trim()?"Send message":"Send files",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}):s.jsx("button",{className:"p-3 text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]}),H.length>0&&s.jsxs("div",{className:"mt-3 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-600 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-4",children:H.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length>0&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden",children:[s.jsx("img",{src:((Po=H.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:Po.downloadUrl)||((Cd=H.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:Cd.url)||((gc=H.find(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed"))==null?void 0:gc.previewUrl)||"",alt:"Preview",className:"w-full h-64 object-cover"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[H.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length," image",H.filter(B=>(B==null?void 0:B.mimeType)&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")&&B.status==="completed").length>1?"s":""]})]})})}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[H.length," file",H.length>1?"s":""," selected"]})]}),s.jsx("button",{onClick:()=>W([]),className:"text-gray-500 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-3 space-y-2",children:H.map(B=>s.jsxs("div",{className:`flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border transition-all duration-200 ${(B==null?void 0:B.status)==="completed"?"border-green-200 dark:border-green-700":(B==null?void 0:B.status)==="uploading"?"border-blue-200 dark:border-blue-700":"border-gray-200 dark:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("image/")?s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center border border-blue-200 dark:border-blue-700",children:s.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}):B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("video/")?s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center border border-red-200 dark:border-red-700",children:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(B==null?void 0:B.status)==="completed"&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]}):B!=null&&B.mimeType&&typeof B.mimeType=="string"&&B.mimeType.startsWith("audio/")?s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center border border-green-200 dark:border-green-700",children:s.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})})}):s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center border border-gray-200 dark:border-gray-600",children:s.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(B==null?void 0:B.originalName)||(B==null?void 0:B.name)||"File"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(B==null?void 0:B.fileSize)||(B!=null&&B.size?`${Math.round(B.size/1024)} KB`:"")}),(B==null?void 0:B.status)==="uploading"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-xs text-blue-500",children:"Uploading..."})]}),(B==null?void 0:B.status)==="completed"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{className:"text-xs text-green-500",children:"Ready"})]}),(B==null?void 0:B.status)==="failed"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{className:"text-xs text-red-500",children:"Failed"})]})]})]})]}),s.jsx("button",{onClick:()=>Vp((B==null?void 0:B.id)||(B==null?void 0:B.name)),className:"text-gray-400 hover:text-red-500 transition-colors ml-2",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},B.id||B.name))}),s.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between gap-2",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"You can review files before sending"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>W([]),className:"px-3 py-2 text-sm rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600",children:"Clear"}),s.jsx("button",{onClick:Tn,className:"px-3 py-2 text-sm rounded-lg bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white shadow hover:from-ajira-primary/90 hover:to-ajira-secondary/90",children:"Send Files"})]})]}),s.jsx("div",{className:"p-3",children:s.jsx("div",{className:"flex justify-end mt-1",children:(()=>{const B=H.filter(Te=>(Te==null?void 0:Te.status)==="completed"),le=H.filter(Te=>(Te==null?void 0:Te.status)==="uploading"),ce=B.length>0,ve=le.length>0;return s.jsxs("div",{className:"flex items-center gap-3",children:[ve&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-spin"}),s.jsxs("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:[le.length," uploading..."]})]}),s.jsxs("button",{onClick:Tn,disabled:!ce,className:`px-6 py-3 rounded-xl transition-all duration-200 shadow-lg text-sm font-semibold flex items-center gap-2 ${ce?"bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white hover:from-ajira-primary/90 hover:to-ajira-secondary/90 hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send ",B.length," File",B.length>1?"s":""]})]})})()})})]}),D&&s.jsxs("div",{className:"absolute bottom-20 left-2 sm:left-6 z-50 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 w-80 max-w-[90vw]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"📎 Attach Files"}),s.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx(zE,{onFileSelect:Fp,uploadContext:"chat",uploadedBy:ne.id,relatedId:r==null?void 0:r.id,multiple:!0,maxFiles:10,maxSize:100})]})]})]})]})]}),j&&s.jsx("div",{className:"fixed inset-0 z-[70] bg-black/40 lg:hidden",onClick:()=>y(!1),children:s.jsxs("div",{className:"absolute left-0 top-0 h-full w-4/5 max-w-sm bg-white dark:bg-gray-900 shadow-xl",onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chats"}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>y(!1),children:s.jsx(as,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),s.jsx("div",{className:"overflow-y-auto h-full",children:Zs.length>0?Zs.map(B=>s.jsx("div",{onClick:()=>{Os(B),y(!1)},className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer ${(r==null?void 0:r.id)===B.id?"bg-ajira-primary/10 dark:bg-ajira-primary/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:B.avatar,alt:B.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:B.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:Be(B.lastMessageTime)})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:B.lastMessage})]})]})},B.id)):s.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No chats yet"})})]})}),d&&s.jsxs("div",{className:`flex-1 ${o?"block":"hidden lg:flex"} flex relative min-h-0 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800`,children:[s.jsxs("div",{className:"w-80 shrink-0 hidden lg:flex flex-col border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 min-h-0",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Close settings",children:s.jsx(pl,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search settings...",value:O,onChange:B=>U(B.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm focus:outline-none focus:ring-2 focus:ring-ajira-primary"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:l8.map(B=>s.jsxs("button",{onClick:()=>f(B.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${h===B.id?"bg-ajira-primary/10 text-ajira-primary":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-white"}`,children:[s.jsx(B.icon,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:B.name}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.description})]})]},B.id))})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[s.jsxs("div",{className:"lg:hidden p-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx(pl,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("div",{className:"w-9"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[h==="chats"&&s.jsx(s.Fragment,{children:So}),h==="notifications"&&s.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Notifications (Community Hub)"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Incoming sounds"}),s.jsx("button",{onClick:()=>k(B=>({...B,incomingSounds:!B.incomingSounds})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N.incomingSounds?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N.incomingSounds?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Outgoing sounds"}),s.jsx("button",{onClick:()=>k(B=>({...B,outgoingSounds:!B.outgoingSounds})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N.outgoingSounds?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N.outgoingSounds?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Selected ringtone"}),s.jsx("select",{value:ss,onChange:B=>ja(B.target.value),className:"text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-1 text-gray-700 dark:text-gray-200",children:ka.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))})]}),s.jsxs("div",{className:"pt-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Current: ",((xc=ka.find(B=>B.id===ss))==null?void 0:xc.name)||"None"]}),s.jsx("button",{onClick:()=>{try{localStorage.setItem("kinap-selected-ringtone",ss)}catch{}ko(ss||"over-the-horizon")},className:"px-3 py-2 rounded-lg bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white shadow hover:from-ajira-primary/90 hover:to-ajira-secondary/90",children:"Set as Ringtone"})]})]})]})})]})]}),S&&p&&s.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-6 md:right-auto z-[60] max-w-xl",children:s.jsx(Cv,{profileData:b,feature:"community",onComplete:()=>{R(!1);try{localStorage.setItem("kinap-hide-community-banner","1")}catch{}}})}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000]",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Theme"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>To("light"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="light"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Light"}),J==="light"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>To("dark"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="dark"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Dark"}),J==="dark"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>To("system"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${J==="system"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"System default"}),J==="system"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-4",children:s.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Close"})})]})}),G&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-[600px] max-w-[90vw] max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Set chat wallpaper"}),s.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(as,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-4 overflow-hidden",children:[s.jsx("div",{className:"w-full sm:w-1/2 pr-0 sm:pr-4 overflow-y-auto max-h-60 sm:max-h-none",children:s.jsx("div",{className:"space-y-3",children:yi.map(B=>s.jsxs("button",{onClick:()=>Ed(B.id),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-colors ${ys===B.id?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("div",{className:"w-8 h-8 rounded-md border border-gray-200 dark:border-gray-600 flex-shrink-0 flex items-center justify-center relative",style:{backgroundColor:B.color},children:B.pattern==="doodles"&&s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-400",children:"✨"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:B.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Background color"})]}),ys===B.id&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},B.id))})}),s.jsxs("div",{className:"w-full sm:w-1/2 bg-gray-100 dark:bg-gray-900 rounded-lg p-4 flex flex-col min-h-40 border border-gray-200 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Wallpaper preview"}),s.jsxs("div",{className:"flex-1 rounded-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden min-h-32 flex items-center justify-center",style:{backgroundColor:((yc=yi.find(B=>B.id===ys))==null?void 0:yc.color)||"#f0f2f5"},children:[((Io=yi.find(B=>B.id===ys))==null?void 0:Io.pattern)==="doodles"&&s.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:s.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center text-gray-600 text-xs p-4",children:[s.jsx("span",{className:"mx-1",children:"💬"}),s.jsx("span",{className:"mx-1",children:"⭐"}),s.jsx("span",{className:"mx-1",children:"❤️"}),s.jsx("span",{className:"mx-1",children:"📱"}),s.jsx("span",{className:"mx-1",children:"📷"}),s.jsx("span",{className:"mx-1",children:"✏️"}),s.jsx("span",{className:"mx-1",children:"⏰"}),s.jsx("span",{className:"mx-1",children:"🦊"}),s.jsx("span",{className:"mx-1",children:"🐋"}),s.jsx("span",{className:"mx-1",children:"🌽"}),s.jsx("span",{className:"mx-1",children:"🎵"})]})}),s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-3 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-semibold",children:"U"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"User"}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Online"})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[s.jsx("div",{className:"text-sm",children:"Chat preview"}),s.jsx("div",{className:"text-xs mt-1",children:"Messages will appear here"})]})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>Ed(ys),className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Set Wallpaper"})]})]})}),bt&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-80 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Media upload quality"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>Eo("standard"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary active:scale-95 ${Rs==="standard"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"Standard"}),Rs==="standard"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("button",{onClick:()=>Eo("hd"),className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary active:scale-95 ${Rs==="hd"?"border-ajira-primary bg-ajira-primary/10":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"text-gray-900 dark:text-white",children:"HD"}),Rs==="hd"&&s.jsx("div",{className:"w-4 h-4 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})]}),s.jsx("div",{className:"flex justify-end gap-2 mt-4",children:s.jsx("button",{onClick:()=>Jt(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})})]})}),wo&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Media auto-download"}),s.jsx("div",{className:"space-y-4",children:["photos","audio","videos","documents"].map(B=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:B}),s.jsx("button",{onClick:()=>_d(B),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary ${Xs[B]?"bg-ajira-primary":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Xs[B]?"translate-x-6":"translate-x-1"}`})})]},B))}),s.jsx("div",{className:"my-6 text-xs text-gray-600 dark:text-gray-400",children:"Voice messages are always automatically downloaded for the best communication experience."}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed mb-4",disabled:!0,children:[s.jsx("span",{className:"text-base",children:"↻"})," Reset auto-download settings"]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx("button",{onClick:()=>ba(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Close"})})]})}),Ur&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-[90vw]",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Chat"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete all messages in this chat? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>Br(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Td,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Chat"})]})]})}),Rs==="hd"&&s.jsx("div",{className:"absolute top-2 right-2 z-20",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-ajira-primary text-white shadow",children:"HD Mode Active"})}),s.jsx("style",{children:`
        .scroll-smooth {
          scroll-behavior: smooth;
        }
        
        /* Custom scrollbar for webkit browsers */
        .overflow-y-auto::-webkit-scrollbar {
          width: 6px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-track {
          background: transparent;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(156, 163, 175, 0.3);
          border-radius: 3px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(156, 163, 175, 0.5);
        }
        
        /* Dark mode scrollbar */
        .dark .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(75, 85, 99, 0.3);
        }
        
        .dark .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(75, 85, 99, 0.5);
        }
      `})]})};function d8(){this.__data__=[],this.size=0}var h8=d8;function m8(t,e){return t===e||t!==t&&e!==e}var N4=m8,f8=N4;function p8(t,e){for(var r=t.length;r--;)if(f8(t[r][0],e))return r;return-1}var ap=p8,g8=ap,x8=Array.prototype,y8=x8.splice;function v8(t){var e=this.__data__,r=g8(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():y8.call(e,r,1),--this.size,!0}var b8=v8,j8=ap;function w8(t){var e=this.__data__,r=j8(e,t);return r<0?void 0:e[r][1]}var N8=w8,k8=ap;function S8(t){return k8(this.__data__,t)>-1}var _8=S8,E8=ap;function T8(t,e){var r=this.__data__,n=E8(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var C8=T8,A8=h8,P8=b8,I8=N8,R8=_8,O8=C8;function ec(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ec.prototype.clear=A8;ec.prototype.delete=P8;ec.prototype.get=I8;ec.prototype.has=R8;ec.prototype.set=O8;var op=ec,D8=op;function M8(){this.__data__=new D8,this.size=0}var L8=M8;function F8(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var V8=F8;function U8(t){return this.__data__.get(t)}var B8=U8;function $8(t){return this.__data__.has(t)}var q8=$8,z8=typeof os=="object"&&os&&os.Object===Object&&os,k4=z8,W8=k4,H8=typeof self=="object"&&self&&self.Object===Object&&self,K8=W8||H8||Function("return this")(),li=K8,G8=li,Q8=G8.Symbol,Iv=Q8,C1=Iv,S4=Object.prototype,Y8=S4.hasOwnProperty,J8=S4.toString,Fc=C1?C1.toStringTag:void 0;function X8(t){var e=Y8.call(t,Fc),r=t[Fc];try{t[Fc]=void 0;var n=!0}catch{}var i=J8.call(t);return n&&(e?t[Fc]=r:delete t[Fc]),i}var Z8=X8,eF=Object.prototype,tF=eF.toString;function rF(t){return tF.call(t)}var sF=rF,A1=Iv,nF=Z8,iF=sF,aF="[object Null]",oF="[object Undefined]",P1=A1?A1.toStringTag:void 0;function lF(t){return t==null?t===void 0?oF:aF:P1&&P1 in Object(t)?nF(t):iF(t)}var lp=lF;function cF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _4=cF,uF=lp,dF=_4,hF="[object AsyncFunction]",mF="[object Function]",fF="[object GeneratorFunction]",pF="[object Proxy]";function gF(t){if(!dF(t))return!1;var e=uF(t);return e==mF||e==fF||e==hF||e==pF}var E4=gF,xF=li,yF=xF["__core-js_shared__"],vF=yF,Rg=vF,I1=function(){var t=/[^.]+$/.exec(Rg&&Rg.keys&&Rg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bF(t){return!!I1&&I1 in t}var jF=bF,wF=Function.prototype,NF=wF.toString;function kF(t){if(t!=null){try{return NF.call(t)}catch{}try{return t+""}catch{}}return""}var T4=kF,SF=E4,_F=jF,EF=_4,TF=T4,CF=/[\\^$.*+?()[\]{}|]/g,AF=/^\[object .+?Constructor\]$/,PF=Function.prototype,IF=Object.prototype,RF=PF.toString,OF=IF.hasOwnProperty,DF=RegExp("^"+RF.call(OF).replace(CF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MF(t){if(!EF(t)||_F(t))return!1;var e=SF(t)?DF:AF;return e.test(TF(t))}var LF=MF;function FF(t,e){return t==null?void 0:t[e]}var VF=FF,UF=LF,BF=VF;function $F(t,e){var r=BF(t,e);return UF(r)?r:void 0}var tc=$F,qF=tc,zF=li,WF=qF(zF,"Map"),Rv=WF,HF=tc,KF=HF(Object,"create"),cp=KF,R1=cp;function GF(){this.__data__=R1?R1(null):{},this.size=0}var QF=GF;function YF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JF=YF,XF=cp,ZF="__lodash_hash_undefined__",e9=Object.prototype,t9=e9.hasOwnProperty;function r9(t){var e=this.__data__;if(XF){var r=e[t];return r===ZF?void 0:r}return t9.call(e,t)?e[t]:void 0}var s9=r9,n9=cp,i9=Object.prototype,a9=i9.hasOwnProperty;function o9(t){var e=this.__data__;return n9?e[t]!==void 0:a9.call(e,t)}var l9=o9,c9=cp,u9="__lodash_hash_undefined__";function d9(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=c9&&e===void 0?u9:e,this}var h9=d9,m9=QF,f9=JF,p9=s9,g9=l9,x9=h9;function rc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rc.prototype.clear=m9;rc.prototype.delete=f9;rc.prototype.get=p9;rc.prototype.has=g9;rc.prototype.set=x9;var y9=rc,O1=y9,v9=op,b9=Rv;function j9(){this.size=0,this.__data__={hash:new O1,map:new(b9||v9),string:new O1}}var w9=j9;function N9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var k9=N9,S9=k9;function _9(t,e){var r=t.__data__;return S9(e)?r[typeof e=="string"?"string":"hash"]:r.map}var up=_9,E9=up;function T9(t){var e=E9(this,t).delete(t);return this.size-=e?1:0,e}var C9=T9,A9=up;function P9(t){return A9(this,t).get(t)}var I9=P9,R9=up;function O9(t){return R9(this,t).has(t)}var D9=O9,M9=up;function L9(t,e){var r=M9(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var F9=L9,V9=w9,U9=C9,B9=I9,$9=D9,q9=F9;function sc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sc.prototype.clear=V9;sc.prototype.delete=U9;sc.prototype.get=B9;sc.prototype.has=$9;sc.prototype.set=q9;var C4=sc,z9=op,W9=Rv,H9=C4,K9=200;function G9(t,e){var r=this.__data__;if(r instanceof z9){var n=r.__data__;if(!W9||n.length<K9-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new H9(n)}return r.set(t,e),this.size=r.size,this}var Q9=G9,Y9=op,J9=L8,X9=V8,Z9=B8,eV=q8,tV=Q9;function nc(t){var e=this.__data__=new Y9(t);this.size=e.size}nc.prototype.clear=J9;nc.prototype.delete=X9;nc.prototype.get=Z9;nc.prototype.has=eV;nc.prototype.set=tV;var rV=nc,sV="__lodash_hash_undefined__";function nV(t){return this.__data__.set(t,sV),this}var iV=nV;function aV(t){return this.__data__.has(t)}var oV=aV,lV=C4,cV=iV,uV=oV;function Xm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new lV;++e<r;)this.add(t[e])}Xm.prototype.add=Xm.prototype.push=cV;Xm.prototype.has=uV;var dV=Xm;function hV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var mV=hV;function fV(t,e){return t.has(e)}var pV=fV,gV=dV,xV=mV,yV=pV,vV=1,bV=2;function jV(t,e,r,n,i,a){var o=r&vV,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var m=-1,h=!0,f=r&bV?new gV:void 0;for(a.set(t,e),a.set(e,t);++m<l;){var g=t[m],v=e[m];if(n)var j=o?n(v,g,m,e,t,a):n(g,v,m,t,e,a);if(j!==void 0){if(j)continue;h=!1;break}if(f){if(!xV(e,function(y,p){if(!yV(f,p)&&(g===y||i(g,y,r,n,a)))return f.push(p)})){h=!1;break}}else if(!(g===v||i(g,v,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var A4=jV,wV=li,NV=wV.Uint8Array,kV=NV;function SV(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var _V=SV;function EV(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var TV=EV,D1=Iv,M1=kV,CV=N4,AV=A4,PV=_V,IV=TV,RV=1,OV=2,DV="[object Boolean]",MV="[object Date]",LV="[object Error]",FV="[object Map]",VV="[object Number]",UV="[object RegExp]",BV="[object Set]",$V="[object String]",qV="[object Symbol]",zV="[object ArrayBuffer]",WV="[object DataView]",L1=D1?D1.prototype:void 0,Og=L1?L1.valueOf:void 0;function HV(t,e,r,n,i,a,o){switch(r){case WV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zV:return!(t.byteLength!=e.byteLength||!a(new M1(t),new M1(e)));case DV:case MV:case VV:return CV(+t,+e);case LV:return t.name==e.name&&t.message==e.message;case UV:case $V:return t==e+"";case FV:var l=PV;case BV:var c=n&RV;if(l||(l=IV),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=OV,o.set(t,e);var d=AV(l(t),l(e),n,i,a,o);return o.delete(t),d;case qV:if(Og)return Og.call(t)==Og.call(e)}return!1}var KV=HV;function GV(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var QV=GV,YV=Array.isArray,Ov=YV,JV=QV,XV=Ov;function ZV(t,e,r){var n=e(t);return XV(t)?n:JV(n,r(t))}var e7=ZV;function t7(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var r7=t7;function s7(){return[]}var n7=s7,i7=r7,a7=n7,o7=Object.prototype,l7=o7.propertyIsEnumerable,F1=Object.getOwnPropertySymbols,c7=F1?function(t){return t==null?[]:(t=Object(t),i7(F1(t),function(e){return l7.call(t,e)}))}:a7,u7=c7;function d7(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var h7=d7;function m7(t){return t!=null&&typeof t=="object"}var dp=m7,f7=lp,p7=dp,g7="[object Arguments]";function x7(t){return p7(t)&&f7(t)==g7}var y7=x7,V1=y7,v7=dp,P4=Object.prototype,b7=P4.hasOwnProperty,j7=P4.propertyIsEnumerable,w7=V1(function(){return arguments}())?V1:function(t){return v7(t)&&b7.call(t,"callee")&&!j7.call(t,"callee")},N7=w7,Zm={exports:{}};function k7(){return!1}var S7=k7;Zm.exports;(function(t,e){var r=li,n=S7,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Zm,Zm.exports);var I4=Zm.exports,_7=9007199254740991,E7=/^(?:0|[1-9]\d*)$/;function T7(t,e){var r=typeof t;return e=e??_7,!!e&&(r=="number"||r!="symbol"&&E7.test(t))&&t>-1&&t%1==0&&t<e}var C7=T7,A7=9007199254740991;function P7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=A7}var R4=P7,I7=lp,R7=R4,O7=dp,D7="[object Arguments]",M7="[object Array]",L7="[object Boolean]",F7="[object Date]",V7="[object Error]",U7="[object Function]",B7="[object Map]",$7="[object Number]",q7="[object Object]",z7="[object RegExp]",W7="[object Set]",H7="[object String]",K7="[object WeakMap]",G7="[object ArrayBuffer]",Q7="[object DataView]",Y7="[object Float32Array]",J7="[object Float64Array]",X7="[object Int8Array]",Z7="[object Int16Array]",eU="[object Int32Array]",tU="[object Uint8Array]",rU="[object Uint8ClampedArray]",sU="[object Uint16Array]",nU="[object Uint32Array]",St={};St[Y7]=St[J7]=St[X7]=St[Z7]=St[eU]=St[tU]=St[rU]=St[sU]=St[nU]=!0;St[D7]=St[M7]=St[G7]=St[L7]=St[Q7]=St[F7]=St[V7]=St[U7]=St[B7]=St[$7]=St[q7]=St[z7]=St[W7]=St[H7]=St[K7]=!1;function iU(t){return O7(t)&&R7(t.length)&&!!St[I7(t)]}var aU=iU;function oU(t){return function(e){return t(e)}}var lU=oU,ef={exports:{}};ef.exports;(function(t,e){var r=k4,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(ef,ef.exports);var cU=ef.exports,uU=aU,dU=lU,U1=cU,B1=U1&&U1.isTypedArray,hU=B1?dU(B1):uU,O4=hU,mU=h7,fU=N7,pU=Ov,gU=I4,xU=C7,yU=O4,vU=Object.prototype,bU=vU.hasOwnProperty;function jU(t,e){var r=pU(t),n=!r&&fU(t),i=!r&&!n&&gU(t),a=!r&&!n&&!i&&yU(t),o=r||n||i||a,l=o?mU(t.length,String):[],c=l.length;for(var u in t)(e||bU.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xU(u,c)))&&l.push(u);return l}var wU=jU,NU=Object.prototype;function kU(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||NU;return t===r}var SU=kU;function _U(t,e){return function(r){return t(e(r))}}var EU=_U,TU=EU,CU=TU(Object.keys,Object),AU=CU,PU=SU,IU=AU,RU=Object.prototype,OU=RU.hasOwnProperty;function DU(t){if(!PU(t))return IU(t);var e=[];for(var r in Object(t))OU.call(t,r)&&r!="constructor"&&e.push(r);return e}var MU=DU,LU=E4,FU=R4;function VU(t){return t!=null&&FU(t.length)&&!LU(t)}var UU=VU,BU=wU,$U=MU,qU=UU;function zU(t){return qU(t)?BU(t):$U(t)}var WU=zU,HU=e7,KU=u7,GU=WU;function QU(t){return HU(t,GU,KU)}var YU=QU,$1=YU,JU=1,XU=Object.prototype,ZU=XU.hasOwnProperty;function eB(t,e,r,n,i,a){var o=r&JU,l=$1(t),c=l.length,u=$1(e),d=u.length;if(c!=d&&!o)return!1;for(var m=c;m--;){var h=l[m];if(!(o?h in e:ZU.call(e,h)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var v=!0;a.set(t,e),a.set(e,t);for(var j=o;++m<c;){h=l[m];var y=t[h],p=e[h];if(n)var b=o?n(p,y,h,e,t,a):n(y,p,h,t,e,a);if(!(b===void 0?y===p||i(y,p,r,n,a):b)){v=!1;break}j||(j=h=="constructor")}if(v&&!j){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(t),a.delete(e),v}var tB=eB,rB=tc,sB=li,nB=rB(sB,"DataView"),iB=nB,aB=tc,oB=li,lB=aB(oB,"Promise"),cB=lB,uB=tc,dB=li,hB=uB(dB,"Set"),mB=hB,fB=tc,pB=li,gB=fB(pB,"WeakMap"),xB=gB,Sy=iB,_y=Rv,Ey=cB,Ty=mB,Cy=xB,D4=lp,ic=T4,q1="[object Map]",yB="[object Object]",z1="[object Promise]",W1="[object Set]",H1="[object WeakMap]",K1="[object DataView]",vB=ic(Sy),bB=ic(_y),jB=ic(Ey),wB=ic(Ty),NB=ic(Cy),Pa=D4;(Sy&&Pa(new Sy(new ArrayBuffer(1)))!=K1||_y&&Pa(new _y)!=q1||Ey&&Pa(Ey.resolve())!=z1||Ty&&Pa(new Ty)!=W1||Cy&&Pa(new Cy)!=H1)&&(Pa=function(t){var e=D4(t),r=e==yB?t.constructor:void 0,n=r?ic(r):"";if(n)switch(n){case vB:return K1;case bB:return q1;case jB:return z1;case wB:return W1;case NB:return H1}return e});var kB=Pa,Dg=rV,SB=A4,_B=KV,EB=tB,G1=kB,Q1=Ov,Y1=I4,TB=O4,CB=1,J1="[object Arguments]",X1="[object Array]",uh="[object Object]",AB=Object.prototype,Z1=AB.hasOwnProperty;function PB(t,e,r,n,i,a){var o=Q1(t),l=Q1(e),c=o?X1:G1(t),u=l?X1:G1(e);c=c==J1?uh:c,u=u==J1?uh:u;var d=c==uh,m=u==uh,h=c==u;if(h&&Y1(t)){if(!Y1(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Dg),o||TB(t)?SB(t,e,r,n,i,a):_B(t,e,c,r,n,i,a);if(!(r&CB)){var f=d&&Z1.call(t,"__wrapped__"),g=m&&Z1.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,j=g?e.value():e;return a||(a=new Dg),i(v,j,r,n,a)}}return h?(a||(a=new Dg),EB(t,e,r,n,i,a)):!1}var IB=PB,RB=IB,eN=dp;function M4(t,e,r,n,i){return t===e?!0:t==null||e==null||!eN(t)&&!eN(e)?t!==t&&e!==e:RB(t,e,r,n,M4,i)}var OB=M4,DB=OB;function MB(t,e){return DB(t,e)}var LB=MB,L4={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:os,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),l=i(19),c=i(45),u=i(46),d=i(47),m=i(48),h=i(49),f=i(12),g=i(32),v=i(33),j=i(31),y=i(1),p={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:l.default,Embed:m.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:f.default,Class:g.default,Style:v.default,Store:j.default}};n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var b in p)p.hasOwnProperty(b)&&(y[b]=p[b])};return function(y,p){j(y,p);function b(){this.constructor=y}y.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(j){a(y,j);function y(p){var b=this;return p="[Parchment] "+p,b=j.call(this,p)||this,b.message=p,b.name=b.constructor.name,b}return y}(Error);n.ParchmentError=o;var l={},c={},u={},d={};n.DATA_KEY="__blot";var m;(function(j){j[j.TYPE=3]="TYPE",j[j.LEVEL=12]="LEVEL",j[j.ATTRIBUTE=13]="ATTRIBUTE",j[j.BLOT=14]="BLOT",j[j.INLINE=7]="INLINE",j[j.BLOCK=11]="BLOCK",j[j.BLOCK_BLOT=10]="BLOCK_BLOT",j[j.INLINE_BLOT=6]="INLINE_BLOT",j[j.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",j[j.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",j[j.ANY=15]="ANY"})(m=n.Scope||(n.Scope={}));function h(j,y){var p=g(j);if(p==null)throw new o("Unable to create "+j+" blot");var b=p,w=j instanceof Node||j.nodeType===Node.TEXT_NODE?j:b.create(y);return new b(w,y)}n.create=h;function f(j,y){return y===void 0&&(y=!1),j==null?null:j[n.DATA_KEY]!=null?j[n.DATA_KEY].blot:y?f(j.parentNode,y):null}n.find=f;function g(j,y){y===void 0&&(y=m.ANY);var p;if(typeof j=="string")p=d[j]||l[j];else if(j instanceof Text||j.nodeType===Node.TEXT_NODE)p=d.text;else if(typeof j=="number")j&m.LEVEL&m.BLOCK?p=d.block:j&m.LEVEL&m.INLINE&&(p=d.inline);else if(j instanceof HTMLElement){var b=(j.getAttribute("class")||"").split(/\s+/);for(var w in b)if(p=c[b[w]],p)break;p=p||u[j.tagName]}return p==null?null:y&m.LEVEL&p.scope&&y&m.TYPE&p.scope?p:null}n.query=g;function v(){for(var j=[],y=0;y<arguments.length;y++)j[y]=arguments[y];if(j.length>1)return j.map(function(w){return v(w)});var p=j[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new o("Invalid definition");if(p.blotName==="abstract")throw new o("Cannot register abstract class");if(d[p.blotName||p.attrName]=p,typeof p.keyName=="string")l[p.keyName]=p;else if(p.className!=null&&(c[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(w){return w.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var b=Array.isArray(p.tagName)?p.tagName:[p.tagName];b.forEach(function(w){(u[w]==null||p.className==null)&&(u[w]=p)})}return p}n.register=v},function(r,n,i){var a=i(51),o=i(11),l=i(3),c=i(20),u=String.fromCharCode(0),d=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};d.prototype.insert=function(m,h){var f={};return m.length===0?this:(f.insert=m,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f))},d.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},d.prototype.retain=function(m,h){if(m<=0)return this;var f={retain:m};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(f.attributes=h),this.push(f)},d.prototype.push=function(m){var h=this.ops.length,f=this.ops[h-1];if(m=l(!0,{},m),typeof f=="object"){if(typeof m.delete=="number"&&typeof f.delete=="number")return this.ops[h-1]={delete:f.delete+m.delete},this;if(typeof f.delete=="number"&&m.insert!=null&&(h-=1,f=this.ops[h-1],typeof f!="object"))return this.ops.unshift(m),this;if(o(m.attributes,f.attributes)){if(typeof m.insert=="string"&&typeof f.insert=="string")return this.ops[h-1]={insert:f.insert+m.insert},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof f.retain=="number")return this.ops[h-1]={retain:f.retain+m.retain},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this}}return h===this.ops.length?this.ops.push(m):this.ops.splice(h,0,m),this},d.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},d.prototype.filter=function(m){return this.ops.filter(m)},d.prototype.forEach=function(m){this.ops.forEach(m)},d.prototype.map=function(m){return this.ops.map(m)},d.prototype.partition=function(m){var h=[],f=[];return this.forEach(function(g){var v=m(g)?h:f;v.push(g)}),[h,f]},d.prototype.reduce=function(m,h){return this.ops.reduce(m,h)},d.prototype.changeLength=function(){return this.reduce(function(m,h){return h.insert?m+c.length(h):h.delete?m-h.delete:m},0)},d.prototype.length=function(){return this.reduce(function(m,h){return m+c.length(h)},0)},d.prototype.slice=function(m,h){m=m||0,typeof h!="number"&&(h=1/0);for(var f=[],g=c.iterator(this.ops),v=0;v<h&&g.hasNext();){var j;v<m?j=g.next(m-v):(j=g.next(h-v),f.push(j)),v+=c.length(j)}return new d(f)},d.prototype.compose=function(m){var h=c.iterator(this.ops),f=c.iterator(m.ops),g=[],v=f.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var j=v.retain;h.peekType()==="insert"&&h.peekLength()<=j;)j-=h.peekLength(),g.push(h.next());v.retain-j>0&&f.next(v.retain-j)}for(var y=new d(g);h.hasNext()||f.hasNext();)if(f.peekType()==="insert")y.push(f.next());else if(h.peekType()==="delete")y.push(h.next());else{var p=Math.min(h.peekLength(),f.peekLength()),b=h.next(p),w=f.next(p);if(typeof w.retain=="number"){var S={};typeof b.retain=="number"?S.retain=p:S.insert=b.insert;var R=c.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(R&&(S.attributes=R),y.push(S),!f.hasNext()&&o(y.ops[y.ops.length-1],S)){var N=new d(h.rest());return y.concat(N).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&y.push(w)}return y.chop()},d.prototype.concat=function(m){var h=new d(this.ops.slice());return m.ops.length>0&&(h.push(m.ops[0]),h.ops=h.ops.concat(m.ops.slice(1))),h},d.prototype.diff=function(m,h){if(this.ops===m.ops)return new d;var f=[this,m].map(function(p){return p.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var w=p===m?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),g=new d,v=a(f[0],f[1],h),j=c.iterator(this.ops),y=c.iterator(m.ops);return v.forEach(function(p){for(var b=p[1].length;b>0;){var w=0;switch(p[0]){case a.INSERT:w=Math.min(y.peekLength(),b),g.push(y.next(w));break;case a.DELETE:w=Math.min(b,j.peekLength()),j.next(w),g.delete(w);break;case a.EQUAL:w=Math.min(j.peekLength(),y.peekLength(),b);var S=j.next(w),R=y.next(w);o(S.insert,R.insert)?g.retain(w,c.attributes.diff(S.attributes,R.attributes)):g.push(R).delete(w);break}b-=w}}),g.chop()},d.prototype.eachLine=function(m,h){h=h||`
`;for(var f=c.iterator(this.ops),g=new d,v=0;f.hasNext();){if(f.peekType()!=="insert")return;var j=f.peek(),y=c.length(j)-f.peekLength(),p=typeof j.insert=="string"?j.insert.indexOf(h,y)-y:-1;if(p<0)g.push(f.next());else if(p>0)g.push(f.next(p));else{if(m(g,f.next(1).attributes||{},v)===!1)return;v+=1,g=new d}}g.length()>0&&m(g,{},v)},d.prototype.transform=function(m,h){if(h=!!h,typeof m=="number")return this.transformPosition(m,h);for(var f=c.iterator(this.ops),g=c.iterator(m.ops),v=new d;f.hasNext()||g.hasNext();)if(f.peekType()==="insert"&&(h||g.peekType()!=="insert"))v.retain(c.length(f.next()));else if(g.peekType()==="insert")v.push(g.next());else{var j=Math.min(f.peekLength(),g.peekLength()),y=f.next(j),p=g.next(j);if(y.delete)continue;p.delete?v.push(p):v.retain(j,c.attributes.transform(y.attributes,p.attributes,h))}return v.chop()},d.prototype.transformPosition=function(m,h){h=!!h;for(var f=c.iterator(this.ops),g=0;f.hasNext()&&g<=m;){var v=f.peekLength(),j=f.peekType();if(f.next(),j==="delete"){m-=Math.min(v,m-g);continue}else j==="insert"&&(g<m||!h)&&(m+=v);g+=v}return m},r.exports=d},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},u=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var g=i.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!v)return!1;var j;for(j in f);return typeof j>"u"||i.call(f,j)},d=function(f,g){o&&g.name==="__proto__"?o(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},m=function(f,g){if(g==="__proto__")if(i.call(f,g)){if(l)return l(f,g).value}else return;return f[g]};r.exports=function h(){var f,g,v,j,y,p,b=arguments[0],w=1,S=arguments.length,R=!1;for(typeof b=="boolean"&&(R=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<S;++w)if(f=arguments[w],f!=null)for(g in f)v=m(b,g),j=m(f,g),b!==j&&(R&&j&&(u(j)||(y=c(j)))?(y?(y=!1,p=v&&c(v)?v:[]):p=v&&u(v)?v:{},d(b,{name:g,newValue:h(R,p,j)})):typeof j<"u"&&d(b,{name:g,newValue:j}));return b}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function _(A,C){for(var O=0;O<C.length;O++){var U=C[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,C,O){return C&&_(A.prototype,C),O&&_(A,O),A}}(),o=function _(A,C,O){A===null&&(A=Function.prototype);var U=Object.getOwnPropertyDescriptor(A,C);if(U===void 0){var L=Object.getPrototypeOf(A);return L===null?void 0:_(L,C,O)}else{if("value"in U)return U.value;var q=U.get;return q===void 0?void 0:q.call(O)}},l=i(3),c=b(l),u=i(2),d=b(u),m=i(0),h=b(m),f=i(16),g=b(f),v=i(6),j=b(v),y=i(7),p=b(y);function b(_){return _&&_.__esModule?_:{default:_}}function w(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function S(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function R(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var N=1,k=function(_){R(A,_);function A(){return w(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,U){var L=h.default.query(O,h.default.Scope.BLOCK_ATTRIBUTE);L!=null&&this.attributes.attribute(L,U)}},{key:"formatAt",value:function(O,U,L,q){this.format(L,q)}},{key:"insertAt",value:function(O,U,L){if(typeof U=="string"&&U.endsWith(`
`)){var q=h.default.create(E.blotName);this.parent.insertBefore(q,O===0?this:this.next),q.insertAt(0,U.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,U,L)}}]),A}(h.default.Embed);k.scope=h.default.Scope.BLOCK_BLOT;var E=function(_){R(A,_);function A(C){w(this,A);var O=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C));return O.cache={},O}return a(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(O,U){return U.length()===0?O:O.insert(U.value(),T(U))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(O,U){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,O,U),this.cache={}}},{key:"formatAt",value:function(O,U,L,q){U<=0||(h.default.query(L,h.default.Scope.BLOCK)?O+U===this.length()&&this.format(L,q):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,O,Math.min(U,this.length()-O-1),L,q),this.cache={})}},{key:"insertAt",value:function(O,U,L){if(L!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,U,L);if(U.length!==0){var q=U.split(`
`),M=q.shift();M.length>0&&(O<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),M):this.children.tail.insertAt(this.children.tail.length(),M),this.cache={});var z=this;q.reduce(function(D,F){return z=z.split(D,!0),z.insertAt(0,F),F.length},O+M.length)}}},{key:"insertBefore",value:function(O,U){var L=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,O,U),L instanceof g.default&&L.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function(O,U){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,O,U),this.cache={}}},{key:"optimize",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(O===0||O>=this.length()-N)){var L=this.clone();return O===0?(this.parent.insertBefore(L,this),this):(this.parent.insertBefore(L,this.next),L)}else{var q=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,O,U);return this.cache={},q}}}]),A}(h.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[j.default,h.default.Embed,p.default];function T(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(A=(0,c.default)(A,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?A:T(_.parent,A)}n.bubbleFormats=T,n.BlockEmbed=k,n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(D,F){var H=[],W=!0,Q=!1,X=void 0;try{for(var G=D[Symbol.iterator](),K;!(W=(K=G.next()).done)&&(H.push(K.value),!(F&&H.length===F));W=!0);}catch(J){Q=!0,X=J}finally{try{!W&&G.return&&G.return()}finally{if(Q)throw X}}return H}return function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return z(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(D,F){for(var H=0;H<F.length;H++){var W=F[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(D,W.key,W)}}return function(D,F,H){return F&&z(D.prototype,F),H&&z(D,H),D}}();i(50);var c=i(2),u=T(c),d=i(14),m=T(d),h=i(8),f=T(h),g=i(9),v=T(g),j=i(0),y=T(j),p=i(15),b=T(p),w=i(3),S=T(w),R=i(10),N=T(R),k=i(34),E=T(k);function T(z){return z&&z.__esModule?z:{default:z}}function _(z,D,F){return D in z?Object.defineProperty(z,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[D]=F,z}function A(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var C=(0,N.default)("quill"),O=function(){l(z,null,[{key:"debug",value:function(F){F===!0&&(F="log"),N.default.level(F)}},{key:"find",value:function(F){return F.__quill||y.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&C.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,H){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var X=F.attrName||F.blotName;typeof X=="string"?this.register("formats/"+X,F,H):Object.keys(F).forEach(function(G){W.register(G,F[G],H)})}else this.imports[F]!=null&&!Q&&C.warn("Overwriting "+F+" with",H),this.imports[F]=H,(F.startsWith("blots/")||F.startsWith("formats/"))&&H.blotName!=="abstract"?y.default.register(H):F.startsWith("modules")&&typeof H.register=="function"&&H.register()}}]);function z(D){var F=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,z),this.options=U(D,H),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",D);this.options.debug&&z.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(X){X===f.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(X,G){var K=F.selection.lastRange,J=K&&K.length===0?K.index:void 0;L.call(F,function(){return F.editor.update(null,G,J)},X)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(z,[{key:"addContainer",value:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var W=F;F=document.createElement("div"),F.classList.add(W)}return this.container.insertBefore(F,H),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,H,W){var Q=this,X=q(F,H,W),G=o(X,4);return F=G[0],H=G[1],W=G[3],L.call(this,function(){return Q.editor.deleteText(F,H)},W,F,-1*H)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,H){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return L.call(this,function(){var X=W.getSelection(!0),G=new u.default;if(X==null)return G;if(y.default.query(F,y.default.Scope.BLOCK))G=W.editor.formatLine(X.index,X.length,_({},F,H));else{if(X.length===0)return W.selection.format(F,H),G;G=W.editor.formatText(X.index,X.length,_({},F,H))}return W.setSelection(X,f.default.sources.SILENT),G},Q)}},{key:"formatLine",value:function(F,H,W,Q,X){var G=this,K=void 0,J=q(F,H,W,Q,X),$=o(J,4);return F=$[0],H=$[1],K=$[2],X=$[3],L.call(this,function(){return G.editor.formatLine(F,H,K)},X,F,0)}},{key:"formatText",value:function(F,H,W,Q,X){var G=this,K=void 0,J=q(F,H,W,Q,X),$=o(J,4);return F=$[0],H=$[1],K=$[2],X=$[3],L.call(this,function(){return G.editor.formatText(F,H,K)},X,F,0)}},{key:"getBounds",value:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof F=="number"?W=this.selection.getBounds(F,H):W=this.selection.getBounds(F.index,F.length);var Q=this.container.getBoundingClientRect();return{bottom:W.bottom-Q.top,height:W.height,left:W.left-Q.left,right:W.right-Q.left,top:W.top-Q.top,width:W.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=q(F,H),Q=o(W,2);return F=Q[0],H=Q[1],this.editor.getContents(F,H)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,H):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,H)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=q(F,H),Q=o(W,2);return F=Q[0],H=Q[1],this.editor.getText(F,H)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,H,W){var Q=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z.sources.API;return L.call(this,function(){return Q.editor.insertEmbed(F,H,W)},X,F)}},{key:"insertText",value:function(F,H,W,Q,X){var G=this,K=void 0,J=q(F,0,W,Q,X),$=o(J,4);return F=$[0],K=$[2],X=$[3],L.call(this,function(){return G.editor.insertText(F,H,K)},X,F,H.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,H,W){this.clipboard.dangerouslyPasteHTML(F,H,W)}},{key:"removeFormat",value:function(F,H,W){var Q=this,X=q(F,H,W),G=o(X,4);return F=G[0],H=G[1],W=G[3],L.call(this,function(){return Q.editor.removeFormat(F,H)},W,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var H=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return L.call(this,function(){F=new u.default(F);var Q=H.getLength(),X=H.editor.deleteText(0,Q),G=H.editor.applyDelta(F),K=G.ops[G.ops.length-1];K!=null&&typeof K.insert=="string"&&K.insert[K.insert.length-1]===`
`&&(H.editor.deleteText(H.getLength()-1,1),G.delete(1));var J=X.compose(G);return J},W)}},{key:"setSelection",value:function(F,H,W){if(F==null)this.selection.setRange(null,H||z.sources.API);else{var Q=q(F,H,W),X=o(Q,4);F=X[0],H=X[1],W=X[3],this.selection.setRange(new p.Range(F,H),W),W!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,W=new u.default().insert(F);return this.setContents(W,H)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,H=this.scroll.update(F);return this.selection.update(F),H}},{key:"updateContents",value:function(F){var H=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return L.call(this,function(){return F=new u.default(F),H.editor.applyDelta(F,W)},W,!0)}}]),z}();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=f.default.events,O.sources=f.default.sources,O.version="1.3.7",O.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":E.default};function U(z,D){if(D=(0,S.default)(!0,{container:z,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===O.DEFAULTS.theme)D.theme=E.default;else if(D.theme=O.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var F=(0,S.default)(!0,{},D.theme.DEFAULTS);[F,D].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(X){Q.modules[X]===!0&&(Q.modules[X]={})})});var H=Object.keys(F.modules).concat(Object.keys(D.modules)),W=H.reduce(function(Q,X){var G=O.import("modules/"+X);return G==null?C.error("Cannot load "+X+" module. Are you sure you registered it?"):Q[X]=G.DEFAULTS||{},Q},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,S.default)(!0,{},O.DEFAULTS,{modules:W},F,D),["bounds","container","scrollingContainer"].forEach(function(Q){typeof D[Q]=="string"&&(D[Q]=document.querySelector(D[Q]))}),D.modules=Object.keys(D.modules).reduce(function(Q,X){return D.modules[X]&&(Q[X]=D.modules[X]),Q},{}),D}function L(z,D,F,H){if(this.options.strict&&!this.isEnabled()&&D===f.default.sources.USER)return new u.default;var W=F==null?null:this.getSelection(),Q=this.editor.delta,X=z();if(W!=null&&(F===!0&&(F=W.index),H==null?W=M(W,X,D):H!==0&&(W=M(W,F,H,D)),this.setSelection(W,f.default.sources.SILENT)),X.length()>0){var G,K=[f.default.events.TEXT_CHANGE,X,Q,D];if((G=this.emitter).emit.apply(G,[f.default.events.EDITOR_CHANGE].concat(K)),D!==f.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,K)}}return X}function q(z,D,F,H,W){var Q={};return typeof z.index=="number"&&typeof z.length=="number"?typeof D!="number"?(W=H,H=F,F=D,D=z.length,z=z.index):(D=z.length,z=z.index):typeof D!="number"&&(W=H,H=F,F=D,D=0),(typeof F>"u"?"undefined":a(F))==="object"?(Q=F,W=H):typeof F=="string"&&(H!=null?Q[F]=H:W=F),W=W||f.default.sources.API,[z,D,Q,W]}function M(z,D,F,H){if(z==null)return null;var W=void 0,Q=void 0;if(D instanceof u.default){var X=[z.index,z.index+z.length].map(function($){return D.transformPosition($,H!==f.default.sources.USER)}),G=o(X,2);W=G[0],Q=G[1]}else{var K=[z.index,z.index+z.length].map(function($){return $<D||$===D&&H===f.default.sources.USER?$:F>=0?$+F:Math.max(D,$+F)}),J=o(K,2);W=J[0],Q=J[1]}return new p.Range(W,Q-W)}n.expandConfig=U,n.overload=q,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function j(y,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,b){return p&&j(y.prototype,p),b&&j(y,b),y}}(),o=function j(y,p,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:j(S,p,b)}else{if("value"in w)return w.value;var R=w.get;return R===void 0?void 0:R.call(b)}},l=i(7),c=m(l),u=i(0),d=m(u);function m(j){return j&&j.__esModule?j:{default:j}}function h(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function f(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function g(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var v=function(j){g(y,j);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(b,w,S,R){if(y.compare(this.statics.blotName,S)<0&&d.default.query(S,d.default.Scope.BLOT)){var N=this.isolate(b,w);R&&N.wrap(S,R)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,w,S,R)}},{key:"optimize",value:function(b){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var S=y.order.indexOf(b),R=y.order.indexOf(w);return S>=0||R>=0?S-R:b===w?0:b<w?-1:1}}]),y}(d.default.Inline);v.allowedChildren=[v,d.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var m=function(h){d(f,h);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(b,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,R.key,R)}}return function(b,w,S){return w&&p(b.prototype,w),S&&p(b,S),b}}(),o=function p(b,w,S){b===null&&(b=Function.prototype);var R=Object.getOwnPropertyDescriptor(b,w);if(R===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,w,S)}else{if("value"in R)return R.value;var k=R.get;return k===void 0?void 0:k.call(S)}},l=i(54),c=m(l),u=i(10),d=m(u);function m(p){return p&&p.__esModule?p:{default:p}}function h(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function f(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function g(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var v=(0,d.default)("quill:events"),j=["selectionchange","mousedown","mouseup","click"];j.forEach(function(p){document.addEventListener(p,function(){for(var b=arguments.length,w=Array(b),S=0;S<b;S++)w[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var N;(N=R.__quill.emitter).handleDOM.apply(N,w)}})})});var y=function(p){g(b,p);function b(){h(this,b);var w=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",v.error),w}return a(b,[{key:"emit",value:function(){v.log.apply(v,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,N=Array(R>1?R-1:0),k=1;k<R;k++)N[k-1]=arguments[k];(this.listeners[S.type]||[]).forEach(function(E){var T=E.node,_=E.handler;(S.target===T||T.contains(S.target))&&_.apply(void 0,[S].concat(N))})}},{key:"listenDOM",value:function(S,R,N){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:N})}}]),b}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,l),this.quill=c,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function l(u){if(a.indexOf(u)<=a.indexOf(o)){for(var d,m=arguments.length,h=Array(m>1?m-1:0),f=1;f<m;f++)h[f-1]=arguments[f];(d=console)[u].apply(d,h)}}function c(u){return a.reduce(function(d,m){return d[m]=l.bind(console,m,u),d},{})}l.level=c.level=function(u){o=u},n.default=c},function(r,n,i){var a=Array.prototype.slice,o=i(52),l=i(53),c=r.exports=function(h,f,g){return g||(g={}),h===f?!0:h instanceof Date&&f instanceof Date?h.getTime()===f.getTime():!h||!f||typeof h!="object"&&typeof f!="object"?g.strict?h===f:h==f:m(h,f,g)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function m(h,f,g){var v,j;if(u(h)||u(f)||h.prototype!==f.prototype)return!1;if(l(h))return l(f)?(h=a.call(h),f=a.call(f),c(h,f,g)):!1;if(d(h)){if(!d(f)||h.length!==f.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==f[v])return!1;return!0}try{var y=o(h),p=o(f)}catch{return!1}if(y.length!=p.length)return!1;for(y.sort(),p.sort(),v=y.length-1;v>=0;v--)if(y[v]!=p[v])return!1;for(v=y.length-1;v>=0;v--)if(j=y[v],!c(h[j],f[j],g))return!1;return typeof h==typeof f}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var d=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function k(E,T){var _=[],A=!0,C=!1,O=void 0;try{for(var U=E[Symbol.iterator](),L;!(A=(L=U.next()).done)&&(_.push(L.value),!(T&&_.length===T));A=!0);}catch(q){C=!0,O=q}finally{try{!A&&U.return&&U.return()}finally{if(C)throw O}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&k(E.prototype,T),_&&k(E,_),E}}(),l=function k(E,T,_){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var C=Object.getPrototypeOf(E);return C===null?void 0:k(C,T,_)}else{if("value"in A)return A.value;var O=A.get;return O===void 0?void 0:O.call(_)}},c=i(2),u=p(c),d=i(0),m=p(d),h=i(4),f=p(h),g=i(6),v=p(g),j=i(7),y=p(j);function p(k){return k&&k.__esModule?k:{default:k}}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function w(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function S(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var R=function(k){S(E,k);function E(){return b(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(v.default);R.blotName="code",R.tagName="CODE";var N=function(k){S(E,k);function E(){return b(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var _=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(C,O){return C.insert(O).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,A){if(!(_===this.statics.blotName&&A)){var C=this.descendant(y.default,this.length()-1),O=a(C,1),U=O[0];U!=null&&U.deleteAt(U.length()-1,1),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,_,A)}}},{key:"formatAt",value:function(_,A,C,O){if(A!==0&&!(m.default.query(C,m.default.Scope.BLOCK)==null||C===this.statics.blotName&&O===this.statics.formats(this.domNode))){var U=this.newlineIndex(_);if(!(U<0||U>=_+A)){var L=this.newlineIndex(_,!0)+1,q=U-L+1,M=this.isolate(L,q),z=M.next;M.format(C,O),z instanceof E&&z.formatAt(0,_-L+A-q,C,O)}}}},{key:"insertAt",value:function(_,A,C){if(C==null){var O=this.descendant(y.default,_),U=a(O,2),L=U[0],q=U[1];L.insertAt(q,A)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var C=this.domNode.textContent.slice(_).indexOf(`
`);return C>-1?_+C:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,_);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(_),A.moveChildren(this),A.remove())}},{key:"replace",value:function(_){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var C=m.default.find(A);C==null?A.parentNode.removeChild(A):C instanceof m.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(_){var A=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,_);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),E}(f.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",n.Code=R,n.default=N},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(D,F){var H=[],W=!0,Q=!1,X=void 0;try{for(var G=D[Symbol.iterator](),K;!(W=(K=G.next()).done)&&(H.push(K.value),!(F&&H.length===F));W=!0);}catch(J){Q=!0,X=J}finally{try{!W&&G.return&&G.return()}finally{if(Q)throw X}}return H}return function(D,F){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return z(D,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(D,F){for(var H=0;H<F.length;H++){var W=F[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(D,W.key,W)}}return function(D,F,H){return F&&z(D.prototype,F),H&&z(D,H),D}}(),c=i(2),u=A(c),d=i(20),m=A(d),h=i(0),f=A(h),g=i(13),v=A(g),j=i(24),y=A(j),p=i(4),b=A(p),w=i(16),S=A(w),R=i(21),N=A(R),k=i(11),E=A(k),T=i(3),_=A(T);function A(z){return z&&z.__esModule?z:{default:z}}function C(z,D,F){return D in z?Object.defineProperty(z,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):z[D]=F,z}function O(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,L=function(){function z(D){O(this,z),this.scroll=D,this.delta=this.getDelta()}return l(z,[{key:"applyDelta",value:function(F){var H=this,W=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),F=M(F),F.reduce(function(X,G){var K=G.retain||G.delete||G.insert.length||1,J=G.attributes||{};if(G.insert!=null){if(typeof G.insert=="string"){var $=G.insert;$.endsWith(`
`)&&W&&(W=!1,$=$.slice(0,-1)),X>=Q&&!$.endsWith(`
`)&&(W=!0),H.scroll.insertAt(X,$);var Z=H.scroll.line(X),se=o(Z,2),pe=se[0],te=se[1],ge=(0,_.default)({},(0,p.bubbleFormats)(pe));if(pe instanceof b.default){var Pe=pe.descendant(f.default.Leaf,te),Xe=o(Pe,1),mt=Xe[0];ge=(0,_.default)(ge,(0,p.bubbleFormats)(mt))}J=m.default.attributes.diff(ge,J)||{}}else if(a(G.insert)==="object"){var oe=Object.keys(G.insert)[0];if(oe==null)return X;H.scroll.insertAt(X,oe,G.insert[oe])}Q+=K}return Object.keys(J).forEach(function(ue){H.scroll.formatAt(X,K,ue,J[ue])}),X+K},0),F.reduce(function(X,G){return typeof G.delete=="number"?(H.scroll.deleteAt(X,G.delete),X):X+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,H){return this.scroll.deleteAt(F,H),this.update(new u.default().retain(F).delete(H))}},{key:"formatLine",value:function(F,H){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(X){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[X])){var G=W.scroll.lines(F,Math.max(H,1)),K=H;G.forEach(function(J){var $=J.length();if(!(J instanceof v.default))J.format(X,Q[X]);else{var Z=F-J.offset(W.scroll),se=J.newlineIndex(Z+K)-Z+1;J.formatAt(Z,se,X,Q[X])}K-=$})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(H,(0,N.default)(Q)))}},{key:"formatText",value:function(F,H){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(X){W.scroll.formatAt(F,H,X,Q[X])}),this.update(new u.default().retain(F).retain(H,(0,N.default)(Q)))}},{key:"getContents",value:function(F,H){return this.delta.slice(F,F+H)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,H){return F.concat(H.delta())},new u.default)}},{key:"getFormat",value:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],Q=[];H===0?this.scroll.path(F).forEach(function(G){var K=o(G,1),J=K[0];J instanceof b.default?W.push(J):J instanceof f.default.Leaf&&Q.push(J)}):(W=this.scroll.lines(F,H),Q=this.scroll.descendants(f.default.Leaf,F,H));var X=[W,Q].map(function(G){if(G.length===0)return{};for(var K=(0,p.bubbleFormats)(G.shift());Object.keys(K).length>0;){var J=G.shift();if(J==null)return K;K=q((0,p.bubbleFormats)(J),K)}return K});return _.default.apply(_.default,X)}},{key:"getText",value:function(F,H){return this.getContents(F,H).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(F,H,W){return this.scroll.insertAt(F,H,W),this.update(new u.default().retain(F).insert(C({},H,W)))}},{key:"insertText",value:function(F,H){var W=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,H),Object.keys(Q).forEach(function(X){W.scroll.formatAt(F,H.length,X,Q[X])}),this.update(new u.default().retain(F).insert(H,(0,N.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==b.default.blotName||F.children.length>1?!1:F.children.head instanceof S.default}},{key:"removeFormat",value:function(F,H){var W=this.getText(F,H),Q=this.scroll.line(F+H),X=o(Q,2),G=X[0],K=X[1],J=0,$=new u.default;G!=null&&(G instanceof v.default?J=G.newlineIndex(K)-K+1:J=G.length()-K,$=G.delta().slice(K,K+J-1).insert(`
`));var Z=this.getContents(F,H+J),se=Z.diff(new u.default().insert(W).concat($)),pe=new u.default().retain(F).concat(se);return this.applyDelta(pe)}},{key:"update",value:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(H.length===1&&H[0].type==="characterData"&&H[0].target.data.match(U)&&f.default.find(H[0].target)){var X=f.default.find(H[0].target),G=(0,p.bubbleFormats)(X),K=X.offset(this.scroll),J=H[0].oldValue.replace(y.default.CONTENTS,""),$=new u.default().insert(J),Z=new u.default().insert(X.value()),se=new u.default().retain(K).concat($.diff(Z,W));F=se.reduce(function(pe,te){return te.insert?pe.insert(te.insert,G):pe.push(te)},new u.default),this.delta=Q.compose(F)}else this.delta=this.getDelta(),(!F||!(0,E.default)(Q.compose(F),this.delta))&&(F=Q.diff(this.delta,W));return F}}]),z}();function q(z,D){return Object.keys(D).reduce(function(F,H){return z[H]==null||(D[H]===z[H]?F[H]=D[H]:Array.isArray(D[H])?D[H].indexOf(z[H])<0&&(F[H]=D[H].concat([z[H]])):F[H]=[D[H],z[H]]),F},{})}function M(z){return z.reduce(function(D,F){if(F.insert===1){var H=(0,N.default)(F.attributes);return delete H.image,D.insert({image:F.attributes.image},H)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,N.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var W=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(W,F.attributes)}return D.push(F)},new u.default)}n.default=L},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function k(E,T){var _=[],A=!0,C=!1,O=void 0;try{for(var U=E[Symbol.iterator](),L;!(A=(L=U.next()).done)&&(_.push(L.value),!(T&&_.length===T));A=!0);}catch(q){C=!0,O=q}finally{try{!A&&U.return&&U.return()}finally{if(C)throw O}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&k(E.prototype,T),_&&k(E,_),E}}(),l=i(0),c=y(l),u=i(21),d=y(u),m=i(11),h=y(m),f=i(8),g=y(f),v=i(10),j=y(v);function y(k){return k&&k.__esModule?k:{default:k}}function p(k){if(Array.isArray(k)){for(var E=0,T=Array(k.length);E<k.length;E++)T[E]=k[E];return T}else return Array.from(k)}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}var w=(0,j.default)("quill:selection"),S=function k(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,k),this.index=E,this.length=T},R=function(){function k(E,T){var _=this;b(this,k),this.emitter=T,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(A,C){A===g.default.events.TEXT_CHANGE&&C.length()>0&&_.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var A=_.getNativeRange();A!=null&&A.start.node!==_.cursor.textNode&&_.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(A,C){if(C.range){var O=C.range,U=O.startNode,L=O.startOffset,q=O.endNode,M=O.endOffset;_.setNativeRange(U,L,q,M)}}),this.update(g.default.sources.SILENT)}return o(k,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var _=T.cursor.restore();if(!_)return;setTimeout(function(){T.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(T,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var C=c.default.find(A.start.node,!1);if(C==null)return;if(C instanceof c.default.Leaf){var O=C.split(A.start.offset);C.parent.insertBefore(this.cursor,O)}else C.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(T,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();T=Math.min(T,A-1),_=Math.min(T+_,A-1)-T;var C=void 0,O=this.scroll.leaf(T),U=a(O,2),L=U[0],q=U[1];if(L==null)return null;var M=L.position(q,!0),z=a(M,2);C=z[0],q=z[1];var D=document.createRange();if(_>0){D.setStart(C,q);var F=this.scroll.leaf(T+_),H=a(F,2);if(L=H[0],q=H[1],L==null)return null;var W=L.position(q,!0),Q=a(W,2);return C=Q[0],q=Q[1],D.setEnd(C,q),D.getBoundingClientRect()}else{var X="left",G=void 0;return C instanceof Text?(q<C.data.length?(D.setStart(C,q),D.setEnd(C,q+1)):(D.setStart(C,q-1),D.setEnd(C,q),X="right"),G=D.getBoundingClientRect()):(G=L.domNode.getBoundingClientRect(),q>0&&(X="right")),{bottom:G.top+G.height,height:G.height,left:G[X],right:G[X],top:G.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var _=T.getRangeAt(0);if(_==null)return null;var A=this.normalizeNative(_);return w.info("getNativeRange",A),A}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var _=this.normalizedToRange(T);return[_,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var _=this,A=[[T.start.node,T.start.offset]];T.native.collapsed||A.push([T.end.node,T.end.offset]);var C=A.map(function(L){var q=a(L,2),M=q[0],z=q[1],D=c.default.find(M,!0),F=D.offset(_.scroll);return z===0?F:D instanceof c.default.Container?F+D.length():F+D.index(M,z)}),O=Math.min(Math.max.apply(Math,p(C)),this.scroll.length()-1),U=Math.min.apply(Math,[O].concat(p(C)));return new S(U,O-U)}},{key:"normalizeNative",value:function(T){if(!N(this.root,T.startContainer)||!T.collapsed&&!N(this.root,T.endContainer))return null;var _={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[_.start,_.end].forEach(function(A){for(var C=A.node,O=A.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>O)C=C.childNodes[O],O=0;else if(C.childNodes.length===O)C=C.lastChild,O=C instanceof Text?C.data.length:C.childNodes.length+1;else break;A.node=C,A.offset=O}),_}},{key:"rangeToNative",value:function(T){var _=this,A=T.collapsed?[T.index]:[T.index,T.index+T.length],C=[],O=this.scroll.length();return A.forEach(function(U,L){U=Math.min(O-1,U);var q=void 0,M=_.scroll.leaf(U),z=a(M,2),D=z[0],F=z[1],H=D.position(F,L!==0),W=a(H,2);q=W[0],F=W[1],C.push(q,F)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(T){var _=this.lastRange;if(_!=null){var A=this.getBounds(_.index,_.length);if(A!=null){var C=this.scroll.length()-1,O=this.scroll.line(Math.min(_.index,C)),U=a(O,1),L=U[0],q=L;if(_.length>0){var M=this.scroll.line(Math.min(_.index+_.length,C)),z=a(M,1);q=z[0]}if(!(L==null||q==null)){var D=T.getBoundingClientRect();A.top<D.top?T.scrollTop-=D.top-A.top:A.bottom>D.bottom&&(T.scrollTop+=A.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(T,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",T,_,A,C),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||A.parentNode==null))){var U=document.getSelection();if(U!=null)if(T!=null){this.hasFocus()||this.root.focus();var L=(this.getNativeRange()||{}).native;if(L==null||O||T!==L.startContainer||_!==L.startOffset||A!==L.endContainer||C!==L.endOffset){T.tagName=="BR"&&(_=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),A.tagName=="BR"&&(C=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var q=document.createRange();q.setStart(T,_),q.setEnd(A,C),U.removeAllRanges(),U.addRange(q)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof _=="string"&&(A=_,_=!1),w.info("setRange",T),T!=null){var C=this.rangeToNative(T);this.setNativeRange.apply(this,p(C).concat([_]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,_=this.lastRange,A=this.getRange(),C=a(A,2),O=C[0],U=C[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(_,this.lastRange)){var L;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(_),T];if((L=this.emitter).emit.apply(L,[g.default.events.EDITOR_CHANGE].concat(q)),T!==g.default.sources.SILENT){var M;(M=this.emitter).emit.apply(M,q)}}}}]),k}();function N(k,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),k.contains(E)}n.Range=S,n.default=R},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,j){for(var y=0;y<j.length;y++){var p=j[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,j,y){return j&&g(v.prototype,j),y&&g(v,y),v}}(),o=function g(v,j,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,j);if(p===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,j,y)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(y)}},l=i(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(y,p){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);f.blotName="break",f.tagName="BR",n.default=f},function(r,n,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)f.hasOwnProperty(g)&&(h[g]=f[g])};return function(h,f){m(h,f);function g(){this.constructor=h}h.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),l=i(30),c=i(1),u=function(m){a(h,m);function h(f){var g=m.call(this,f)||this;return g.build(),g}return h.prototype.appendChild=function(f){this.insertBefore(f)},h.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},h.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var v=d(g);f.insertBefore(v,f.children.head||void 0)}catch(j){if(j instanceof c.ParchmentError)return;throw j}})},h.prototype.deleteAt=function(f,g){if(f===0&&g===this.length())return this.remove();this.children.forEachAt(f,g,function(v,j,y){v.deleteAt(j,y)})},h.prototype.descendant=function(f,g){var v=this.children.find(g),j=v[0],y=v[1];return f.blotName==null&&f(j)||f.blotName!=null&&j instanceof f?[j,y]:j instanceof h?j.descendant(f,y):[null,-1]},h.prototype.descendants=function(f,g,v){g===void 0&&(g=0),v===void 0&&(v=Number.MAX_VALUE);var j=[],y=v;return this.children.forEachAt(g,v,function(p,b,w){(f.blotName==null&&f(p)||f.blotName!=null&&p instanceof f)&&j.push(p),p instanceof h&&(j=j.concat(p.descendants(f,b,y))),y-=w}),j},h.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),m.prototype.detach.call(this)},h.prototype.formatAt=function(f,g,v,j){this.children.forEachAt(f,g,function(y,p,b){y.formatAt(p,b,v,j)})},h.prototype.insertAt=function(f,g,v){var j=this.children.find(f),y=j[0],p=j[1];if(y)y.insertAt(p,g,v);else{var b=v==null?c.create("text",g):c.create(g,v);this.appendChild(b)}},h.prototype.insertBefore=function(f,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return f instanceof v}))throw new c.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,g)},h.prototype.length=function(){return this.children.reduce(function(f,g){return f+g.length()},0)},h.prototype.moveChildren=function(f,g){this.children.forEach(function(v){f.insertBefore(v,g)})},h.prototype.optimize=function(f){if(m.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(f)}else this.remove()},h.prototype.path=function(f,g){g===void 0&&(g=!1);var v=this.children.find(f,g),j=v[0],y=v[1],p=[[this,f]];return j instanceof h?p.concat(j.path(y,g)):(j!=null&&p.push([j,y]),p)},h.prototype.removeChild=function(f){this.children.remove(f)},h.prototype.replace=function(f){f instanceof h&&f.moveChildren(this),m.prototype.replace.call(this,f)},h.prototype.split=function(f,g){if(g===void 0&&(g=!1),!g){if(f===0)return this;if(f===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(f,this.length(),function(j,y,p){j=j.split(y,g),v.appendChild(j)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(f,g){var v=this,j=[],y=[];f.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(j.push.apply(j,p.addedNodes),y.push.apply(y,p.removedNodes))}),y.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=c.find(p);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===v.domNode)&&b.detach()}}),j.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,b){return p===b?0:p.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var b=null;p.nextSibling!=null&&(b=c.find(p.nextSibling));var w=d(p);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(v),v.insertBefore(w,b||void 0))})},h}(l.default);function d(m){var h=c.find(m);if(h==null)try{h=c.create(m)}catch{h=c.create(c.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(g){h.domNode.appendChild(g)}),m.parentNode&&m.parentNode.replaceChild(h.domNode,m),h.attach()}return h}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)f.hasOwnProperty(g)&&(h[g]=f[g])};return function(h,f){m(h,f);function g(){this.constructor=h}h.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),l=i(31),c=i(17),u=i(1),d=function(m){a(h,m);function h(f){var g=m.call(this,f)||this;return g.attributes=new l.default(g.domNode),g}return h.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},h.prototype.format=function(f,g){var v=u.query(f);v instanceof o.default?this.attributes.attribute(v,g):g&&v!=null&&(f!==this.statics.blotName||this.formats()[f]!==g)&&this.replaceWith(f,g)},h.prototype.formats=function(){var f=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(f[this.statics.blotName]=g),f},h.prototype.replaceWith=function(f,g){var v=m.prototype.replaceWith.call(this,f,g);return this.attributes.copy(v),v},h.prototype.update=function(f,g){var v=this;m.prototype.update.call(this,f,g),f.some(function(j){return j.target===v.domNode&&j.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(f,g){var v=m.prototype.wrap.call(this,f,g);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(c.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),l=i(1),c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(m){return!0},d.prototype.index=function(m,h){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(m,h){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(f+=1),[this.parent.domNode,f]},d.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},d.scope=l.Scope.INLINE_BLOT,d}(o.default);n.default=c},function(r,n,i){var a=i(11),o=i(3),l={attributes:{compose:function(u,d,m){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=o(!0,{},d);m||(h=Object.keys(h).reduce(function(g,v){return h[v]!=null&&(g[v]=h[v]),g},{}));for(var f in u)u[f]!==void 0&&d[f]===void 0&&(h[f]=u[f]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var m=Object.keys(u).concat(Object.keys(d)).reduce(function(h,f){return a(u[f],d[f])||(h[f]=d[f]===void 0?null:d[f]),h},{});return Object.keys(m).length>0?m:void 0},transform:function(u,d,m){if(typeof u!="object")return d;if(typeof d=="object"){if(!m)return d;var h=Object.keys(d).reduce(function(f,g){return u[g]===void 0&&(f[g]=d[g]),f},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var m=this.offset,h=l.length(d);if(u>=h-m?(u=h-m,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var f={};return d.attributes&&(f.attributes=d.attributes),typeof d.retain=="number"?f.retain=u:typeof d.insert=="string"?f.insert=d.insert.substr(m,u):f.insert=d.insert,f}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,m=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[m].concat(h)}else return[]},r.exports=l},function(r,n){var i=function(){function a(v,j){return j!=null&&v instanceof j}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,j,y,p,b){typeof j=="object"&&(y=j.depth,p=j.prototype,b=j.includeNonEnumerable,j=j.circular);var w=[],S=[],R=typeof Buffer<"u";typeof j>"u"&&(j=!0),typeof y>"u"&&(y=1/0);function N(k,E){if(k===null)return null;if(E===0)return k;var T,_;if(typeof k!="object")return k;if(a(k,o))T=new o;else if(a(k,l))T=new l;else if(a(k,c))T=new c(function(D,F){k.then(function(H){D(N(H,E-1))},function(H){F(N(H,E-1))})});else if(u.__isArray(k))T=[];else if(u.__isRegExp(k))T=new RegExp(k.source,g(k)),k.lastIndex&&(T.lastIndex=k.lastIndex);else if(u.__isDate(k))T=new Date(k.getTime());else{if(R&&Buffer.isBuffer(k))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(k.length):T=new Buffer(k.length),k.copy(T),T;a(k,Error)?T=Object.create(k):typeof p>"u"?(_=Object.getPrototypeOf(k),T=Object.create(_)):(T=Object.create(p),_=p)}if(j){var A=w.indexOf(k);if(A!=-1)return S[A];w.push(k),S.push(T)}a(k,o)&&k.forEach(function(D,F){var H=N(F,E-1),W=N(D,E-1);T.set(H,W)}),a(k,l)&&k.forEach(function(D){var F=N(D,E-1);T.add(F)});for(var C in k){var O;_&&(O=Object.getOwnPropertyDescriptor(_,C)),!(O&&O.set==null)&&(T[C]=N(k[C],E-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(k),C=0;C<U.length;C++){var L=U[C],q=Object.getOwnPropertyDescriptor(k,L);q&&!q.enumerable&&!b||(T[L]=N(k[L],E-1),q.enumerable||Object.defineProperty(T,L,{enumerable:!1}))}if(b)for(var M=Object.getOwnPropertyNames(k),C=0;C<M.length;C++){var z=M[C],q=Object.getOwnPropertyDescriptor(k,z);q&&q.enumerable||(T[z]=N(k[z],E-1),Object.defineProperty(T,z,{enumerable:!1}))}return T}return N(v,y)}u.clonePrototype=function(j){if(j===null)return null;var y=function(){};return y.prototype=j,new y};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function m(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=m;function h(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=h;function f(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=f;function g(v){var j="";return v.global&&(j+="g"),v.ignoreCase&&(j+="i"),v.multiline&&(j+="m"),j}return u.__getRegExpFlags=g,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function T(_,A){var C=[],O=!0,U=!1,L=void 0;try{for(var q=_[Symbol.iterator](),M;!(O=(M=q.next()).done)&&(C.push(M.value),!(A&&C.length===A));O=!0);}catch(z){U=!0,L=z}finally{try{!O&&q.return&&q.return()}finally{if(U)throw L}}return C}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(_,A){for(var C=0;C<A.length;C++){var O=A[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,A,C){return A&&T(_.prototype,A),C&&T(_,C),_}}(),l=function T(_,A,C){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,A);if(O===void 0){var U=Object.getPrototypeOf(_);return U===null?void 0:T(U,A,C)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(C)}},c=i(0),u=w(c),d=i(8),m=w(d),h=i(4),f=w(h),g=i(16),v=w(g),j=i(13),y=w(j),p=i(25),b=w(p);function w(T){return T&&T.__esModule?T:{default:T}}function S(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function R(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function N(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}function k(T){return T instanceof f.default||T instanceof h.BlockEmbed}var E=function(T){N(_,T);function _(A,C){S(this,_);var O=R(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return O.emitter=C.emitter,Array.isArray(C.whitelist)&&(O.whitelist=C.whitelist.reduce(function(U,L){return U[L]=!0,U},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,O){var U=this.line(C),L=a(U,2),q=L[0],M=L[1],z=this.line(C+O),D=a(z,1),F=D[0];if(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,C,O),F!=null&&q!==F&&M>0){if(q instanceof h.BlockEmbed||F instanceof h.BlockEmbed){this.optimize();return}if(q instanceof y.default){var H=q.newlineIndex(q.length(),!0);if(H>-1&&(q=q.split(H+1),q===F)){this.optimize();return}}else if(F instanceof y.default){var W=F.newlineIndex(0);W>-1&&F.split(W+1)}var Q=F.children.head instanceof v.default?null:F.children.head;q.moveChildren(F,Q),q.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,O,U,L){this.whitelist!=null&&!this.whitelist[U]||(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,C,O,U,L),this.optimize())}},{key:"insertAt",value:function(C,O,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[O])){if(C>=this.length())if(U==null||u.default.query(O,u.default.Scope.BLOCK)==null){var L=u.default.create(this.statics.defaultChild);this.appendChild(L),U==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),L.insertAt(0,O,U)}else{var q=u.default.create(O,U);this.appendChild(q)}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,C,O,U);this.optimize()}}},{key:"insertBefore",value:function(C,O){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(C),C=U}l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,C,O)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(k,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function L(q,M,z){var D=[],F=z;return q.children.forEachAt(M,z,function(H,W,Q){k(H)?D.push(H):H instanceof u.default.Container&&(D=D.concat(L(H,W,F))),F-=Q}),D};return U(this,C,O)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,C,O),C.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,C,O))}},{key:"path",value:function(C){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var O=m.default.sources.USER;typeof C=="string"&&(O=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,O,C),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,O,C)}}}]),_}(u.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[f.default,h.BlockEmbed,b.default],n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(K,J){var $=[],Z=!0,se=!1,pe=void 0;try{for(var te=K[Symbol.iterator](),ge;!(Z=(ge=te.next()).done)&&($.push(ge.value),!(J&&$.length===J));Z=!0);}catch(Pe){se=!0,pe=Pe}finally{try{!Z&&te.return&&te.return()}finally{if(se)throw pe}}return $}return function(K,J){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return G(K,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(K,J){for(var $=0;$<J.length;$++){var Z=J[$];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(K,Z.key,Z)}}return function(K,J,$){return J&&G(K.prototype,J),$&&G(K,$),K}}(),c=i(21),u=T(c),d=i(11),m=T(d),h=i(3),f=T(h),g=i(2),v=T(g),j=i(20),y=T(j),p=i(0),b=T(p),w=i(5),S=T(w),R=i(10),N=T(R),k=i(9),E=T(k);function T(G){return G&&G.__esModule?G:{default:G}}function _(G,K,J){return K in G?Object.defineProperty(G,K,{value:J,enumerable:!0,configurable:!0,writable:!0}):G[K]=J,G}function A(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function C(G,K){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:G}function O(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(G,K):G.__proto__=K)}var U=(0,N.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(G){O(K,G),l(K,null,[{key:"match",value:function($,Z){return Z=X(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(se){return!!Z[se]!==$[se]&&Z[se]!==null})?!1:Z.key===($.which||$.keyCode)}}]);function K(J,$){A(this,K);var Z=C(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,J,$));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(se){se==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||Z.options.bindings[se]&&Z.addBinding(Z.options.bindings[se])}),Z.addBinding({key:K.keys.ENTER,shiftKey:null},H),Z.addBinding({key:K.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!0},z),Z.addBinding({key:K.keys.DELETE},{collapsed:!0},D)):(Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},z),Z.addBinding({key:K.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),Z.addBinding({key:K.keys.BACKSPACE},{collapsed:!1},F),Z.addBinding({key:K.keys.DELETE},{collapsed:!1},F),Z.addBinding({key:K.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},z),Z.listen(),Z}return l(K,[{key:"addBinding",value:function($){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=X($);if(pe==null||pe.key==null)return U.warn("Attempted to add invalid keyboard binding",pe);typeof Z=="function"&&(Z={handler:Z}),typeof se=="function"&&(se={handler:se}),pe=(0,f.default)(pe,Z,se),this.bindings[pe.key]=this.bindings[pe.key]||[],this.bindings[pe.key].push(pe)}},{key:"listen",value:function(){var $=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var se=Z.which||Z.keyCode,pe=($.bindings[se]||[]).filter(function(bt){return K.match(Z,bt)});if(pe.length!==0){var te=$.quill.getSelection();if(!(te==null||!$.quill.hasFocus())){var ge=$.quill.getLine(te.index),Pe=o(ge,2),Xe=Pe[0],mt=Pe[1],oe=$.quill.getLeaf(te.index),ue=o(oe,2),ye=ue[0],we=ue[1],ne=te.length===0?[ye,we]:$.quill.getLeaf(te.index+te.length),Be=o(ne,2),Fe=Be[0],$e=Be[1],Ht=ye instanceof b.default.Text?ye.value().slice(0,we):"",ut=Fe instanceof b.default.Text?Fe.value().slice($e):"",Ge={collapsed:te.length===0,empty:te.length===0&&Xe.length()<=1,format:$.quill.getFormat(te),offset:mt,prefix:Ht,suffix:ut},Sr=pe.some(function(bt){if(bt.collapsed!=null&&bt.collapsed!==Ge.collapsed||bt.empty!=null&&bt.empty!==Ge.empty||bt.offset!=null&&bt.offset!==Ge.offset)return!1;if(Array.isArray(bt.format)){if(bt.format.every(function(Jt){return Ge.format[Jt]==null}))return!1}else if(a(bt.format)==="object"&&!Object.keys(bt.format).every(function(Jt){return bt.format[Jt]===!0?Ge.format[Jt]!=null:bt.format[Jt]===!1?Ge.format[Jt]==null:(0,m.default)(bt.format[Jt],Ge.format[Jt])}))return!1;return bt.prefix!=null&&!bt.prefix.test(Ge.prefix)||bt.suffix!=null&&!bt.suffix.test(Ge.suffix)?!1:bt.handler.call($,te,Ge)!==!0});Sr&&Z.preventDefault()}}}})}}]),K}(E.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(K,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(K,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(K,J){J.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(K){this.quill.deleteText(K.index-1,1,S.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(K){this.quill.history.cutoff();var J=new v.default().retain(K.index).delete(K.length).insert("	");this.quill.updateContents(J,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,S.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(K,J){this.quill.format("list",!1,S.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(K){var J=this.quill.getLine(K.index),$=o(J,2),Z=$[0],se=$[1],pe=(0,f.default)({},Z.formats(),{list:"checked"}),te=new v.default().retain(K.index).insert(`
`,pe).retain(Z.length()-se-1).retain(1,{list:"unchecked"});this.quill.updateContents(te,S.default.sources.USER),this.quill.setSelection(K.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(K,J){var $=this.quill.getLine(K.index),Z=o($,2),se=Z[0],pe=Z[1],te=new v.default().retain(K.index).insert(`
`,J.format).retain(se.length()-pe-1).retain(1,{header:null});this.quill.updateContents(te,S.default.sources.USER),this.quill.setSelection(K.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(K,J){var $=J.prefix.length,Z=this.quill.getLine(K.index),se=o(Z,2),pe=se[0],te=se[1];if(te>$)return!0;var ge=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(K.index," ",S.default.sources.USER),this.quill.history.cutoff();var Pe=new v.default().retain(K.index-te).delete($+1).retain(pe.length()-2-te).retain(1,{list:ge});this.quill.updateContents(Pe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-$,S.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(K){var J=this.quill.getLine(K.index),$=o(J,2),Z=$[0],se=$[1],pe=new v.default().retain(K.index+Z.length()-se-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(pe,S.default.sources.USER)}},"embed left":M(q.keys.LEFT,!1),"embed left shift":M(q.keys.LEFT,!0),"embed right":M(q.keys.RIGHT,!1),"embed right shift":M(q.keys.RIGHT,!0)}};function M(G,K){var J,$=G===q.keys.LEFT?"prefix":"suffix";return J={key:G,shiftKey:K,altKey:null},_(J,$,/^$/),_(J,"handler",function(se){var pe=se.index;G===q.keys.RIGHT&&(pe+=se.length+1);var te=this.quill.getLeaf(pe),ge=o(te,1),Pe=ge[0];return Pe instanceof b.default.Embed?(G===q.keys.LEFT?K?this.quill.setSelection(se.index-1,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index-1,S.default.sources.USER):K?this.quill.setSelection(se.index,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index+se.length+1,S.default.sources.USER),!1):!0}),J}function z(G,K){if(!(G.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(G.index),$=o(J,1),Z=$[0],se={};if(K.offset===0){var pe=this.quill.getLine(G.index-1),te=o(pe,1),ge=te[0];if(ge!=null&&ge.length()>1){var Pe=Z.formats(),Xe=this.quill.getFormat(G.index-1,1);se=y.default.attributes.diff(Pe,Xe)||{}}}var mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(K.prefix)?2:1;this.quill.deleteText(G.index-mt,mt,S.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(G.index-mt,mt,se,S.default.sources.USER),this.quill.focus()}}function D(G,K){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(K.suffix)?2:1;if(!(G.index>=this.quill.getLength()-J)){var $={},Z=0,se=this.quill.getLine(G.index),pe=o(se,1),te=pe[0];if(K.offset>=te.length()-1){var ge=this.quill.getLine(G.index+1),Pe=o(ge,1),Xe=Pe[0];if(Xe){var mt=te.formats(),oe=this.quill.getFormat(G.index,1);$=y.default.attributes.diff(mt,oe)||{},Z=Xe.length()}}this.quill.deleteText(G.index,J,S.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(G.index+Z-1,J,$,S.default.sources.USER)}}function F(G){var K=this.quill.getLines(G),J={};if(K.length>1){var $=K[0].formats(),Z=K[K.length-1].formats();J=y.default.attributes.diff(Z,$)||{}}this.quill.deleteText(G,S.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(G.index,1,J,S.default.sources.USER),this.quill.setSelection(G.index,S.default.sources.SILENT),this.quill.focus()}function H(G,K){var J=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var $=Object.keys(K.format).reduce(function(Z,se){return b.default.query(se,b.default.Scope.BLOCK)&&!Array.isArray(K.format[se])&&(Z[se]=K.format[se]),Z},{});this.quill.insertText(G.index,`
`,$,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(K.format).forEach(function(Z){$[Z]==null&&(Array.isArray(K.format[Z])||Z!=="link"&&J.quill.format(Z,K.format[Z],S.default.sources.USER))})}function W(G){return{key:q.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(J){var $=b.default.query("code-block"),Z=J.index,se=J.length,pe=this.quill.scroll.descendant($,Z),te=o(pe,2),ge=te[0],Pe=te[1];if(ge!=null){var Xe=this.quill.getIndex(ge),mt=ge.newlineIndex(Pe,!0)+1,oe=ge.newlineIndex(Xe+Pe+se),ue=ge.domNode.textContent.slice(mt,oe).split(`
`);Pe=0,ue.forEach(function(ye,we){G?(ge.insertAt(mt+Pe,$.TAB),Pe+=$.TAB.length,we===0?Z+=$.TAB.length:se+=$.TAB.length):ye.startsWith($.TAB)&&(ge.deleteAt(mt+Pe,$.TAB.length),Pe-=$.TAB.length,we===0?Z-=$.TAB.length:se-=$.TAB.length),Pe+=ye.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Z,se,S.default.sources.SILENT)}}}}function Q(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(J,$){this.quill.format(G,!$.format[G],S.default.sources.USER)}}}function X(G){if(typeof G=="string"||typeof G=="number")return X({key:G});if((typeof G>"u"?"undefined":a(G))==="object"&&(G=(0,u.default)(G,!1)),typeof G.key=="string")if(q.keys[G.key.toUpperCase()]!=null)G.key=q.keys[G.key.toUpperCase()];else if(G.key.length===1)G.key=G.key.toUpperCase().charCodeAt(0);else return null;return G.shortKey&&(G[L]=G.shortKey,delete G.shortKey),G}n.default=q,n.SHORTKEY=L},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(p,b){var w=[],S=!0,R=!1,N=void 0;try{for(var k=p[Symbol.iterator](),E;!(S=(E=k.next()).done)&&(w.push(E.value),!(b&&w.length===b));S=!0);}catch(T){R=!0,N=T}finally{try{!S&&k.return&&k.return()}finally{if(R)throw N}}return w}return function(p,b){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return y(p,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(p,b,w){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,b);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,b,w)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(w)}},l=function(){function y(p,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,b,w){return b&&y(p.prototype,b),w&&y(p,w),p}}(),c=i(0),u=h(c),d=i(7),m=h(d);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function g(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function v(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var j=function(y){v(p,y),l(p,null,[{key:"value",value:function(){}}]);function p(b,w){f(this,p);var S=g(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b));return S.selection=w,S.textNode=document.createTextNode(p.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return l(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,S){if(this._length!==0)return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,S);for(var R=this,N=0;R!=null&&R.statics.scope!==u.default.Scope.BLOCK_BLOT;)N+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=p.CONTENTS.length,R.optimize(),R.formatAt(N,p.CONTENTS.length,w,S),this._length=0)}},{key:"index",value:function(w,S){return w===this.textNode?0:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,S=this.selection.getNativeRange(),R=void 0,N=void 0,k=void 0;if(S!=null&&S.start.node===w&&S.end.node===w){var E=[w,S.start.offset,S.end.offset];R=E[0],N=E[1],k=E[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof m.default?(R=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var _=[N,k].map(function(C){return Math.max(0,Math.min(R.data.length,C-1))}),A=a(_,2);return N=A[0],k=A[1],{startNode:R,startOffset:N,endNode:R,endOffset:k}}}}},{key:"update",value:function(w,S){var R=this;if(w.some(function(k){return k.type==="characterData"&&k.target===R.textNode})){var N=this.restore();N&&(S.range=N)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);j.blotName="cursor",j.className="ql-cursor",j.tagName="span",j.CONTENTS="\uFEFF",n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),l=i(4),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);f.allowedChildren=[c.default,l.BlockEmbed,f],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function j(y,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,b){return p&&j(y.prototype,p),b&&j(y,b),y}}(),o=function j(y,p,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:j(S,p,b)}else{if("value"in w)return w.value;var R=w.get;return R===void 0?void 0:R.call(b)}},l=i(0),c=u(l);function u(j){return j&&j.__esModule?j:{default:j}}function d(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function m(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function h(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var f=function(j){h(y,j);function y(){return d(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(b){var w=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):w}}]),y}(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new f("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=f,n.ColorClass=g,n.ColorStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function v(j,y){for(var p=0;p<y.length;p++){var b=y[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(j,b.key,b)}}return function(j,y,p){return y&&v(j.prototype,y),p&&v(j,p),j}}(),o=function v(j,y,p){j===null&&(j=Function.prototype);var b=Object.getOwnPropertyDescriptor(j,y);if(b===void 0){var w=Object.getPrototypeOf(j);return w===null?void 0:v(w,y,p)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(p)}},l=i(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function m(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function h(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var f=function(v){h(j,v);function j(){return d(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(p,b){if(p!==this.statics.blotName||!b)return o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,p,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(p){var b=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,p);return p=this.sanitize(p),b.setAttribute("href",p),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return g(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),j}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(v,j){var y=document.createElement("a");y.href=v;var p=y.href.slice(0,y.href.indexOf(":"));return j.indexOf(p)>-1}n.default=f,n.sanitize=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(y,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,b){return p&&j(y.prototype,p),b&&j(y,b),y}}(),l=i(23),c=m(l),u=i(107),d=m(u);function m(j){return j&&j.__esModule?j:{default:j}}function h(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}var f=0;function g(j,y){j.setAttribute(y,j.getAttribute(y)!=="true")}var v=function(){function j(y){var p=this;h(this,j),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case c.default.keys.ENTER:p.togglePicker();break;case c.default.keys.ESCAPE:p.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(j,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),p.hasAttribute("value")&&w.setAttribute("data-value",p.getAttribute("value")),p.textContent&&w.setAttribute("data-label",p.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(S){switch(S.keyCode){case c.default.keys.ENTER:b.selectItem(w,!0),S.preventDefault();break;case c.default.keys.ESCAPE:b.escape(),S.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=d.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var S=p.buildItem(w);b.appendChild(S),w.selected===!0&&p.selectItem(S)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(b){p.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(p!==w&&(w!=null&&w.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),j}();n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=U(a),l=i(5),c=U(l),u=i(4),d=U(u),m=i(16),h=U(m),f=i(25),g=U(f),v=i(24),j=U(v),y=i(35),p=U(y),b=i(6),w=U(b),S=i(22),R=U(S),N=i(7),k=U(N),E=i(55),T=U(E),_=i(42),A=U(_),C=i(23),O=U(C);function U(L){return L&&L.__esModule?L:{default:L}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":g.default,"blots/cursor":j.default,"blots/embed":p.default,"blots/inline":w.default,"blots/scroll":R.default,"blots/text":k.default,"modules/clipboard":T.default,"modules/history":A.default,"modules/keyboard":O.default}),o.default.register(d.default,h.default,j.default,w.default,R.default,k.default),n.default=c.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},l.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},l.prototype.formatAt=function(c,u,d,m){var h=this.isolate(c,u);if(a.query(d,a.Scope.BLOT)!=null&&m)h.wrap(d,m);else if(a.query(d,a.Scope.ATTRIBUTE)!=null){var f=a.create(this.statics.scope);h.wrap(f),f.format(d,m)}},l.prototype.insertAt=function(c,u,d){var m=d==null?a.create("text",u):a.create(u,d),h=this.split(c);this.parent.insertBefore(m,h)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var d=typeof c=="string"?a.create(c,u):c;return d.replace(this),d},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var d=typeof c=="string"?a.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),l=i(33),c=i(1),u=function(){function d(m){this.attributes={},this.domNode=m,this.build()}return d.prototype.attribute=function(m,h){h?m.add(this.domNode,h)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},d.prototype.build=function(){var m=this;this.attributes={};var h=a.default.keys(this.domNode),f=o.default.keys(this.domNode),g=l.default.keys(this.domNode);h.concat(f).concat(g).forEach(function(v){var j=c.query(v,c.Scope.ATTRIBUTE);j instanceof a.default&&(m.attributes[j.attrName]=j)})},d.prototype.copy=function(m){var h=this;Object.keys(this.attributes).forEach(function(f){var g=h.attributes[f].value(h.domNode);m.format(f,g)})},d.prototype.move=function(m){var h=this;this.copy(m),Object.keys(this.attributes).forEach(function(f){h.attributes[f].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(h,f){return h[f]=m.attributes[f].value(m.domNode),h},{})},d}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(u,d){var m=u.getAttribute("class")||"";return m.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(m,h){return this.canAdd(m,h)?(this.remove(m),m.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(m){var h=l(m,this.keyName);h.forEach(function(f){m.classList.remove(f)}),m.classList.length===0&&m.removeAttribute("class")},d.prototype.value=function(m){var h=l(m,this.keyName)[0]||"",f=h.slice(this.keyName.length+1);return this.canAdd(m,f)?f:""},d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(u){var d=u.split("-"),m=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+m}var c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(h){var f=h.split(":");return f[0].trim()})},d.prototype.add=function(m,h){return this.canAdd(m,h)?(m.style[l(this.keyName)]=h,!0):!1},d.prototype.remove=function(m){m.style[l(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},d.prototype.value=function(m){var h=m.style[l(this.keyName)];return this.canAdd(m,h)?h:""},d}(o.default);n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,d){for(var m=0;m<d.length;m++){var h=d[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,m){return d&&c(u.prototype,d),m&&c(u,m),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){o(this,c),this.quill=u,this.options=d,this.modules={}}return a(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(m){d.modules[m]==null&&d.addModule(m)})}},{key:"addModule",value:function(d){var m=this.quill.constructor.import("modules/"+d);return this.modules[d]=new m(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(p,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,b,w){return b&&y(p.prototype,b),w&&y(p,w),p}}(),o=function y(p,b,w){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,b);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,b,w)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(w)}},l=i(0),c=m(l),u=i(7),d=m(u);function m(y){return y&&y.__esModule?y:{default:y}}function h(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function f(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function g(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var v="\uFEFF",j=function(y){g(p,y);function p(b){h(this,p);var w=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(S){w.contentNode.appendChild(S)}),w.leftGuard=document.createTextNode(v),w.rightGuard=document.createTextNode(v),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return a(p,[{key:"index",value:function(w,S){return w===this.leftGuard?0:w===this.rightGuard?1:o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,w,S)}},{key:"restore",value:function(w){var S=void 0,R=void 0,N=w.data.split(v).join("");if(w===this.leftGuard)if(this.prev instanceof d.default){var k=this.prev.length();this.prev.insertAt(k,N),S={startNode:this.prev.domNode,startOffset:k+N.length}}else R=document.createTextNode(N),this.parent.insertBefore(c.default.create(R),this),S={startNode:R,startOffset:N.length};else w===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,N),S={startNode:this.next.domNode,startOffset:N.length}):(R=document.createTextNode(N),this.parent.insertBefore(c.default.create(R),this.next),S={startNode:R,startOffset:N.length}));return w.data=v,S}},{key:"update",value:function(w,S){var R=this;w.forEach(function(N){if(N.type==="characterData"&&(N.target===R.leftGuard||N.target===R.rightGuard)){var k=R.restore(N.target);k&&(S.range=k)}})}}]),p}(c.default.Embed);n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),d=new o.default.Attributor.Class("align","ql-align",c),m=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=d,n.AlignStyle=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=c(a),l=i(26);function c(m){return m&&m.__esModule?m:{default:m}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),d=new o.default.Attributor.Class("direction","ql-direction",c),m=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=d,n.DirectionStyle=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(p,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,b,w){return b&&y(p.prototype,b),w&&y(p,w),p}}(),o=function y(p,b,w){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,b);if(S===void 0){var R=Object.getPrototypeOf(p);return R===null?void 0:y(R,b,w)}else{if("value"in S)return S.value;var N=S.get;return N===void 0?void 0:N.call(w)}},l=i(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function m(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function h(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var f={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",f),v=function(y){h(p,y);function p(){return d(this,p),m(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"value",value:function(w){return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),p}(c.default.Attributor.Style),j=new v("font","font-family",f);n.FontStyle=j,n.FontClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=l(a);function l(d){return d&&d.__esModule?d:{default:d}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function b(w,S){for(var R=0;R<S.length;R++){var N=S[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,S,R){return S&&b(w.prototype,S),R&&b(w,R),w}}(),o=i(0),l=h(o),c=i(5),u=h(c),d=i(9),m=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function v(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var j=function(b){v(w,b);function w(S,R){f(this,w);var N=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,R));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(u.default.events.EDITOR_CHANGE,function(k,E,T,_){k!==u.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||_===u.default.sources.USER?N.record(E,T):N.transform(E))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return a(w,[{key:"change",value:function(R,N){if(this.stack[R].length!==0){var k=this.stack[R].pop();this.stack[N].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[R],u.default.sources.USER),this.ignoreChange=!1;var E=p(k[R]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,N){if(R.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(N),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var T=this.stack.undo.pop();k=k.compose(T.undo),R=T.redo.compose(R)}else this.lastRecorded=E;this.stack.undo.push({redo:R,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(N){N.undo=R.transform(N.undo,!0),N.redo=R.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=R.transform(N.undo,!0),N.redo=R.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(m.default);j.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(S){return l.default.query(S,l.default.Scope.BLOCK)!=null}):!1}function p(b){var w=b.reduce(function(R,N){return R+=N.delete||0,R},0),S=b.length()-w;return y(b)&&(S-=1),S}n.default=j,n.getLastChangeIndex=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function H(W,Q){for(var X=0;X<Q.length;X++){var G=Q[X];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,Q,X){return Q&&H(W.prototype,Q),X&&H(W,X),W}}(),o=function H(W,Q,X){W===null&&(W=Function.prototype);var G=Object.getOwnPropertyDescriptor(W,Q);if(G===void 0){var K=Object.getPrototypeOf(W);return K===null?void 0:H(K,Q,X)}else{if("value"in G)return G.value;var J=G.get;return J===void 0?void 0:J.call(X)}},l=i(3),c=E(l),u=i(2),d=E(u),m=i(8),h=E(m),f=i(23),g=E(f),v=i(34),j=E(v),y=i(59),p=E(y),b=i(60),w=E(b),S=i(28),R=E(S),N=i(61),k=E(N);function E(H){return H&&H.__esModule?H:{default:H}}function T(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}function _(H,W){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:H}function A(H,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);H.prototype=Object.create(W&&W.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(H,W):H.__proto__=W)}var C=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],L=["1","2","3",!1],q=["small",!1,"large","huge"],M=function(H){A(W,H);function W(Q,X){T(this,W);var G=_(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,X)),K=function J($){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",J);G.tooltip!=null&&!G.tooltip.root.contains($.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(Z){Z.container.contains($.target)||Z.close()})};return Q.emitter.listenDOM("click",document.body,K),G}return a(W,[{key:"addModule",value:function(X){var G=o(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(X,G){X.forEach(function(K){var J=K.getAttribute("class")||"";J.split(/\s+/).forEach(function($){if($.startsWith("ql-")&&($=$.slice(3),G[$]!=null))if($==="direction")K.innerHTML=G[$][""]+G[$].rtl;else if(typeof G[$]=="string")K.innerHTML=G[$];else{var Z=K.value||"";Z!=null&&G[$][Z]&&(K.innerHTML=G[$][Z])}})})}},{key:"buildPickers",value:function(X,G){var K=this;this.pickers=X.map(function($){if($.classList.contains("ql-align"))return $.querySelector("option")==null&&F($,C),new w.default($,G.align);if($.classList.contains("ql-background")||$.classList.contains("ql-color")){var Z=$.classList.contains("ql-background")?"background":"color";return $.querySelector("option")==null&&F($,O,Z==="background"?"#ffffff":"#000000"),new p.default($,G[Z])}else return $.querySelector("option")==null&&($.classList.contains("ql-font")?F($,U):$.classList.contains("ql-header")?F($,L):$.classList.contains("ql-size")&&F($,q)),new R.default($)});var J=function(){K.pickers.forEach(function(Z){Z.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,J)}}]),W}(j.default);M.DEFAULTS=(0,c.default)(!0,{},j.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var X=new FileReader;X.onload=function(G){var K=W.quill.getSelection(!0);W.quill.updateContents(new d.default().retain(K.index).delete(K.length).insert({image:G.target.result}),h.default.sources.USER),W.quill.setSelection(K.index+1,h.default.sources.SILENT),Q.value=""},X.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var z=function(H){A(W,H);function W(Q,X){T(this,W);var G=_(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Q,X));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return a(W,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(G){g.default.match(G,"enter")?(X.save(),G.preventDefault()):g.default.match(G,"escape")&&(X.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,h.default.sources.USER)),this.quill.root.scrollTop=G;break}case"video":X=D(X);case"formula":{if(!X)break;var K=this.quill.getSelection(!0);if(K!=null){var J=K.index+K.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),X,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",h.default.sources.USER),this.quill.setSelection(J+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(k.default);function D(H){var W=H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=H.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":H}function F(H,W){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(X){var G=document.createElement("option");X===Q?G.setAttribute("selected","selected"):G.setAttribute("value",X),H.appendChild(G)})}n.BaseTooltip=z,n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var m=u.length();if(l<m||c&&l===m&&(u.next==null||u.next.length()!==0))return[u,l];l-=m}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var d=this.find(l),m=d[0],h=d[1],f,g=l-h,v=this.iterator(m);(f=v())&&g<l+c;){var j=f.length();l>g?u(f,l-g,Math.min(c,g+j-l)):u(f,0,Math.min(j,l+c-g)),g+=j}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,d=this.iterator();u=d();)c=l(c,u);return c},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)f.hasOwnProperty(g)&&(h[g]=f[g])};return function(h,f){m(h,f);function g(){this.constructor=h}h.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(m){a(h,m);function h(f){var g=m.call(this,f)||this;return g.scroll=g,g.observer=new MutationObserver(function(v){g.update(v)}),g.observer.observe(g.domNode,c),g.attach(),g}return h.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(f,g){this.update(),f===0&&g===this.length()?this.children.forEach(function(v){v.remove()}):m.prototype.deleteAt.call(this,f,g)},h.prototype.formatAt=function(f,g,v,j){this.update(),m.prototype.formatAt.call(this,f,g,v,j)},h.prototype.insertAt=function(f,g,v){this.update(),m.prototype.insertAt.call(this,f,g,v)},h.prototype.optimize=function(f,g){var v=this;f===void 0&&(f=[]),g===void 0&&(g={}),m.prototype.optimize.call(this,g);for(var j=[].slice.call(this.observer.takeRecords());j.length>0;)f.push(j.pop());for(var y=function(S,R){R===void 0&&(R=!0),!(S==null||S===v)&&S.domNode.parentNode!=null&&(S.domNode[l.DATA_KEY].mutations==null&&(S.domNode[l.DATA_KEY].mutations=[]),R&&y(S.parent))},p=function(S){S.domNode[l.DATA_KEY]==null||S.domNode[l.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(p),S.optimize(g))},b=f,w=0;b.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(S){var R=l.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(y(l.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(N){var k=l.find(N,!1);y(k,!1),k instanceof o.default&&k.children.forEach(function(E){y(E,!1)})})):S.type==="attributes"&&y(R.prev)),y(R))}),this.children.forEach(p),b=[].slice.call(this.observer.takeRecords()),j=b.slice();j.length>0;)f.push(j.pop())}},h.prototype.update=function(f,g){var v=this;g===void 0&&(g={}),f=f||this.observer.takeRecords(),f.map(function(j){var y=l.find(j.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[j],y):(y.domNode[l.DATA_KEY].mutations.push(j),null)}).forEach(function(j){j==null||j===v||j.domNode[l.DATA_KEY]==null||j.update(j.domNode[l.DATA_KEY].mutations||[],g)}),this.domNode[l.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,g),this.optimize(f,g)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var f in h)h.hasOwnProperty(f)&&(m[f]=h[f])};return function(m,h){d(m,h);function f(){this.constructor=m}m.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1);function c(d,m){if(Object.keys(d).length!==Object.keys(m).length)return!1;for(var h in d)if(d[h]!==m[h])return!1;return!0}var u=function(d){a(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m.formats=function(h){if(h.tagName!==m.tagName)return d.formats.call(this,h)},m.prototype.format=function(h,f){var g=this;h===this.statics.blotName&&!f?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(m.blotName,!0)),g.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,h,f)},m.prototype.formatAt=function(h,f,g,v){if(this.formats()[g]!=null||l.query(g,l.Scope.ATTRIBUTE)){var j=this.isolate(h,f);j.format(g,v)}else d.prototype.formatAt.call(this,h,f,g,v)},m.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof m&&g.prev===this&&c(f,g.formats())&&(g.moveChildren(this),g.remove())},m.blotName="inline",m.scope=l.Scope.INLINE_BLOT,m.tagName="SPAN",m}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1),c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(m){var h=l.query(d.blotName).tagName;if(m.tagName!==h)return u.formats.call(this,m)},d.prototype.format=function(m,h){l.query(m,l.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,m,h))},d.prototype.formatAt=function(m,h,f,g){l.query(f,l.Scope.BLOCK)!=null?this.format(f,g):u.prototype.formatAt.call(this,m,h,f,g)},d.prototype.insertAt=function(m,h,f){if(f==null||l.query(h,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,m,h,f);else{var g=this.split(m),v=l.create(h,f);g.parent.insertBefore(v,g)}},d.prototype.update=function(m,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,m,h)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var m in d)d.hasOwnProperty(m)&&(u[m]=d[m])};return function(u,d){c(u,d);function m(){this.constructor=u}u.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,m){c.prototype.formatAt.call(this,0,this.length(),d,m)},u.prototype.formatAt=function(d,m,h,f){d===0&&m===this.length()?this.format(h,f):c.prototype.formatAt.call(this,d,m,h,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=i(1),c=function(u){a(d,u);function d(m){var h=u.call(this,m)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(m){return document.createTextNode(m)},d.value=function(m){var h=m.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(m,h){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+h)},d.prototype.index=function(m,h){return this.domNode===m?h:-1},d.prototype.insertAt=function(m,h,f){f==null?(this.text=this.text.slice(0,m)+h+this.text.slice(m),this.domNode.data=this.text):u.prototype.insertAt.call(this,m,h,f)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(m){u.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(m,h){return[this.domNode,m]},d.prototype.split=function(m,h){if(h===void 0&&(h=!1),!h){if(m===0)return this;if(m===this.length())return this.next}var f=l.create(this.domNode.splitText(m));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},d.prototype.update=function(m,h){var f=this;m.some(function(g){return g.type==="characterData"&&g.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(o.default);n.default=c},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var d=u.indexOf(l,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,m=arguments[1],h,f=0;f<d;f++)if(h=u[f],c.call(m,h,f,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function l(w,S,R){if(w==S)return w?[[o,w]]:[];(R<0||w.length<R)&&(R=null);var N=m(w,S),k=w.substring(0,N);w=w.substring(N),S=S.substring(N),N=h(w,S);var E=w.substring(w.length-N);w=w.substring(0,w.length-N),S=S.substring(0,S.length-N);var T=c(w,S);return k&&T.unshift([o,k]),E&&T.push([o,E]),g(T),R!=null&&(T=y(T,R)),T=p(T),T}function c(w,S){var R;if(!w)return[[a,S]];if(!S)return[[i,w]];var N=w.length>S.length?w:S,k=w.length>S.length?S:w,E=N.indexOf(k);if(E!=-1)return R=[[a,N.substring(0,E)],[o,k],[a,N.substring(E+k.length)]],w.length>S.length&&(R[0][0]=R[2][0]=i),R;if(k.length==1)return[[i,w],[a,S]];var T=f(w,S);if(T){var _=T[0],A=T[1],C=T[2],O=T[3],U=T[4],L=l(_,C),q=l(A,O);return L.concat([[o,U]],q)}return u(w,S)}function u(w,S){for(var R=w.length,N=S.length,k=Math.ceil((R+N)/2),E=k,T=2*k,_=new Array(T),A=new Array(T),C=0;C<T;C++)_[C]=-1,A[C]=-1;_[E+1]=0,A[E+1]=0;for(var O=R-N,U=O%2!=0,L=0,q=0,M=0,z=0,D=0;D<k;D++){for(var F=-D+L;F<=D-q;F+=2){var H=E+F,W;F==-D||F!=D&&_[H-1]<_[H+1]?W=_[H+1]:W=_[H-1]+1;for(var Q=W-F;W<R&&Q<N&&w.charAt(W)==S.charAt(Q);)W++,Q++;if(_[H]=W,W>R)q+=2;else if(Q>N)L+=2;else if(U){var X=E+O-F;if(X>=0&&X<T&&A[X]!=-1){var G=R-A[X];if(W>=G)return d(w,S,W,Q)}}}for(var K=-D+M;K<=D-z;K+=2){var X=E+K,G;K==-D||K!=D&&A[X-1]<A[X+1]?G=A[X+1]:G=A[X-1]+1;for(var J=G-K;G<R&&J<N&&w.charAt(R-G-1)==S.charAt(N-J-1);)G++,J++;if(A[X]=G,G>R)z+=2;else if(J>N)M+=2;else if(!U){var H=E+O-K;if(H>=0&&H<T&&_[H]!=-1){var W=_[H],Q=E+W-H;if(G=R-G,W>=G)return d(w,S,W,Q)}}}}return[[i,w],[a,S]]}function d(w,S,R,N){var k=w.substring(0,R),E=S.substring(0,N),T=w.substring(R),_=S.substring(N),A=l(k,E),C=l(T,_);return A.concat(C)}function m(w,S){if(!w||!S||w.charAt(0)!=S.charAt(0))return 0;for(var R=0,N=Math.min(w.length,S.length),k=N,E=0;R<k;)w.substring(E,k)==S.substring(E,k)?(R=k,E=R):N=k,k=Math.floor((N-R)/2+R);return k}function h(w,S){if(!w||!S||w.charAt(w.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,N=Math.min(w.length,S.length),k=N,E=0;R<k;)w.substring(w.length-k,w.length-E)==S.substring(S.length-k,S.length-E)?(R=k,E=R):N=k,k=Math.floor((N-R)/2+R);return k}function f(w,S){var R=w.length>S.length?w:S,N=w.length>S.length?S:w;if(R.length<4||N.length*2<R.length)return null;function k(q,M,z){for(var D=q.substring(z,z+Math.floor(q.length/4)),F=-1,H="",W,Q,X,G;(F=M.indexOf(D,F+1))!=-1;){var K=m(q.substring(z),M.substring(F)),J=h(q.substring(0,z),M.substring(0,F));H.length<J+K&&(H=M.substring(F-J,F)+M.substring(F,F+K),W=q.substring(0,z-J),Q=q.substring(z+K),X=M.substring(0,F-J),G=M.substring(F+K))}return H.length*2>=q.length?[W,Q,X,G,H]:null}var E=k(R,N,Math.ceil(R.length/4)),T=k(R,N,Math.ceil(R.length/2)),_;if(!E&&!T)return null;T?E?_=E[4].length>T[4].length?E:T:_=T:_=E;var A,C,O,U;w.length>S.length?(A=_[0],C=_[1],O=_[2],U=_[3]):(O=_[0],U=_[1],A=_[2],C=_[3]);var L=_[4];return[A,C,O,U,L]}function g(w){w.push([o,""]);for(var S=0,R=0,N=0,k="",E="",T;S<w.length;)switch(w[S][0]){case a:N++,E+=w[S][1],S++;break;case i:R++,k+=w[S][1],S++;break;case o:R+N>1?(R!==0&&N!==0&&(T=m(E,k),T!==0&&(S-R-N>0&&w[S-R-N-1][0]==o?w[S-R-N-1][1]+=E.substring(0,T):(w.splice(0,0,[o,E.substring(0,T)]),S++),E=E.substring(T),k=k.substring(T)),T=h(E,k),T!==0&&(w[S][1]=E.substring(E.length-T)+w[S][1],E=E.substring(0,E.length-T),k=k.substring(0,k.length-T))),R===0?w.splice(S-N,R+N,[a,E]):N===0?w.splice(S-R,R+N,[i,k]):w.splice(S-R-N,R+N,[i,k],[a,E]),S=S-R-N+(R?1:0)+(N?1:0)+1):S!==0&&w[S-1][0]==o?(w[S-1][1]+=w[S][1],w.splice(S,1)):S++,N=0,R=0,k="",E="";break}w[w.length-1][1]===""&&w.pop();var _=!1;for(S=1;S<w.length-1;)w[S-1][0]==o&&w[S+1][0]==o&&(w[S][1].substring(w[S][1].length-w[S-1][1].length)==w[S-1][1]?(w[S][1]=w[S-1][1]+w[S][1].substring(0,w[S][1].length-w[S-1][1].length),w[S+1][1]=w[S-1][1]+w[S+1][1],w.splice(S-1,1),_=!0):w[S][1].substring(0,w[S+1][1].length)==w[S+1][1]&&(w[S-1][1]+=w[S+1][1],w[S][1]=w[S][1].substring(w[S+1][1].length)+w[S+1][1],w.splice(S+1,1),_=!0)),S++;_&&g(w)}var v=l;v.INSERT=a,v.DELETE=i,v.EQUAL=o,r.exports=v;function j(w,S){if(S===0)return[o,w];for(var R=0,N=0;N<w.length;N++){var k=w[N];if(k[0]===i||k[0]===o){var E=R+k[1].length;if(S===E)return[N+1,w];if(S<E){w=w.slice();var T=S-R,_=[k[0],k[1].slice(0,T)],A=[k[0],k[1].slice(T)];return w.splice(N,1,_,A),[N+1,w]}else R=E}}throw new Error("cursor_pos is out of bounds!")}function y(w,S){var R=j(w,S),N=R[1],k=R[0],E=N[k],T=N[k+1];if(E==null)return w;if(E[0]!==o)return w;if(T!=null&&E[1]+T[1]===T[1]+E[1])return N.splice(k,2,T,E),b(N,k,2);if(T!=null&&T[1].indexOf(E[1])===0){N.splice(k,2,[T[0],E[1]],[0,E[1]]);var _=T[1].slice(E[1].length);return _.length>0&&N.splice(k+2,0,[T[0],_]),b(N,k,3)}else return w}function p(w){for(var S=!1,R=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},N=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},k=2;k<w.length;k+=1)w[k-2][0]===o&&N(w[k-2][1])&&w[k-1][0]===i&&R(w[k-1][1])&&w[k][0]===a&&R(w[k][1])&&(S=!0,w[k-1][1]=w[k-2][1].slice(-1)+w[k-1][1],w[k][1]=w[k-2][1].slice(-1)+w[k][1],w[k-2][1]=w[k-2][1].slice(0,-1));if(!S)return w;for(var E=[],k=0;k<w.length;k+=1)w[k][1].length>0&&E.push(w[k]);return E}function b(w,S,R){for(var N=S+R-1;N>=0&&N>=S-1;N--)if(N+1<w.length){var k=w[N],E=w[N+1];k[0]===E[1]&&w.splice(N,2,[k[0],k[1]+E[1]])}return w}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var l in a)o.push(l);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function l(u,d,m){this.fn=u,this.context=d,this.once=m||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,h;if(this._eventsCount===0)return d;for(h in m=this._events)i.call(m,h)&&d.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d,m){var h=a?a+d:d,f=this._events[h];if(m)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,j=new Array(v);g<v;g++)j[g]=f[g].fn;return j},c.prototype.emit=function(d,m,h,f,g,v){var j=a?a+d:d;if(!this._events[j])return!1;var y=this._events[j],p=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),p){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,m),!0;case 3:return y.fn.call(y.context,m,h),!0;case 4:return y.fn.call(y.context,m,h,f),!0;case 5:return y.fn.call(y.context,m,h,f,g),!0;case 6:return y.fn.call(y.context,m,h,f,g,v),!0}for(w=1,b=new Array(p-1);w<p;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,R;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(d,y[w].fn,void 0,!0),p){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,m);break;case 3:y[w].fn.call(y[w].context,m,h);break;case 4:y[w].fn.call(y[w].context,m,h,f);break;default:if(!b)for(R=1,b=new Array(p-1);R<p;R++)b[R-1]=arguments[R];y[w].fn.apply(y[w].context,b)}}return!0},c.prototype.on=function(d,m,h){var f=new l(m,h||this),g=a?a+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.once=function(d,m,h){var f=new l(m,h||this,!0),g=a?a+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.removeListener=function(d,m,h,f){var g=a?a+d:d;if(!this._events[g])return this;if(!m)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var v=this._events[g];if(v.fn)v.fn===m&&(!f||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var j=0,y=[],p=v.length;j<p;j++)(v[j].fn!==m||f&&!v[j].once||h&&v[j].context!==h)&&y.push(v[j]);y.length?this._events[g]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=a?a+d:d,this._events[m]&&(--this._eventsCount===0?this._events=new o:delete this._events[m])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o=function(){function oe(ue,ye){var we=[],ne=!0,Be=!1,Fe=void 0;try{for(var $e=ue[Symbol.iterator](),Ht;!(ne=(Ht=$e.next()).done)&&(we.push(Ht.value),!(ye&&we.length===ye));ne=!0);}catch(ut){Be=!0,Fe=ut}finally{try{!ne&&$e.return&&$e.return()}finally{if(Be)throw Fe}}return we}return function(ue,ye){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return oe(ue,ye);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function oe(ue,ye){for(var we=0;we<ye.length;we++){var ne=ye[we];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ue,ne.key,ne)}}return function(ue,ye,we){return ye&&oe(ue.prototype,ye),we&&oe(ue,we),ue}}(),c=i(3),u=A(c),d=i(2),m=A(d),h=i(0),f=A(h),g=i(5),v=A(g),j=i(10),y=A(j),p=i(9),b=A(p),w=i(36),S=i(37),R=i(13),N=A(R),k=i(26),E=i(38),T=i(39),_=i(40);function A(oe){return oe&&oe.__esModule?oe:{default:oe}}function C(oe,ue,ye){return ue in oe?Object.defineProperty(oe,ue,{value:ye,enumerable:!0,configurable:!0,writable:!0}):oe[ue]=ye,oe}function O(oe,ue){if(!(oe instanceof ue))throw new TypeError("Cannot call a class as a function")}function U(oe,ue){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue&&(typeof ue=="object"||typeof ue=="function")?ue:oe}function L(oe,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);oe.prototype=Object.create(ue&&ue.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ue):oe.__proto__=ue)}var q=(0,y.default)("quill:clipboard"),M="__ql-matcher",z=[[Node.TEXT_NODE,mt],[Node.TEXT_NODE,ge],["br",se],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Pe],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,Xe],["li",te],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",pe]],D=[w.AlignAttribute,E.DirectionAttribute].reduce(function(oe,ue){return oe[ue.keyName]=ue,oe},{}),F=[w.AlignStyle,S.BackgroundStyle,k.ColorStyle,E.DirectionStyle,T.FontStyle,_.SizeStyle].reduce(function(oe,ue){return oe[ue.keyName]=ue,oe},{}),H=function(oe){L(ue,oe);function ue(ye,we){O(this,ue);var ne=U(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,ye,we));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],z.concat(ne.options.matchers).forEach(function(Be){var Fe=o(Be,2),$e=Fe[0],Ht=Fe[1];!we.matchVisual&&Ht===Pe||ne.addMatcher($e,Ht)}),ne}return l(ue,[{key:"addMatcher",value:function(we,ne){this.matchers.push([we,ne])}},{key:"convert",value:function(we){if(typeof we=="string")return this.container.innerHTML=we.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[N.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new m.default().insert(Be,C({},N.default.blotName,ne[N.default.blotName]))}var Fe=this.prepareMatching(),$e=o(Fe,2),Ht=$e[0],ut=$e[1],Ge=K(this.container,Ht,ut);return X(Ge,`
`)&&Ge.ops[Ge.ops.length-1].attributes==null&&(Ge=Ge.compose(new m.default().retain(Ge.length()-1).delete(1))),q.log("convert",this.container.innerHTML,Ge),this.container.innerHTML="",Ge}},{key:"dangerouslyPasteHTML",value:function(we,ne){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof we=="string")this.quill.setContents(this.convert(we),ne),this.quill.setSelection(0,v.default.sources.SILENT);else{var Fe=this.convert(ne);this.quill.updateContents(new m.default().retain(we).concat(Fe),Be),this.quill.setSelection(we+Fe.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(we){var ne=this;if(!(we.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),Fe=new m.default().retain(Be.index),$e=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Fe=Fe.concat(ne.convert()).delete(Be.length),ne.quill.updateContents(Fe,v.default.sources.USER),ne.quill.setSelection(Fe.length()-Be.length,v.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=$e,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var we=this,ne=[],Be=[];return this.matchers.forEach(function(Fe){var $e=o(Fe,2),Ht=$e[0],ut=$e[1];switch(Ht){case Node.TEXT_NODE:Be.push(ut);break;case Node.ELEMENT_NODE:ne.push(ut);break;default:[].forEach.call(we.container.querySelectorAll(Ht),function(Ge){Ge[M]=Ge[M]||[],Ge[M].push(ut)});break}}),[ne,Be]}}]),ue}(b.default);H.DEFAULTS={matchers:[],matchVisual:!0};function W(oe,ue,ye){return(typeof ue>"u"?"undefined":a(ue))==="object"?Object.keys(ue).reduce(function(we,ne){return W(we,ne,ue[ne])},oe):oe.reduce(function(we,ne){return ne.attributes&&ne.attributes[ue]?we.push(ne):we.insert(ne.insert,(0,u.default)({},C({},ue,ye),ne.attributes))},new m.default)}function Q(oe){if(oe.nodeType!==Node.ELEMENT_NODE)return{};var ue="__ql-computed-style";return oe[ue]||(oe[ue]=window.getComputedStyle(oe))}function X(oe,ue){for(var ye="",we=oe.ops.length-1;we>=0&&ye.length<ue.length;--we){var ne=oe.ops[we];if(typeof ne.insert!="string")break;ye=ne.insert+ye}return ye.slice(-1*ue.length)===ue}function G(oe){if(oe.childNodes.length===0)return!1;var ue=Q(oe);return["block","list-item"].indexOf(ue.display)>-1}function K(oe,ue,ye){return oe.nodeType===oe.TEXT_NODE?ye.reduce(function(we,ne){return ne(oe,we)},new m.default):oe.nodeType===oe.ELEMENT_NODE?[].reduce.call(oe.childNodes||[],function(we,ne){var Be=K(ne,ue,ye);return ne.nodeType===oe.ELEMENT_NODE&&(Be=ue.reduce(function(Fe,$e){return $e(ne,Fe)},Be),Be=(ne[M]||[]).reduce(function(Fe,$e){return $e(ne,Fe)},Be)),we.concat(Be)},new m.default):new m.default}function J(oe,ue,ye){return W(ye,oe,!0)}function $(oe,ue){var ye=f.default.Attributor.Attribute.keys(oe),we=f.default.Attributor.Class.keys(oe),ne=f.default.Attributor.Style.keys(oe),Be={};return ye.concat(we).concat(ne).forEach(function(Fe){var $e=f.default.query(Fe,f.default.Scope.ATTRIBUTE);$e!=null&&(Be[$e.attrName]=$e.value(oe),Be[$e.attrName])||($e=D[Fe],$e!=null&&($e.attrName===Fe||$e.keyName===Fe)&&(Be[$e.attrName]=$e.value(oe)||void 0),$e=F[Fe],$e!=null&&($e.attrName===Fe||$e.keyName===Fe)&&($e=F[Fe],Be[$e.attrName]=$e.value(oe)||void 0))}),Object.keys(Be).length>0&&(ue=W(ue,Be)),ue}function Z(oe,ue){var ye=f.default.query(oe);if(ye==null)return ue;if(ye.prototype instanceof f.default.Embed){var we={},ne=ye.value(oe);ne!=null&&(we[ye.blotName]=ne,ue=new m.default().insert(we,ye.formats(oe)))}else typeof ye.formats=="function"&&(ue=W(ue,ye.blotName,ye.formats(oe)));return ue}function se(oe,ue){return X(ue,`
`)||ue.insert(`
`),ue}function pe(){return new m.default}function te(oe,ue){var ye=f.default.query(oe);if(ye==null||ye.blotName!=="list-item"||!X(ue,`
`))return ue;for(var we=-1,ne=oe.parentNode;!ne.classList.contains("ql-clipboard");)(f.default.query(ne)||{}).blotName==="list"&&(we+=1),ne=ne.parentNode;return we<=0?ue:ue.compose(new m.default().retain(ue.length()-1).retain(1,{indent:we}))}function ge(oe,ue){return X(ue,`
`)||(G(oe)||ue.length()>0&&oe.nextSibling&&G(oe.nextSibling))&&ue.insert(`
`),ue}function Pe(oe,ue){if(G(oe)&&oe.nextElementSibling!=null&&!X(ue,`

`)){var ye=oe.offsetHeight+parseFloat(Q(oe).marginTop)+parseFloat(Q(oe).marginBottom);oe.nextElementSibling.offsetTop>oe.offsetTop+ye*1.5&&ue.insert(`
`)}return ue}function Xe(oe,ue){var ye={},we=oe.style||{};return we.fontStyle&&Q(oe).fontStyle==="italic"&&(ye.italic=!0),we.fontWeight&&(Q(oe).fontWeight.startsWith("bold")||parseInt(Q(oe).fontWeight)>=700)&&(ye.bold=!0),Object.keys(ye).length>0&&(ue=W(ue,ye)),parseFloat(we.textIndent||0)>0&&(ue=new m.default().insert("	").concat(ue)),ue}function mt(oe,ue){var ye=oe.data;if(oe.parentNode.tagName==="O:P")return ue.insert(ye.trim());if(ye.trim().length===0&&oe.parentNode.classList.contains("ql-clipboard"))return ue;if(!Q(oe.parentNode).whiteSpace.startsWith("pre")){var we=function(Be,Fe){return Fe=Fe.replace(/[^\u00a0]/g,""),Fe.length<1&&Be?" ":Fe};ye=ye.replace(/\r\n/g," ").replace(/\n/g," "),ye=ye.replace(/\s\s+/g,we.bind(we,!0)),(oe.previousSibling==null&&G(oe.parentNode)||oe.previousSibling!=null&&G(oe.previousSibling))&&(ye=ye.replace(/^\s+/,we.bind(we,!1))),(oe.nextSibling==null&&G(oe.parentNode)||oe.nextSibling!=null&&G(oe.nextSibling))&&(ye=ye.replace(/\s+$/,we.bind(we,!1)))}return ue.insert(ye)}n.default=H,n.matchAttributor=$,n.matchBlot=Z,n.matchNewline=ge,n.matchSpacing=Pe,n.matchText=mt},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,j){for(var y=0;y<j.length;y++){var p=j[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,j,y){return j&&g(v.prototype,j),y&&g(v,y),v}}(),o=function g(v,j,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,j);if(p===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,j,y)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(y)}},l=i(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);f.blotName="bold",f.tagName=["STRONG","B"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function _(A,C){var O=[],U=!0,L=!1,q=void 0;try{for(var M=A[Symbol.iterator](),z;!(U=(z=M.next()).done)&&(O.push(z.value),!(C&&O.length===C));U=!0);}catch(D){L=!0,q=D}finally{try{!U&&M.return&&M.return()}finally{if(L)throw q}}return O}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(A,C){for(var O=0;O<C.length;O++){var U=C[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,C,O){return C&&_(A.prototype,C),O&&_(A,O),A}}(),l=i(2),c=y(l),u=i(0),d=y(u),m=i(5),h=y(m),f=i(10),g=y(f),v=i(9),j=y(v);function y(_){return _&&_.__esModule?_:{default:_}}function p(_,A,C){return A in _?Object.defineProperty(_,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[A]=C,_}function b(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function w(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function S(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var R=(0,g.default)("quill:toolbar"),N=function(_){S(A,_);function A(C,O){b(this,A);var U=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,O));if(Array.isArray(U.options.container)){var L=document.createElement("div");E(L,U.options.container),C.container.parentNode.insertBefore(L,C.container),U.container=L}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var q;return q=R.error("Container required for toolbar",U.options),w(U,q)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(M){U.addHandler(M,U.options.handlers[M])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(M){U.attach(M)}),U.quill.on(h.default.events.EDITOR_CHANGE,function(M,z){M===h.default.events.SELECTION_CHANGE&&U.update(z)}),U.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var M=U.quill.selection.getRange(),z=a(M,1),D=z[0];U.update(D)}),U}return o(A,[{key:"addHandler",value:function(O,U){this.handlers[O]=U}},{key:"attach",value:function(O){var U=this,L=[].find.call(O.classList,function(M){return M.indexOf("ql-")===0});if(L){if(L=L.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[L]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[L]==null){R.warn("ignoring attaching to disabled format",L,O);return}if(d.default.query(L)==null){R.warn("ignoring attaching to nonexistent format",L,O);return}}var q=O.tagName==="SELECT"?"change":"click";O.addEventListener(q,function(M){var z=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var D=O.options[O.selectedIndex];D.hasAttribute("selected")?z=!1:z=D.value||!1}else O.classList.contains("ql-active")?z=!1:z=O.value||!O.hasAttribute("value"),M.preventDefault();U.quill.focus();var F=U.quill.selection.getRange(),H=a(F,1),W=H[0];if(U.handlers[L]!=null)U.handlers[L].call(U,z);else if(d.default.query(L).prototype instanceof d.default.Embed){if(z=prompt("Enter "+L),!z)return;U.quill.updateContents(new c.default().retain(W.index).delete(W.length).insert(p({},L,z)),h.default.sources.USER)}else U.quill.format(L,z,h.default.sources.USER);U.update(W)}),this.controls.push([L,O])}}},{key:"update",value:function(O){var U=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(L){var q=a(L,2),M=q[0],z=q[1];if(z.tagName==="SELECT"){var D=void 0;if(O==null)D=null;else if(U[M]==null)D=z.querySelector("option[selected]");else if(!Array.isArray(U[M])){var F=U[M];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),D=z.querySelector('option[value="'+F+'"]')}D==null?(z.value="",z.selectedIndex=-1):D.selected=!0}else if(O==null)z.classList.remove("ql-active");else if(z.hasAttribute("value")){var H=U[M]===z.getAttribute("value")||U[M]!=null&&U[M].toString()===z.getAttribute("value")||U[M]==null&&!z.getAttribute("value");z.classList.toggle("ql-active",H)}else z.classList.toggle("ql-active",U[M]!=null)})}}]),A}(j.default);N.DEFAULTS={};function k(_,A,C){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+A),C!=null&&(O.value=C),_.appendChild(O)}function E(_,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(C){var O=document.createElement("span");O.classList.add("ql-formats"),C.forEach(function(U){if(typeof U=="string")k(O,U);else{var L=Object.keys(U)[0],q=U[L];Array.isArray(q)?T(O,L,q):k(O,L,q)}}),_.appendChild(O)})}function T(_,A,C){var O=document.createElement("select");O.classList.add("ql-"+A),C.forEach(function(U){var L=document.createElement("option");U!==!1?L.setAttribute("value",U):L.setAttribute("selected","selected"),O.appendChild(L)}),_.appendChild(O)}N.DEFAULTS={container:null,handlers:{clean:function(){var A=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&A.quill.format(U,!1)})}else this.quill.removeFormat(C,h.default.sources.USER)},direction:function(A){var C=this.quill.getFormat().align;A==="rtl"&&C==null?this.quill.format("align","right",h.default.sources.USER):!A&&C==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",A,h.default.sources.USER)},indent:function(A){var C=this.quill.getSelection(),O=this.quill.getFormat(C),U=parseInt(O.indent||0);if(A==="+1"||A==="-1"){var L=A==="+1"?1:-1;O.direction==="rtl"&&(L*=-1),this.quill.format("indent",U+L,h.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,h.default.sources.USER)},list:function(A){var C=this.quill.getSelection(),O=this.quill.getFormat(C);A==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",A,h.default.sources.USER)}}},n.default=N,n.addControls=E},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,j){for(var y=0;y<j.length;y++){var p=j[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,j,y){return j&&g(v.prototype,j),y&&g(v,y),v}}(),o=function g(v,j,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,j);if(p===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,j,y)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(y)}},l=i(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(j,y){d(this,v);var p=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j));return p.label.innerHTML=y,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),p}return a(v,[{key:"buildItem",value:function(y){var p=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return p.style.backgroundColor=y.getAttribute("value")||"",p}},{key:"selectItem",value:function(y,p){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,p);var b=this.label.querySelector(".ql-color-label"),w=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),v}(c.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,j){for(var y=0;y<j.length;y++){var p=j[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,j,y){return j&&g(v.prototype,j),y&&g(v,y),v}}(),o=function g(v,j,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,j);if(p===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,j,y)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(y)}},l=i(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(j,y){d(this,v);var p=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return a(v,[{key:"selectItem",value:function(y,p){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,p),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(c.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,d){for(var m=0;m<d.length;m++){var h=d[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,m){return d&&c(u.prototype,d),m&&c(u,m),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,d){var m=this;o(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var m=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),v=0;if(g.right>f.right&&(v=f.right-g.right,this.root.style.left=m+v+"px"),g.left<f.left&&(v=f.left-g.left,this.root.style.left=m+v+"px"),g.bottom>f.bottom){var j=g.bottom-g.top,y=d.bottom-d.top+j;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function T(_,A){var C=[],O=!0,U=!1,L=void 0;try{for(var q=_[Symbol.iterator](),M;!(O=(M=q.next()).done)&&(C.push(M.value),!(A&&C.length===A));O=!0);}catch(z){U=!0,L=z}finally{try{!O&&q.return&&q.return()}finally{if(U)throw L}}return C}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function T(_,A,C){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,A);if(O===void 0){var U=Object.getPrototypeOf(_);return U===null?void 0:T(U,A,C)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(C)}},l=function(){function T(_,A){for(var C=0;C<A.length;C++){var O=A[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,A,C){return A&&T(_.prototype,A),C&&T(_,C),_}}(),c=i(3),u=b(c),d=i(8),m=b(d),h=i(43),f=b(h),g=i(27),v=b(g),j=i(15),y=i(41),p=b(y);function b(T){return T&&T.__esModule?T:{default:T}}function w(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function S(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function R(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(T){R(_,T);function _(A,C){w(this,_),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=N);var O=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,C));return O.quill.container.classList.add("ql-snow"),O}return l(_,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),p.default),this.tooltip=new E(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,U){C.handlers.link.call(C,!U.format.link)})}}]),_}(f.default);k.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var A=this.quill.getSelection();if(A==null||A.length==0)return;var C=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var O=this.quill.theme.tooltip;O.edit("link",C)}else this.quill.format("link",!1)}}}}});var E=function(T){R(_,T);function _(A,C){w(this,_);var O=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,C));return O.preview=O.root.querySelector("a.ql-preview"),O}return l(_,[{key:"listen",value:function(){var C=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if(C.linkRange!=null){var U=C.linkRange;C.restoreFocus(),C.quill.formatText(U,"link",!1,m.default.sources.USER),delete C.linkRange}O.preventDefault(),C.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(O,U,L){if(O!=null){if(O.length===0&&L===m.default.sources.USER){var q=C.quill.scroll.descendant(v.default,O.index),M=a(q,2),z=M[0],D=M[1];if(z!=null){C.linkRange=new j.Range(O.index-D,z.length());var F=v.default.formats(z.domNode);C.preview.textContent=F,C.preview.setAttribute("href",F),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(h.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=ne(a),l=i(36),c=i(38),u=i(64),d=i(65),m=ne(d),h=i(66),f=ne(h),g=i(67),v=ne(g),j=i(37),y=i(26),p=i(39),b=i(40),w=i(56),S=ne(w),R=i(68),N=ne(R),k=i(27),E=ne(k),T=i(69),_=ne(T),A=i(70),C=ne(A),O=i(71),U=ne(O),L=i(72),q=ne(L),M=i(73),z=ne(M),D=i(13),F=ne(D),H=i(74),W=ne(H),Q=i(75),X=ne(Q),G=i(57),K=ne(G),J=i(41),$=ne(J),Z=i(28),se=ne(Z),pe=i(59),te=ne(pe),ge=i(60),Pe=ne(ge),Xe=i(61),mt=ne(Xe),oe=i(108),ue=ne(oe),ye=i(62),we=ne(ye);function ne(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":j.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":j.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":j.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":p.FontClass,"formats/size":b.SizeClass,"formats/blockquote":m.default,"formats/code-block":F.default,"formats/header":f.default,"formats/list":v.default,"formats/bold":S.default,"formats/code":D.Code,"formats/italic":N.default,"formats/link":E.default,"formats/script":_.default,"formats/strike":C.default,"formats/underline":U.default,"formats/image":q.default,"formats/video":z.default,"formats/list/item":g.ListItem,"modules/formula":W.default,"modules/syntax":X.default,"modules/toolbar":K.default,"themes/bubble":ue.default,"themes/snow":we.default,"ui/icons":$.default,"ui/picker":se.default,"ui/icon-picker":Pe.default,"ui/color-picker":te.default,"ui/tooltip":mt.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function v(j,y){for(var p=0;p<y.length;p++){var b=y[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(j,b.key,b)}}return function(j,y,p){return y&&v(j.prototype,y),p&&v(j,p),j}}(),o=function v(j,y,p){j===null&&(j=Function.prototype);var b=Object.getOwnPropertyDescriptor(j,y);if(b===void 0){var w=Object.getPrototypeOf(j);return w===null?void 0:v(w,y,p)}else{if("value"in b)return b.value;var S=b.get;return S===void 0?void 0:S.call(p)}},l=i(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function m(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function h(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var f=function(v){h(j,v);function j(){return d(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"add",value:function(p,b){if(b==="+1"||b==="-1"){var w=this.value(p)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(p),!0):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"add",this).call(this,p,b)}},{key:"canAdd",value:function(p,b){return o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"canAdd",this).call(this,p,b)||o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"canAdd",this).call(this,p,parseInt(b))}},{key:"value",value:function(p){return parseInt(o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"value",this).call(this,p))||void 0}}]),j}(c.default.Attributor.Class),g=new f("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var m=function(h){d(f,h);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);m.blotName="blockquote",m.tagName="blockquote",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function f(g,v){for(var j=0;j<v.length;j++){var y=v[j];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,v,j){return v&&f(g.prototype,v),j&&f(g,j),g}}(),o=i(4),l=c(o);function c(f){return f&&f.__esModule?f:{default:f}}function u(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function d(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function m(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var h=function(f){m(g,f);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"formats",value:function(j){return this.tagName.indexOf(j.tagName)+1}}]),g}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function w(S,R){for(var N=0;N<R.length;N++){var k=R[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,R,N){return R&&w(S.prototype,R),N&&w(S,N),S}}(),o=function w(S,R,N){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,R);if(k===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:w(E,R,N)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(N)}},l=i(0),c=f(l),u=i(4),d=f(u),m=i(25),h=f(m);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,S,R){return S in w?Object.defineProperty(w,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[S]=R,w}function v(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function j(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function y(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var p=function(w){y(S,w);function S(){return v(this,S),j(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"format",value:function(N,k){N===b.blotName&&!k?this.replaceWith(c.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,N,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,k){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,k),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,N,k))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,N)}}]),S}(d.default);p.blotName="list-item",p.tagName="LI";var b=function(w){y(S,w),a(S,null,[{key:"create",value:function(N){var k=N==="ordered"?"OL":"UL",E=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,k);return(N==="checked"||N==="unchecked")&&E.setAttribute("data-checked",N==="checked"),E}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){v(this,S);var N=j(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),k=function(T){if(T.target.parentNode===R){var _=N.statics.formats(R),A=c.default.find(T.target);_==="checked"?A.format("list","unchecked"):_==="unchecked"&&A.format("list","checked")}};return R.addEventListener("touchstart",k),R.addEventListener("mousedown",k),N}return a(S,[{key:"format",value:function(N,k){this.children.length>0&&this.children.tail.format(N,k)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,k){if(N instanceof p)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,N,k);else{var E=k==null?this.length():k.offset(this),T=this.split(E);T.parent.insertBefore(N,T)}}},{key:"optimize",value:function(N){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,N);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var k=c.default.create(this.statics.defaultChild);N.moveChildren(k),this.appendChild(k)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,N)}}]),S}(h.default);b.blotName="list",b.scope=c.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[p],n.ListItem=p,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var m=function(h){d(f,h);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);m.blotName="italic",m.tagName=["EM","I"],n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(v,j){for(var y=0;y<j.length;y++){var p=j[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,j,y){return j&&g(v.prototype,j),y&&g(v,y),v}}(),o=function g(v,j,y){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,j);if(p===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:g(b,j,y)}else{if("value"in p)return p.value;var w=p.get;return w===void 0?void 0:w.call(y)}},l=i(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function m(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function h(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){h(v,g);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(c.default);f.blotName="script",f.tagName=["SUB","SUP"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var m=function(h){d(f,h);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);m.blotName="strike",m.tagName="S",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function d(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var m=function(h){d(f,h);function f(){return c(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);m.blotName="underline",m.tagName="U",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function j(y,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,b){return p&&j(y.prototype,p),b&&j(y,b),y}}(),o=function j(y,p,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:j(S,p,b)}else{if("value"in w)return w.value;var R=w.get;return R===void 0?void 0:R.call(b)}},l=i(0),c=d(l),u=i(27);function d(j){return j&&j.__esModule?j:{default:j}}function m(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function h(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function f(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var g=["alt","height","width"],v=function(j){f(y,j);function y(){return m(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){g.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return g.reduce(function(w,S){return b.hasAttribute(S)&&(w[S]=b.getAttribute(S)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(c.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function j(y,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,b){return p&&j(y.prototype,p),b&&j(y,b),y}}(),o=function j(y,p,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:j(S,p,b)}else{if("value"in w)return w.value;var R=w.get;return R===void 0?void 0:R.call(b)}},l=i(4),c=i(27),u=d(c);function d(j){return j&&j.__esModule?j:{default:j}}function m(j,y){if(!(j instanceof y))throw new TypeError("Cannot call a class as a function")}function h(j,y){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:j}function f(j,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);j.prototype=Object.create(y&&y.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(j,y):j.__proto__=y)}var g=["height","width"],v=function(j){f(y,j);function y(){return m(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){g.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return g.reduce(function(w,S){return b.hasAttribute(S)&&(w[S]=b.getAttribute(S)),w},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function b(w,S){for(var R=0;R<S.length;R++){var N=S[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,S,R){return S&&b(w.prototype,S),R&&b(w,R),w}}(),o=function b(w,S,R){w===null&&(w=Function.prototype);var N=Object.getOwnPropertyDescriptor(w,S);if(N===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,S,R)}else{if("value"in N)return N.value;var E=N.get;return E===void 0?void 0:E.call(R)}},l=i(35),c=f(l),u=i(5),d=f(u),m=i(9),h=f(m);function f(b){return b&&b.__esModule?b:{default:b}}function g(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function v(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function j(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){j(w,b);function w(){return g(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(R){var N=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",R)),N}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),w}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var p=function(b){j(w,b),a(w,null,[{key:"register",value:function(){d.default.register(y,!0)}}]);function w(){g(this,w);var S=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return w}(h.default);n.FormulaBlot=y,n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function R(N,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(N,T.key,T)}}return function(N,k,E){return k&&R(N.prototype,k),E&&R(N,E),N}}(),o=function R(N,k,E){N===null&&(N=Function.prototype);var T=Object.getOwnPropertyDescriptor(N,k);if(T===void 0){var _=Object.getPrototypeOf(N);return _===null?void 0:R(_,k,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},l=i(0),c=v(l),u=i(5),d=v(u),m=i(9),h=v(m),f=i(13),g=v(f);function v(R){return R&&R.__esModule?R:{default:R}}function j(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function y(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:R}function p(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}var b=function(R){p(N,R);function N(){return j(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"replaceWith",value:function(E){this.domNode.textContent=this.domNode.textContent,this.attach(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,E)}},{key:"highlight",value:function(E){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=E(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),N}(g.default);b.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),S=function(R){p(N,R),a(N,null,[{key:"register",value:function(){d.default.register(w,!0),d.default.register(b,!0)}}]);function N(k,E){j(this,N);var T=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k,E));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){T.highlight(),_=null},T.options.interval)}),T.highlight(),T}return a(N,[{key:"highlight",value:function(){var E=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(_){_.highlight(E.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),N}(h.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var N=window.hljs.highlightAuto(R);return N.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=w,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function N(k,E,T){k===null&&(k=Function.prototype);var _=Object.getOwnPropertyDescriptor(k,E);if(_===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:N(A,E,T)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(T)}},o=function(){function N(k,E){for(var T=0;T<E.length;T++){var _=E[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(k,_.key,_)}}return function(k,E,T){return E&&N(k.prototype,E),T&&N(k,T),k}}(),l=i(3),c=j(l),u=i(8),d=j(u),m=i(43),h=j(m),f=i(15),g=i(41),v=j(g);function j(N){return N&&N.__esModule?N:{default:N}}function y(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}function p(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:N}function b(N,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(N){b(k,N);function k(E,T){y(this,k),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=w);var _=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,T));return _.quill.container.classList.add("ql-bubble"),_}return o(k,[{key:"extendToolbar",value:function(T){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),k}(h.default);S.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(N){b(k,N);function k(E,T){y(this,k);var _=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,T));return _.quill.on(d.default.events.EDITOR_CHANGE,function(A,C,O,U){if(A===d.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&U===d.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var L=_.quill.getLines(C.index,C.length);if(L.length===1)_.position(_.quill.getBounds(C));else{var q=L[L.length-1],M=_.quill.getIndex(q),z=Math.min(q.length()-1,C.index+C.length-M),D=_.quill.getBounds(new f.Range(M,z));_.position(D)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(k,[{key:"listen",value:function(){var T=this;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var _=T.quill.getSelection();_!=null&&T.position(T.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var _=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,T),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",_===0)return _;A.style.marginLeft=-1*_-A.offsetWidth/2+"px"}}]),k}(m.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=R,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(L4);var FB=L4.exports,VB=os&&os.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tf=os&&os.__assign||function(){return tf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tf.apply(this,arguments)},UB=os&&os.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,i++)n[i]=a[o];return n},hp=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},an=hp(P),BB=hp(lv),Vc=hp(LB),tN=hp(FB),$B=function(t){VB(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,l,c){var u,d,m,h;a==="text-change"?(d=(u=n).onEditorChangeText)===null||d===void 0||d.call(u,n.editor.root.innerHTML,o,c,n.unprivilegedEditor):a==="selection-change"&&((h=(m=n).onEditorChangeSelection)===null||h===void 0||h.call(m,o,c,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return e.prototype.validateProps=function(r){var n;if(an.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(an.default.Children.count(r.children)){var i=an.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(a=r.value,a??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),UB(this.cleanProps,this.dirtyProps).some(function(c){return!Vc.default(r[c],i.props[c])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Vc.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,a=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),rN(function(){return i.setEditorSelection(u,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new tN.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Vc.default(r.ops,n.ops):Vc.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),rN(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=BB.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){r.editingArea=c}};return an.default.Children.count(i)?an.default.cloneElement(an.default.Children.only(i),l):a?an.default.createElement("pre",tf({},l)):an.default.createElement("div",tf({},l))},e.prototype.render=function(){var r;return an.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,l;if(this.editor){var c=this.isDelta(this.value)?a.getContents():a.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,l,c,u,d;if(this.editor){var m=this.getEditorSelection(),h=!m&&r,f=m&&!r;Vc.default(r,m)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),h?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,i):f&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,m,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=tN.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(an.default.Component);function rN(t){Promise.resolve().then(t)}var qB=$B;const zB=oo(qB);const WB=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},HB=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},V4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,m=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[d],r[m],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||m==null)throw new KB;const h=a<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),m!==64){const g=u<<6&192|m;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GB=function(t){const e=F4(t);return V4.encodeByteArray(e,!0)},rf=function(t){return GB(t).replace(/\./g,"")},U4=function(t){try{return V4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=()=>QB().__FIREBASE_DEFAULTS__,JB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&U4(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return WB()||YB()||JB()||XB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B4=t=>{var e,r;return(r=(e=mp())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},ZB=t=>{const e=B4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},$4=()=>{var t;return(t=mp())==null?void 0:t.config},q4=t=>{var e;return(e=mp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[rf(JSON.stringify(r)),rf(JSON.stringify(o)),l].join(".")}const du={};function r$(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function s$(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let sN=!1;function W4(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||du[t]===e||du[t]||sN)return;du[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=r$().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{sN=!0,o()},h}function d(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=s$(n),f=r("text"),g=document.getElementById(f)||document.createElement("span"),v=r("learnmore"),j=document.getElementById(v)||document.createElement("a"),y=r("preprendIcon"),p=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;l(b),d(j,v);const w=u();c(p,y),b.append(p,g,j,w),document.body.appendChild(b)}a?(g.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function i$(){var e;const t=(e=mp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function l$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c$(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u$(){return!i$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d$(){try{return typeof indexedDB=="object"}catch{return!1}}function h$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="FirebaseError";class ci extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=m$,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?f$(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ci(i,l,n)}}function f$(t,e){return t.replace(p$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const p$=/\{\$([^}]+)}/g;function g$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(nN(a)&&nN(o)){if(!ro(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function nN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function x$(t,e){const r=new y$(t,e);return r.subscribe.bind(r)}class y${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");v$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Mg),i.error===void 0&&(i.error=Mg),i.complete===void 0&&(i.complete=Mg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Mg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new e$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w$(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:j$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j$(t){return t===Ia?void 0:t}function w$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new b$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const k$={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},S$=nt.INFO,_$={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},E$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=S$,this._logHandler=E$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const T$=(t,e)=>e.some(r=>t instanceof r);let iN,aN;function C$(){return iN||(iN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A$(){return aN||(aN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H4=new WeakMap,Ay=new WeakMap,K4=new WeakMap,Lg=new WeakMap,Mv=new WeakMap;function P$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Gi(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&H4.set(r,t)}).catch(()=>{}),Mv.set(e,t),e}function I$(t){if(Ay.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Ay.set(t,e)}let Py={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R$(t){Py=t(Py)}function O$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Fg(this),e,...r);return K4.set(n,e.sort?e.sort():[e]),Gi(n)}:A$().includes(t)?function(...e){return t.apply(Fg(this),e),Gi(H4.get(this))}:function(...e){return Gi(t.apply(Fg(this),e))}}function D$(t){return typeof t=="function"?O$(t):(t instanceof IDBTransaction&&I$(t),T$(t,C$())?new Proxy(t,Py):t)}function Gi(t){if(t instanceof IDBRequest)return P$(t);if(Lg.has(t))return Lg.get(t);const e=D$(t);return e!==t&&(Lg.set(t,e),Mv.set(e,t)),e}const Fg=t=>Mv.get(t);function M$(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Gi(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Gi(o.result),c.oldVersion,c.newVersion,Gi(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const L$=["get","getKey","getAll","getAllKeys","count"],F$=["put","add","delete","clear"],Vg=new Map;function oN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=F$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||L$.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return Vg.set(e,a),a}R$(t=>({...t,get:(e,r,n)=>oN(e,r)||t.get(e,r,n),has:(e,r)=>!!oN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(U$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function U$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iy="@firebase/app",lN="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Dv("@firebase/app"),B$="@firebase/app-compat",$$="@firebase/analytics-compat",q$="@firebase/analytics",z$="@firebase/app-check-compat",W$="@firebase/app-check",H$="@firebase/auth",K$="@firebase/auth-compat",G$="@firebase/database",Q$="@firebase/data-connect",Y$="@firebase/database-compat",J$="@firebase/functions",X$="@firebase/functions-compat",Z$="@firebase/installations",eq="@firebase/installations-compat",tq="@firebase/messaging",rq="@firebase/messaging-compat",sq="@firebase/performance",nq="@firebase/performance-compat",iq="@firebase/remote-config",aq="@firebase/remote-config-compat",oq="@firebase/storage",lq="@firebase/storage-compat",cq="@firebase/firestore",uq="@firebase/ai",dq="@firebase/firestore-compat",hq="firebase",mq="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="[DEFAULT]",fq={[Iy]:"fire-core",[B$]:"fire-core-compat",[q$]:"fire-analytics",[$$]:"fire-analytics-compat",[W$]:"fire-app-check",[z$]:"fire-app-check-compat",[H$]:"fire-auth",[K$]:"fire-auth-compat",[G$]:"fire-rtdb",[Q$]:"fire-data-connect",[Y$]:"fire-rtdb-compat",[J$]:"fire-fn",[X$]:"fire-fn-compat",[Z$]:"fire-iid",[eq]:"fire-iid-compat",[tq]:"fire-fcm",[rq]:"fire-fcm-compat",[sq]:"fire-perf",[nq]:"fire-perf-compat",[iq]:"fire-rc",[aq]:"fire-rc-compat",[oq]:"fire-gcs",[lq]:"fire-gcs-compat",[cq]:"fire-fst",[dq]:"fire-fst-compat",[uq]:"fire-vertex","fire-js":"fire-js",[hq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,pq=new Map,Oy=new Map;function cN(t,e){try{t.container.addComponent(e)}catch(r){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Dl(t){const e=t.name;if(Oy.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;Oy.set(e,t);for(const r of sf.values())cN(r,t);for(const r of pq.values())cN(r,t);return!0}function Lv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new hd("app","Firebase",gq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=mq;function G4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Ry,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(r||(r=$4()),!r)throw Qi.create("no-options");const a=sf.get(i);if(a){if(ro(r,a.options)&&ro(n,a.config))return a;throw Qi.create("duplicate-app",{appName:i})}const o=new N$(i);for(const c of Oy.values())o.addComponent(c);const l=new xq(r,n,o);return sf.set(i,l),l}function Q4(t=Ry){const e=sf.get(t);if(!e&&t===Ry&&$4())return G4();if(!e)throw Qi.create("no-app",{appName:t});return e}function Yi(t,e,r){let n=fq[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(o.join(" "));return}Dl(new so(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="firebase-heartbeat-database",vq=1,zu="firebase-heartbeat-store";let Ug=null;function Y4(){return Ug||(Ug=M$(yq,vq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(r){console.warn(r)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function bq(t){try{const r=(await Y4()).transaction(zu),n=await r.objectStore(zu).get(J4(t));return await r.done,n}catch(e){if(e instanceof ci)Xn.warn(e.message);else{const r=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xn.warn(r.message)}}}async function uN(t,e){try{const n=(await Y4()).transaction(zu,"readwrite");await n.objectStore(zu).put(e,J4(t)),await n.done}catch(r){if(r instanceof ci)Xn.warn(r.message);else{const n=Qi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xn.warn(n.message)}}}function J4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=1024,wq=30;class Nq{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Sq(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wq){const o=_q(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=dN(),{heartbeatsToSend:n,unsentEntries:i}=kq(this._heartbeatsCache.heartbeats),a=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Xn.warn(r),""}}}function dN(){return new Date().toISOString().substring(0,10)}function kq(t,e=jq){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),hN(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),hN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Sq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d$()?h$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bq(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return uN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function hN(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}function _q(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){Dl(new so("platform-logger",e=>new V$(e),"PRIVATE")),Dl(new so("heartbeat",e=>new Nq(e),"PRIVATE")),Yi(Iy,lN,t),Yi(Iy,lN,"esm2020"),Yi("fire-js","")}Eq("");var mN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,X4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function E(){}E.prototype=k.prototype,N.D=k.prototype,N.prototype=new E,N.prototype.constructor=N,N.C=function(T,_,A){for(var C=Array(arguments.length-2),O=2;O<arguments.length;O++)C[O-2]=arguments[O];return k.prototype[_].apply(T,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,E){E||(E=0);var T=Array(16);if(typeof k=="string")for(var _=0;16>_;++_)T[_]=k.charCodeAt(E++)|k.charCodeAt(E++)<<8|k.charCodeAt(E++)<<16|k.charCodeAt(E++)<<24;else for(_=0;16>_;++_)T[_]=k[E++]|k[E++]<<8|k[E++]<<16|k[E++]<<24;k=N.g[0],E=N.g[1],_=N.g[2];var A=N.g[3],C=k+(A^E&(_^A))+T[0]+3614090360&4294967295;k=E+(C<<7&4294967295|C>>>25),C=A+(_^k&(E^_))+T[1]+3905402710&4294967295,A=k+(C<<12&4294967295|C>>>20),C=_+(E^A&(k^E))+T[2]+606105819&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(k^_&(A^k))+T[3]+3250441966&4294967295,E=_+(C<<22&4294967295|C>>>10),C=k+(A^E&(_^A))+T[4]+4118548399&4294967295,k=E+(C<<7&4294967295|C>>>25),C=A+(_^k&(E^_))+T[5]+1200080426&4294967295,A=k+(C<<12&4294967295|C>>>20),C=_+(E^A&(k^E))+T[6]+2821735955&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(k^_&(A^k))+T[7]+4249261313&4294967295,E=_+(C<<22&4294967295|C>>>10),C=k+(A^E&(_^A))+T[8]+1770035416&4294967295,k=E+(C<<7&4294967295|C>>>25),C=A+(_^k&(E^_))+T[9]+2336552879&4294967295,A=k+(C<<12&4294967295|C>>>20),C=_+(E^A&(k^E))+T[10]+4294925233&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(k^_&(A^k))+T[11]+2304563134&4294967295,E=_+(C<<22&4294967295|C>>>10),C=k+(A^E&(_^A))+T[12]+1804603682&4294967295,k=E+(C<<7&4294967295|C>>>25),C=A+(_^k&(E^_))+T[13]+4254626195&4294967295,A=k+(C<<12&4294967295|C>>>20),C=_+(E^A&(k^E))+T[14]+2792965006&4294967295,_=A+(C<<17&4294967295|C>>>15),C=E+(k^_&(A^k))+T[15]+1236535329&4294967295,E=_+(C<<22&4294967295|C>>>10),C=k+(_^A&(E^_))+T[1]+4129170786&4294967295,k=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(k^E))+T[6]+3225465664&4294967295,A=k+(C<<9&4294967295|C>>>23),C=_+(k^E&(A^k))+T[11]+643717713&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^k&(_^A))+T[0]+3921069994&4294967295,E=_+(C<<20&4294967295|C>>>12),C=k+(_^A&(E^_))+T[5]+3593408605&4294967295,k=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(k^E))+T[10]+38016083&4294967295,A=k+(C<<9&4294967295|C>>>23),C=_+(k^E&(A^k))+T[15]+3634488961&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^k&(_^A))+T[4]+3889429448&4294967295,E=_+(C<<20&4294967295|C>>>12),C=k+(_^A&(E^_))+T[9]+568446438&4294967295,k=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(k^E))+T[14]+3275163606&4294967295,A=k+(C<<9&4294967295|C>>>23),C=_+(k^E&(A^k))+T[3]+4107603335&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^k&(_^A))+T[8]+1163531501&4294967295,E=_+(C<<20&4294967295|C>>>12),C=k+(_^A&(E^_))+T[13]+2850285829&4294967295,k=E+(C<<5&4294967295|C>>>27),C=A+(E^_&(k^E))+T[2]+4243563512&4294967295,A=k+(C<<9&4294967295|C>>>23),C=_+(k^E&(A^k))+T[7]+1735328473&4294967295,_=A+(C<<14&4294967295|C>>>18),C=E+(A^k&(_^A))+T[12]+2368359562&4294967295,E=_+(C<<20&4294967295|C>>>12),C=k+(E^_^A)+T[5]+4294588738&4294967295,k=E+(C<<4&4294967295|C>>>28),C=A+(k^E^_)+T[8]+2272392833&4294967295,A=k+(C<<11&4294967295|C>>>21),C=_+(A^k^E)+T[11]+1839030562&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^k)+T[14]+4259657740&4294967295,E=_+(C<<23&4294967295|C>>>9),C=k+(E^_^A)+T[1]+2763975236&4294967295,k=E+(C<<4&4294967295|C>>>28),C=A+(k^E^_)+T[4]+1272893353&4294967295,A=k+(C<<11&4294967295|C>>>21),C=_+(A^k^E)+T[7]+4139469664&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^k)+T[10]+3200236656&4294967295,E=_+(C<<23&4294967295|C>>>9),C=k+(E^_^A)+T[13]+681279174&4294967295,k=E+(C<<4&4294967295|C>>>28),C=A+(k^E^_)+T[0]+3936430074&4294967295,A=k+(C<<11&4294967295|C>>>21),C=_+(A^k^E)+T[3]+3572445317&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^k)+T[6]+76029189&4294967295,E=_+(C<<23&4294967295|C>>>9),C=k+(E^_^A)+T[9]+3654602809&4294967295,k=E+(C<<4&4294967295|C>>>28),C=A+(k^E^_)+T[12]+3873151461&4294967295,A=k+(C<<11&4294967295|C>>>21),C=_+(A^k^E)+T[15]+530742520&4294967295,_=A+(C<<16&4294967295|C>>>16),C=E+(_^A^k)+T[2]+3299628645&4294967295,E=_+(C<<23&4294967295|C>>>9),C=k+(_^(E|~A))+T[0]+4096336452&4294967295,k=E+(C<<6&4294967295|C>>>26),C=A+(E^(k|~_))+T[7]+1126891415&4294967295,A=k+(C<<10&4294967295|C>>>22),C=_+(k^(A|~E))+T[14]+2878612391&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~k))+T[5]+4237533241&4294967295,E=_+(C<<21&4294967295|C>>>11),C=k+(_^(E|~A))+T[12]+1700485571&4294967295,k=E+(C<<6&4294967295|C>>>26),C=A+(E^(k|~_))+T[3]+2399980690&4294967295,A=k+(C<<10&4294967295|C>>>22),C=_+(k^(A|~E))+T[10]+4293915773&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~k))+T[1]+2240044497&4294967295,E=_+(C<<21&4294967295|C>>>11),C=k+(_^(E|~A))+T[8]+1873313359&4294967295,k=E+(C<<6&4294967295|C>>>26),C=A+(E^(k|~_))+T[15]+4264355552&4294967295,A=k+(C<<10&4294967295|C>>>22),C=_+(k^(A|~E))+T[6]+2734768916&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~k))+T[13]+1309151649&4294967295,E=_+(C<<21&4294967295|C>>>11),C=k+(_^(E|~A))+T[4]+4149444226&4294967295,k=E+(C<<6&4294967295|C>>>26),C=A+(E^(k|~_))+T[11]+3174756917&4294967295,A=k+(C<<10&4294967295|C>>>22),C=_+(k^(A|~E))+T[2]+718787259&4294967295,_=A+(C<<15&4294967295|C>>>17),C=E+(A^(_|~k))+T[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(_+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+_&4294967295,N.g[3]=N.g[3]+A&4294967295}n.prototype.u=function(N,k){k===void 0&&(k=N.length);for(var E=k-this.blockSize,T=this.B,_=this.h,A=0;A<k;){if(_==0)for(;A<=E;)i(this,N,A),A+=this.blockSize;if(typeof N=="string"){for(;A<k;)if(T[_++]=N.charCodeAt(A++),_==this.blockSize){i(this,T),_=0;break}}else for(;A<k;)if(T[_++]=N[A++],_==this.blockSize){i(this,T),_=0;break}}this.h=_,this.o+=k},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;var E=8*this.o;for(k=N.length-8;k<N.length;++k)N[k]=E&255,E/=256;for(this.u(N),N=Array(16),k=E=0;4>k;++k)for(var T=0;32>T;T+=8)N[E++]=this.g[k]>>>T&255;return N};function a(N,k){var E=l;return Object.prototype.hasOwnProperty.call(E,N)?E[N]:E[N]=k(N)}function o(N,k){this.h=k;for(var E=[],T=!0,_=N.length-1;0<=_;_--){var A=N[_]|0;T&&A==k||(E[_]=A,T=!1)}this.g=E}var l={};function c(N){return-128<=N&&128>N?a(N,function(k){return new o([k|0],0>k?-1:0)}):new o([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return j(u(-N));for(var k=[],E=1,T=0;N>=E;T++)k[T]=N/E|0,E*=4294967296;return new o(k,0)}function d(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return j(d(N.substring(1),k));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(k,8)),T=m,_=0;_<N.length;_+=8){var A=Math.min(8,N.length-_),C=parseInt(N.substring(_,_+A),k);8>A?(A=u(Math.pow(k,A)),T=T.j(A).add(u(C))):(T=T.j(E),T=T.add(u(C)))}return T}var m=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-j(this).m();for(var N=0,k=1,E=0;E<this.g.length;E++){var T=this.i(E);N+=(0<=T?T:4294967296+T)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(g(this))return"0";if(v(this))return"-"+j(this).toString(N);for(var k=u(Math.pow(N,6)),E=this,T="";;){var _=w(E,k).g;E=y(E,_.j(k));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(N);if(E=_,g(E))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function g(N){if(N.h!=0)return!1;for(var k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function v(N){return N.h==-1}t.l=function(N){return N=y(this,N),v(N)?-1:g(N)?0:1};function j(N){for(var k=N.g.length,E=[],T=0;T<k;T++)E[T]=~N.g[T];return new o(E,~N.h).add(h)}t.abs=function(){return v(this)?j(this):this},t.add=function(N){for(var k=Math.max(this.g.length,N.g.length),E=[],T=0,_=0;_<=k;_++){var A=T+(this.i(_)&65535)+(N.i(_)&65535),C=(A>>>16)+(this.i(_)>>>16)+(N.i(_)>>>16);T=C>>>16,A&=65535,C&=65535,E[_]=C<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(N,k){return N.add(j(k))}t.j=function(N){if(g(this)||g(N))return m;if(v(this))return v(N)?j(this).j(j(N)):j(j(this).j(N));if(v(N))return j(this.j(j(N)));if(0>this.l(f)&&0>N.l(f))return u(this.m()*N.m());for(var k=this.g.length+N.g.length,E=[],T=0;T<2*k;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var _=0;_<N.g.length;_++){var A=this.i(T)>>>16,C=this.i(T)&65535,O=N.i(_)>>>16,U=N.i(_)&65535;E[2*T+2*_]+=C*U,p(E,2*T+2*_),E[2*T+2*_+1]+=A*U,p(E,2*T+2*_+1),E[2*T+2*_+1]+=C*O,p(E,2*T+2*_+1),E[2*T+2*_+2]+=A*O,p(E,2*T+2*_+2)}for(T=0;T<k;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=k;T<2*k;T++)E[T]=0;return new o(E,0)};function p(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function b(N,k){this.g=N,this.h=k}function w(N,k){if(g(k))throw Error("division by zero");if(g(N))return new b(m,m);if(v(N))return k=w(j(N),k),new b(j(k.g),j(k.h));if(v(k))return k=w(N,j(k)),new b(j(k.g),k.h);if(30<N.g.length){if(v(N)||v(k))throw Error("slowDivide_ only works with positive integers.");for(var E=h,T=k;0>=T.l(N);)E=S(E),T=S(T);var _=R(E,1),A=R(T,1);for(T=R(T,2),E=R(E,2);!g(T);){var C=A.add(T);0>=C.l(N)&&(_=_.add(E),A=C),T=R(T,1),E=R(E,1)}return k=y(N,_.j(k)),new b(_,k)}for(_=m;0<=N.l(k);){for(E=Math.max(1,Math.floor(N.m()/k.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=u(E),C=A.j(k);v(C)||0<C.l(N);)E-=T,A=u(E),C=A.j(k);g(A)&&(A=h),_=_.add(A),N=y(N,C)}return new b(_,N)}t.A=function(N){return w(this,N).h},t.and=function(N){for(var k=Math.max(this.g.length,N.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)&N.i(T);return new o(E,this.h&N.h)},t.or=function(N){for(var k=Math.max(this.g.length,N.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)|N.i(T);return new o(E,this.h|N.h)},t.xor=function(N){for(var k=Math.max(this.g.length,N.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)^N.i(T);return new o(E,this.h^N.h)};function S(N){for(var k=N.g.length+1,E=[],T=0;T<k;T++)E[T]=N.i(T)<<1|N.i(T-1)>>>31;return new o(E,N.h)}function R(N,k){var E=k>>5;k%=32;for(var T=N.g.length-E,_=[],A=0;A<T;A++)_[A]=0<k?N.i(A+E)>>>k|N.i(A+E+1)<<32-k:N.i(A+E);return new o(_,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,X4=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ji=o}).apply(typeof mN<"u"?mN:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z4,Kc,eT,Qh,Dy,tT,rT,sT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,I,V){return x==Array.prototype||x==Object.prototype||(x[I]=V.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var I=0;I<x.length;++I){var V=x[I];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(x,I){if(I)e:{var V=n;x=x.split(".");for(var Y=0;Y<x.length-1;Y++){var re=x[Y];if(!(re in V))break e;V=V[re]}x=x[x.length-1],Y=V[x],I=I(Y),I!=Y&&I!=null&&e(V,x,{configurable:!0,writable:!0,value:I})}}function a(x,I){x instanceof String&&(x+="");var V=0,Y=!1,re={next:function(){if(!Y&&V<x.length){var ie=V++;return{value:I(ie,x[ie]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(x){return x||function(){return a(this,function(I,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(x){var I=typeof x;return I=I!="object"?I:x?Array.isArray(x)?"array":I:"null",I=="array"||I=="object"&&typeof x.length=="number"}function u(x){var I=typeof x;return I=="object"&&x!=null||I=="function"}function d(x,I,V){return x.call.apply(x.bind,arguments)}function m(x,I,V){if(!x)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,Y),x.apply(I,re)}}return function(){return x.apply(I,arguments)}}function h(x,I,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,h.apply(null,arguments)}function f(x,I){var V=Array.prototype.slice.call(arguments,1);return function(){var Y=V.slice();return Y.push.apply(Y,arguments),x.apply(this,Y)}}function g(x,I){function V(){}V.prototype=I.prototype,x.aa=I.prototype,x.prototype=new V,x.prototype.constructor=x,x.Qb=function(Y,re,ie){for(var je=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)je[jt-2]=arguments[jt];return I.prototype[re].apply(Y,je)}}function v(x){const I=x.length;if(0<I){const V=Array(I);for(let Y=0;Y<I;Y++)V[Y]=x[Y];return V}return[]}function j(x,I){for(let V=1;V<arguments.length;V++){const Y=arguments[V];if(c(Y)){const re=x.length||0,ie=Y.length||0;x.length=re+ie;for(let je=0;je<ie;je++)x[re+je]=Y[je]}else x.push(Y)}}class y{constructor(I,V){this.i=I,this.j=V,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function p(x){return/^[\s\xa0]*$/.test(x)}function b(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function w(x){return w[" "](x),x}w[" "]=function(){};var S=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function R(x,I,V){for(const Y in x)I.call(V,x[Y],Y,x)}function N(x,I){for(const V in x)I.call(void 0,x[V],V,x)}function k(x){const I={};for(const V in x)I[V]=x[V];return I}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(x,I){let V,Y;for(let re=1;re<arguments.length;re++){Y=arguments[re];for(V in Y)x[V]=Y[V];for(let ie=0;ie<E.length;ie++)V=E[ie],Object.prototype.hasOwnProperty.call(Y,V)&&(x[V]=Y[V])}}function _(x){var I=1;x=x.split(":");const V=[];for(;0<I&&x.length;)V.push(x.shift()),I--;return x.length&&V.push(x.join(":")),V}function A(x){l.setTimeout(()=>{throw x},0)}function C(){var x=z;let I=null;return x.g&&(I=x.g,x.g=x.g.next,x.g||(x.h=null),I.next=null),I}class O{constructor(){this.h=this.g=null}add(I,V){const Y=U.get();Y.set(I,V),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var U=new y(()=>new L,x=>x.reset());class L{constructor(){this.next=this.g=this.h=null}set(I,V){this.h=I,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let q,M=!1,z=new O,D=()=>{const x=l.Promise.resolve(void 0);q=()=>{x.then(F)}};var F=()=>{for(var x;x=C();){try{x.h.call(x.g)}catch(V){A(V)}var I=U;I.j(x),100>I.h&&(I.h++,x.next=I.g,I.g=x)}M=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(x,I){this.type=x,this.g=this.target=I,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,I=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const V=()=>{};l.addEventListener("test",V,I),l.removeEventListener("test",V,I)}catch{}return x}();function X(x,I){if(W.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var V=this.type=x.type,Y=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=I,I=x.relatedTarget){if(S){e:{try{w(I.nodeName);var re=!0;break e}catch{}re=!1}re||(I=null)}}else V=="mouseover"?I=x.fromElement:V=="mouseout"&&(I=x.toElement);this.relatedTarget=I,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:G[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&X.aa.h.call(this)}}g(X,W);var G={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),J=0;function $(x,I,V,Y,re){this.listener=x,this.proxy=null,this.src=I,this.type=V,this.capture=!!Y,this.ha=re,this.key=++J,this.da=this.fa=!1}function Z(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function se(x){this.src=x,this.g={},this.h=0}se.prototype.add=function(x,I,V,Y,re){var ie=x.toString();x=this.g[ie],x||(x=this.g[ie]=[],this.h++);var je=te(x,I,Y,re);return-1<je?(I=x[je],V||(I.fa=!1)):(I=new $(I,this.src,ie,!!Y,re),I.fa=V,x.push(I)),I};function pe(x,I){var V=I.type;if(V in x.g){var Y=x.g[V],re=Array.prototype.indexOf.call(Y,I,void 0),ie;(ie=0<=re)&&Array.prototype.splice.call(Y,re,1),ie&&(Z(I),x.g[V].length==0&&(delete x.g[V],x.h--))}}function te(x,I,V,Y){for(var re=0;re<x.length;++re){var ie=x[re];if(!ie.da&&ie.listener==I&&ie.capture==!!V&&ie.ha==Y)return re}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Pe={};function Xe(x,I,V,Y,re){if(Y&&Y.once)return ue(x,I,V,Y,re);if(Array.isArray(I)){for(var ie=0;ie<I.length;ie++)Xe(x,I[ie],V,Y,re);return null}return V=Ht(V),x&&x[K]?x.K(I,V,u(Y)?!!Y.capture:!!Y,re):mt(x,I,V,!1,Y,re)}function mt(x,I,V,Y,re,ie){if(!I)throw Error("Invalid event type");var je=u(re)?!!re.capture:!!re,jt=Fe(x);if(jt||(x[ge]=jt=new se(x)),V=jt.add(I,V,Y,je,ie),V.proxy)return V;if(Y=oe(),V.proxy=Y,Y.src=x,Y.listener=V,x.addEventListener)Q||(re=je),re===void 0&&(re=!1),x.addEventListener(I.toString(),Y,re);else if(x.attachEvent)x.attachEvent(ne(I.toString()),Y);else if(x.addListener&&x.removeListener)x.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return V}function oe(){function x(V){return I.call(x.src,x.listener,V)}const I=Be;return x}function ue(x,I,V,Y,re){if(Array.isArray(I)){for(var ie=0;ie<I.length;ie++)ue(x,I[ie],V,Y,re);return null}return V=Ht(V),x&&x[K]?x.L(I,V,u(Y)?!!Y.capture:!!Y,re):mt(x,I,V,!0,Y,re)}function ye(x,I,V,Y,re){if(Array.isArray(I))for(var ie=0;ie<I.length;ie++)ye(x,I[ie],V,Y,re);else Y=u(Y)?!!Y.capture:!!Y,V=Ht(V),x&&x[K]?(x=x.i,I=String(I).toString(),I in x.g&&(ie=x.g[I],V=te(ie,V,Y,re),-1<V&&(Z(ie[V]),Array.prototype.splice.call(ie,V,1),ie.length==0&&(delete x.g[I],x.h--)))):x&&(x=Fe(x))&&(I=x.g[I.toString()],x=-1,I&&(x=te(I,V,Y,re)),(V=-1<x?I[x]:null)&&we(V))}function we(x){if(typeof x!="number"&&x&&!x.da){var I=x.src;if(I&&I[K])pe(I.i,x);else{var V=x.type,Y=x.proxy;I.removeEventListener?I.removeEventListener(V,Y,x.capture):I.detachEvent?I.detachEvent(ne(V),Y):I.addListener&&I.removeListener&&I.removeListener(Y),(V=Fe(I))?(pe(V,x),V.h==0&&(V.src=null,I[ge]=null)):Z(x)}}}function ne(x){return x in Pe?Pe[x]:Pe[x]="on"+x}function Be(x,I){if(x.da)x=!0;else{I=new X(I,this);var V=x.listener,Y=x.ha||x.src;x.fa&&we(x),x=V.call(Y,I)}return x}function Fe(x){return x=x[ge],x instanceof se?x:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(x){return typeof x=="function"?x:(x[$e]||(x[$e]=function(I){return x.handleEvent(I)}),x[$e])}function ut(){H.call(this),this.i=new se(this),this.M=this,this.F=null}g(ut,H),ut.prototype[K]=!0,ut.prototype.removeEventListener=function(x,I,V,Y){ye(this,x,I,V,Y)};function Ge(x,I){var V,Y=x.F;if(Y)for(V=[];Y;Y=Y.F)V.push(Y);if(x=x.M,Y=I.type||I,typeof I=="string")I=new W(I,x);else if(I instanceof W)I.target=I.target||x;else{var re=I;I=new W(Y,x),T(I,re)}if(re=!0,V)for(var ie=V.length-1;0<=ie;ie--){var je=I.g=V[ie];re=Sr(je,Y,!0,I)&&re}if(je=I.g=x,re=Sr(je,Y,!0,I)&&re,re=Sr(je,Y,!1,I)&&re,V)for(ie=0;ie<V.length;ie++)je=I.g=V[ie],re=Sr(je,Y,!1,I)&&re}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var x=this.i,I;for(I in x.g){for(var V=x.g[I],Y=0;Y<V.length;Y++)Z(V[Y]);delete x.g[I],x.h--}}this.F=null},ut.prototype.K=function(x,I,V,Y){return this.i.add(String(x),I,!1,V,Y)},ut.prototype.L=function(x,I,V,Y){return this.i.add(String(x),I,!0,V,Y)};function Sr(x,I,V,Y){if(I=x.i.g[String(I)],!I)return!0;I=I.concat();for(var re=!0,ie=0;ie<I.length;++ie){var je=I[ie];if(je&&!je.da&&je.capture==V){var jt=je.listener,gr=je.ha||je.src;je.fa&&pe(x.i,je),re=jt.call(gr,Y)!==!1&&re}}return re&&!Y.defaultPrevented}function bt(x,I,V){if(typeof x=="function")V&&(x=h(x,V));else if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(x,I||0)}function Jt(x){x.g=bt(()=>{x.g=null,x.i&&(x.i=!1,Jt(x))},x.l);const I=x.h;x.h=null,x.m.apply(null,I)}class Rs extends H{constructor(I,V){super(),this.m=I,this.l=V,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(x){H.call(this),this.h=x,this.g={}}g(En,H);var wo=[];function ba(x){R(x.g,function(I,V){this.g.hasOwnProperty(V)&&we(I)},x),x.g={}}En.prototype.N=function(){En.aa.N.call(this),ba(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=l.JSON.stringify,ee=l.JSON.parse,fe=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function We(){}We.prototype.h=null;function Ur(x){return x.h||(x.h=x.i())}function Br(){}var No={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fc(){W.call(this,"d")}g(fc,W);function gs(){W.call(this,"c")}g(gs,W);var xs={},ss=null;function ja(){return ss=ss||new ut}xs.La="serverreachability";function ys(x){W.call(this,xs.La,x)}g(ys,W);function ui(x){const I=ja();Ge(I,new ys(I))}xs.STAT_EVENT="statevent";function wa(x,I){W.call(this,xs.STAT_EVENT,x),this.stat=I}g(wa,W);function mr(x){const I=ja();Ge(I,new wa(I,x))}xs.Ma="timingevent";function pc(x,I){W.call(this,xs.Ma,x),this.size=I}g(pc,W);function Tn(x,I){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},I)}function Na(){this.g=!0}Na.prototype.xa=function(){this.g=!1};function Fp(x,I,V,Y,re,ie){x.info(function(){if(x.g)if(ie)for(var je="",jt=ie.split("&"),gr=0;gr<jt.length;gr++){var ht=jt[gr].split("=");if(1<ht.length){var _r=ht[0];ht=ht[1];var Er=_r.split("_");je=2<=Er.length&&Er[1]=="type"?je+(_r+"="+ht+"&"):je+(_r+"=redacted&")}}else je=null;else je=ie;return"XMLHTTP REQ ("+Y+") [attempt "+re+"]: "+I+`
`+V+`
`+je})}function Vp(x,I,V,Y,re,ie,je){x.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+re+"]: "+I+`
`+V+`
`+ie+" "+je})}function di(x,I,V,Y){x.info(function(){return"XMLHTTP TEXT ("+I+"): "+Bp(x,V)+(Y?" "+Y:"")})}function Up(x,I){x.info(function(){return"TIMEOUT: "+I})}Na.prototype.info=function(){};function Bp(x,I){if(!x.g)return I;if(!I)return null;try{var V=JSON.parse(I);if(V){for(x=0;x<V.length;x++)if(Array.isArray(V[x])){var Y=V[x];if(!(2>Y.length)){var re=Y[1];if(Array.isArray(re)&&!(1>re.length)){var ie=re[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var je=1;je<re.length;je++)re[je]=""}}}}return Xs(V)}catch{return I}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ko={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zs;function So(){}g(So,We),So.prototype.g=function(){return new XMLHttpRequest},So.prototype.i=function(){return{}},Zs=new So;function en(x,I,V,Y){this.j=x,this.i=I,this.l=V,this.R=Y||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var Ds={},_o={};function Eo(x,I,V){x.L=1,x.v=Xt(Ie(I)),x.m=V,x.P=!0,_d(x,null)}function _d(x,I){x.F=Date.now(),Co(x),x.A=Ie(x.v);var V=x.A,Y=x.R;Array.isArray(Y)||(Y=[String(Y)]),Yb(V.i,"t",Y),x.C=0,V=x.j.J,x.h=new Os,x.g=fj(x.j,V?I:null,!x.m),0<x.O&&(x.M=new Rs(h(x.Y,x,x.g),x.O)),I=x.U,V=x.g,Y=x.ca;var re="readystatechange";Array.isArray(re)||(re&&(wo[0]=re.toString()),re=wo);for(var ie=0;ie<re.length;ie++){var je=Xe(V,re[ie],Y||I.handleEvent,!1,I.h||I);if(!je)break;I.g[je.key]=je}I=x.H?k(x.H):{},x.m?(x.u||(x.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,I)):(x.u="GET",x.g.ea(x.A,x.u,null,I)),ui(),Fp(x.i,x.u,x.A,x.l,x.R,x.m)}en.prototype.ca=function(x){x=x.target;const I=this.M;I&&Cn(x)==3?I.j():this.Y(x)},en.prototype.Y=function(x){try{if(x==this.g)e:{const Er=Cn(this.g);var I=this.g.Ba();const Do=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||sj(this.g)))){this.J||Er!=4||I==7||(I==8||0>=Do?ui(3):ui(2)),Ao(this);var V=this.g.Z();this.X=V;t:if(To(this)){var Y=sj(this.g);x="";var re=Y.length,ie=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),hi(this);var je="";break t}this.h.i=new l.TextDecoder}for(I=0;I<re;I++)this.h.h=!0,x+=this.h.i.decode(Y[I],{stream:!(ie&&I==re-1)});Y.length=0,this.h.g+=x,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=V==200,Vp(this.i,this.u,this.A,this.l,this.R,Er,V),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,gr=this.g;if((jt=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(jt)){var ht=jt;break t}}ht=null}if(V=ht)di(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,V);else{this.o=!1,this.s=3,mr(12),tn(this),hi(this);break e}}if(this.P){V=!0;let Ms;for(;!this.J&&this.C<je.length;)if(Ms=Ed(this,je),Ms==_o){Er==4&&(this.s=4,mr(14),V=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ms==Ds){this.s=4,mr(15),di(this.i,this.l,je,"[Invalid Chunk]"),V=!1;break}else di(this.i,this.l,Ms,null),Po(this,Ms);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||je.length!=0||this.h.h||(this.s=1,mr(16),V=!1),this.o=this.o&&V,!V)di(this.i,this.l,je,"[Invalid Chunked Response]"),tn(this),hi(this);else if(0<je.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),Wp(_r),_r.M=!0,mr(11))}}else di(this.i,this.l,je,null),Po(this,je);Er==4&&tn(this),this.o&&!this.J&&(Er==4?uj(this.j,this):(this.o=!1,Co(this)))}else UP(this.g),V==400&&0<je.indexOf("Unknown SID")?(this.s=3,mr(12)):(this.s=0,mr(13)),tn(this),hi(this)}}}catch{}finally{}};function To(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function Ed(x,I){var V=x.C,Y=I.indexOf(`
`,V);return Y==-1?_o:(V=Number(I.substring(V,Y)),isNaN(V)?Ds:(Y+=1,Y+V>I.length?_o:(I=I.slice(Y,Y+V),x.C=Y+V,I)))}en.prototype.cancel=function(){this.J=!0,tn(this)};function Co(x){x.S=Date.now()+x.I,Td(x,x.I)}function Td(x,I){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Tn(h(x.ba,x),I)}function Ao(x){x.B&&(l.clearTimeout(x.B),x.B=null)}en.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Up(this.i,this.A),this.L!=2&&(ui(),mr(17)),tn(this),this.s=2,hi(this)):Td(this,this.S-x)};function hi(x){x.j.G==0||x.J||uj(x.j,x)}function tn(x){Ao(x);var I=x.M;I&&typeof I.ma=="function"&&I.ma(),x.M=null,ba(x.U),x.g&&(I=x.g,x.g=null,I.abort(),I.ma())}function Po(x,I){try{var V=x.j;if(V.G!=0&&(V.g==x||Io(V.h,x))){if(!x.K&&Io(V.h,x)&&V.G==3){try{var Y=V.Da.g.parse(I)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var re=Y;if(re[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<x.F)Dd(V),Rd(V);else break e;zp(V),mr(18)}}else V.za=re[1],0<V.za-V.T&&37500>re[2]&&V.F&&V.v==0&&!V.C&&(V.C=Tn(h(V.Za,V),6e3));if(1>=yc(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Sa(V,11)}else if((x.K||V.g==x)&&Dd(V),!p(I))for(re=V.Da.g.parse(I),I=0;I<re.length;I++){let ht=re[I];if(V.T=ht[0],ht=ht[1],V.G==2)if(ht[0]=="c"){V.K=ht[1],V.ia=ht[2];const _r=ht[3];_r!=null&&(V.la=_r,V.j.info("VER="+V.la));const Er=ht[4];Er!=null&&(V.Aa=Er,V.j.info("SVER="+V.Aa));const Do=ht[5];Do!=null&&typeof Do=="number"&&0<Do&&(Y=1.5*Do,V.L=Y,V.j.info("backChannelRequestTimeoutMs_="+Y)),Y=V;const Ms=x.g;if(Ms){const Ld=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ld){var ie=Y.h;ie.g||Ld.indexOf("spdy")==-1&&Ld.indexOf("quic")==-1&&Ld.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(B(ie,ie.h),ie.h=null))}if(Y.D){const Hp=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;Hp&&(Y.ya=Hp,Qe(Y.I,Y.D,Hp))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-x.F,V.j.info("Handshake RTT: "+V.R+"ms")),Y=V;var je=x;if(Y.qa=mj(Y,Y.J?Y.ia:null,Y.W),je.K){le(Y.h,je);var jt=je,gr=Y.L;gr&&(jt.I=gr),jt.B&&(Ao(jt),Co(jt)),Y.g=je}else lj(Y);0<V.i.length&&Od(V)}else ht[0]!="stop"&&ht[0]!="close"||Sa(V,7);else V.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Sa(V,7):qp(V):ht[0]!="noop"&&V.l&&V.l.ta(ht),V.v=0)}}ui(4)}catch{}}var Cd=class{constructor(x,I){this.g=x,this.map=I}};function gc(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xc(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function yc(x){return x.h?1:x.g?x.g.size:0}function Io(x,I){return x.h?x.h==I:x.g?x.g.has(I):!1}function B(x,I){x.g?x.g.add(I):x.h=I}function le(x,I){x.h&&x.h==I?x.h=null:x.g&&x.g.has(I)&&x.g.delete(I)}gc.prototype.cancel=function(){if(this.i=ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ce(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let I=x.i;for(const V of x.g.values())I=I.concat(V.D);return I}return v(x.i)}function ve(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var I=[],V=x.length,Y=0;Y<V;Y++)I.push(x[Y]);return I}I=[],V=0;for(Y in x)I[V++]=x[Y];return I}function Te(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var I=[];x=x.length;for(var V=0;V<x;V++)I.push(V);return I}I=[],V=0;for(const Y in x)I[V++]=Y;return I}}}function ke(x,I){if(x.forEach&&typeof x.forEach=="function")x.forEach(I,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,I,void 0);else for(var V=Te(x),Y=ve(x),re=Y.length,ie=0;ie<re;ie++)I.call(void 0,Y[ie],V&&V[ie],x)}var Ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _e(x,I){if(x){x=x.split("&");for(var V=0;V<x.length;V++){var Y=x[V].indexOf("="),re=null;if(0<=Y){var ie=x[V].substring(0,Y);re=x[V].substring(Y+1)}else ie=x[V];I(ie,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Me(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Me){this.h=x.h,Ae(this,x.j),this.o=x.o,this.g=x.g,Re(this,x.s),this.l=x.l;var I=x.i,V=new vc;V.i=I.i,I.g&&(V.g=new Map(I.g),V.h=I.h),fr(this,V),this.m=x.m}else x&&(I=String(x).match(Ne))?(this.h=!1,Ae(this,I[1]||"",!0),this.o=pr(I[2]||""),this.g=pr(I[3]||"",!0),Re(this,I[4]),this.l=pr(I[5]||"",!0),fr(this,I[6]||"",!0),this.m=pr(I[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}Me.prototype.toString=function(){var x=[],I=this.j;I&&x.push(rn(I,Kb,!0),":");var V=this.g;return(V||I=="file")&&(x.push("//"),(I=this.o)&&x.push(rn(I,Kb,!0),"@"),x.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&x.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&x.push("/"),x.push(rn(V,V.charAt(0)=="/"?AP:CP,!0))),(V=this.i.toString())&&x.push("?",V),(V=this.m)&&x.push("#",rn(V,IP)),x.join("")};function Ie(x){return new Me(x)}function Ae(x,I,V){x.j=V?pr(I,!0):I,x.j&&(x.j=x.j.replace(/:$/,""))}function Re(x,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);x.s=I}else x.s=null}function fr(x,I,V){I instanceof vc?(x.i=I,RP(x.i,x.h)):(V||(I=rn(I,PP)),x.i=new vc(I,x.h))}function Qe(x,I,V){x.i.set(I,V)}function Xt(x){return Qe(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function pr(x,I){return x?I?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function rn(x,I,V){return typeof x=="string"?(x=encodeURI(x).replace(I,TP),V&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function TP(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Kb=/[#\/\?@]/g,CP=/[#\?:]/g,AP=/[#\?]/g,PP=/[#\?@]/g,IP=/#/g;function vc(x,I){this.h=this.g=null,this.i=x||null,this.j=!!I}function mi(x){x.g||(x.g=new Map,x.h=0,x.i&&_e(x.i,function(I,V){x.add(decodeURIComponent(I.replace(/\+/g," ")),V)}))}t=vc.prototype,t.add=function(x,I){mi(this),this.i=null,x=Ro(this,x);var V=this.g.get(x);return V||this.g.set(x,V=[]),V.push(I),this.h+=1,this};function Gb(x,I){mi(x),I=Ro(x,I),x.g.has(I)&&(x.i=null,x.h-=x.g.get(I).length,x.g.delete(I))}function Qb(x,I){return mi(x),I=Ro(x,I),x.g.has(I)}t.forEach=function(x,I){mi(this),this.g.forEach(function(V,Y){V.forEach(function(re){x.call(I,re,Y,this)},this)},this)},t.na=function(){mi(this);const x=Array.from(this.g.values()),I=Array.from(this.g.keys()),V=[];for(let Y=0;Y<I.length;Y++){const re=x[Y];for(let ie=0;ie<re.length;ie++)V.push(I[Y])}return V},t.V=function(x){mi(this);let I=[];if(typeof x=="string")Qb(this,x)&&(I=I.concat(this.g.get(Ro(this,x))));else{x=Array.from(this.g.values());for(let V=0;V<x.length;V++)I=I.concat(x[V])}return I},t.set=function(x,I){return mi(this),this.i=null,x=Ro(this,x),Qb(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[I]),this.h+=1,this},t.get=function(x,I){return x?(x=this.V(x),0<x.length?String(x[0]):I):I};function Yb(x,I,V){Gb(x,I),0<V.length&&(x.i=null,x.g.set(Ro(x,I),v(V)),x.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],I=Array.from(this.g.keys());for(var V=0;V<I.length;V++){var Y=I[V];const ie=encodeURIComponent(String(Y)),je=this.V(Y);for(Y=0;Y<je.length;Y++){var re=ie;je[Y]!==""&&(re+="="+encodeURIComponent(String(je[Y]))),x.push(re)}}return this.i=x.join("&")};function Ro(x,I){return I=String(I),x.j&&(I=I.toLowerCase()),I}function RP(x,I){I&&!x.j&&(mi(x),x.i=null,x.g.forEach(function(V,Y){var re=Y.toLowerCase();Y!=re&&(Gb(this,Y),Yb(this,re,V))},x)),x.j=I}function OP(x,I){const V=new Na;if(l.Image){const Y=new Image;Y.onload=f(fi,V,"TestLoadImage: loaded",!0,I,Y),Y.onerror=f(fi,V,"TestLoadImage: error",!1,I,Y),Y.onabort=f(fi,V,"TestLoadImage: abort",!1,I,Y),Y.ontimeout=f(fi,V,"TestLoadImage: timeout",!1,I,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=x}else I(!1)}function DP(x,I){const V=new Na,Y=new AbortController,re=setTimeout(()=>{Y.abort(),fi(V,"TestPingServer: timeout",!1,I)},1e4);fetch(x,{signal:Y.signal}).then(ie=>{clearTimeout(re),ie.ok?fi(V,"TestPingServer: ok",!0,I):fi(V,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(re),fi(V,"TestPingServer: error",!1,I)})}function fi(x,I,V,Y,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),Y(V)}catch{}}function MP(){this.g=new fe}function LP(x,I,V){const Y=V||"";try{ke(x,function(re,ie){let je=re;u(re)&&(je=Xs(re)),I.push(Y+ie+"="+encodeURIComponent(je))})}catch(re){throw I.push(Y+"type="+encodeURIComponent("_badmap")),re}}function Ad(x){this.l=x.Ub||null,this.j=x.eb||!1}g(Ad,We),Ad.prototype.g=function(){return new Pd(this.l,this.j)},Ad.prototype.i=function(x){return function(){return x}}({});function Pd(x,I){ut.call(this),this.D=x,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Pd,ut),t=Pd.prototype,t.open=function(x,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=I,this.readyState=1,jc(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(I.body=x),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jb(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jb(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var I=x.value?x.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!x.done}))&&(this.response=this.responseText+=I)}x.done?bc(this):jc(this),this.readyState==3&&Jb(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,bc(this))},t.Qa=function(x){this.g&&(this.response=x,bc(this))},t.ga=function(){this.g&&bc(this)};function bc(x){x.readyState=4,x.l=null,x.j=null,x.v=null,jc(x)}t.setRequestHeader=function(x,I){this.u.append(x,I)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],I=this.h.entries();for(var V=I.next();!V.done;)V=V.value,x.push(V[0]+": "+V[1]),V=I.next();return x.join(`\r
`)};function jc(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Xb(x){let I="";return R(x,function(V,Y){I+=Y,I+=":",I+=V,I+=`\r
`}),I}function $p(x,I,V){e:{for(Y in V){var Y=!1;break e}Y=!0}Y||(V=Xb(V),typeof x=="string"?V!=null&&encodeURIComponent(String(V)):Qe(x,I,V))}function Ut(x){ut.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ut,ut);var FP=/^https?$/i,VP=["POST","PUT"];t=Ut.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,I,V,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);I=I?I.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zs.g(),this.v=this.o?Ur(this.o):Ur(Zs),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(I,String(x),!0),this.B=!1}catch(ie){Zb(this,ie);return}if(x=V||"",V=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var re in Y)V.set(re,Y[re]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ie of Y.keys())V.set(ie,Y.get(ie));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(V.keys()).find(ie=>ie.toLowerCase()=="content-type"),re=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(VP,I,void 0))||Y||re||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,je]of V)this.g.setRequestHeader(ie,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rj(this),this.u=!0,this.g.send(x),this.u=!1}catch(ie){Zb(this,ie)}};function Zb(x,I){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=I,x.m=5,ej(x),Id(x)}function ej(x){x.A||(x.A=!0,Ge(x,"complete"),Ge(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Ge(this,"complete"),Ge(this,"abort"),Id(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Id(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tj(this):this.bb())},t.bb=function(){tj(this)};function tj(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Cn(x)!=4||x.Z()!=2)){if(x.u&&Cn(x)==4)bt(x.Ea,0,x);else if(Ge(x,"readystatechange"),Cn(x)==4){x.h=!1;try{const je=x.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var V;if(!(V=I)){var Y;if(Y=je===0){var re=String(x.D).match(Ne)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),Y=!FP.test(re?re.toLowerCase():"")}V=Y}if(V)Ge(x,"complete"),Ge(x,"success");else{x.m=6;try{var ie=2<Cn(x)?x.g.statusText:""}catch{ie=""}x.l=ie+" ["+x.Z()+"]",ej(x)}}finally{Id(x)}}}}function Id(x,I){if(x.g){rj(x);const V=x.g,Y=x.v[0]?()=>{}:null;x.g=null,x.v=null,I||Ge(x,"ready");try{V.onreadystatechange=Y}catch{}}}function rj(x){x.I&&(l.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Cn(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var I=this.g.responseText;return x&&I.indexOf(x)==0&&(I=I.substring(x.length)),ee(I)}};function sj(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function UP(x){const I={};x=(x.g&&2<=Cn(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<x.length;Y++){if(p(x[Y]))continue;var V=_(x[Y]);const re=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ie=I[re]||[];I[re]=ie,ie.push(V)}N(I,function(Y){return Y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wc(x,I,V){return V&&V.internalChannelParams&&V.internalChannelParams[x]||I}function nj(x){this.Aa=0,this.i=[],this.j=new Na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wc("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wc("baseRetryDelayMs",5e3,x),this.cb=wc("retryDelaySeedMs",1e4,x),this.Wa=wc("forwardChannelMaxRetries",2,x),this.wa=wc("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new gc(x&&x.concurrentRequestLimit),this.Da=new MP,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nj.prototype,t.la=8,t.G=1,t.connect=function(x,I,V,Y){mr(0),this.W=x,this.H=I||{},V&&Y!==void 0&&(this.H.OSID=V,this.H.OAID=Y),this.F=this.X,this.I=mj(this,null,this.W),Od(this)};function qp(x){if(ij(x),x.G==3){var I=x.U++,V=Ie(x.I);if(Qe(V,"SID",x.K),Qe(V,"RID",I),Qe(V,"TYPE","terminate"),Nc(x,V),I=new en(x,x.j,I),I.L=2,I.v=Xt(Ie(V)),V=!1,l.navigator&&l.navigator.sendBeacon)try{V=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!V&&l.Image&&(new Image().src=I.v,V=!0),V||(I.g=fj(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Co(I)}hj(x)}function Rd(x){x.g&&(Wp(x),x.g.cancel(),x.g=null)}function ij(x){Rd(x),x.u&&(l.clearTimeout(x.u),x.u=null),Dd(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Od(x){if(!xc(x.h)&&!x.s){x.s=!0;var I=x.Ga;q||D(),M||(q(),M=!0),z.add(I,x),x.B=0}}function BP(x,I){return yc(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=I.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Tn(h(x.Ga,x,I),dj(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const re=new en(this,this.j,x);let ie=this.o;if(this.S&&(ie?(ie=k(ie),T(ie,this.S)):ie=this.S),this.m!==null||this.O||(re.H=ie,ie=null),this.P)e:{for(var I=0,V=0;V<this.i.length;V++){t:{var Y=this.i[V];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(I+=Y,4096<I){I=V;break e}if(I===4096||V===this.i.length-1){I=V+1;break e}}I=1e3}else I=1e3;I=oj(this,re,I),V=Ie(this.I),Qe(V,"RID",x),Qe(V,"CVER",22),this.D&&Qe(V,"X-HTTP-Session-Id",this.D),Nc(this,V),ie&&(this.O?I="headers="+encodeURIComponent(String(Xb(ie)))+"&"+I:this.m&&$p(V,this.m,ie)),B(this.h,re),this.Ua&&Qe(V,"TYPE","init"),this.P?(Qe(V,"$req",I),Qe(V,"SID","null"),re.T=!0,Eo(re,V,null)):Eo(re,V,I),this.G=2}}else this.G==3&&(x?aj(this,x):this.i.length==0||xc(this.h)||aj(this))};function aj(x,I){var V;I?V=I.l:V=x.U++;const Y=Ie(x.I);Qe(Y,"SID",x.K),Qe(Y,"RID",V),Qe(Y,"AID",x.T),Nc(x,Y),x.m&&x.o&&$p(Y,x.m,x.o),V=new en(x,x.j,V,x.B+1),x.m===null&&(V.H=x.o),I&&(x.i=I.D.concat(x.i)),I=oj(x,V,1e3),V.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),B(x.h,V),Eo(V,Y,I)}function Nc(x,I){x.H&&R(x.H,function(V,Y){Qe(I,Y,V)}),x.l&&ke({},function(V,Y){Qe(I,Y,V)})}function oj(x,I,V){V=Math.min(x.i.length,V);var Y=x.l?h(x.l.Na,x.l,x):null;e:{var re=x.i;let ie=-1;for(;;){const je=["count="+V];ie==-1?0<V?(ie=re[0].g,je.push("ofs="+ie)):ie=0:je.push("ofs="+ie);let jt=!0;for(let gr=0;gr<V;gr++){let ht=re[gr].g;const _r=re[gr].map;if(ht-=ie,0>ht)ie=Math.max(0,re[gr].g-100),jt=!1;else try{LP(_r,je,"req"+ht+"_")}catch{Y&&Y(_r)}}if(jt){Y=je.join("&");break e}}}return x=x.i.splice(0,V),I.D=x,Y}function lj(x){if(!x.g&&!x.u){x.Y=1;var I=x.Fa;q||D(),M||(q(),M=!0),z.add(I,x),x.v=0}}function zp(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Tn(h(x.Fa,x),dj(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,cj(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Tn(h(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mr(10),Rd(this),cj(this))};function Wp(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function cj(x){x.g=new en(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var I=Ie(x.qa);Qe(I,"RID","rpc"),Qe(I,"SID",x.K),Qe(I,"AID",x.T),Qe(I,"CI",x.F?"0":"1"),!x.F&&x.ja&&Qe(I,"TO",x.ja),Qe(I,"TYPE","xmlhttp"),Nc(x,I),x.m&&x.o&&$p(I,x.m,x.o),x.L&&(x.g.I=x.L);var V=x.g;x=x.ia,V.L=1,V.v=Xt(Ie(I)),V.m=null,V.P=!0,_d(V,x)}t.Za=function(){this.C!=null&&(this.C=null,Rd(this),zp(this),mr(19))};function Dd(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function uj(x,I){var V=null;if(x.g==I){Dd(x),Wp(x),x.g=null;var Y=2}else if(Io(x.h,I))V=I.D,le(x.h,I),Y=1;else return;if(x.G!=0){if(I.o)if(Y==1){V=I.m?I.m.length:0,I=Date.now()-I.F;var re=x.B;Y=ja(),Ge(Y,new pc(Y,V)),Od(x)}else lj(x);else if(re=I.s,re==3||re==0&&0<I.X||!(Y==1&&BP(x,I)||Y==2&&zp(x)))switch(V&&0<V.length&&(I=x.h,I.i=I.i.concat(V)),re){case 1:Sa(x,5);break;case 4:Sa(x,10);break;case 3:Sa(x,6);break;default:Sa(x,2)}}}function dj(x,I){let V=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(V*=2),V*I}function Sa(x,I){if(x.j.info("Error code "+I),I==2){var V=h(x.fb,x),Y=x.Xa;const re=!Y;Y=new Me(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ae(Y,"https"),Xt(Y),re?OP(Y.toString(),V):DP(Y.toString(),V)}else mr(2);x.G=0,x.l&&x.l.sa(I),hj(x),ij(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),mr(2)):(this.j.info("Failed to ping google.com"),mr(1))};function hj(x){if(x.G=0,x.ka=[],x.l){const I=ce(x.h);(I.length!=0||x.i.length!=0)&&(j(x.ka,I),j(x.ka,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.ra()}}function mj(x,I,V){var Y=V instanceof Me?Ie(V):new Me(V);if(Y.g!="")I&&(Y.g=I+"."+Y.g),Re(Y,Y.s);else{var re=l.location;Y=re.protocol,I=I?I+"."+re.hostname:re.hostname,re=+re.port;var ie=new Me(null);Y&&Ae(ie,Y),I&&(ie.g=I),re&&Re(ie,re),V&&(ie.l=V),Y=ie}return V=x.D,I=x.ya,V&&I&&Qe(Y,V,I),Qe(Y,"VER",x.la),Nc(x,Y),Y}function fj(x,I,V){if(I&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=x.Ca&&!x.pa?new Ut(new Ad({eb:V})):new Ut(x.pa),I.Ha(x.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pj(){}t=pj.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Md(){}Md.prototype.g=function(x,I){return new ns(x,I)};function ns(x,I){ut.call(this),this.g=new nj(I),this.l=x,this.h=I&&I.messageUrlParams||null,x=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(x?x["X-WebChannel-Content-Type"]=I.messageContentType:x={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(x?x["X-WebChannel-Client-Profile"]=I.va:x={"X-WebChannel-Client-Profile":I.va}),this.g.S=x,(x=I&&I.Sb)&&!p(x)&&(this.g.m=x),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!p(I)&&(this.g.D=I,x=this.h,x!==null&&I in x&&(x=this.h,I in x&&delete x[I])),this.j=new Oo(this)}g(ns,ut),ns.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ns.prototype.close=function(){qp(this.g)},ns.prototype.o=function(x){var I=this.g;if(typeof x=="string"){var V={};V.__data__=x,x=V}else this.u&&(V={},V.__data__=Xs(x),x=V);I.i.push(new Cd(I.Ya++,x)),I.G==3&&Od(I)},ns.prototype.N=function(){this.g.l=null,delete this.j,qp(this.g),delete this.g,ns.aa.N.call(this)};function gj(x){fc.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var I=x.__sm__;if(I){e:{for(const V in I){x=V;break e}x=void 0}(this.i=x)&&(x=this.i,I=I!==null&&x in I?I[x]:void 0),this.data=I}else this.data=x}g(gj,fc);function xj(){gs.call(this),this.status=1}g(xj,gs);function Oo(x){this.g=x}g(Oo,pj),Oo.prototype.ua=function(){Ge(this.g,"a")},Oo.prototype.ta=function(x){Ge(this.g,new gj(x))},Oo.prototype.sa=function(x){Ge(this.g,new xj)},Oo.prototype.ra=function(){Ge(this.g,"b")},Md.prototype.createWebChannel=Md.prototype.g,ns.prototype.send=ns.prototype.o,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,sT=function(){return new Md},rT=function(){return ja()},tT=xs,Dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Qh=ka,ko.COMPLETE="complete",eT=ko,Br.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Kc=Br,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Z4=Ut}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const fN="@firebase/firestore",pN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Dv("@firebase/firestore");function Uo(){return no.logLevel}function Ee(t,...e){if(no.logLevel<=nt.DEBUG){const r=e.map(Fv);no.debug(`Firestore (${lc}): ${t}`,...r)}}function Zn(t,...e){if(no.logLevel<=nt.ERROR){const r=e.map(Fv);no.error(`Firestore (${lc}): ${t}`,...r)}}function Ml(t,...e){if(no.logLevel<=nt.WARN){const r=e.map(Fv);no.warn(`Firestore (${lc}): ${t}`,...r)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,nT(t,n,r)}function nT(t,e,r){let n=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Zn(n),new Error(n)}function gt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||nT(e,i,n)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ci{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rr.UNAUTHENTICATED))}shutdown(){}}class Cq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Aq{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string",31837,{l:n}),new iT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Rr(e)}}class Pq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Iq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Pq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){gt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new gN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Oq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function My(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Bg(i)===Bg(a)?it(i,a):Bg(i)?1:-1}return it(t.length,e.length)}const Dq=55296,Mq=57343;function Bg(t){const e=t.charCodeAt(0);return e>=Dq&&e<=Mq}function Ll(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__name__";class cn{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ue(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ue(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return cn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof cn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=cn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return it(e.length,r.length)}static compareSegments(e,r){const n=cn.isNumericId(e),i=cn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?cn.extractNumericId(e).compare(cn.extractNumericId(r)):My(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class wt extends cn{construct(e,r,n){return new wt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const Lq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends cn{construct(e,r,n){return new jr(e,r,n)}static isValidIdentifier(e){return Lq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xN}static keyField(){return new jr([xN])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(r)}static emptyPath(){return new jr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(wt.fromString(e))}static fromName(e){return new Oe(wt.fromString(e).popFirst(5))}static empty(){return new Oe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e,r){if(!r)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fq(t,e,r,n){if(e===!0&&n===!0)throw new Se(de.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function yN(t){if(!Oe.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vN(t){if(Oe.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function nf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fp(t);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){const r={typeString:t};return e&&(r.value=e),r}function fd(t,e){if(!oT(t))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Se(de.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=-62135596800,jN=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*jN);return new _t(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<bN)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jN}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fd(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:sr("string",_t._jsonSchemaVersion),seconds:sr("number"),nanoseconds:sr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new _t(0,0))}static max(){return new He(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function Vq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(n===1e9?new _t(r+1,0):new _t(r,n));return new aa(i,Oe.empty(),e)}function Uq(t){return new aa(t.readTime,t.key,Wu)}class aa{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new aa(He.min(),Oe.empty(),Wu)}static max(){return new aa(He.max(),Oe.empty(),Wu)}}function Bq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Oe.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==$q)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof me?r:me.resolve(r)}catch(r){return me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):me.reject(r)}static resolve(e){return new me((r,n)=>{r(e)})}static reject(e){return new me((r,n)=>{n(e)})}static waitFor(e){return new me((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>n(c))}),o=!0,a===i&&r()})}static or(e){let r=me.resolve(!1);for(const n of e)r=r.next(i=>i?me.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new me((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new me((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function zq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function uc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-1;function gp(t){return t==null}function af(t){return t===0&&1/t==-1/0}function Wq(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function Hq(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=wN(e)),e=Kq(t.get(r),e);return wN(e)}function Kq(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case lT:r+="";break;default:r+=a}}return r}function wN(t){return t+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function po(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function cT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,r){this.comparator=e,this.root=r||vr.EMPTY}insert(e,r){return new Vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??vr.RED,this.left=i??vr.EMPTY,this.right=a??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new vr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kN(this.data.getIterator())}getIteratorFrom(e){return new kN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new lr(this.comparator);return r.data=e,r}}class kN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new $s([])}unionWith(e){let r=new lr(jr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new $s(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uT("Invalid base64 string: "+a):a}}(e);return new kr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new kr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const Gq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const r=Gq.exec(t);if(gt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="server_timestamp",hT="__type__",mT="__previous_value__",fT="__local_write_time__";function Bv(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[hT])==null?void 0:n.stringValue)===dT}function xp(t){const e=t.mapValue.fields[mT];return Bv(e)?xp(e):e}function Hu(t){const e=oa(t.mapValue.fields[fT].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,r,n,i,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const of="(default)";class Ku{constructor(e,r){this.projectId=e,this.database=r||of}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",gT="__max__",mh={mapValue:{fields:{__type__:{stringValue:gT}}}},xT="__vector__",lf="value";function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:Jq(t)?9007199254740991:Yq(t)?10:11:Ue(28295,{value:t})}function kn(t,e){if(t===e)return!0;const r=ca(t);if(r!==ca(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hu(t).isEqual(Hu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=oa(i.timestampValue),l=oa(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return la(i.bytesValue).isEqual(la(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Gt(i.geoPointValue.latitude)===Gt(a.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Gt(i.integerValue)===Gt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Gt(i.doubleValue),l=Gt(a.doubleValue);return o===l?af(o)===af(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(NN(o)!==NN(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!kn(o[c],l[c])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Gu(t,e){return(t.values||[]).find(r=>kn(r,e))!==void 0}function Fl(t,e){if(t===e)return 0;const r=ca(t),n=ca(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Gt(a.integerValue||a.doubleValue),c=Gt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(Hu(t),Hu(e));case 5:return My(t.stringValue,e.stringValue);case 6:return function(a,o){const l=la(a),c=la(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=it(l[u],c[u]);if(d!==0)return d}return it(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=it(Gt(a.latitude),Gt(o.latitude));return l!==0?l:it(Gt(a.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _N(t.arrayValue,e.arrayValue);case 10:return function(a,o){var h,f,g,v;const l=a.fields||{},c=o.fields||{},u=(h=l[lf])==null?void 0:h.arrayValue,d=(f=c[lf])==null?void 0:f.arrayValue,m=it(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return m!==0?m:_N(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===mh.mapValue&&o===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(o===mh.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const h=My(c[m],d[m]);if(h!==0)return h;const f=Fl(l[c[m]],u[d[m]]);if(f!==0)return f}return it(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{he:r})}}function SN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=oa(t),n=oa(e),i=it(r.seconds,n.seconds);return i!==0?i:it(r.nanos,n.nanos)}function _N(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Fl(r[i],n[i]);if(a)return a}return it(r.length,n.length)}function Vl(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=oa(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return la(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Oe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Ly(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Ly(r.fields[o])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function Yh(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xp(t);return e?16+Yh(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Yh(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return po(n.fields,(a,o)=>{i+=a.length+Yh(o)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function EN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function $v(t){return!!t&&"arrayValue"in t}function TN(t){return!!t&&"nullValue"in t}function CN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function Yq(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[pT])==null?void 0:n.stringValue)===xT}function hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=hu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=hu(t.arrayValue.values[r]);return e}return{...t}}function Jq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.value=e}static empty(){return new Ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Jh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(r)}setAll(e){let r=jr.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=hu(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Jh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){po(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ss(hu(this.value))}}function yT(t){const e=[];return po(t.fields,(r,n)=>{const i=new jr([r]);if(Jh(n)){const a=yT(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new $s(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Dr(e,0,He.min(),He.min(),He.min(),Ss.empty(),0)}static newFoundDocument(e,r,n,i){return new Dr(e,1,r,He.min(),n,i,0)}static newNoDocument(e,r){return new Dr(e,2,r,He.min(),He.min(),Ss.empty(),0)}static newUnknownDocument(e,r){return new Dr(e,3,r,He.min(),He.min(),Ss.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,r){this.position=e,this.inclusive=r}}function AN(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Oe.comparator(Oe.fromName(o.referenceValue),r.key):n=Fl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function PN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!kn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{}class rr extends vT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new ez(e,r,n):r==="array-contains"?new sz(e,n):r==="in"?new nz(e,n):r==="not-in"?new iz(e,n):r==="array-contains-any"?new az(e,n):new rr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new tz(e,n):new rz(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Fl(r,this.value)):r!==null&&ca(this.value)===ca(r)&&this.matchesComparison(Fl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends vT{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qs(e,r)}matches(e){return bT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(t){return t.op==="and"}function jT(t){return Zq(t)&&bT(t)}function Zq(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function Vy(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(jT(t))return t.filters.map(e=>Vy(e)).join(",");{const e=t.filters.map(r=>Vy(r)).join(",");return`${t.op}(${e})`}}function wT(t,e){return t instanceof rr?function(n,i){return i instanceof rr&&n.op===i.op&&n.field.isEqual(i.field)&&kn(n.value,i.value)}(t,e):t instanceof Qs?function(n,i){return i instanceof Qs&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&wT(o,i.filters[l]),!0):!1}(t,e):void Ue(19439)}function NT(t){return t instanceof rr?function(r){return`${r.field.canonicalString()} ${r.op} ${Vl(r.value)}`}(t):t instanceof Qs?function(r){return r.op.toString()+" {"+r.getFilters().map(NT).join(" ,")+"}"}(t):"Filter"}class ez extends rr{constructor(e,r,n){super(e,r,n),this.key=Oe.fromName(n.referenceValue)}matches(e){const r=Oe.comparator(e.key,this.key);return this.matchesComparison(r)}}class tz extends rr{constructor(e,r){super(e,"in",r),this.keys=kT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rz extends rr{constructor(e,r){super(e,"not-in",r),this.keys=kT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function kT(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Oe.fromName(n.referenceValue))}class sz extends rr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return $v(r)&&Gu(r.arrayValue,this.value)}}class nz extends rr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Gu(this.value.arrayValue,r)}}class iz extends rr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Gu(this.value.arrayValue,r)}}class az extends rr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!$v(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Gu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function IN(t,e=null,r=[],n=[],i=null,a=null,o=null){return new oz(t,e,r,n,i,a,o)}function qv(t){const e=Je(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Vy(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),gp(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Vl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Vl(n)).join(",")),e.Te=r}return e.Te}function zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Xq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!wT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PN(t.startAt,e.startAt)&&PN(t.endAt,e.endAt)}function Uy(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lz(t,e,r,n,i,a,o,l){return new dc(t,e,r,n,i,a,o,l)}function ST(t){return new dc(t)}function RN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _T(t){return t.collectionGroup!==null}function mu(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(jr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qu(a,n))}),r.has(jr.keyField().canonicalString())||e.Ie.push(new Qu(jr.keyField(),n))}return e.Ie}function xn(t){const e=Je(t);return e.Ee||(e.Ee=cz(e,mu(t))),e.Ee}function cz(t,e){if(t.limitType==="F")return IN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Qu(i.field,a)});const r=t.endAt?new cf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new cf(t.startAt.position,t.startAt.inclusive):null;return IN(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function By(t,e){const r=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function $y(t,e,r){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function yp(t,e){return zv(xn(t),xn(e))&&t.limitType===e.limitType}function ET(t){return`${qv(xn(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>NT(i)).join(", ")}]`),gp(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Vl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Vl(i)).join(",")),`Target(${n})`}(xn(t))}; limitType=${t.limitType})`}function vp(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Oe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of mu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,c){const u=AN(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,mu(n),i)||n.endAt&&!function(o,l,c){const u=AN(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,mu(n),i))}(t,e)}function uz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TT(t){return(e,r)=>{let n=!1;for(const i of mu(t)){const a=dz(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function dz(t,e,r){const n=t.field.isKeyField()?Oe.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?Fl(c,u):Ue(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new Vt(Oe.comparator);function ei(){return hz}const CT=new Vt(Oe.comparator);function Gc(...t){let e=CT;for(const r of t)e=e.insert(r.key,r);return e}function AT(t){let e=CT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ba(){return fu()}function PT(){return fu()}function fu(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const mz=new Vt(Oe.comparator),fz=new lr(Oe.comparator);function at(...t){let e=fz;for(const r of t)e=e.add(r);return e}const pz=new lr(it);function gz(){return pz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function IT(t){return{integerValue:""+t}}function xz(t,e){return Wq(e)?IT(e):Wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this._=void 0}}function yz(t,e,r){return t instanceof Yu?function(i,a){const o={fields:{[hT]:{stringValue:dT},[fT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Bv(a)&&(a=xp(a)),a&&(o.fields[mT]=a),{mapValue:o}}(r,e):t instanceof Ju?OT(t,e):t instanceof Xu?DT(t,e):function(i,a){const o=RT(i,a),l=ON(o)+ON(i.Ae);return Fy(o)&&Fy(i.Ae)?IT(l):Wv(i.serializer,l)}(t,e)}function vz(t,e,r){return t instanceof Ju?OT(t,e):t instanceof Xu?DT(t,e):r}function RT(t,e){return t instanceof uf?function(n){return Fy(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Yu extends bp{}class Ju extends bp{constructor(e){super(),this.elements=e}}function OT(t,e){const r=MT(e);for(const n of t.elements)r.some(i=>kn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Xu extends bp{constructor(e){super(),this.elements=e}}function DT(t,e){let r=MT(e);for(const n of t.elements)r=r.filter(i=>!kn(i,n));return{arrayValue:{values:r}}}class uf extends bp{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function ON(t){return Gt(t.integerValue||t.doubleValue)}function MT(t){return $v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,r){this.field=e,this.transform=r}}function jz(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ju&&i instanceof Ju||n instanceof Xu&&i instanceof Xu?Ll(n.elements,i.elements,kn):n instanceof uf&&i instanceof uf?kn(n.Ae,i.Ae):n instanceof Yu&&i instanceof Yu}(t.transform,e.transform)}class wz{constructor(e,r){this.version=e,this.transformResults=r}}class Bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jp{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VT(t.key,Bn.none()):new pd(t.key,t.data,Bn.none());{const r=t.data,n=Ss.empty();let i=new lr(jr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new xo(t.key,n,new $s(i.toArray()),Bn.none())}}function Nz(t,e,r){t instanceof pd?function(i,a,o){const l=i.value.clone(),c=MN(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof xo?function(i,a,o){if(!Xh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=MN(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(FT(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function pu(t,e,r,n){return t instanceof pd?function(a,o,l,c){if(!Xh(a.precondition,o))return l;const u=a.value.clone(),d=LN(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof xo?function(a,o,l,c){if(!Xh(a.precondition,o))return l;const u=LN(a.fieldTransforms,c,o),d=o.data;return d.setAll(FT(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,o,l){return Xh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function kz(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=RT(n.transform,i||null);a!=null&&(r===null&&(r=Ss.empty()),r.set(n.field,a))}return r||null}function DN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ll(n,i,(a,o)=>jz(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pd extends jp{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xo extends jp{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function MN(t,e,r){const n=new Map;gt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,vz(o,l,r[i]))}return n}function LN(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,yz(a,o,e))}return n}class VT extends jp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sz extends jp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Nz(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=pu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=pu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=PT();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=LT(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(He.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),at())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(r,n)=>DN(r,n))&&Ll(this.baseMutations,e.baseMutations,(r,n)=>DN(r,n))}}class Hv{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){gt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return mz}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Hv(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,lt;function Cz(t){switch(t){case de.OK:return Ue(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function UT(t){if(t===void 0)return Zn("GRPC error has no .code"),de.UNKNOWN;switch(t){case Zt.OK:return de.OK;case Zt.CANCELLED:return de.CANCELLED;case Zt.UNKNOWN:return de.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return de.INTERNAL;case Zt.UNAVAILABLE:return de.UNAVAILABLE;case Zt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Zt.NOT_FOUND:return de.NOT_FOUND;case Zt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Zt.ABORTED:return de.ABORTED;case Zt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Zt.DATA_LOSS:return de.DATA_LOSS;default:return Ue(39323,{code:t})}}(lt=Zt||(Zt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Ji([4294967295,4294967295],0);function FN(t){const e=Az().encode(t),r=new X4;return r.update(e),new Uint8Array(r.digest())}function VN(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ji([r,n],0),new Ji([i,a],0)]}class Kv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Qc(`Invalid padding: ${r}`);if(n<0)throw new Qc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ji.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ji.fromNumber(n)));return i.compare(Pz)===1&&(i=new Ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=FN(e),[n,i]=VN(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Kv(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=FN(e),[n,i]=VN(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wp(He.min(),i,new Vt(it),ei(),at())}}class gd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new gd(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class BT{constructor(e,r){this.targetId=e,this.Ce=r}}class $T{constructor(e,r,n=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class UN{constructor(){this.ve=0,this.Fe=BN(),this.Me=kr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),r=at(),n=at();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ue(38017,{changeType:a})}}),new gd(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=BN()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iz{constructor(e){this.Ge=e,this.ze=new Map,this.je=ei(),this.Je=fh(),this.He=fh(),this.Ye=new Vt(it)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Uy(a))if(n===0){const o=new Oe(a.path);this.et(r,o,Dr.newNoDocument(o,He.min()))}else gt(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=la(n).toUint8Array()}catch(c){if(c instanceof uT)return Ml("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Kv(o,i,a)}catch(c){return Ml(c instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Uy(l.target)){const c=new Oe(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Dr.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=at();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new wp(e,r,this.Ye,this.je,n);return this.je=ei(),this.Je=fh(),this.He=fh(),this.Ye=new Vt(it),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new UN,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new lr(it),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new lr(it),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UN),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function fh(){return new Vt(Oe.comparator)}function BN(){return new Vt(Oe.comparator)}const Rz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Oz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Dz=(()=>({and:"AND",or:"OR"}))();class Mz{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qy(t,e){return t.useProto3Json||gp(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lz(t,e){return df(t,e.toTimestamp())}function yn(t){return gt(!!t,49232),He.fromTimestamp(function(r){const n=oa(r);return new _t(n.seconds,n.nanos)}(t))}function Gv(t,e){return zy(t,e).canonicalString()}function zy(t,e){const r=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function zT(t){const e=wt.fromString(t);return gt(QT(e),10190,{key:e.toString()}),e}function Wy(t,e){return Gv(t.databaseId,e.path)}function $g(t,e){const r=zT(e);if(r.get(1)!==t.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Oe(HT(r))}function WT(t,e){return Gv(t.databaseId,e)}function Fz(t){const e=zT(t);return e.length===4?wt.emptyPath():HT(e)}function Hy(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HT(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $N(t,e,r){return{name:Wy(t,e),fields:r.value.mapValue.fields}}function Vz(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(gt(d===void 0||typeof d=="string",58123),kr.fromBase64String(d||"")):(gt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),kr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?de.UNKNOWN:UT(u.code);return new Se(d,u.message||"")}(o);r=new $T(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$g(t,n.document.name),a=yn(n.document.updateTime),o=n.document.createTime?yn(n.document.createTime):He.min(),l=new Ss({mapValue:{fields:n.document.fields}}),c=Dr.newFoundDocument(i,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Zh(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$g(t,n.document),a=n.readTime?yn(n.readTime):He.min(),o=Dr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Zh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$g(t,n.document),a=n.removedTargetIds||[];r=new Zh([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new Tz(i,a),l=n.targetId;r=new BT(l,o)}}return r}function Uz(t,e){let r;if(e instanceof pd)r={update:$N(t,e.key,e.value)};else if(e instanceof VT)r={delete:Wy(t,e.key)};else if(e instanceof xo)r={update:$N(t,e.key,e.data),updateMask:Qz(e.fieldMask)};else{if(!(e instanceof Sz))return Ue(16599,{Vt:e.type});r={verify:Wy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof Yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof uf)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Ue(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Lz(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)}(t,e.precondition)),r}function Bz(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?yn(i.updateTime):yn(a);return o.isEqual(He.min())&&(o=yn(a)),new wz(o,i.transformResults||[])}(r,e))):[]}function $z(t,e){return{documents:[WT(t,e.path)]}}function qz(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=WT(t,i);const a=function(u){if(u.length!==0)return GT(Qs.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:$o(h.field),direction:Hz(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=qy(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function zz(t){let e=Fz(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){gt(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(m){const h=KT(m);return h instanceof Qs&&jT(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(m){return m.map(h=>function(g){return new Qu(qo(g.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(m){let h;return h=typeof m=="object"?m.value:m,gp(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(m){const h=!!m.before,f=m.values||[];return new cf(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(m){const h=!m.before,f=m.values||[];return new cf(f,h)}(r.endAt)),lz(e,i,o,a,l,"F",c,u)}function Wz(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function KT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qo(r.unaryFilter.field);return rr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qo(r.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qo(r.unaryFilter.field);return rr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qo(r.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(r){return rr.create(qo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qs.create(r.compositeFilter.filters.map(n=>KT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(r.compositeFilter.op))}(t):Ue(30097,{filter:t})}function Hz(t){return Rz[t]}function Kz(t){return Oz[t]}function Gz(t){return Dz[t]}function $o(t){return{fieldPath:t.canonicalString()}}function qo(t){return jr.fromServerFormat(t.fieldPath)}function GT(t){return t instanceof rr?function(r){if(r.op==="=="){if(CN(r.value))return{unaryFilter:{field:$o(r.field),op:"IS_NAN"}};if(TN(r.value))return{unaryFilter:{field:$o(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(CN(r.value))return{unaryFilter:{field:$o(r.field),op:"IS_NOT_NAN"}};if(TN(r.value))return{unaryFilter:{field:$o(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(r.field),op:Kz(r.op),value:r.value}}}(t):t instanceof Qs?function(r){const n=r.getFilters().map(i=>GT(i));return n.length===1?n[0]:{compositeFilter:{op:Gz(r.op),filters:n}}}(t):Ue(54877,{filter:t})}function Qz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function QT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,r,n,i,a=He.min(),o=He.min(),l=kr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.yt=e}}function Jz(t){const e=zz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.Cn=new Zz}addToCollectionParentIndex(e,r){return this.Cn.add(r),me.resolve()}getCollectionParents(e,r){return me.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return me.resolve()}deleteFieldIndex(e,r){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,r){return me.resolve()}getDocumentsMatchingTarget(e,r){return me.resolve(null)}getIndexType(e,r){return me.resolve(0)}getFieldIndexes(e,r){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,r){return me.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,r){return me.resolve(aa.min())}updateCollectionGroup(e,r,n){return me.resolve()}updateIndexEntries(e,r){return me.resolve()}}class Zz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new lr(wt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new lr(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(YT,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ul(0)}static cr(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="LruGarbageCollector",eW=1048576;function WN([t,e],[r,n]){const i=it(t,r);return i===0?it(e,n):i}class tW{constructor(e){this.Ir=e,this.buffer=new lr(WN),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();WN(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rW{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(zN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){uc(r)?Ee(zN,"Ignoring IndexedDB error during garbage collection: ",r):await cc(r)}await this.Vr(3e5)})}}class sW{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return me.resolve(pp.ce);const n=new tW(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(qN)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qN):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(n=m,l=Date.now(),this.removeTargets(e,n,r))).next(m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(u=Date.now(),Uo()<=nt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function nW(t,e){return new sW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?me.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&pu(n.mutation,i,$s.empty(),_t.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,at()).next(()=>n))}getLocalViewOfDocuments(e,r,n=at()){const i=Ba();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Gc();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Ba();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,at()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=ei();const o=fu(),l=function(){return fu()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xo)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),pu(d.mutation,u,d.mutation.getFieldMask(),_t.now())):o.set(u.key,$s.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new aW(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=fu();let i=new Vt((o,l)=>o-l),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||$s.empty();d=l.applyToLocalView(u,d),n.set(c,d);const m=(i.get(l.batchId)||at()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,m=PT();d.forEach(h=>{if(!a.has(h)){const f=LT(r.get(h),n.get(h));f!==null&&m.set(h,f),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return me.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):_T(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):me.resolve(Ba());let l=Wu,c=a;return o.next(u=>me.forEach(u,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(d)?me.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,at())).next(d=>({batchId:l,changes:AT(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Oe(r)).next(n=>{let i=Gc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Gc();return this.indexManager.getCollectionParents(e,a).next(l=>me.forEach(l,c=>{const u=function(m,h){return new dc(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Dr.newInvalidDocument(d)))});let l=Gc();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&pu(d.mutation,u,$s.empty(),_t.now()),vp(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return me.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(r)),me.resolve()}getNamedQuery(e,r){return me.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Jz(i.bundledQuery),readTime:yn(i.readTime)}}(r)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.overlays=new Vt(Oe.comparator),this.qr=new Map}getOverlay(e,r){return me.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ba();return me.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),me.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),me.resolve()}getOverlaysForCollection(e,r,n){const i=Ba(),a=r.length+1,o=new Oe(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return me.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Vt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Ba(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ba(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return me.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Ez(r,n));let a=this.qr.get(r);a===void 0&&(a=at(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.Qr=new lr(cr.$r),this.Ur=new lr(cr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new cr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new cr(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Oe(new wt([])),n=new cr(r,e),i=new cr(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Oe(new wt([])),n=new cr(r,e),i=new cr(r,e+1);let a=at();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new cr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class cr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Oe.comparator(e.key,r.key)||it(e.Yr,r.Yr)}static Kr(e,r){return it(e.Yr,r.Yr)||Oe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new lr(cr.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _z(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new cr(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,r){return me.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Uv:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new cr(r,0),i=new cr(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new lr(it);return r.forEach(i=>{const a=new cr(i,0),o=new cr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),me.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Oe.isDocumentKey(a)||(a=a.child(""));const o=new cr(new Oe(a),0);let l=new lr(it);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),me.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){gt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return me.forEach(r.mutations,i=>{const a=new cr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new cr(r,0),i=this.Zr.firstAfterOrEqual(n);return me.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e){this.ri=e,this.docs=function(){return new Vt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return me.resolve(n?n.document.mutableCopy():Dr.newInvalidDocument(r))}getEntries(e,r){let n=ei();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))}),me.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ei();const o=r.path,l=new Oe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Bq(Uq(d),n)<=0||(i.has(d.key)||vp(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ue(9500)}ii(e,r){return me.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new mW(this)}getSize(e){return me.resolve(this.size)}}class mW extends iW{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),me.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.persistence=e,this.si=new go(r=>qv(r),zv),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new Qv,this.targetCount=0,this.ai=Ul.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),me.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ul(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,me.resolve()}updateTargetData(e,r){return this.Pr(r),me.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return me.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),me.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),me.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return me.resolve(n)}containsKey(e,r){return me.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,r){this.ui={},this.overlays={},this.ci=new pp(0),this.li=!1,this.li=!0,this.hi=new uW,this.referenceDelegate=e(this),this.Pi=new fW(this),this.indexManager=new Xz,this.remoteDocumentCache=function(i){return new hW(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Yz(r),this.Ii=new lW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new cW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new dW(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ee("MemoryPersistence","Starting transaction:",e);const i=new pW(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return me.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class pW extends qq{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Ri=new Qv,this.Vi=null}static mi(e){return new Yv(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),me.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),me.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,n=>{const i=Oe.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,He.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return me.or([()=>me.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class hf{constructor(e,r){this.persistence=e,this.pi=new go(n=>Hq(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=nW(this,r)}static mi(e,r){return new hf(e,r)}Ei(){}di(e){return me.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return me.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?me.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,He.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Yh(e.data.value)),r}br(e,r,n){return me.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return me.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Jv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u$()?8:zq(Fr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new gW;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Uo()<=nt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Bo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(Uo()<=nt.DEBUG&&Ee("QueryEngine","Query:",Bo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Uo()<=nt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Bo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(r))):me.resolve())}ys(e,r){if(RN(r))return me.resolve(null);let n=xn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=$y(r,null,"F"),n=xn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=at(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,$y(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return RN(r)||i.isEqual(He.min())?me.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?me.resolve(null):(Uo()<=nt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(r)),this.vs(e,o,r,Vq(i,Wu)).next(l=>l))})}Ds(e,r){let n=new lr(TT(e));return r.forEach((i,a)=>{vp(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Uo()<=nt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Bo(r)),this.ps.getDocumentsMatchingQuery(e,r,aa.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LocalStore",yW=3e8;class vW{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Vt(it),this.xs=new go(a=>qv(a),zv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function bW(t,e,r,n){return new vW(t,e,r,n)}async function XT(t,e){const r=Je(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=at();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function jW(t,e){const r=Je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const m=u.batch,h=m.keys();let f=me.resolve();return h.forEach(g=>{f=f.next(()=>d.getEntry(c,g)).next(v=>{const j=u.docVersions.get(g);gt(j!==null,48541),v.version.compareTo(j)<0&&(m.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=at();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function ZT(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function wW(t,e){const r=Je(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach((d,m)=>{const h=i.get(m);if(!h)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,m).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,m)));let f=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?f=f.withResumeToken(kr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,n)),i=i.insert(m,f),function(v,j,y){return v.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=yW?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,d)&&l.push(r.Pi.updateTargetData(a,f))});let c=ei(),u=at();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(NW(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(He.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(m=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return me.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function NW(t,e,r){let n=at(),i=at();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ei();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ee(Xv,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function kW(t,e){const r=Je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Uv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function SW(t,e){const r=Je(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,me.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new Li(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Ky(t,e,r){const n=Je(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uc(o))throw o;Ee(Xv,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function HN(t,e,r){const n=Je(t);let i=He.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const m=Je(c),h=m.xs.get(d);return h!==void 0?me.resolve(m.Ms.get(h)):m.Pi.getTargetData(u,d)}(n,o,xn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:He.min(),r?a:at())).next(l=>(_W(n,uz(e),l),{documents:l,Qs:a})))}function _W(t,e,r){let n=t.Os.get(e)||He.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class KN{constructor(){this.activeTargetIds=gz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EW{constructor(){this.Mo=new KN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KN,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="ConnectivityMonitor";class QN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(GN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(GN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Gy(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AW{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===of?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=Gy(),l=this.zo(e,r.toUriEncodedString());Ee(qg,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(l),d=ac(u);return this.Jo(e,l,c,n,d).then(m=>(Ee(qg,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ml(qg,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=CW[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class IW extends AW{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=Gy();return new Promise((l,c)=>{const u=new Z4;u.setWithCredentials(!0),u.listenOnce(eT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qh.NO_ERROR:const m=u.getResponseJson();Ee(Pr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Qh.TIMEOUT:Ee(Pr,`RPC '${e}' ${o} timed out`),c(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const h=u.getStatus();if(Ee(Pr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(y){const p=y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(p)>=0?p:de.UNKNOWN}(g.status);c(new Se(v,g.message))}else c(new Se(de.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ee(Pr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ee(Pr,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Gy(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sT(),l=rT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");Ee(Pr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=o.createWebChannel(d,c);this.I_(m);let h=!1,f=!1;const g=new PW({Yo:j=>{f?Ee(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(h||(Ee(Pr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),h=!0),Ee(Pr,`RPC '${e}' stream ${i} sending:`,j),m.send(j))},Zo:()=>m.close()}),v=(j,y,p)=>{j.listen(y,b=>{try{p(b)}catch(w){setTimeout(()=>{throw w},0)}})};return v(m,Kc.EventType.OPEN,()=>{f||(Ee(Pr,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),v(m,Kc.EventType.CLOSE,()=>{f||(f=!0,Ee(Pr,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(m))}),v(m,Kc.EventType.ERROR,j=>{f||(f=!0,Ml(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),g.a_(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),v(m,Kc.EventType.MESSAGE,j=>{var y;if(!f){const p=j.data[0];gt(!!p,16349);const b=p,w=(b==null?void 0:b.error)||((y=b[0])==null?void 0:y.error);if(w){Ee(Pr,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let R=function(E){const T=Zt[E];if(T!==void 0)return UT(T)}(S),N=w.message;R===void 0&&(R=de.INTERNAL,N="Unknown error status: "+S+" with message "+w.message),f=!0,g.a_(new Se(R,N)),m.close()}else Ee(Pr,`RPC '${e}' stream ${i} received:`,p),g.u_(p)}}),v(l,tT.STAT_EVENT,j=>{j.stat===Dy.PROXY?Ee(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===Dy.NOPROXY&&Ee(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return new Mz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="PersistentStream";class tC{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eC(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Zn(r.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new Se(de.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ee(YN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Ee(YN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RW extends tC{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Vz(this.serializer,e),n=function(a){if(!("targetChange"in a))return He.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?He.min():o.readTime?yn(o.readTime):He.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Hy(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=Uy(c)?{documents:$z(a,c)}:{query:qz(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qT(a,o.resumeToken);const u=qy(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(He.min())>0){l.readTime=df(a,o.snapshotVersion.toTimestamp());const u=qy(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=Wz(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Hy(this.serializer),r.removeTarget=e,this.q_(r)}}class OW extends tC{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Bz(e.writeResults,e.commitTime),n=yn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Hy(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Uz(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{}class MW extends DW{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,zy(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(de.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,zy(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(de.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class LW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(r),this.aa=!1):Ee("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class FW{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{yo(this)&&(Ee(io,"Restarting streams for network reachability change."),await async function(c){const u=Je(c);u.Ea.add(4),await xd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kp(u)}(this))})}),this.Ra=new LW(n,i)}}async function kp(t){if(yo(t))for(const e of t.da)await e(!0)}async function xd(t){for(const e of t.da)await e(!1)}function rC(t,e){const r=Je(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),rb(r)?tb(r):hc(r).O_()&&eb(r,e))}function Zv(t,e){const r=Je(t),n=hc(r);r.Ia.delete(e),n.O_()&&sC(r,e),r.Ia.size===0&&(n.O_()?n.L_():yo(r)&&r.Ra.set("Unknown"))}function eb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}hc(t).Y_(e)}function sC(t,e){t.Va.Ue(e),hc(t).Z_(e)}function tb(t){t.Va=new Iz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function rb(t){return yo(t)&&!hc(t).x_()&&t.Ia.size>0}function yo(t){return Je(t).Ea.size===0}function nC(t){t.Va=void 0}async function VW(t){t.Ra.set("Online")}async function UW(t){t.Ia.forEach((e,r)=>{eb(t,e)})}async function BW(t,e){nC(t),rb(t)?(t.Ra.ha(e),tb(t)):t.Ra.set("Unknown")}async function $W(t,e,r){if(t.Ra.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(n){Ee(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await mf(t,n)}else if(e instanceof Zh?t.Va.Ze(e):e instanceof BT?t.Va.st(e):t.Va.tt(e),!r.isEqual(He.min()))try{const n=await ZT(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(kr.EMPTY_BYTE_STRING,d.snapshotVersion)),sC(a,c);const m=new Li(d.target,c,u,d.sequenceNumber);eb(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ee(io,"Failed to raise snapshot:",n),await mf(t,n)}}async function mf(t,e,r){if(!uc(e))throw e;t.Ea.add(1),await xd(t),t.Ra.set("Offline"),r||(r=()=>ZT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(io,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await kp(t)})}function iC(t,e){return e().catch(r=>mf(t,r,e))}async function Sp(t){const e=Je(t),r=ua(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uv;for(;qW(e);)try{const i=await kW(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,zW(e,i)}catch(i){await mf(e,i)}aC(e)&&oC(e)}function qW(t){return yo(t)&&t.Ta.length<10}function zW(t,e){t.Ta.push(e);const r=ua(t);r.O_()&&r.X_&&r.ea(e.mutations)}function aC(t){return yo(t)&&!ua(t).x_()&&t.Ta.length>0}function oC(t){ua(t).start()}async function WW(t){ua(t).ra()}async function HW(t){const e=ua(t);for(const r of t.Ta)e.ea(r.mutations)}async function KW(t,e,r){const n=t.Ta.shift(),i=Hv.from(n,e,r);await iC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sp(t)}async function GW(t,e){e&&ua(t).X_&&await async function(n,i){if(function(o){return Cz(o)&&o!==de.ABORTED}(i.code)){const a=n.Ta.shift();ua(n).B_(),await iC(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Sp(n)}}(t,e),aC(t)&&oC(t)}async function JN(t,e){const r=Je(t);r.asyncQueue.verifyOperationInProgress(),Ee(io,"RemoteStore received new credentials");const n=yo(r);r.Ea.add(3),await xd(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await kp(r)}async function QW(t,e){const r=Je(t);e?(r.Ea.delete(2),await kp(r)):e||(r.Ea.add(2),await xd(r),r.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=function(r,n,i){const a=Je(r);return a.sa(),new RW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:VW.bind(null,t),t_:UW.bind(null,t),r_:BW.bind(null,t),H_:$W.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),rb(t)?tb(t):t.Ra.set("Unknown")):(await t.ma.stop(),nC(t))})),t.ma}function ua(t){return t.fa||(t.fa=function(r,n,i){const a=Je(r);return a.sa(),new OW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:WW.bind(null,t),r_:GW.bind(null,t),ta:HW.bind(null,t),na:KW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sp(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new sb(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),uc(t))return new Se(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Oe.comparator(r.key,n.key):(r,n)=>Oe.comparator(r.key,n.key),this.keyedMap=Gc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new bl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.ga=new Vt(Oe.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Bl{constructor(e,r,n,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new Bl(e,r,bl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JW{constructor(){this.queries=ZN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Je(r),a=i.queries;i.queries=ZN(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function ZN(){return new go(t=>ET(t),yp)}async function XW(t,e){const r=Je(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new YW,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=nb(o,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&ib(r)}async function ZW(t,e){const r=Je(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function eH(t,e){const r=Je(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&ib(r)}function tH(t,e,r){const n=Je(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function ib(t){t.Ca.forEach(e=>{e.next()})}var Qy,e2;(e2=Qy||(Qy={})).Ma="default",e2.Cache="cache";class rH{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Bl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class cC{constructor(e){this.key=e}}class sH{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=TT(e),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new XN,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const h=i.get(d),f=vp(this.query,m)?m:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let j=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(n.track({type:3,doc:f}),j=!0):this.su(h,f)||(n.track({type:2,doc:f}),j=!0,(c&&this.eu(f,c)>0||u&&this.eu(f,u)<0)&&(l=!0)):!h&&f?(n.track({type:0,doc:f}),j=!0):h&&!f&&(n.track({type:1,doc:h}),j=!0,(c||u)&&(l=!0)),j&&(f?(o=o.add(f),a=v?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,m)=>function(f,g){const v=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:j})}};return v(f)-v(g)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Bl(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new cC(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new lC(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=at();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ab="SyncEngine";class nH{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class iH{constructor(e){this.key=e,this.hu=!1}}class aH{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new go(l=>ET(l),yp),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Oe.comparator),this.Au=new Map,this.Ru=new Qv,this.Vu={},this.mu=new Map,this.fu=Ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oH(t,e,r=!0){const n=pC(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await uC(n,e,r,!0),i}async function lH(t,e){const r=pC(t);await uC(r,e,!0,!1)}async function uC(t,e,r,n){const i=await SW(t.localStore,xn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await cH(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&rC(t.remoteStore,i),l}async function cH(t,e,r,n,i){t.pu=(m,h,f)=>async function(v,j,y,p){let b=j.view.ru(y);b.Cs&&(b=await HN(v.localStore,j.query,!1).then(({documents:N})=>j.view.ru(N,b)));const w=p&&p.targetChanges.get(j.targetId),S=p&&p.targetMismatches.get(j.targetId)!=null,R=j.view.applyChanges(b,v.isPrimaryClient,w,S);return r2(v,j.targetId,R.au),R.snapshot}(t,m,h,f);const a=await HN(t.localStore,e,!0),o=new sH(e,a.Qs),l=o.ru(a.documents),c=gd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);r2(t,r,u.au);const d=new nH(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function uH(t,e,r){const n=Je(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!yp(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ky(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Zv(n.remoteStore,i.targetId),Yy(n,i.targetId)}).catch(cc)):(Yy(n,i.targetId),await Ky(n.localStore,i.targetId,!0))}async function dH(t,e){const r=Je(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Zv(r.remoteStore,n.targetId))}async function hH(t,e,r){const n=vH(t);try{const i=await function(o,l){const c=Je(o),u=_t.now(),d=l.reduce((f,g)=>f.add(g.key),at());let m,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ei(),v=at();return c.Ns.getEntries(f,d).next(j=>{g=j,g.forEach((y,p)=>{p.isValidDocument()||(v=v.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(j=>{m=j;const y=[];for(const p of l){const b=kz(p,m.get(p.key).overlayedDocument);b!=null&&y.push(new xo(p.key,b,yT(b.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,y,l)}).next(j=>{h=j;const y=j.applyToLocalDocumentSet(m,v);return c.documentOverlayCache.saveOverlays(f,j.batchId,y)})}).then(()=>({batchId:h.batchId,changes:AT(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Vt(it)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await yd(n,i.changes),await Sp(n.remoteStore)}catch(i){const a=nb(i,"Failed to persist write");r.reject(a)}}async function dC(t,e){const r=Je(t);try{const n=await wW(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?gt(o.hu,14607):i.removedDocuments.size>0&&(gt(o.hu,42227),o.hu=!1))}),await yd(r,n,e)}catch(n){await cc(n)}}function t2(t,e,r){const n=Je(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Je(o);c.onlineState=l;let u=!1;c.queries.forEach((d,m)=>{for(const h of m.Sa)h.va(l)&&(u=!0)}),u&&ib(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function mH(t,e,r){const n=Je(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new Vt(Oe.comparator);o=o.insert(a,Dr.newNoDocument(a,He.min()));const l=at().add(a),c=new wp(He.min(),new Map,new Vt(it),o,l);await dC(n,c),n.du=n.du.remove(a),n.Au.delete(e),ob(n)}else await Ky(n.localStore,e,!1).then(()=>Yy(n,e,r)).catch(cc)}async function fH(t,e){const r=Je(t),n=e.batch.batchId;try{const i=await jW(r.localStore,e);mC(r,n,null),hC(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await yd(r,i)}catch(i){await cc(i)}}async function pH(t,e,r){const n=Je(t);try{const i=await function(o,l){const c=Je(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(gt(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);mC(n,e,r),hC(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await yd(n,i)}catch(i){await cc(i)}}function hC(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function mC(t,e,r){const n=Je(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Yy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||fC(t,n)})}function fC(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Zv(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),ob(t))}function r2(t,e,r){for(const n of r)n instanceof lC?(t.Ru.addReference(n.key,e),gH(t,n)):n instanceof cC?(Ee(ab,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||fC(t,n.key)):Ue(19791,{wu:n})}function gH(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ee(ab,"New document in limbo: "+r),t.Eu.add(n),ob(t))}function ob(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Oe(wt.fromString(e)),n=t.fu.next();t.Au.set(n,new iH(r)),t.du=t.du.insert(r,n),rC(t.remoteStore,new Li(xn(ST(r.path)),n,"TargetPurposeLimboResolution",pp.ce))}}async function yd(t,e,r){const n=Je(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const m=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Jv.As(c.targetId,u);a.push(m)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=Je(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>me.forEach(u,h=>me.forEach(h.Es,f=>d.persistence.referenceDelegate.addReference(m,h.targetId,f)).next(()=>me.forEach(h.ds,f=>d.persistence.referenceDelegate.removeReference(m,h.targetId,f)))))}catch(m){if(!uc(m))throw m;Ee(Xv,"Failed to update sequence numbers: "+m)}for(const m of u){const h=m.targetId;if(!m.fromCache){const f=d.Ms.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);d.Ms=d.Ms.insert(h,v)}}}(n.localStore,a))}async function xH(t,e){const r=Je(t);if(!r.currentUser.isEqual(e)){Ee(ab,"User change. New user:",e.toKey());const n=await XT(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new Se(de.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yd(r,n.Ls)}}function yH(t,e){const r=Je(t),n=r.Au.get(e);if(n&&n.hu)return at().add(n.key);{let i=at();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function pC(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mH.bind(null,e),e.Pu.H_=eH.bind(null,e.eventManager),e.Pu.yu=tH.bind(null,e.eventManager),e}function vH(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pH.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Np(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return bW(this.persistence,new xW,e.initialUser,this.serializer)}Cu(e){return new JT(Yv.mi,this.serializer)}Du(e){return new EW}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class bH extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){gt(this.persistence.referenceDelegate instanceof hf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new rW(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new JT(n=>hf.mi(n,r),this.serializer)}}class Jy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>t2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xH.bind(null,this.syncEngine),await QW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JW}()}createDatastore(e){const r=Np(e.databaseInfo.databaseId),n=function(a){return new IW(a)}(e.databaseInfo);return function(a,o,l,c){return new MW(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new FW(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>t2(this.syncEngine,r,0),function(){return QN.v()?new QN:new TW}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const m=new aH(i,a,o,l,c,u);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Je(i);Ee(io,"RemoteStore shutting down."),a.Ea.add(5),await xd(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Jy.provider={build:()=>new Jy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class wH{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Ee(da,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ee(da,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=nb(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Wg(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(da,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await XT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await NH(t);Ee(da,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>JN(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>JN(e.remoteStore,i)),t._onlineComponents=e}async function NH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(da,"Using user provided OfflineComponentProvider");try{await Wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ml("Error using user provided cache. Falling back to memory cache: "+r),await Wg(t,new ff)}}else Ee(da,"Using default OfflineComponentProvider"),await Wg(t,new bH(void 0));return t._offlineComponents}async function gC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(da,"Using user provided OnlineComponentProvider"),await s2(t,t._uninitializedComponentsProvider._online)):(Ee(da,"Using default OnlineComponentProvider"),await s2(t,new Jy))),t._onlineComponents}function kH(t){return gC(t).then(e=>e.syncEngine)}async function SH(t){const e=await gC(t),r=e.eventManager;return r.onListen=oH.bind(null,e.syncEngine),r.onUnlisten=uH.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=lH.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=dH.bind(null,e.syncEngine),r}function _H(t,e,r={}){const n=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new jH({next:h=>{d.Nu(),o.enqueueAndForget(()=>ZW(a,m)),h.fromCache&&c.source==="server"?u.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),m=new rH(l,d,{includeMetadataChanges:!0,qa:!0});return XW(a,m)}(await SH(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firestore.googleapis.com",i2=!0;class a2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yC,this.ssl=i2}else this.host=e.host,this.ssl=e.ssl??i2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eW)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _p{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Tq;switch(n.type){case"firstParty":return new Iq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=n2.get(r);n&&(Ee("ComponentProvider","Removing Datastore"),n2.delete(r),n.terminate())}(this),Promise.resolve()}}function EH(t,e,r,n={}){var u;t=nf(t,_p);const i=ac(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(z4(`https://${l}`),W4("Firestore",!0)),a.host!==yC&&a.host!==l&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!ro(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,m;if(typeof n.mockUserToken=="string")d=n.mockUserToken,m=Rr.MOCK_USER;else{d=t$(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Rr(h)}t._authCredentials=new Cq(new iT(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class dr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(fd(r,dr._jsonSchema))return new dr(e,n||null,new Oe(wt.fromString(r.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:sr("string",dr._jsonSchemaVersion),referencePath:sr("string")};class Zi extends vo{constructor(e,r,n){super(e,r,ST(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Oe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Hg(t,e,...r){if(t=Is(t),aT("collection","path",e),t instanceof _p){const n=wt.fromString(e,...r);return vN(n),new Zi(t,null,n)}{if(!(t instanceof dr||t instanceof Zi))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return vN(n),new Zi(t.firestore,null,n)}}function TH(t,e,...r){if(t=Is(t),arguments.length===1&&(e=Vv.newId()),aT("doc","path",e),t instanceof _p){const n=wt.fromString(e,...r);return yN(n),new dr(t,null,new Oe(n))}{if(!(t instanceof dr||t instanceof Zi))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return yN(n),new dr(t.firestore,t instanceof Zi?t.converter:null,new Oe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="AsyncQueue";class l2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eC(this,"async_queue_retry"),this._c=()=>{const n=zg();n&&Ee(o2,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=zg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=zg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;Ee(o2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",c2(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=sb.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:c2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function c2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lb extends _p{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new l2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l2(e),this._firestoreClient=void 0,await e}}}function CH(t,e){const r=typeof t=="object"?t:Q4(),n=typeof t=="string"?t:e||of,i=Lv(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=ZB("firestore");a&&EH(i,...a)}return i}function vC(t){if(t._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AH(t),t._firestoreClient}function AH(t){var n,i,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new Qq(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wH(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(kr.fromBase64String(e))}catch(r){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _s(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fd(e,_s._jsonSchema))return _s.fromBase64String(e.bytes)}}_s._jsonSchemaVersion="firestore/bytes/1.0",_s._jsonSchema={type:sr("string",_s._jsonSchemaVersion),bytes:sr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vn._jsonSchemaVersion}}static fromJSON(e){if(fd(e,vn._jsonSchema))return new vn(e.latitude,e.longitude)}}vn._jsonSchemaVersion="firestore/geoPoint/1.0",vn._jsonSchema={type:sr("string",vn._jsonSchemaVersion),latitude:sr("number"),longitude:sr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fd(e,bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new bn(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bn._jsonSchemaVersion="firestore/vectorValue/1.0",bn._jsonSchema={type:sr("string",bn._jsonSchemaVersion),vectorValues:sr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=/^__.*__$/;class IH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,r,this.fieldTransforms):new pd(e,this.data,r,this.fieldTransforms)}}function bC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class db{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new db({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bC(this.Ac)&&PH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Np(e)}Cc(e,r,n,i=!1){return new db({Ac:e,methodName:r,Dc:n,path:jr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jC(t){const e=t._freezeSettings(),r=Np(t._databaseId);return new RH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function OH(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);kC("Data must be an object, but it was:",o,n);const l=wC(n,o);let c,u;if(a.merge)c=new $s(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const m of a.mergeFields){const h=MH(e,m,r);if(!o.contains(h))throw new Se(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FH(d,h)||d.push(h)}c=new $s(d),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new IH(new Ss(l),c,u)}class hb extends ub{_toFieldTransform(e){return new bz(e.path,new Yu)}isEqual(e){return e instanceof hb}}function DH(t,e,r,n=!1){return mb(r,t.Cc(n?4:3,e))}function mb(t,e){if(NC(t=Is(t)))return kC("Unsupported field value:",e,t),wC(t,e);if(t instanceof ub)return function(n,i){if(!bC(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let c=mb(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Is(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xz(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=_t.fromDate(n);return{timestampValue:df(i.serializer,a)}}if(n instanceof _t){const a=new _t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:df(i.serializer,a)}}if(n instanceof vn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _s)return{bytesValue:qT(i.serializer,n._byteString)};if(n instanceof dr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof bn)return function(o,l){return{mapValue:{fields:{[pT]:{stringValue:xT},[lf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Wv(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${fp(n)}`)}(t,e)}function wC(t,e){const r={};return cT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(n,i)=>{const a=mb(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function NC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof vn||t instanceof _s||t instanceof dr||t instanceof ub||t instanceof bn)}function kC(t,e,r){if(!NC(r)||!oT(r)){const n=fp(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function MH(t,e,r){if((e=Is(e))instanceof cb)return e._internalPath;if(typeof e=="string")return SC(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,r)}const LH=new RegExp("[~\\*/\\[\\]]");function SC(t,e,r){if(e.search(LH)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new cb(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function pf(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new Se(de.INVALID_ARGUMENT,l+t+c)}function FH(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ep("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class VH extends _C{data(){return super.data()}}function Ep(t,e){return typeof e=="string"?SC(t,e):e instanceof cb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fb{}class EC extends fb{}function Kg(t,e,...r){let n=[];e instanceof fb&&n.push(e),n=n.concat(r),function(a){const o=a.filter(c=>c instanceof pb).length,l=a.filter(c=>c instanceof Tp).length;if(o>1||o>0&&l>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Tp extends EC{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Tp(e,r,n)}_apply(e){const r=this._parse(e);return TC(e._query,r),new vo(e.firestore,e.converter,By(e._query,r))}_parse(e){const r=jC(e.firestore);return function(a,o,l,c,u,d,m){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){h2(m,d);const g=[];for(const v of m)g.push(d2(c,a,v));h={arrayValue:{values:g}}}else h=d2(c,a,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||h2(m,d),h=DH(l,o,m,d==="in"||d==="not-in");return rr.create(u,d,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function BH(t,e,r){const n=e,i=Ep("where",t);return Tp._create(i,n,r)}class pb extends fb{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new pb(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Qs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)TC(o,c),o=By(o,c)}(e._query,r),new vo(e.firestore,e.converter,By(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gb extends EC{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new gb(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(a,o)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new dc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function u2(t,e="asc"){const r=e,n=Ep("orderBy",t);return gb._create(n,r)}function d2(t,e,r){if(typeof(r=Is(r))=="string"){if(r==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_T(e)&&r.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wt.fromString(r));if(!Oe.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return EN(t,new Oe(n))}if(r instanceof dr)return EN(t,r._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fp(r)}.`)}function h2(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TC(t,e){const r=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $H{convertValue(e,r="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return po(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[lf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Gt(o.doubleValue));return new bn(r)}convertGeoPoint(e){return new vn(Gt(e.latitude),Gt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xp(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const r=oa(e);return new _t(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wt.fromString(e);gt(QT(n),9688,{name:e});const i=new Ku(n.get(1),n.get(3)),a=new Oe(n.popFirst(5));return i.isEqual(r)||Zn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class gh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jl extends _C{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Ep("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=jl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}jl._jsonSchemaVersion="firestore/documentSnapshot/1.0",jl._jsonSchema={type:sr("string",jl._jsonSchemaVersion),bundleSource:sr("string","DocumentSnapshot"),bundleName:sr("string"),bundle:sr("string")};class em extends jl{data(e={}){return super.data(e)}}class wl{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new gh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new em(this._firestore,this._userDataWriter,n.key,n,new gh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new em(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new em(i._firestore,i._userDataWriter,l.doc.key,l.doc,new gh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:zH(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:sr("string",wl._jsonSchemaVersion),bundleSource:sr("string","QuerySnapshot"),bundleName:sr("string"),bundle:sr("string")};class WH extends $H{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,r)}}function m2(t){t=nf(t,vo);const e=nf(t.firestore,lb),r=vC(e),n=new WH(e);return UH(t._query),_H(r,t._query).then(i=>new wl(e,n,t,i))}function HH(t,e){const r=nf(t.firestore,lb),n=TH(t),i=qH(t.converter,e);return KH(r,[OH(jC(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Bn.exists(!1))]).then(()=>n)}function KH(t,e){return function(n,i){const a=new Xi;return n.asyncQueue.enqueueAndForget(async()=>hH(await kH(n),i,a)),a.promise}(vC(t),e)}function GH(){return new hb("serverTimestamp")}(function(e,r=!0){(function(i){lc=i})(oc),Dl(new so("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new lb(new Aq(n.getProvider("auth-internal")),new Rq(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(u.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Yi(fN,pN,e),Yi(fN,pN,"esm2020")})();var QH="firebase",YH="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(QH,YH,"app");function CC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JH=CC,AC=new hd("auth","Firebase",CC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Dv("@firebase/auth");function XH(t,...e){gf.logLevel<=nt.WARN&&gf.warn(`Auth (${oc}): ${t}`,...e)}function tm(t,...e){gf.logLevel<=nt.ERROR&&gf.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,...e){throw xb(t,...e)}function jn(t,...e){return xb(t,...e)}function PC(t,e,r){const n={...JH(),[e]:r};return new hd("auth","Firebase",n).create(e,{appName:t.name})}function Ha(t){return PC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xb(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return AC.create(t,...e)}function qe(t,e,...r){if(!t)throw xb(e,...r)}function Dn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}function ri(t,e){t||Dn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZH(){return f2()==="http:"||f2()==="https:"}function f2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZH()||o$()||"connection"in navigator)?navigator.onLine:!0}function tK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,r){this.shortDelay=e,this.longDelay=r,ri(r>e,"Short delay should be less than long delay!"),this.isMobile=n$()||l$()}get(){return eK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){ri(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nK=new vd(3e4,6e4);function vb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mc(t,e,r,n,i={}){return RC(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=md({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return a$()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(u.credentials="include"),IC.fetch()(await OC(t,t.config.apiHost,r,l),u)})}async function RC(t,e,r){t._canInitEmulator=!1;const n={...rK,...e};try{const i=new aK(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw xh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xh(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw PC(t,d,u);ti(t,d)}}catch(i){if(i instanceof ci)throw i;ti(t,"network-request-failed",{message:String(i)})}}async function iK(t,e,r,n,i={}){const a=await mc(t,e,r,n,i);return"mfaPendingCredential"in a&&ti(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function OC(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?yb(t.config,i):`${t.config.apiScheme}://${i}`;return sK.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class aK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(jn(this.auth,"network-request-failed")),nK.get())})}}function xh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=jn(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oK(t,e){return mc(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return mc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lK(t,e=!1){const r=Is(t),n=await r.getIdToken(e),i=bb(n);qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:gu(Gg(i.auth_time)),issuedAtTime:gu(Gg(i.iat)),expirationTime:gu(Gg(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Gg(t){return Number(t)*1e3}function bb(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=U4(r);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p2(t){const e=bb(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ci&&cK(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function cK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){var m;const e=t.auth,r=await t.getIdToken(),n=await Zu(t,xf(e,{idToken:r}));qe(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?DC(i.providerUserInfo):[],o=hK(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function dK(t){const e=Is(t);await yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hK(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function DC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(t,e){const r=await RC(t,{},async()=>{const n=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await OC(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(c.credentials="include"),IC.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function fK(t,e){return mc(t,"POST","/v2/accounts:revokeToken",vb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=p2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await mK(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Nl;return n&&(qe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Dn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qs{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new uK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return lK(this,e)}reload(){return dK(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await yf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await Zu(this,oK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:m,emailVerified:h,isAnonymous:f,providerData:g,stsTokenManager:v}=r;qe(m&&v,e,"internal-error");const j=Nl.fromJSON(this.name,v);qe(typeof m=="string",e,"internal-error"),vi(n,e.name),vi(i,e.name),qe(typeof h=="boolean",e,"internal-error"),qe(typeof f=="boolean",e,"internal-error"),vi(a,e.name),vi(o,e.name),vi(l,e.name),vi(c,e.name),vi(u,e.name),vi(d,e.name);const y=new qs({uid:m,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:f,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:j,createdAt:u,lastLoginAt:d});return g&&Array.isArray(g)&&(y.providerData=g.map(p=>({...p}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,r,n=!1){const i=new Nl;i.updateFromServerResponse(r);const a=new qs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await yf(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?DC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Nl;l.updateFromIdToken(n);const c=new qs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Zy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function Mn(t){ri(t instanceof Function,"Expected a class definition");let e=g2.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}MC.type="NONE";const x2=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e,r){return`firebase:${t}:${e}:${r}`}class kl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=rm(this.userKey,i.apiKey,a),this.fullPersistenceKey=rm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await xf(this.auth,{idToken:e}).catch(()=>{});return r?qs._fromGetAccountInfoResponse(this.auth,r,e):null}return qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new kl(Mn(x2),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Mn(x2);const o=rm(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let m;if(typeof d=="string"){const h=await xf(e,{idToken:d}).catch(()=>{});if(!h)break;m=await qs._fromGetAccountInfoResponse(e,h,d)}else m=qs._fromJSON(e,d);u!==a&&(l=m),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new kl(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new kl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(qC(e))return"Webos";if(FC(e))return"Safari";if((e.includes("chrome/")||VC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function LC(t=Fr()){return/firefox\//i.test(t)}function FC(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VC(t=Fr()){return/crios\//i.test(t)}function UC(t=Fr()){return/iemobile/i.test(t)}function BC(t=Fr()){return/android/i.test(t)}function $C(t=Fr()){return/blackberry/i.test(t)}function qC(t=Fr()){return/webos/i.test(t)}function jb(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pK(t=Fr()){var e;return jb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function gK(){return c$()&&document.documentMode===10}function zC(t=Fr()){return jb(t)||BC(t)||qC(t)||$C(t)||/windows phone/i.test(t)||UC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e=[]){let r;switch(t){case"Browser":r=y2(Fr());break;case"Worker":r=`${y2(Fr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${oc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,e={}){return mc(t,"GET","/v2/passwordPolicy",vb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=6;class bK{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??vK,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v2(this),this.idTokenSubscription=new v2(this),this.beforeStateQueue=new xK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Mn(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await xf(this,{idToken:e}),n=await qs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(Ha(this));const r=e?Is(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yK(this),r=new bK(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await fK(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Mn(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Mn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&XH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wb(t){return Is(t)}class v2{constructor(e){this.auth=e,this.observer=null,this.addObserver=x$(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wK(t){Nb=t}function NK(t){return Nb.loadJS(t)}function kK(){return Nb.gapiScript}function SK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t,e){const r=Lv(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(ro(a,e??{}))return i;ti(i,"already-initialized")}return r.initialize({options:e})}function EK(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function TK(t,e,r){const n=wb(t);qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=HC(e),{host:o,port:l}=CK(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){qe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qe(ro(u,n.config.emulator)&&ro(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,ac(o)?(z4(`${a}//${o}${c}`),W4("Auth",!0)):i||AK()}function HC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CK(t){const e=HC(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:b2(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:b2(o)}}}function b2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AK(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,r){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return iK(t,"POST","/v1/accounts:signInWithIdp",vb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK="http://localhost";class ao extends KC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ti("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new ao(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Sl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Sl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Sl(e,r)}buildRequest(){const e={requestUri:PK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=md(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends GC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends bd{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ao._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Pi.credential(r,n)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends bd{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends bd{constructor(){super("twitter.com")}static credential(e,r){return ao._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ri.credential(r,n)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await qs._fromIdTokenResponse(e,n,i),o=j2(n);return new $l({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=j2(n);return new $l({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function j2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends ci{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new vf(e,r,n,i)}}function QC(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(t,a,e,n):a})}async function IK(t,e,r=!1){const n=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $l._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RK(t,e,r=!1){const{auth:n}=t;if(hn(n.app))return Promise.reject(Ha(n));const i="reauthenticate";try{const a=await Zu(t,QC(n,i,e,t),r);qe(a.idToken,n,"internal-error");const o=bb(a.idToken);qe(o,n,"internal-error");const{sub:l}=o;return qe(t.uid===l,n,"user-mismatch"),$l._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ti(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e,r=!1){if(hn(t.app))return Promise.reject(Ha(t));const n="signIn",i=await QC(t,n,e),a=await $l._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function DK(t,e,r,n){return Is(t).onIdTokenChanged(e,r,n)}function MK(t,e,r){return Is(t).beforeAuthStateChanged(e,r)}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=1e3,FK=10;class JC extends YC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);gK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FK):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},LK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const VK=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends YC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}XC.type="SESSION";const ZC=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Cp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await UK(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=kb("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const h=m;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return window}function $K(t){wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function qK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function WK(){return eA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebaseLocalStorageDb",HK=1,jf="firebaseLocalStorage",rA="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ap(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function KK(){const t=indexedDB.deleteDatabase(tA);return new jd(t).toPromise()}function e0(){const t=indexedDB.open(tA,HK);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(jf,{keyPath:rA})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(jf)?e(n):(n.close(),await KK(),e(await e0()))})})}async function w2(t,e,r){const n=Ap(t,!0).put({[rA]:e,value:r});return new jd(n).toPromise()}async function GK(t,e){const r=Ap(t,!1).get(e),n=await new jd(r).toPromise();return n===void 0?null:n.value}function N2(t,e){const r=Ap(t,!0).delete(e);return new jd(r).toPromise()}const QK=800,YK=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await e0(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>YK)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(WK()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await qK(),!this.activeServiceWorker)return;this.sender=new BK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await e0();return await w2(e,bf,"1"),await N2(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>w2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>GK(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>N2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ap(i,!1).getAll();return new jd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const JK=sA;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t,e){return e?Mn(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends KC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Sl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function ZK(t){return OK(t.auth,new Sb(t),t.bypassAuthState)}function eG(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),RK(r,new Sb(t),t.bypassAuthState)}async function tG(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),IK(r,new Sb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZK;case"linkViaPopup":case"linkViaRedirect":return tG;case"reauthViaPopup":case"reauthViaRedirect":return eG;default:ti(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new vd(2e3,1e4);class sl extends nA{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=kb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rG.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="pendingRedirect",sm=new Map;class nG extends nA{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=sm.get(this.auth._key());if(!e){try{const n=await iG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(t,e){const r=lG(e),n=oG(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function aG(t,e){sm.set(t._key(),e)}function oG(t){return Mn(t._redirectPersistence)}function lG(t){return rm(sG,t.config.apiKey,t.name)}async function cG(t,e,r=!1){if(hn(t.app))return Promise.reject(Ha(t));const n=wb(t),i=XK(n,e),o=await new nG(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=10*60*1e3;class dG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hG(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!iA(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(jn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uG&&this.cachedEventUids.clear(),this.cachedEventUids.has(k2(e))}saveEventToCache(e){this.cachedEventUids.add(k2(e)),this.lastProcessedEventTime=Date.now()}}function k2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e={}){return mc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pG=/^https?/;async function gG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mG(t);for(const r of e)try{if(xG(r))return}catch{}ti(t,"unauthorized-domain")}function xG(t){const e=Xy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!pG.test(r))return!1;if(fG.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=new vd(3e4,6e4);function S2(){const t=wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function vG(t){return new Promise((e,r)=>{var i,a,o;function n(){S2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S2(),r(jn(t,"network-request-failed"))},timeout:yG.get()})}if((a=(i=wn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=wn().gapi)!=null&&o.load)n();else{const l=SK("iframefcb");return wn()[l]=()=>{gapi.load?n():r(jn(t,"network-request-failed"))},NK(`${kK()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw nm=null,e})}let nm=null;function bG(t){return nm=nm||vG(t),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=new vd(5e3,15e3),wG="__/auth/iframe",NG="emulator/auth/iframe",kG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _G(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?yb(e,NG):`https://${t.config.authDomain}/${wG}`,n={apiKey:e.apiKey,appName:t.name,v:oc},i=SG.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${md(n).slice(1)}`}async function EG(t){const e=await bG(t),r=wn().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:_G(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kG,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),l=wn().setTimeout(()=>{a(o)},jG.get());function c(){wn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CG=500,AG=600,PG="_blank",IG="http://localhost";class _2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RG(t,e,r,n=CG,i=AG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...TG,width:n.toString(),height:i.toString(),top:a,left:o},u=Fr().toLowerCase();r&&(l=VC(u)?PG:r),LC(u)&&(e=e||IG,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(pK(u)&&l!=="_self")return OG(e||"",l),new _2(null);const m=window.open(e||"",l,d);qe(m,t,"popup-blocked");try{m.focus()}catch{}return new _2(m)}function OG(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="__/auth/handler",MG="emulator/auth/handler",LG=encodeURIComponent("fac");async function E2(t,e,r,n,i,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:oc,eventId:i};if(e instanceof GC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(a||{}))o[d]=m}if(e instanceof bd){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${LG}=${encodeURIComponent(c)}`:"";return`${FG(t)}?${md(l).slice(1)}${u}`}function FG({config:t}){return t.emulator?yb(t,MG):`https://${t.authDomain}/${DG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class VG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZC,this._completeRedirectFn=cG,this._overrideRedirectResult=aG}async _openPopup(e,r,n,i){var o;ri((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await E2(e,r,n,Xy(),i);return RG(e,a,kb())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await E2(e,r,n,Xy(),i);return $K(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ri(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await EG(e),n=new dG(e);return r.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Qg,{type:Qg},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Qg];a!==void 0&&r(!!a),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=gG(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return zC()||FC()||jb()}}const UG=VG;var T2="@firebase/auth",C2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qG(t){Dl(new so("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WC(t)},u=new jK(n,i,a,c);return EK(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Dl(new so("auth-internal",e=>{const r=wb(e.getProvider("auth").getImmediate());return(n=>new BG(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(T2,C2,$G(t)),Yi(T2,C2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=5*60,WG=q4("authIdTokenMaxAge")||zG;let A2=null;const HG=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>WG)return;const i=r==null?void 0:r.token;A2!==i&&(A2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KG(t=Q4()){const e=Lv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=_K(t,{popupRedirectResolver:UG,persistence:[JK,VK,ZC]}),n=q4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=HG(a.toString());MK(r,o,()=>o(r.currentUser)),DK(r,l=>o(l))}}const i=B4("auth");return i&&TK(r,`http://${i}`),r}function GG(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}wK({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=jn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",GG().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qG("Browser");const QG={apiKey:{}.VITE_FIREBASE_API_KEY||"mock-api-key",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"mock-auth-domain",projectId:{}.VITE_FIREBASE_PROJECT_ID||"mock-project-id",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"mock-storage-bucket",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"mock-sender-id",appId:{}.VITE_FIREBASE_APP_ID||"mock-app-id"},aA=G4(QG),Yg=CH(aA);KG(aA);const P2=["Web Development","Digital Marketing","Content Creation","Data Analysis","Graphic Design","Virtual Assistance","Other"],YG=()=>{const{user:t}=Vr(),[e,r]=P.useState([]),[n,i]=P.useState({content:"",rating:5,userRole:"",category:"Web Development",impact:"",projectLink:""}),[a,o]=P.useState(!0),[l,c]=P.useState(!1),[u,d]=P.useState({category:"all",rating:0,searchQuery:""});P.useEffect(()=>{(async()=>{try{let g=Kg(Hg(Yg,"testimonials"),u2("createdAt","desc"));u.category!=="all"&&(g=Kg(g,BH("category","==",u.category)));let j=(await m2(g)).docs.map(y=>({id:y.id,...y.data()}));if(u.rating>0&&(j=j.filter(y=>y.rating>=u.rating)),u.searchQuery){const y=u.searchQuery.toLowerCase();j=j.filter(p=>p.content.toLowerCase().includes(y)||p.userName.toLowerCase().includes(y)||p.userRole.toLowerCase().includes(y))}r(j),o(!1)}catch(g){console.error("Error fetching testimonials:",g),o(!1)}})()},[u]);const m=async f=>{if(f.preventDefault(),!!t){c(!0);try{await HH(Hg(Yg,"testimonials"),{userId:t.uid,userName:t.displayName||"Anonymous",userRole:n.userRole,content:n.content,rating:n.rating,category:n.category,impact:n.impact,projectLink:n.projectLink,createdAt:GH()}),i({content:"",rating:5,userRole:"",category:"Web Development",impact:"",projectLink:""});const g=Kg(Hg(Yg,"testimonials"),u2("createdAt","desc")),j=(await m2(g)).docs.map(y=>({id:y.id,...y.data()}));r(j)}catch(g){console.error("Error submitting testimonial:",g)}finally{c(!1)}}},h=f=>{if(!f)return"";const g=f.toDate();return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(g)};return a?s.jsx(oi,{message:"Loading testimonials",description:"Please wait while we fetch the testimonials"}):!e||e.length===0?s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"🌟 Success Stories & Testimonials"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Real stories from real people who transformed their careers"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-3xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:"🎯"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Inspiring Success Stories Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're curating amazing success stories from our community members who have transformed their careers and lives through digital skills. Get ready to be inspired by real journeys of:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 text-xl",children:"💼"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Career Transitions"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"From traditional jobs to thriving digital careers"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-blue-600 text-xl",children:"🚀"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Freelance Success"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Building sustainable income streams online"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-purple-600 text-xl",children:"🏢"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Business Growth"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Scaling small businesses with digital tools"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-orange-600 text-xl",children:"🎓"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Skill Development"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Mastering in-demand digital skills"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-accent/10 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-2",children:"Be Part of the Story"}),s.jsx("p",{className:"text-gray-700 text-sm",children:"When we launch, you'll be able to share your own success story and inspire others in the community. Your journey could be the motivation someone else needs to start their digital transformation."})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We're working hard to bring you authentic, inspiring stories. Stay tuned for the launch! ✨"})]})})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Success Stories & Testimonials"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover how Ajira Digital has transformed careers and lives. Read inspiring stories from our community members and share your own journey."})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-8 w-full",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center w-full",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",value:u.searchQuery,onChange:f=>d(g=>({...g,searchQuery:f.target.value})),placeholder:"Search testimonials...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg"})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("select",{value:u.category,onChange:f=>d(g=>({...g,category:f.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),P2.map(f=>s.jsx("option",{value:f,children:f},f))]}),s.jsxs("select",{value:u.rating,onChange:f=>d(g=>({...g,rating:Number(f.target.value)})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:0,children:"All Ratings"}),s.jsx("option",{value:5,children:"5 Stars"}),s.jsx("option",{value:4,children:"4+ Stars"}),s.jsx("option",{value:3,children:"3+ Stars"})]})]})]})}),t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-12 w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-ajira-primary mb-6",children:"Share Your Success Story"}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Role"}),s.jsx("input",{type:"text",value:n.userRole,onChange:f=>i(g=>({...g,userRole:f.target.value})),placeholder:"e.g., Web Developer, Digital Marketer",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:n.category,onChange:f=>i(g=>({...g,category:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0,children:P2.map(f=>s.jsx("option",{value:f,children:f},f))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Story"}),s.jsx(zB,{value:n.content,onChange:f=>i(g=>({...g,content:f})),placeholder:"Share your experience and success story...",className:"h-40 mb-12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact & Achievement"}),s.jsx("textarea",{value:n.impact,onChange:f=>i(g=>({...g,impact:f.target.value})),placeholder:"What specific impact or achievement did you accomplish? (e.g., Increased income by 50%, Landed 5 new clients)",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project/Portfolio Link (Optional)"}),s.jsx("input",{type:"url",value:n.projectLink,onChange:f=>i(g=>({...g,projectLink:f.target.value})),placeholder:"https://your-project.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent text-base sm:text-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(f=>s.jsx("button",{type:"button",onClick:()=>i(g=>({...g,rating:f})),className:"focus:outline-none",children:s.jsx(ct,{className:`w-6 h-6 ${f<=n.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},f))})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-ajira-accent text-white py-3 rounded-lg hover:bg-ajira-accent/90 disabled:opacity-50 font-medium text-base sm:text-lg",children:l?"Submitting...":"Share Your Story"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:e.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Hm,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No testimonials found"}),s.jsx("p",{className:"text-gray-500",children:u.searchQuery||u.category!=="all"||u.rating>0?"Try adjusting your filters to see more results":"Be the first to share your story!"})]}):e.map(f=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 flex flex-col",children:[s.jsxs("div",{className:"flex items-start mb-4",children:[s.jsx(Hm,{className:"w-8 h-8 text-ajira-accent opacity-50 mr-2 flex-shrink-0"}),s.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:f.content}})]}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("div",{className:"flex items-center mb-2",children:[...Array(5)].map((g,v)=>s.jsx(ct,{className:`w-4 h-4 ${v<f.rating?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-ajira-primary",children:f.userName}),s.jsx("div",{className:"text-sm text-gray-500",children:f.userRole})]}),s.jsx("div",{className:"text-xs text-gray-400",children:h(f.createdAt)})]}),f.impact&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Impact:"}),s.jsx("div",{className:"text-sm text-gray-600",children:f.impact})]}),f.projectLink&&s.jsx("a",{href:f.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm text-ajira-accent hover:underline",children:"View Project →"}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block bg-ajira-accent/10 text-ajira-accent px-2 py-1 rounded-full text-xs",children:f.category})})]})]},f.id))})]})},oA=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Pp=P.createContext({}),_b=P.createContext(null),Ip=typeof document<"u",JG=Ip?P.useLayoutEffect:P.useEffect,lA=P.createContext({strict:!1}),Eb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XG="framerAppearId",cA="data-"+Eb(XG);function ZG(t,e,r,n){const{visualElement:i}=P.useContext(Pp),a=P.useContext(lA),o=P.useContext(_b),l=P.useContext(oA).reducedMotion,c=P.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;P.useInsertionEffect(()=>{u&&u.update(r,o)});const d=P.useRef(!!(r[cA]&&!window.HandoffComplete));return JG(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function nl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eQ(t,e,r){return P.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):nl(r)&&(r.current=n))},[e])}function ed(t){return typeof t=="string"||Array.isArray(t)}function Rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cb=["initial",...Tb];function Op(t){return Rp(t.animate)||Cb.some(e=>ed(t[e]))}function uA(t){return!!(Op(t)||t.variants)}function tQ(t,e){if(Op(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ed(r)?r:void 0,animate:ed(n)?n:void 0}}return t.inherit!==!1?e:{}}function rQ(t){const{initial:e,animate:r}=tQ(t,P.useContext(Pp));return P.useMemo(()=>({initial:e,animate:r}),[I2(e),I2(r)])}function I2(t){return Array.isArray(t)?t.join(" "):t}const R2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},td={};for(const t in R2)td[t]={isEnabled:e=>R2[t].some(r=>!!e[r])};function sQ(t){for(const e in t)td[e]={...td[e],...t[e]}}const dA=P.createContext({}),hA=P.createContext({}),nQ=Symbol.for("motionComponentSymbol");function iQ({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&sQ(t);function a(l,c){let u;const d={...P.useContext(oA),...l,layoutId:aQ(l)},{isStatic:m}=d,h=rQ(l),f=n(l,m);if(!m&&Ip){h.visualElement=ZG(i,f,d,e);const g=P.useContext(hA),v=P.useContext(lA).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,t,g))}return P.createElement(Pp.Provider,{value:h},u&&h.visualElement?P.createElement(u,{visualElement:h.visualElement,...d}):null,r(i,l,eQ(f,h.visualElement,c),f,m,h.visualElement))}const o=P.forwardRef(a);return o[nQ]=i,o}function aQ({layoutId:t}){const e=P.useContext(dA).id;return e&&t!==void 0?e+"-"+t:t}function oQ(t){function e(n,i={}){return iQ(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const lQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ab(t){return typeof t!="string"||t.includes("-")?!1:!!(lQ.indexOf(t)>-1||/[A-Z]/.test(t))}const wf={};function cQ(t){Object.assign(wf,t)}const wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bo=new Set(wd);function mA(t,{layout:e,layoutId:r}){return bo.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!wf[t]||t==="opacity")}const rs=t=>!!(t&&t.getVelocity),uQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dQ=wd.length;function hQ(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<dQ;o++){const l=wd[o];if(t[l]!==void 0){const c=uQ[l]||l;a+=`${c}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const fA=t=>e=>typeof e=="string"&&e.startsWith(t),pA=fA("--"),t0=fA("var(--"),mQ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ha=(t,e,r)=>Math.min(Math.max(r,t),e),jo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xu={...jo,transform:t=>ha(0,1,t)},yh={...jo,default:1},yu=t=>Math.round(t*1e5)/1e5,Dp=/(-)?([\d]*\.?[\d])+/g,gA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pQ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nd(t){return typeof t=="string"}const kd=t=>({test:e=>Nd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wi=kd("deg"),Nn=kd("%"),Ve=kd("px"),gQ=kd("vh"),xQ=kd("vw"),O2={...Nn,parse:t=>Nn.parse(t)/100,transform:t=>Nn.transform(t*100)},D2={...jo,transform:Math.round},xA={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:wi,rotateX:wi,rotateY:wi,rotateZ:wi,scale:yh,scaleX:yh,scaleY:yh,scaleZ:yh,skew:wi,skewX:wi,skewY:wi,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:xu,originX:O2,originY:O2,originZ:Ve,zIndex:D2,fillOpacity:xu,strokeOpacity:xu,numOctaves:D2};function Pb(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const m in e){const h=e[m];if(pA(m)){a[m]=h;continue}const f=xA[m],g=fQ(h,f);if(bo.has(m)){if(c=!0,o[m]=g,!d)continue;h!==(f.default||0)&&(d=!1)}else m.startsWith("origin")?(u=!0,l[m]=g):i[m]=g}if(e.transform||(c||n?i.transform=hQ(t.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:m="50%",originY:h="50%",originZ:f=0}=l;i.transformOrigin=`${m} ${h} ${f}`}}const Ib=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(t,e,r){for(const n in e)!rs(e[n])&&!mA(n,r)&&(t[n]=e[n])}function yQ({transformTemplate:t},e,r){return P.useMemo(()=>{const n=Ib();return Pb(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function vQ(t,e,r){const n=t.style||{},i={};return yA(i,n,t),Object.assign(i,yQ(t,e,r)),t.transformValues?t.transformValues(i):i}function bQ(t,e,r){const n={},i=vQ(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const jQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jQ.has(t)}let vA=t=>!Nf(t);function wQ(t){t&&(vA=e=>e.startsWith("on")?!Nf(e):t(e))}try{wQ(require("@emotion/is-prop-valid").default)}catch{}function NQ(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(vA(i)||r===!0&&Nf(i)||!e&&!Nf(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function M2(t,e,r){return typeof t=="string"?t:Ve.transform(e+r*t)}function kQ(t,e,r){const n=M2(e,t.x,t.width),i=M2(r,t.y,t.height);return`${n} ${i}`}const SQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},_Q={offset:"strokeDashoffset",array:"strokeDasharray"};function EQ(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?SQ:_Q;t[a.offset]=Ve.transform(-n);const o=Ve.transform(e),l=Ve.transform(r);t[a.array]=`${o} ${l}`}function Rb(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,m,h){if(Pb(t,u,d,h),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=kQ(v,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&EQ(f,o,l,c,!1)}const bA=()=>({...Ib(),attrs:{}}),Ob=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TQ(t,e,r,n){const i=P.useMemo(()=>{const a=bA();return Rb(a,e,{enableHardwareAcceleration:!1},Ob(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};yA(a,t.style,t),i.style={...a,...i.style}}return i}function CQ(t=!1){return(r,n,i,{latestValues:a},o)=>{const c=(Ab(r)?TQ:bQ)(n,a,o,r),d={...NQ(n,typeof r=="string",t),...c,ref:i},{children:m}=n,h=P.useMemo(()=>rs(m)?m.get():m,[m]);return P.createElement(r,{...d,children:h})}}function jA(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const wA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NA(t,e,r,n){jA(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(wA.has(i)?i:Eb(i),e.attrs[i])}function Db(t,e){const{style:r}=t,n={};for(const i in r)(rs(r[i])||e.style&&rs(e.style[i])||mA(i,t))&&(n[i]=r[i]);return n}function kA(t,e){const r=Db(t,e);for(const n in t)if(rs(t[n])||rs(e[n])){const i=wd.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function Mb(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function AQ(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const kf=t=>Array.isArray(t),PQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),IQ=t=>kf(t)?t[t.length-1]||0:t;function im(t){const e=rs(t)?t.get():t;return PQ(e)?e.toValue():e}function RQ({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:OQ(n,i,a,t),renderState:e()};return r&&(o.mount=l=>r(n,l,o)),o}const SA=t=>(e,r)=>{const n=P.useContext(Pp),i=P.useContext(_b),a=()=>RQ(t,e,n,i);return r?a():AQ(a)};function OQ(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=im(a[h]);let{initial:o,animate:l}=t;const c=Op(t),u=uA(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const m=d?l:o;return m&&typeof m!="boolean"&&!Rp(m)&&(Array.isArray(m)?m:[m]).forEach(f=>{const g=Mb(t,f);if(!g)return;const{transitionEnd:v,transition:j,...y}=g;for(const p in y){let b=y[p];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(i[p]=b)}for(const p in v)i[p]=v[p]}),i}const $t=t=>t;class L2{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function DQ(t){let e=new L2,r=new L2,n=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const m=d&&i,h=m?e:r;return u&&o.add(c),h.add(c)&&m&&i&&(n=e.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(c),o.has(d)&&(l.schedule(d),t())}i=!1,a&&(a=!1,l.process(c))}};return l}const vh=["prepare","read","update","preRender","render","postRender"],MQ=40;function LQ(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=vh.reduce((m,h)=>(m[h]=DQ(()=>r=!0),m),{}),o=m=>a[m].process(i),l=()=>{const m=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(m-i.timestamp,MQ),1),i.timestamp=m,i.isProcessing=!0,vh.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(l))},c=()=>{r=!0,n=!0,i.isProcessing||t(l)};return{schedule:vh.reduce((m,h)=>{const f=a[h];return m[h]=(g,v=!1,j=!1)=>(r||c(),f.schedule(g,v,j)),m},{}),cancel:m=>vh.forEach(h=>a[h].cancel(m)),state:i,steps:a}}const{schedule:Tt,cancel:si,state:Ir,steps:Jg}=LQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0),FQ={useVisualState:SA({scrapeMotionValuesFromProps:kA,createRenderState:bA,onMount:(t,e,{renderState:r,latestValues:n})=>{Tt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Tt.render(()=>{Rb(r,n,{enableHardwareAcceleration:!1},Ob(e.tagName),t.transformTemplate),NA(e,r)})}})},VQ={useVisualState:SA({scrapeMotionValuesFromProps:Db,createRenderState:Ib})};function UQ(t,{forwardMotionProps:e=!1},r,n){return{...Ab(t)?FQ:VQ,preloadedFeatures:r,useRender:CQ(e),createVisualElement:n,Component:t}}function Ln(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const _A=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const BQ=t=>e=>_A(e)&&t(e,Mp(e));function $n(t,e,r,n){return Ln(t,e,BQ(r),n)}const $Q=(t,e)=>r=>e(t(r)),ea=(...t)=>t.reduce($Q);function EA(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const F2=EA("dragHorizontal"),V2=EA("dragVertical");function TA(t){let e=!1;if(t==="y")e=V2();else if(t==="x")e=F2();else{const r=F2(),n=V2();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function CA(){const t=TA(!0);return t?(t(),!1):!0}class va{constructor(e){this.isMounted=!1,this.node=e}update(){}}function U2(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||CA())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[n]&&Tt.update(()=>l[n](a,o))};return $n(t.current,r,i,{passive:!t.getProps()[n]})}class qQ extends va{mount(){this.unmount=ea(U2(this.node,!0),U2(this.node,!1))}unmount(){}}class zQ extends va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ea(Ln(this.node.current,"focus",()=>this.onFocus()),Ln(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AA=(t,e)=>e?t===e?!0:AA(t,e.parentElement):!1;function Xg(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,Mp(r))}class WQ extends va{constructor(){super(...arguments),this.removeStartListeners=$t,this.removeEndListeners=$t,this.removeAccessibleListeners=$t,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=$n(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:m}=this.node.getProps();Tt.update(()=>{!m&&!AA(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=$n(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ea(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xg("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Tt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ln(this.node.current,"keyup",o),Xg("down",(l,c)=>{this.startPress(l,c)})},r=Ln(this.node.current,"keydown",e),n=()=>{this.isPressing&&Xg("cancel",(a,o)=>this.cancelPress(a,o))},i=Ln(this.node.current,"blur",n);this.removeAccessibleListeners=ea(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Tt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!CA()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Tt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=$n(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ln(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ea(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const r0=new WeakMap,Zg=new WeakMap,HQ=t=>{const e=r0.get(t.target);e&&e(t)},KQ=t=>{t.forEach(HQ)};function GQ({root:t,...e}){const r=t||document;Zg.has(r)||Zg.set(r,{});const n=Zg.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(KQ,{root:t,...e})),n[i]}function QQ(t,e,r){const n=GQ(e);return r0.set(t,r),n.observe(t),()=>{r0.delete(t),n.unobserve(t)}}const YQ={some:0,all:1};class JQ extends va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:YQ[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),h=u?d:m;h&&h(c)};return QQ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(XQ(e,r))&&this.startObserver()}unmount(){}}function XQ({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const ZQ={inView:{Feature:JQ},tap:{Feature:WQ},focus:{Feature:zQ},hover:{Feature:qQ}};function PA(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function eY(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function tY(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function Lp(t,e,r){const n=t.getProps();return Mb(n,e,r!==void 0?r:n.custom,eY(t),tY(t))}let rY=$t,Lb=$t;const ta=t=>t*1e3,qn=t=>t/1e3,sY={current:!1},IA=t=>Array.isArray(t)&&typeof t[0]=="number";function RA(t){return!!(!t||typeof t=="string"&&OA[t]||IA(t)||Array.isArray(t)&&t.every(RA))}const Yc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,OA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yc([0,.65,.55,1]),circOut:Yc([.55,0,1,.45]),backIn:Yc([.31,.01,.66,-.59]),backOut:Yc([.33,1.53,.69,.99])};function DA(t){if(t)return IA(t)?Yc(t):Array.isArray(t)?t.map(DA):OA[t]}function nY(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=DA(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function iY(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const MA=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,aY=1e-7,oY=12;function lY(t,e,r,n,i){let a,o,l=0;do o=e+(r-e)/2,a=MA(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>aY&&++l<oY);return o}function Sd(t,e,r,n){if(t===e&&r===n)return $t;const i=a=>lY(a,0,1,t,r);return a=>a===0||a===1?a:MA(i(a),e,n)}const cY=Sd(.42,0,1,1),uY=Sd(0,0,.58,1),LA=Sd(.42,0,.58,1),dY=t=>Array.isArray(t)&&typeof t[0]!="number",FA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VA=t=>e=>1-t(1-e),Fb=t=>1-Math.sin(Math.acos(t)),UA=VA(Fb),hY=FA(Fb),BA=Sd(.33,1.53,.69,.99),Vb=VA(BA),mY=FA(Vb),fY=t=>(t*=2)<1?.5*Vb(t):.5*(2-Math.pow(2,-10*(t-1))),pY={linear:$t,easeIn:cY,easeInOut:LA,easeOut:uY,circIn:Fb,circInOut:hY,circOut:UA,backIn:Vb,backInOut:mY,backOut:BA,anticipate:fY},B2=t=>{if(Array.isArray(t)){Lb(t.length===4);const[e,r,n,i]=t;return Sd(e,r,n,i)}else if(typeof t=="string")return pY[t];return t},Ub=(t,e)=>r=>!!(Nd(r)&&pQ.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),$A=(t,e,r)=>n=>{if(!Nd(n))return n;const[i,a,o,l]=n.match(Dp);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gY=t=>ha(0,255,t),ex={...jo,transform:t=>Math.round(gY(t))},$a={test:Ub("rgb","red"),parse:$A("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+ex.transform(t)+", "+ex.transform(e)+", "+ex.transform(r)+", "+yu(xu.transform(n))+")"};function xY(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const s0={test:Ub("#"),parse:xY,transform:$a.transform},il={test:Ub("hsl","hue"),parse:$A("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Nn.transform(yu(e))+", "+Nn.transform(yu(r))+", "+yu(xu.transform(n))+")"},$r={test:t=>$a.test(t)||s0.test(t)||il.test(t),parse:t=>$a.test(t)?$a.parse(t):il.test(t)?il.parse(t):s0.parse(t),transform:t=>Nd(t)?t:t.hasOwnProperty("red")?$a.transform(t):il.transform(t)},Ot=(t,e,r)=>-r*t+r*e+t;function tx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yY({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=tx(c,l,t+1/3),a=tx(c,l,t),o=tx(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const rx=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},vY=[s0,$a,il],bY=t=>vY.find(e=>e.test(t));function $2(t){const e=bY(t);let r=e.parse(t);return e===il&&(r=yY(r)),r}const qA=(t,e)=>{const r=$2(t),n=$2(e),i={...r};return a=>(i.red=rx(r.red,n.red,a),i.green=rx(r.green,n.green,a),i.blue=rx(r.blue,n.blue,a),i.alpha=Ot(r.alpha,n.alpha,a),$a.transform(i))};function jY(t){var e,r;return isNaN(t)&&Nd(t)&&(((e=t.match(Dp))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(gA))===null||r===void 0?void 0:r.length)||0)>0}const zA={regex:mQ,countKey:"Vars",token:"${v}",parse:$t},WA={regex:gA,countKey:"Colors",token:"${c}",parse:$r.parse},HA={regex:Dp,countKey:"Numbers",token:"${n}",parse:jo.parse};function sx(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function Sf(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&sx(r,zA),sx(r,WA),sx(r,HA),r}function KA(t){return Sf(t).values}function GA(t){const{values:e,numColors:r,numVars:n,tokenised:i}=Sf(t),a=e.length;return o=>{let l=i;for(let c=0;c<a;c++)c<n?l=l.replace(zA.token,o[c]):c<n+r?l=l.replace(WA.token,$r.transform(o[c])):l=l.replace(HA.token,yu(o[c]));return l}}const wY=t=>typeof t=="number"?0:t;function NY(t){const e=KA(t);return GA(t)(e.map(wY))}const ma={test:jY,parse:KA,createTransformer:GA,getAnimatableNone:NY},QA=(t,e)=>r=>`${r>0?e:t}`;function YA(t,e){return typeof t=="number"?r=>Ot(t,e,r):$r.test(t)?qA(t,e):t.startsWith("var(")?QA(t,e):XA(t,e)}const JA=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>YA(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},kY=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=YA(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},XA=(t,e)=>{const r=ma.createTransformer(e),n=Sf(t),i=Sf(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?ea(JA(n.values,i.values),r):QA(t,e)},rd=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},q2=(t,e)=>r=>Ot(t,e,r);function SY(t){return typeof t=="number"?q2:typeof t=="string"?$r.test(t)?qA:XA:Array.isArray(t)?JA:typeof t=="object"?kY:q2}function _Y(t,e,r){const n=[],i=r||SY(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||$t:e;l=ea(c,l)}n.push(l)}return n}function ZA(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(Lb(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_Y(e,n,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const m=rd(t[d],t[d+1],u);return o[d](m)};return r?u=>c(ha(t[0],t[a-1],u)):c}function EY(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=rd(0,e,n);t.push(Ot(r,1,i))}}function TY(t){const e=[0];return EY(e,t.length-1),e}function CY(t,e){return t.map(r=>r*e)}function AY(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function _f({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=dY(n)?n.map(B2):B2(n),a={done:!1,value:e[0]},o=CY(r&&r.length===e.length?r:TY(e),t),l=ZA(o,e,{ease:Array.isArray(i)?i:AY(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}function eP(t,e){return e?t*(1e3/e):0}const PY=5;function tP(t,e,r){const n=Math.max(e-PY,0);return eP(r-t(n),e-n)}const nx=.001,IY=.01,z2=10,RY=.05,OY=1;function DY({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a;rY(t<=ta(z2));let o=1-e;o=ha(RY,OY,o),t=ha(IY,z2,qn(t)),o<1?(i=u=>{const d=u*o,m=d*t,h=d-r,f=n0(u,o),g=Math.exp(-m);return nx-h/f*g},a=u=>{const m=u*o*t,h=m*r+r,f=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-m),v=n0(Math.pow(u,2),o);return(-i(u)+nx>0?-1:1)*((h-f)*g)/v}):(i=u=>{const d=Math.exp(-u*t),m=(u-r)*t+1;return-nx+d*m},a=u=>{const d=Math.exp(-u*t),m=(r-u)*(t*t);return d*m});const l=5/t,c=LY(i,a,l);if(t=ta(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const MY=12;function LY(t,e,r){let n=r;for(let i=1;i<MY;i++)n=n-t(n)/e(n);return n}function n0(t,e){return t*Math.sqrt(1-e*e)}const FY=["duration","bounce"],VY=["stiffness","damping","mass"];function W2(t,e){return e.some(r=>t[r]!==void 0)}function UY(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!W2(t,VY)&&W2(t,FY)){const r=DY(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function rP({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:m,isResolvedFromDuration:h}=UY({...n,velocity:-qn(n.velocity||0)}),f=m||0,g=c/(2*Math.sqrt(l*u)),v=a-i,j=qn(Math.sqrt(l/u)),y=Math.abs(v)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let p;if(g<1){const b=n0(j,g);p=w=>{const S=Math.exp(-g*j*w);return a-S*((f+g*j*v)/b*Math.sin(b*w)+v*Math.cos(b*w))}}else if(g===1)p=b=>a-Math.exp(-j*b)*(v+(f+j*v)*b);else{const b=j*Math.sqrt(g*g-1);p=w=>{const S=Math.exp(-g*j*w),R=Math.min(b*w,300);return a-S*((f+g*j*v)*Math.sinh(R)+b*v*Math.cosh(R))/b}}return{calculatedDuration:h&&d||null,next:b=>{const w=p(b);if(h)o.done=b>=d;else{let S=f;b!==0&&(g<1?S=tP(p,b,w):S=0);const R=Math.abs(S)<=r,N=Math.abs(a-w)<=e;o.done=R&&N}return o.value=o.done?a:w,o}}}function H2({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const m=t[0],h={done:!1,value:m},f=k=>l!==void 0&&k<l||c!==void 0&&k>c,g=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let v=r*e;const j=m+v,y=o===void 0?j:o(j);y!==j&&(v=y-m);const p=k=>-v*Math.exp(-k/n),b=k=>y+p(k),w=k=>{const E=p(k),T=b(k);h.done=Math.abs(E)<=u,h.value=h.done?y:T};let S,R;const N=k=>{f(h.value)&&(S=k,R=rP({keyframes:[h.value,g(h.value)],velocity:tP(b,k,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let E=!1;return!R&&S===void 0&&(E=!0,w(k),N(k)),S!==void 0&&k>S?R.next(k-S):(!E&&w(k),h)}}}const BY=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Tt.update(e,!0),stop:()=>si(e),now:()=>Ir.isProcessing?Ir.timestamp:performance.now()}},K2=2e4;function G2(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<K2;)e+=r,n=t.next(e);return e>=K2?1/0:e}const $Y={decay:H2,inertia:H2,tween:_f,keyframes:_f,spring:rP};function Ef({autoplay:t=!0,delay:e=0,driver:r=BY,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:m,...h}){let f=1,g=!1,v,j;const y=()=>{j=new Promise(F=>{v=F})};y();let p;const b=$Y[i]||_f;let w;b!==_f&&typeof n[0]!="number"&&(w=ZA([0,100],n,{clamp:!1}),n=[0,100]);const S=b({...h,keyframes:n});let R;l==="mirror"&&(R=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let N="idle",k=null,E=null,T=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=G2(S));const{calculatedDuration:_}=S;let A=1/0,C=1/0;_!==null&&(A=_+o,C=A*(a+1)-o);let O=0;const U=F=>{if(E===null)return;f>0&&(E=Math.min(E,F)),f<0&&(E=Math.min(F-C/f,E)),k!==null?O=k:O=Math.round(F-E)*f;const H=O-e*(f>=0?1:-1),W=f>=0?H<0:H>C;O=Math.max(H,0),N==="finished"&&k===null&&(O=C);let Q=O,X=S;if(a){const $=Math.min(O,C)/A;let Z=Math.floor($),se=$%1;!se&&$>=1&&(se=1),se===1&&Z--,Z=Math.min(Z,a+1),!!(Z%2)&&(l==="reverse"?(se=1-se,o&&(se-=o/A)):l==="mirror"&&(X=R)),Q=ha(0,1,se)*A}const G=W?{done:!1,value:n[0]}:X.next(Q);w&&(G.value=w(G.value));let{done:K}=G;!W&&_!==null&&(K=f>=0?O>=C:O<=0);const J=k===null&&(N==="finished"||N==="running"&&K);return m&&m(G.value),J&&M(),G},L=()=>{p&&p.stop(),p=void 0},q=()=>{N="idle",L(),v(),y(),E=T=null},M=()=>{N="finished",d&&d(),L(),v()},z=()=>{if(g)return;p||(p=r(U));const F=p.now();c&&c(),k!==null?E=F-k:(!E||N==="finished")&&(E=F),N==="finished"&&y(),T=E,k=null,N="running",p.start()};t&&z();const D={then(F,H){return j.then(F,H)},get time(){return qn(O)},set time(F){F=ta(F),O=F,k!==null||!p||f===0?k=F:E=p.now()-F/f},get duration(){const F=S.calculatedDuration===null?G2(S):S.calculatedDuration;return qn(F)},get speed(){return f},set speed(F){F===f||!p||(f=F,D.time=qn(O))},get state(){return N},play:z,pause:()=>{N="paused",k=O},stop:()=>{g=!0,N!=="idle"&&(N="idle",u&&u(),q())},cancel:()=>{T!==null&&U(T),q()},complete:()=>{N="finished"},sample:F=>(E=0,U(F))};return D}function qY(t){let e;return()=>(e===void 0&&(e=t()),e)}const zY=qY(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),WY=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bh=10,HY=2e4,KY=(t,e)=>e.type==="spring"||t==="backgroundColor"||!RA(e.ease);function GY(t,e,{onUpdate:r,onComplete:n,...i}){if(!(zY()&&WY.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:m,duration:h=300,ease:f,times:g}=i;if(KY(e,i)){const b=Ef({...i,repeat:0,delay:0});let w={done:!1,value:m[0]};const S=[];let R=0;for(;!w.done&&R<HY;)w=b.sample(R),S.push(w.value),R+=bh;g=void 0,m=S,h=R-bh,f="linear"}const v=nY(t.owner.current,e,m,{...i,duration:h,ease:f,times:g}),j=()=>{u=!1,v.cancel()},y=()=>{u=!0,Tt.update(j),l(),d()};return v.onfinish=()=>{u||(t.set(iY(m,i)),n&&n(),y())},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,$t},get time(){return qn(v.currentTime||0)},set time(b){v.currentTime=ta(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return qn(h)},play:()=>{o||(v.play(),si(j))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=Ef({...i,autoplay:!1});t.setWithVelocity(w.sample(b-bh).value,w.sample(b).value,bh)}y()},complete:()=>{u||v.finish()},cancel:y}}function QY({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:$t,pause:$t,stop:$t,then:a=>(a(),Promise.resolve()),cancel:$t,complete:$t});return e?Ef({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const YY={type:"spring",stiffness:500,damping:25,restSpeed:10},JY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XY={type:"keyframes",duration:.8},ZY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eJ=(t,{keyframes:e})=>e.length>2?XY:bo.has(t)?t.startsWith("scale")?JY(e[1]):YY:ZY,i0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ma.test(e)||e==="0")&&!e.startsWith("url(")),tJ=new Set(["brightness","contrast","saturate","opacity"]);function rJ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Dp)||[];if(!n)return t;const i=r.replace(n,"");let a=tJ.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const sJ=/([a-z-]*)\(.*?\)/g,a0={...ma,getAnimatableNone:t=>{const e=t.match(sJ);return e?e.map(rJ).join(" "):t}},nJ={...xA,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:a0,WebkitFilter:a0},Bb=t=>nJ[t];function sP(t,e){let r=Bb(t);return r!==a0&&(r=ma),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const nP=t=>/^0[^.\s]+$/.test(t);function iJ(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||nP(t)}function aJ(t,e,r,n){const i=i0(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),iJ(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=sP(e,l)}return a}function oJ({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function $b(t,e){return t[e]||t.default||t}const lJ={skipAnimations:!1},qb=(t,e,r,n={})=>i=>{const a=$b(n,t)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-ta(o);const c=aJ(e,t,r,a),u=c[0],d=c[c.length-1],m=i0(t,u),h=i0(t,d);let f={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(oJ(a)||(f={...f,...eJ(t,f)}),f.duration&&(f.duration=ta(f.duration)),f.repeatDelay&&(f.repeatDelay=ta(f.repeatDelay)),!m||!h||sY.current||a.type===!1||lJ.skipAnimations)return QY(f);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=GY(e,t,f);if(g)return g}return Ef(f)};function Tf(t){return!!(rs(t)&&t.add)}const iP=t=>/^\-?\d*\.?\d+$/.test(t);function zb(t,e){t.indexOf(e)===-1&&t.push(e)}function Wb(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Hb{constructor(){this.subscriptions=[]}add(e){return zb(this.subscriptions,e),()=>Wb(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cJ=t=>!isNaN(parseFloat(t));class uJ{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Ir;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=cJ(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Hb);const n=this.events[e].add(r);return e==="change"?()=>{n(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?eP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(t,e){return new uJ(t,e)}const aP=t=>e=>e.test(t),dJ={test:t=>t==="auto",parse:t=>t},oP=[jo,Ve,Nn,wi,xQ,gQ,dJ],Uc=t=>oP.find(aP(t)),hJ=[...oP,$r,ma],mJ=t=>hJ.find(aP(t));function fJ(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ql(r))}function pJ(t,e){const r=Lp(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=IQ(a[o]);fJ(t,o,l)}}function gJ(t,e,r){var n,i;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&i!==void 0?i:e[c]),d!=null&&(typeof d=="string"&&(iP(d)||nP(d))?d=parseFloat(d):!mJ(d)&&ma.test(u)&&(d=sP(c,u)),t.addValue(c,ql(d,{owner:t})),r[c]===void 0&&(r[c]=d),d!==null&&t.setBaseTarget(c,d))}}function xJ(t,e){return e?(e[t]||e.default||e).from:void 0}function yJ(t,e,r){const n={};for(const i in t){const a=xJ(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function vJ({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function bJ(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function lP(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(a=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const m in l){const h=t.getValue(m),f=l[m];if(!h||f===void 0||d&&vJ(d,m))continue;const g={delay:r,elapsed:0,...$b(a||{},m)};if(window.HandoffAppearAnimations){const y=t.getProps()[cA];if(y){const p=window.HandoffAppearAnimations(y,m,h,Tt);p!==null&&(g.elapsed=p,g.isHandoff=!0)}}let v=!g.isHandoff&&!bJ(h,f);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(qb(m,h,f,t.shouldReduceMotion&&bo.has(m)?{type:!1}:g));const j=h.animation;Tf(c)&&(c.add(m),j.then(()=>c.remove(m))),u.push(j)}return o&&Promise.all(u).then(()=>{o&&pJ(t,o)}),u}function o0(t,e,r={}){const n=Lp(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(lP(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:m}=i;return jJ(t,e,u+c,d,m,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function jJ(t,e,r=0,n=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(wJ).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(o0(u,e,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function wJ(t,e){return t.sortNodePosition(e)}function NJ(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>o0(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=o0(t,e,r);else{const i=typeof e=="function"?Lp(t,e,r.custom):e;n=Promise.all(lP(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const kJ=[...Tb].reverse(),SJ=Tb.length;function _J(t){return e=>Promise.all(e.map(({animation:r,options:n})=>NJ(t,r,n)))}function EJ(t){let e=_J(t);const r=CJ();let n=!0;const i=(c,u)=>{const d=Lp(t,u);if(d){const{transition:m,transitionEnd:h,...f}=d;c={...c,...f,...h}}return c};function a(c){e=c(t)}function o(c,u){const d=t.getProps(),m=t.getVariantContext(!0)||{},h=[],f=new Set;let g={},v=1/0;for(let y=0;y<SJ;y++){const p=kJ[y],b=r[p],w=d[p]!==void 0?d[p]:m[p],S=ed(w),R=p===u?b.isActive:null;R===!1&&(v=y);let N=w===m[p]&&w!==d[p]&&S;if(N&&n&&t.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...g},!b.isActive&&R===null||!w&&!b.prevProp||Rp(w)||typeof w=="boolean")continue;let E=TJ(b.prevProp,w)||p===u&&b.isActive&&!N&&S||y>v&&S,T=!1;const _=Array.isArray(w)?w:[w];let A=_.reduce(i,{});R===!1&&(A={});const{prevResolvedValues:C={}}=b,O={...C,...A},U=L=>{E=!0,f.has(L)&&(T=!0,f.delete(L)),b.needsAnimating[L]=!0};for(const L in O){const q=A[L],M=C[L];if(g.hasOwnProperty(L))continue;let z=!1;kf(q)&&kf(M)?z=!PA(q,M):z=q!==M,z?q!==void 0?U(L):f.add(L):q!==void 0&&f.has(L)?U(L):b.protectedKeys[L]=!0}b.prevProp=w,b.prevResolvedValues=A,b.isActive&&(g={...g,...A}),n&&t.blockInitialAnimation&&(E=!1),E&&(!N||T)&&h.push(..._.map(L=>({animation:L,options:{type:p,...c}})))}if(f.size){const y={};f.forEach(p=>{const b=t.getBaseTarget(p);b!==void 0&&(y[p]=b)}),h.push({animation:y})}let j=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(h):Promise.resolve()}function l(c,u,d){var m;if(r[c].isActive===u)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function TJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PA(e,t):!1}function _a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CJ(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class AJ extends va{constructor(e){super(e),e.animationState||(e.animationState=EJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Rp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let PJ=0;class IJ extends va{constructor(){super(...arguments),this.id=PJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RJ={animation:{Feature:AJ},exit:{Feature:IJ}},Q2=(t,e)=>Math.abs(t-e);function OJ(t,e){const r=Q2(t.x,e.x),n=Q2(t.y,e.y);return Math.sqrt(r**2+n**2)}class cP{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ax(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=OJ(m.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=m,{timestamp:v}=Ir;this.history.push({...g,timestamp:v});const{onStart:j,onMove:y}=this.handlers;h||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ix(h,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=ax(m.type==="pointercancel"?this.lastMoveEventInfo:ix(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,j),g&&g(m,j)},!_A(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Mp(e),l=ix(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ir;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,ax(l,this.history)),this.removeListeners=ea($n(this.contextWindow,"pointermove",this.handlePointerMove),$n(this.contextWindow,"pointerup",this.handlePointerUp),$n(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),si(this.updatePoint)}}function ix(t,e){return e?{point:e(t.point)}:t}function Y2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ax({point:t},e){return{point:t,delta:Y2(t,uP(e)),offset:Y2(t,DJ(e)),velocity:MJ(e,.1)}}function DJ(t){return t[0]}function uP(t){return t[t.length-1]}function MJ(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=uP(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ta(e)));)r--;if(!n)return{x:0,y:0};const a=qn(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hs(t){return t.max-t.min}function l0(t,e=0,r=.01){return Math.abs(t-e)<=r}function J2(t,e,r,n=.5){t.origin=n,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=hs(r)/hs(e),(l0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ot(r.min,r.max,t.origin)-t.originPoint,(l0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,r,n){J2(t.x,e.x,r.x,n?n.originX:void 0),J2(t.y,e.y,r.y,n?n.originY:void 0)}function X2(t,e,r){t.min=r.min+e.min,t.max=t.min+hs(e)}function LJ(t,e,r){X2(t.x,e.x,r.x),X2(t.y,e.y,r.y)}function Z2(t,e,r){t.min=e.min-r.min,t.max=t.min+hs(e)}function bu(t,e,r){Z2(t.x,e.x,r.x),Z2(t.y,e.y,r.y)}function FJ(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ot(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ot(r,t,n.max):Math.min(t,r)),t}function ek(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function VJ(t,{top:e,left:r,bottom:n,right:i}){return{x:ek(t.x,r,i),y:ek(t.y,e,n)}}function tk(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function UJ(t,e){return{x:tk(t.x,e.x),y:tk(t.y,e.y)}}function BJ(t,e){let r=.5;const n=hs(t),i=hs(e);return i>n?r=rd(e.min,e.max-n,t.min):n>i&&(r=rd(t.min,t.max-i,e.min)),ha(0,1,r)}function $J(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const c0=.35;function qJ(t=c0){return t===!1?t=0:t===!0&&(t=c0),{x:rk(t,"left","right"),y:rk(t,"top","bottom")}}function rk(t,e,r){return{min:sk(t,e),max:sk(t,r)}}function sk(t,e){return typeof t=="number"?t:t[e]||0}const nk=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:nk(),y:nk()}),ik=()=>({min:0,max:0}),er=()=>({x:ik(),y:ik()});function js(t){return[t("x"),t("y")]}function dP({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function zJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WJ(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ox(t){return t===void 0||t===1}function u0({scale:t,scaleX:e,scaleY:r}){return!ox(t)||!ox(e)||!ox(r)}function Ra(t){return u0(t)||hP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function hP(t){return ak(t.x)||ak(t.y)}function ak(t){return t&&t!=="0%"}function Cf(t,e,r){const n=t-r,i=e*n;return r+i}function ok(t,e,r,n,i){return i!==void 0&&(t=Cf(t,i,n)),Cf(t,r,n)+e}function d0(t,e=0,r=1,n,i){t.min=ok(t.min,e,r,n,i),t.max=ok(t.max,e,r,n,i)}function mP(t,{x:e,y:r}){d0(t.x,e.translate,e.scale,e.originPoint),d0(t.y,r.translate,r.scale,r.originPoint)}function HJ(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ol(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mP(t,o)),n&&Ra(a.latestValues)&&ol(t,a.latestValues))}e.x=lk(e.x),e.y=lk(e.y)}function lk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _i(t,e){t.min=t.min+e,t.max=t.max+e}function ck(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=Ot(t.min,t.max,a);d0(t,e[r],e[n],o,e.scale)}const KJ=["x","scaleX","originX"],GJ=["y","scaleY","originY"];function ol(t,e){ck(t.x,e,KJ),ck(t.y,e,GJ)}function fP(t,e){return dP(WJ(t.getBoundingClientRect(),e))}function QJ(t,e,r){const n=fP(t,r),{scroll:i}=e;return i&&(_i(n.x,i.offset.x),_i(n.y,i.offset.y)),n}const pP=({current:t})=>t?t.ownerDocument.defaultView:null,YJ=new WeakMap;class JJ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=er(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Mp(d,"page").point)},a=(d,m)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TA(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),js(j=>{let y=this.getAxisMotionValue(j).get()||0;if(Nn.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const b=p.layout.layoutBox[j];b&&(y=hs(b)*(parseFloat(y)/100))}}this.originPoint[j]=y}),g&&Tt.update(()=>g(d,m),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,m)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:j}=m;if(f&&this.currentDirection===null){this.currentDirection=XJ(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),v&&v(d,m)},l=(d,m)=>this.stop(d,m),c=()=>js(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new cP(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pP(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Tt.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!jh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=FJ(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&nl(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=VJ(i.layoutBox,r):this.constraints=!1,this.elastic=qJ(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&js(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=$J(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!nl(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=QJ(n,i.root,this.visualElement.getTransformPagePoint());let o=UJ(i.layout.layoutBox,a);if(r){const l=r(zJ(o));this.hasMutatedConstraints=!!l,l&&(o=dP(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=js(d=>{if(!jh(d,r,this.currentDirection))return;let m=c&&c[d]||{};o&&(m={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(qb(e,n,0,r))}stopAnimation(){js(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){js(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){js(r=>{const{drag:n}=this.getProps();if(!jh(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(e[r]-Ot(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!nl(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};js(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=BJ({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),js(o=>{if(!jh(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ot(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;YJ.set(this.visualElement,this);const e=this.visualElement.current,r=$n(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();nl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Ln(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(js(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=c0,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function jh(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function XJ(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ZJ extends va{constructor(e){super(e),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new JJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}unmount(){this.removeGroupControls(),this.removeListeners()}}const uk=t=>(e,r)=>{t&&Tt.update(()=>t(e,r))};class eX extends va{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(e){this.session=new cP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:uk(e),onStart:uk(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Tt.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=$n(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tX(){const t=P.useContext(_b);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=P.useId();return P.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const r=dk(t,e.target.x),n=dk(t,e.target.y);return`${r}% ${n}%`}},rX={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ma.parse(t);if(i.length>5)return n;const a=ma.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=Ot(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class sX extends pt.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;cQ(nX),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Tt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gP(t){const[e,r]=tX(),n=P.useContext(dA);return pt.createElement(sX,{...t,layoutGroup:n,switchLayoutGroup:P.useContext(hA),isPresent:e,safeToRemove:r})}const nX={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:rX},xP=["TopLeft","TopRight","BottomLeft","BottomRight"],iX=xP.length,hk=t=>typeof t=="string"?parseFloat(t):t,mk=t=>typeof t=="number"||Ve.test(t);function aX(t,e,r,n,i,a){i?(t.opacity=Ot(0,r.opacity!==void 0?r.opacity:1,oX(n)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,lX(n))):a&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<iX;o++){const l=`border${xP[o]}Radius`;let c=fk(e,l),u=fk(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mk(c)===mk(u)?(t[l]=Math.max(Ot(hk(c),hk(u),n),0),(Nn.test(u)||Nn.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Ot(e.rotate||0,r.rotate||0,n))}function fk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oX=yP(0,.5,UA),lX=yP(.5,.95,$t);function yP(t,e,r){return n=>n<t?0:n>e?1:r(rd(t,e,n))}function pk(t,e){t.min=e.min,t.max=e.max}function bs(t,e){pk(t.x,e.x),pk(t.y,e.y)}function gk(t,e,r,n,i){return t-=e,t=Cf(t,1/r,n),i!==void 0&&(t=Cf(t,1/i,n)),t}function cX(t,e=0,r=1,n=.5,i,a=t,o=t){if(Nn.test(e)&&(e=parseFloat(e),e=Ot(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ot(a.min,a.max,n);t===a&&(l-=e),t.min=gk(t.min,e,r,l,i),t.max=gk(t.max,e,r,l,i)}function xk(t,e,[r,n,i],a,o){cX(t,e[r],e[n],e[i],e.scale,a,o)}const uX=["x","scaleX","originX"],dX=["y","scaleY","originY"];function yk(t,e,r,n){xk(t.x,e,uX,r?r.x:void 0,n?n.x:void 0),xk(t.y,e,dX,r?r.y:void 0,n?n.y:void 0)}function vk(t){return t.translate===0&&t.scale===1}function vP(t){return vk(t.x)&&vk(t.y)}function hX(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function bP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function bk(t){return hs(t.x)/hs(t.y)}class mX{constructor(){this.members=[]}add(e){zb(this.members,e),e.scheduleRender()}remove(e){if(Wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jk(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const fX=(t,e)=>t.depth-e.depth;class pX{constructor(){this.children=[],this.isDirty=!1}add(e){zb(this.children,e),this.isDirty=!0}remove(e){Wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fX),this.isDirty=!1,this.children.forEach(e)}}function gX(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(si(n),t(a-e))};return Tt.read(n,!0),()=>si(n)}function xX(t){window.MotionDebug&&window.MotionDebug.record(t)}function yX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function vX(t,e,r){const n=rs(t)?t:ql(t);return n.start(qb("",n,e,r)),n.animation}const wk=["","X","Y","Z"],bX={visibility:"hidden"},Nk=1e3;let jX=0;const Oa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jP({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=jX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oa.totalNodes=Oa.resolvedTargetDeltas=Oa.recalculatedProjection=0,this.nodes.forEach(kX),this.nodes.forEach(CX),this.nodes.forEach(AX),this.nodes.forEach(SX),xX(Oa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pX)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yX(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let m;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=gX(h,250),am.hasAnimatedSinceResize&&(am.hasAnimatedSinceResize=!1,this.nodes.forEach(Sk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||DX,{onLayoutAnimationStart:j,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!bP(this.targetLayout,g)||f,b=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const w={...$b(v,"layout"),onPlay:j,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Sk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kk);return}this.isUpdating||this.nodes.forEach(EX),this.isUpdating=!1,this.nodes.forEach(TX),this.nodes.forEach(wX),this.nodes.forEach(NX),this.clearAllSnapshots();const l=performance.now();Ir.delta=ha(0,1e3/60,l-Ir.timestamp),Ir.timestamp=l,Ir.isProcessing=!0,Jg.update.process(Ir),Jg.preRender.process(Ir),Jg.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_X),this.sharedNodes.forEach(IX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!vP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Ra(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),MX(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return er();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(_i(l.x,c.offset.x),_i(l.y,c.offset.y)),l}removeElementScroll(o){const l=er();bs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:m}=u;if(u!==this.root&&d&&m.layoutScroll){if(d.isRoot){bs(l,o);const{scroll:h}=this.root;h&&(_i(l.x,-h.offset.x),_i(l.y,-h.offset.y))}_i(l.x,d.offset.x),_i(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=er();bs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ol(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ra(d.latestValues)&&ol(c,d.latestValues)}return Ra(this.latestValues)&&ol(c,this.latestValues),c}removeTransform(o){const l=er();bs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ra(u.latestValues))continue;u0(u.latestValues)&&u.updateSnapshot();const d=er(),m=u.measurePageBox();bs(d,m),yk(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ra(this.latestValues)&&yk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),bu(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=er(),this.targetWithTransforms=er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),mP(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=er(),this.relativeTargetOrigin=er(),bu(this.relativeTargetOrigin,this.target,f.target),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||u0(this.parent.latestValues)||hP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;bs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;HJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=al(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=al(),this.projectionDeltaWithTransform=al());const v=this.projectionTransform;vu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=jk(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Oa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=er(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,j=this.getStack(),y=!j||j.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(OX));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;_k(m.x,o.x,S),_k(m.y,o.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RX(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&hX(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=er()),bs(b,this.relativeTarget)),v&&(this.animationValues=d,aX(d,u,this.latestValues,S,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{am.hasAnimatedSinceResize=!0,this.currentAnimation=vX(0,Nk,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||er();const m=hs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=hs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}bs(l,c),ol(l,d),vu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mX),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<wk.length;d++){const m="rotate"+wk[d];c[m]&&(u[m]=c[m],o.setStaticValue(m,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bX;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=im(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=im(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ra(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=jk(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:f,y:g}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,m.animationValues?u.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in wf){if(h[v]===void 0)continue;const{correct:j,applyTo:y}=wf[v],p=u.transform==="none"?h[v]:j(h[v],m);if(y){const b=y.length;for(let w=0;w<b;w++)u[y[w]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=m===this?im(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(kk),this.root.sharedNodes.clear()}}}function wX(t){t.updateLayout()}function NX(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?js(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],f=hs(h);h.min=n[m].min,h.max=h.min+f}):wP(a,r.layoutBox,n)&&js(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],f=hs(n[m]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+f)});const l=al();vu(l,n,r.layoutBox);const c=al();o?vu(c,t.applyTransform(i,!0),r.measuredBox):vu(c,n,r.layoutBox);const u=!vP(l);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const g=er();bu(g,r.layoutBox,h.layoutBox);const v=er();bu(v,n,f.layoutBox),bP(g,v)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kX(t){Oa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _X(t){t.clearSnapshot()}function kk(t){t.clearMeasurements()}function EX(t){t.isLayoutDirty=!1}function TX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CX(t){t.resolveTargetDelta()}function AX(t){t.calcProjection()}function PX(t){t.resetRotation()}function IX(t){t.removeLeadSnapshot()}function _k(t,e,r){t.translate=Ot(e.translate,0,r),t.scale=Ot(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Ek(t,e,r,n){t.min=Ot(e.min,r.min,n),t.max=Ot(e.max,r.max,n)}function RX(t,e,r,n){Ek(t.x,e.x,r.x,n),Ek(t.y,e.y,r.y,n)}function OX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DX={duration:.45,ease:[.4,0,.1,1]},Tk=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Ck=Tk("applewebkit/")&&!Tk("chrome/")?Math.round:$t;function Ak(t){t.min=Ck(t.min),t.max=Ck(t.max)}function MX(t){Ak(t.x),Ak(t.y)}function wP(t,e,r){return t==="position"||t==="preserve-aspect"&&!l0(bk(e),bk(r),.2)}const LX=jP({attachResizeListener:(t,e)=>Ln(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lx={current:void 0},NP=jP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lx.current){const t=new LX({});t.mount(window),t.setOptions({layoutScroll:!0}),lx.current=t}return lx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FX={pan:{Feature:eX},drag:{Feature:ZJ,ProjectionNode:NP,MeasureLayout:gP}},VX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function UX(t){const e=VX.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function h0(t,e,r=1){const[n,i]=UX(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return iP(o)?parseFloat(o):o}else return t0(i)?h0(i,e,r+1):i}function BX(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!t0(a))return;const o=h0(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!t0(a))continue;const o=h0(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const $X=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kP=t=>$X.has(t),qX=t=>Object.keys(t).some(kP),Pk=t=>t===jo||t===Ve,Ik=(t,e)=>parseFloat(t.split(", ")[e]),Rk=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Ik(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?Ik(a[1],t):0}},zX=new Set(["x","y","z"]),WX=wd.filter(t=>!zX.has(t));function HX(t){const e=[];return WX.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const zl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Rk(4,13),y:Rk(5,14)};zl.translateX=zl.x;zl.translateY=zl.y;const KX=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{l[u]=zl[u](n,a)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=zl[u](c,a)}),t},GX=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(kP);let a=[],o=!1;const l=[];if(i.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=r[c],m=Uc(d);const h=e[c];let f;if(kf(h)){const g=h.length,v=h[0]===null?1:0;d=h[v],m=Uc(d);for(let j=v;j<g&&h[j]!==null;j++)f?Lb(Uc(h[j])===f):f=Uc(h[j])}else f=Uc(h);if(m!==f)if(Pk(m)&&Pk(f)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&f===Ve&&(e[c]=h.map(parseFloat))}else m!=null&&m.transform&&(f!=null&&f.transform)&&(d===0||h===0)?d===0?u.set(f.transform(d)):e[c]=m.transform(h):(o||(a=HX(t),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=KX(e,t,l);return a.length&&a.forEach(([d,m])=>{t.getValue(d).set(m)}),t.render(),Ip&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function QX(t,e,r,n){return qX(e)?GX(t,e,r,n):{target:e,transitionEnd:n}}const YX=(t,e,r,n)=>{const i=BX(t,e,n);return e=i.target,n=i.transitionEnd,QX(t,e,r,n)},m0={current:null},SP={current:!1};function JX(){if(SP.current=!0,!!Ip)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>m0.current=t.matches;t.addListener(e),e()}else m0.current=!1}function XX(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(rs(a))t.addValue(i,a),Tf(n)&&n.add(i);else if(rs(o))t.addValue(i,ql(a,{owner:t})),Tf(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(i);t.addValue(i,ql(l!==void 0?l:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Ok=new WeakMap,_P=Object.keys(td),ZX=_P.length,Dk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eZ=Cb.length;class tZ{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Op(r),this.isVariantNode=uA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const m in d){const h=d[m];l[m]!==void 0&&rs(h)&&(h.set(l[m],!1),Tf(u)&&u.add(m))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Ok.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),SP.current||JX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ok.delete(this.current),this.projection&&this.projection.unmount(),si(this.notifyUpdate),si(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=bo.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,l;for(let c=0;c<ZX;c++){const u=_P[c],{isEnabled:d,Feature:m,ProjectionNode:h,MeasureLayout:f}=td[u];h&&(o=h),d(r)&&(!this.features[u]&&m&&(this.features[u]=new m(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:m,layoutScroll:h,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||m&&nl(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:f})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):er()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Dk.length;n++){const i=Dk[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=XX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<eZ;n++){const i=Cb[n],a=this.props[i];(ed(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ql(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Mb(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!rs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Hb),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class EP extends tZ{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=yJ(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){gJ(this,n,o);const l=YX(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:r,...n}}}function rZ(t){return window.getComputedStyle(t)}class sZ extends EP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(bo.has(r)){const n=Bb(r);return n&&n.default||0}else{const n=rZ(e),i=(pA(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return fP(e,r)}build(e,r,n,i){Pb(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Db(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rs(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){jA(e,r,n,i)}}class nZ extends EP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(bo.has(r)){const n=Bb(r);return n&&n.default||0}return r=wA.has(r)?r:Eb(r),e.getAttribute(r)}measureInstanceViewportBox(){return er()}scrapeMotionValuesFromProps(e,r){return kA(e,r)}build(e,r,n,i){Rb(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){NA(e,r,n,i)}mount(e){this.isSVGTag=Ob(e.tagName),super.mount(e)}}const iZ=(t,e)=>Ab(t)?new nZ(e,{enableHardwareAcceleration:!1}):new sZ(e,{enableHardwareAcceleration:!0}),aZ={layout:{ProjectionNode:NP,MeasureLayout:gP}},oZ={...RJ,...ZQ,...FX,...aZ},ft=oQ((t,e)=>UQ(t,e,oZ,iZ)),lZ=()=>{const[t,e]=P.useState("overview"),[r,n]=P.useState(!0);Vr();const[i,a]=P.useState({}),o=vl(i,"ambassador"),l=[{icon:s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),title:"Exclusive Recognition",description:"Get official ambassador status and recognition within the Ajira Digital community."},{icon:s.jsx(NO,{className:"w-8 h-8 text-ajira-accent"}),title:"Rewards & Incentives",description:"Earn points, certificates, and exclusive merchandise for your contributions."},{icon:s.jsx(ze,{className:"w-8 h-8 text-ajira-accent"}),title:"Leadership Opportunities",description:"Lead workshops, mentor new members, and represent the club at events."},{icon:s.jsx(ds,{className:"w-8 h-8 text-ajira-accent"}),title:"Skill Development",description:"Access advanced training programs and professional development resources."}],c=[{rank:1,name:"Sarah Mwangi",points:2850,achievements:["Top Mentor","Event Leader","Content Creator"],avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},{rank:2,name:"James Kamau",points:2640,achievements:["Workshop Leader","Community Builder"],avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},{rank:3,name:"Grace Wanjiru",points:2420,achievements:["Social Media Champion","Recruiter"],avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"}],u=[{id:1,title:"Organize Study Group Session",description:"Lead a study group for new members on digital marketing basics",points:150,deadline:"2025-01-15",difficulty:"Medium"},{id:2,title:"Create Social Media Content",description:"Design and post 3 engaging posts about Ajira Digital opportunities",points:100,deadline:"2025-01-10",difficulty:"Easy"},{id:3,title:"Mentor New Members",description:"Guide 5 new members through their first week in the program",points:200,deadline:"2025-01-20",difficulty:"Hard"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-to-br from-ajira-primary via-ajira-primary-dark to-ajira-accent py-12 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center w-full",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"bg-white/10 p-4 rounded-full",children:s.jsx(vt,{className:"w-12 h-12 text-white"})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ambassador Program 2025"}),s.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join our elite community of student leaders and help shape the future of digital skills at Kiambu National Polytechnic."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx("button",{className:"bg-white text-ajira-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors w-full sm:w-auto",children:"Apply Now"}),s.jsx("button",{className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-ajira-primary transition-colors w-full sm:w-auto",children:"Learn More"})]})]})})})}),r&&!o.allowed&&s.jsx("section",{className:"bg-white border-b",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx(Cv,{profileData:i,feature:"ambassador",onComplete:()=>n(!1)})})}),s.jsx("section",{className:"bg-white border-b",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-8 w-full",children:[{id:"overview",label:"Overview"},{id:"benefits",label:"Benefits"},{id:"leaderboard",label:"Leaderboard"},{id:"tasks",label:"Tasks"}].map(d=>s.jsx("button",{onClick:()=>e(d.id),className:`py-4 px-2 border-b-2 font-medium transition-colors ${t===d.id?"border-ajira-accent text-ajira-accent":"border-transparent text-gray-500 hover:text-ajira-primary"}`,children:d.label},d.id))})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[t==="overview"&&s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"What is the Ambassador Program?"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our Ambassador Program recognizes and empowers outstanding students who demonstrate leadership, commitment, and passion for digital skills development."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(Ps,{className:"w-12 h-12 text-ajira-accent mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-ajira-primary mb-3",children:"Our Mission"}),s.jsx("p",{className:"text-gray-600",children:"To create a network of student leaders who inspire, mentor, and guide their peers towards success in the digital economy."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(ze,{className:"w-12 h-12 text-ajira-accent mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-ajira-primary mb-3",children:"Community Impact"}),s.jsx("p",{className:"text-gray-600",children:"Ambassadors have helped over 500+ students discover digital opportunities and develop essential skills for the modern workforce."})]})]}),s.jsxs("div",{className:"bg-ajira-primary rounded-lg p-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Make a Difference?"}),s.jsx("p",{className:"text-white/90 mb-6",children:"Join our ambassador program and become a catalyst for change in your community."}),s.jsx("button",{className:"bg-ajira-accent text-white px-8 py-3 rounded-lg font-semibold hover:bg-ajira-accent/90 transition-colors",children:"Start Your Application"})]})]}),t==="benefits"&&s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Ambassador Benefits"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Exclusive perks and opportunities for our dedicated ambassadors"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map((d,m)=>s.jsx(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0 bg-ajira-primary/10 p-3 rounded-lg",children:d.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary mb-2",children:d.title}),s.jsx("p",{className:"text-gray-600",children:d.description})]})]})},m))})]}),t==="leaderboard"&&s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Top Ambassadors 2025"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Celebrating our most active and impactful ambassadors"})]}),s.jsx("div",{className:"space-y-4",children:c.map((d,m)=>s.jsxs(ft.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},className:"bg-white rounded-lg shadow-lg p-6 flex items-center space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white ${d.rank===1?"bg-yellow-500":d.rank===2?"bg-gray-400":"bg-orange-500"}`,children:d.rank})}),s.jsx("img",{src:d.avatar,alt:d.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary",children:d.name}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.achievements.map((h,f)=>s.jsx("span",{className:"bg-ajira-accent/10 text-ajira-accent px-2 py-1 rounded-full text-sm",children:h},f))})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent",children:d.points.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-500",children:"points"})]})]},m))})]}),t==="tasks"&&s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Available Tasks"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Complete tasks to earn points and make an impact in your community"})]}),s.jsx("div",{className:"space-y-6",children:u.map(d=>s.jsx(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-ajira-primary mb-2",children:d.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsxs("span",{children:["Due: ",d.deadline]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(UO,{className:"w-4 h-4"}),s.jsxs("span",{children:[d.points," points"]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.difficulty==="Easy"?"bg-green-100 text-green-800":d.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.difficulty})]})]}),s.jsx("button",{className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary-dark transition-colors",children:"Accept Task"})]})},d.id))})]})]})})]})},cZ=()=>{var O;const{user:t,isLoading:e}=Vr(),r=ps(),[n,i]=P.useState(!1),[a,o]=P.useState({name:"",avatar:"",bio:"",skills:[],achievements:"",journey:"",portfolioLinks:[],socialLinks:[],availability:"available",location:"",languages:[]}),[l,c]=P.useState(null),[u,d]=P.useState(null),[m,h]=P.useState(!1),f=P.useRef(null),[g,v]=P.useState(null);P.useState(!1);const[j,y]=P.useState(""),{data:p,isLoading:b,error:w}=Ct(["showcaseProfiles"],async()=>[],{enabled:!0});Ct(["showcaseConnections",t==null?void 0:t.uid],async()=>[],{enabled:!!t});const S=et(async U=>{let L=U.avatar;l&&(h(!0),L=URL.createObjectURL(l),h(!1));const q=t.id||t._id,M=await fetch("/showcase/profiles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...U,avatar:L,userId:q})});if(!M.ok)throw new Error("Failed to save profile");return M.json()},{onSuccess:()=>{i(!1),c(null),d(null),r.invalidateQueries(["showcaseProfiles"])}});et(async U=>{},{onSuccess:()=>r.invalidateQueries(["showcaseConnections",t==null?void 0:t.uid])});const{data:R,refetch:N}=Ct(["showcaseMessages",t==null?void 0:t.uid,g==null?void 0:g.userId],async()=>!t||!g?[]:[],{enabled:!!t&&!!g});if(et(async U=>{},{onSuccess:()=>{y(""),N()}}),b||e)return s.jsx(oi,{message:"Loading profiles",description:"Please wait while we fetch the showcase profiles"});if(w)return s.jsx("div",{className:"text-center py-12 text-red-500",children:"Error loading profiles."});if(!t)return s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-ajira-primary mb-4 tracking-tight",children:"🎨 Creative Portfolio Showcase"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Where talent meets opportunity - showcase your best work to the world"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-4xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:"✨"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Your Digital Portfolio Hub is Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're building a stunning showcase platform where creative professionals can display their work, connect with clients, and grow their careers. Get ready to:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"🎨"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Showcase Your Work"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Display your best projects with stunning visuals and detailed descriptions"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"👤"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Build Your Brand"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Create a professional profile that tells your unique story"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"🤝"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Connect & Collaborate"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Network with other professionals and find exciting opportunities"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"💼"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Get Discovered"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Attract clients and employers with your impressive portfolio"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"📈"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Track Your Growth"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor views, connections, and engagement with analytics"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xl",children:"🚀"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Launch Your Career"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Unlock new opportunities and take your creative journey to the next level"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"inline-block bg-ajira-primary text-white px-6 py-3 rounded-full font-semibold text-lg shadow-md",children:"Stay tuned for updates!"})})]})})]});const k=p==null?void 0:p.find(U=>U.userId===t.uid);p==null||p.filter(U=>U.userId!==t.uid);const E=U=>{const{name:L,value:q}=U.target;o(M=>({...M,[L]:q}))},T=U=>{o(L=>({...L,skills:U}))},_=U=>{o(L=>({...L,portfolioLinks:U}))},A=U=>{o(L=>({...L,socialLinks:U}))},C=U=>{var q;const L=(q=U.target.files)==null?void 0:q[0];L&&(c(L),d(URL.createObjectURL(L)))};return t&&!k&&!n?s.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-2 sm:px-4 w-full overflow-x-hidden",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-8 text-center",children:"Create Your Showcase Profile"}),s.jsxs("form",{onSubmit:U=>{U.preventDefault(),S.mutate(a)},className:"bg-white rounded-2xl shadow-lg p-8 space-y-8",children:[s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsx("label",{className:"font-semibold mb-2",children:"Profile Photo"}),s.jsx("img",{src:u||a.avatar||t.photoURL||"/default-avatar.png",className:"w-24 h-24 rounded-full object-cover border-2 border-ajira-accent mb-2"}),s.jsx("input",{type:"file",className:"hidden",ref:f,onChange:C}),s.jsx("button",{type:"button",className:"bg-ajira-accent text-white px-4 py-1 rounded",onClick:()=>{var U;return(U=f.current)==null?void 0:U.click()},children:"Upload Photo"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Basic Info"}),s.jsx("label",{className:"block mb-1 font-medium",children:"What’s your full name?"}),s.jsx("input",{name:"name",value:a.name,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",required:!0}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Tell us about yourself"}),s.jsx("textarea",{name:"bio",value:a.bio,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Your background, passions, and what you love to do.",required:!0})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Skills & Experience"}),s.jsx("label",{className:"block mb-1 font-medium",children:"What are your top skills?"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[a.skills.map((U,L)=>s.jsxs("span",{className:"bg-ajira-accent/10 text-ajira-accent px-3 py-1 rounded-full text-sm",children:[U,s.jsx("button",{type:"button",className:"ml-2 hover:text-red-500",onClick:()=>T(a.skills.filter((q,M)=>M!==L)),children:"×"})]},U)),s.jsx("input",{type:"text",placeholder:"Add a skill and press Enter",className:"px-3 py-1 border border-gray-300 rounded-full text-sm",onKeyDown:U=>{if(U.key==="Enter"){U.preventDefault();const L=U.target,q=L.value.trim();q&&!a.skills.includes(q)&&(T([...a.skills,q]),L.value="")}}})]}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Share your proudest achievements"}),s.jsx("textarea",{name:"achievements",value:a.achievements,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Awards, recognitions, or milestones."}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Your Journey"}),s.jsx("textarea",{name:"journey",value:a.journey,onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"How did you get here? What’s your story?"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Portfolio"}),a.portfolioLinks.map((U,L)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:U.title,placeholder:"Title (e.g. My Website)",onChange:q=>{const M=[...a.portfolioLinks];M[L].title=q.target.value,_(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"url",value:U.url,placeholder:"URL",onChange:q=>{const M=[...a.portfolioLinks];M[L].url=q.target.value,_(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700",onClick:()=>_(a.portfolioLinks.filter((q,M)=>M!==L)),children:"×"})]},L)),s.jsx("button",{type:"button",onClick:()=>_([...a.portfolioLinks||[],{title:"",url:""}]),className:"text-ajira-accent hover:text-ajira-accent/80 text-sm",children:"+ Add Portfolio Link"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Social Links"}),a.socialLinks.map((U,L)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:U.platform,placeholder:"Platform (e.g. LinkedIn)",onChange:q=>{const M=[...a.socialLinks];M[L].platform=q.target.value,A(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"url",value:U.url,placeholder:"URL",onChange:q=>{const M=[...a.socialLinks];M[L].url=q.target.value,A(M)},className:"flex-1 px-3 py-1 border border-gray-300 rounded-lg text-sm"}),s.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700",onClick:()=>A(a.socialLinks.filter((q,M)=>M!==L)),children:"×"})]},L)),s.jsx("button",{type:"button",onClick:()=>A([...a.socialLinks||[],{platform:"",url:""}]),className:"text-ajira-accent hover:text-ajira-accent/80 text-sm",children:"+ Add Social Link"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Work Preferences"}),s.jsx("label",{className:"block mb-1 font-medium",children:"Availability"}),s.jsxs("select",{name:"availability",value:a.availability||"",onChange:U=>o(L=>({...L,availability:U.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[s.jsx("option",{value:"",children:"Select availability"}),s.jsx("option",{value:"available",children:"Available for work"}),s.jsx("option",{value:"busy",children:"Busy"}),s.jsx("option",{value:"not_available",children:"Not available"})]}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Location"}),s.jsx("input",{name:"location",value:a.location||"",onChange:E,className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Where are you based?"}),s.jsx("label",{className:"block mt-4 mb-1 font-medium",children:"Languages"}),s.jsx("input",{name:"languages",value:((O=a.languages)==null?void 0:O.join(", "))||"",onChange:U=>o(L=>({...L,languages:U.target.value.split(",").map(q=>q.trim()).filter(Boolean)})),className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Languages you speak (comma separated)"})]}),s.jsx("button",{type:"submit",className:"w-full bg-ajira-accent text-white py-3 rounded-lg font-bold text-lg mt-8 hover:bg-ajira-accent/90 transition",children:"Save Profile"})]})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-ajira-primary text-center mb-12 tracking-tight",children:"🚀 Project Showcase"}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-2xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:"🚧"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Coming Soon!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"We're working hard to bring you an amazing project showcase where you can:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:"👤"})}),s.jsx("span",{className:"text-gray-700",children:"Create your professional profile"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:"💼"})}),s.jsx("span",{className:"text-gray-700",children:"Showcase your projects"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:"🤝"})}),s.jsx("span",{className:"text-gray-700",children:"Connect with other professionals"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-ajira-accent text-lg",children:"💬"})}),s.jsx("span",{className:"text-gray-700",children:"Collaborate on projects"})]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Stay tuned! We'll notify you as soon as the showcase is ready."})]})})]})},uZ=[{id:1,title:"Complete React Tutorial for Beginners 2024",description:"Learn React from scratch with this comprehensive tutorial. We cover everything from basic concepts to advanced patterns including hooks, context, and performance optimization.",thumbnail:"https://via.placeholder.com/320x180/3B82F6/FFFFFF?text=React+Tutorial",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"45:30",views:"125K",uploadDate:"2 weeks ago",channel:{name:"Web Dev Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev+Pro&background=3B82F6&color=fff",verified:!0,subscribers:"1.2M"},likes:"12K",dislikes:"234",category:"Programming"},{id:2,title:"AI and Machine Learning Fundamentals",description:"Introduction to artificial intelligence and machine learning concepts. Perfect for beginners who want to understand the basics of AI.",thumbnail:"https://via.placeholder.com/320x180/10B981/FFFFFF?text=AI+ML+Basics",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"32:15",views:"89K",uploadDate:"1 week ago",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Learning+Hub&background=10B981&color=fff",verified:!0,subscribers:"850K"},likes:"8.5K",dislikes:"156",category:"Technology"},{id:3,title:"Project Management Best Practices",description:"Learn the essential project management techniques used by successful teams. From planning to execution and monitoring.",thumbnail:"https://via.placeholder.com/320x180/F59E0B/FFFFFF?text=Project+Management",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"28:45",views:"67K",uploadDate:"3 days ago",channel:{name:"PM Academy",avatar:"https://ui-avatars.com/api/?name=PM+Academy&background=F59E0B&color=fff",verified:!1,subscribers:"320K"},likes:"6.2K",dislikes:"89",category:"Business"},{id:4,title:"Advanced JavaScript ES6+ Features",description:"Deep dive into modern JavaScript features including arrow functions, destructuring, async/await, and more.",thumbnail:"https://via.placeholder.com/320x180/EF4444/FFFFFF?text=JavaScript+ES6",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"38:20",views:"95K",uploadDate:"5 days ago",channel:{name:"JS Mastery",avatar:"https://ui-avatars.com/api/?name=JS+Mastery&background=EF4444&color=fff",verified:!0,subscribers:"750K"},likes:"9.1K",dislikes:"203",category:"Programming"},{id:5,title:"Data Science for Beginners",description:"Start your journey in data science with this comprehensive introduction covering Python, statistics, and data visualization.",thumbnail:"https://via.placeholder.com/320x180/8B5CF6/FFFFFF?text=Data+Science",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"52:10",views:"78K",uploadDate:"1 week ago",channel:{name:"Data Science Pro",avatar:"https://ui-avatars.com/api/?name=Data+Science+Pro&background=8B5CF6&color=fff",verified:!0,subscribers:"620K"},likes:"7.8K",dislikes:"145",category:"Technology"},{id:6,title:"Mobile App Development with React Native",description:"Build cross-platform mobile applications using React Native. Learn the fundamentals and best practices.",thumbnail:"https://via.placeholder.com/320x180/06B6D4/FFFFFF?text=React+Native",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"41:35",views:"112K",uploadDate:"4 days ago",channel:{name:"Mobile Dev Hub",avatar:"https://ui-avatars.com/api/?name=Mobile+Dev+Hub&background=06B6D4&color=fff",verified:!1,subscribers:"450K"},likes:"10.2K",dislikes:"178",category:"Programming"}],dZ=()=>{const[t,e]=P.useState(""),[r,n]=P.useState("All"),[i,a]=P.useState("relevance"),[o,l]=P.useState("grid");P.useState(!0);const[c,u]=P.useState(null),[d,m]=P.useState({}),[h,f]=P.useState({}),[g,v]=P.useState({}),[j,y]=P.useState(""),[p,b]=P.useState(null),[w,S]=P.useState(!1);P.useRef(null);const[R,N]=P.useState(!1),[k,E]=P.useState("all");Ys();const[T,_]=P.useState(!1),[A,C]=P.useState(!1),[O,U]=P.useState(!1),[L,q]=P.useState(""),[M,z]=P.useState({title:"",description:"",thumbnail:"",videoFile:null,duration:""}),[D,F]=P.useState(1),[H,W]=P.useState(0),[Q,X]=P.useState(""),[G,K]=P.useState(null),[J,$]=P.useState(!0),[Z,se]=P.useState(null),pe=P.useRef(null);P.useEffect(()=>{m(JSON.parse(localStorage.getItem("videoLikes")||"{}")),f(JSON.parse(localStorage.getItem("videoDislikes")||"{}")),v(JSON.parse(localStorage.getItem("videoComments")||"{}"))},[]),P.useEffect(()=>{localStorage.setItem("videoLikes",JSON.stringify(d))},[d]),P.useEffect(()=>{localStorage.setItem("videoDislikes",JSON.stringify(h))},[h]),P.useEffect(()=>{localStorage.setItem("videoComments",JSON.stringify(g))},[g]),P.useEffect(()=>{const ee=fe=>{pe.current&&!pe.current.contains(fe.target)&&se(null)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]);const te=ee=>{m(fe=>({...fe,[ee]:!fe[ee]})),f(fe=>({...fe,[ee]:!1}))},ge=ee=>{f(fe=>({...fe,[ee]:!fe[ee]})),m(fe=>({...fe,[ee]:!1}))},Pe=ee=>{navigator.clipboard.writeText(ee),b("Link copied!"),setTimeout(()=>b(null),2e3)},Xe=ee=>{if(ee.videoUrl.includes("youtube.com")){b("Download not available for YouTube videos."),setTimeout(()=>b(null),2e3);return}const fe=document.createElement("a");fe.href=ee.videoUrl,fe.download=ee.title,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},mt=ee=>{j.trim()&&(v(fe=>({...fe,[ee]:fe[ee]?[j,...fe[ee]]:[j]})),y(""))};function oe(ee){const fe=localStorage.getItem("videoHistory");let We=fe?JSON.parse(fe):[];We=We.filter(Ur=>Ur.id!==ee.id),We.unshift(ee),We.length>100&&(We=We.slice(0,100)),localStorage.setItem("videoHistory",JSON.stringify(We))}const ue=["All","Digital Skills","Freelancing","Web Development","Digital Marketing","Data Entry","Content Creation","Success Stories","Tutorials","Live Streams","Trading"],ye=[{value:"relevance",label:"Relevance"},{value:"upload_date",label:"Upload date"},{value:"view_count",label:"View count"},{value:"rating",label:"Rating"},{value:"duration",label:"Duration"}],we=uZ,ne=ee=>{if(!ee.verified)return null;switch(ee.verificationBadge){case"official":return s.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Official Channel",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})});case"verified":return s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Verified Channel",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})});case"music":return s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Official Music Channel",children:s.jsx(Star,{className:"w-3 h-3 text-white fill-current"})});default:return s.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full flex items-center justify-center ml-1 flex-shrink-0",title:"Verified",children:s.jsx(Ke,{className:"w-3 h-3 text-white fill-current"})})}},Be=()=>[...we].filter(ee=>ee.channel&&ee.channel.verified).sort((ee,fe)=>{const We=Ur=>parseInt((Ur.views||"").replace(/[^\d]/g,""))||0;return We(fe)!==We(ee)?We(fe)-We(ee):(fe.likes||0)-(ee.likes||0)}),Fe=t.length>0?we.filter(ee=>ee.title.toLowerCase().includes(t.toLowerCase())||ee.channel&&ee.channel.name.toLowerCase().includes(t.toLowerCase())).slice(0,6):[],$e=t.length>0?Array.from(new Set(we.filter(ee=>ee.channel&&ee.channel.name.toLowerCase().includes(t.toLowerCase())).map(ee=>ee.channel.name))):[],Ht=we.filter(ee=>{var fe,We;return((fe=ee.category)==null?void 0:fe.toLowerCase())==="trading"||((We=ee.tags)==null?void 0:We.some(Ur=>Ur.toLowerCase()==="trading"))}),ut=(()=>{const ee=new Set;return Be().filter(fe=>ee.has(fe.id)?!1:(ee.add(fe.id),!0)).slice(0,24)})(),Sr=r==="Trading"?Ht.filter(ee=>{const fe=t.toLowerCase();return!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(We=>We.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe)}):k==="trending"?ut.filter(ee=>{const fe=t.toLowerCase();return!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(We=>We.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe)}):we.filter(ee=>{const fe=t.toLowerCase(),We=!fe||ee.title.toLowerCase().includes(fe)||ee.description.toLowerCase().includes(fe)||ee.tags.some(Br=>Br.toLowerCase().includes(fe))||ee.channel&&ee.channel.name.toLowerCase().includes(fe),Ur=r==="All"||ee.category===r;return We&&Ur}),bt=[...Sr].sort((ee,fe)=>{switch(i){case"upload_date":return new Date(fe.uploadDate).getTime()-new Date(ee.uploadDate).getTime();case"view_count":return parseInt(fe.views.replace(/[^\d]/g,""))-parseInt(ee.views.replace(/[^\d]/g,""));case"rating":return fe.likes/(fe.likes+fe.dislikes)-ee.likes/(ee.likes+ee.dislikes);case"duration":const We=Ur=>{if(Ur==="LIVE")return 0;const Br=Ur.split(":").map(Number);return Br.length===3?Br[0]*3600+Br[1]*60+Br[2]:Br[0]*60+Br[1]};return We(fe.duration)-We(ee.duration);default:return 0}}),Jt=ee=>{if(ee.includes("watching"))return ee;const fe=parseInt(ee.replace(/[^\d]/g,""));return fe>=1e6?`${(fe/1e6).toFixed(1)}M views`:fe>=1e3?`${(fe/1e3).toFixed(1)}K views`:`${fe} views`};P.useEffect(()=>{const ee=()=>{S(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ee),()=>document.removeEventListener("fullscreenchange",ee)},[]);async function Rs(ee){ee.preventDefault(),C(!0),q(""),U(!1);try{const fe=new FormData;fe.append("userId","demo-user"),fe.append("title",M.title),fe.append("description",M.description),fe.append("thumbnail",M.thumbnail),fe.append("duration",M.duration),M.videoFile&&fe.append("videoFile",M.videoFile),await be.post("/api/user-videos/upload",fe,{onUploadProgress:We=>{We.total&&W(Math.round(We.loaded*100/We.total))}}),U(!0),z({title:"",description:"",thumbnail:"",videoFile:null,duration:""}),X(""),F(1),_(!1),window.location.reload()}catch{q("Upload failed.")}C(!1),W(0)}function En(ee){const fe=ee.target.files[0];fe&&(z(We=>({...We,videoFile:fe})),X(URL.createObjectURL(fe)),F(2))}function wo(ee){ee.preventDefault();const fe=ee.dataTransfer.files[0];fe&&(z(We=>({...We,videoFile:fe})),X(URL.createObjectURL(fe)),F(2))}function ba(ee){ee.preventDefault()}const Xs="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff";return s.jsxs("div",{className:"flex min-h-screen bg-white w-full overflow-x-hidden",children:[s.jsxs("aside",{className:"hidden md:flex flex-col w-60 bg-white border-r border-gray-200 py-6 px-2 fixed left-0 top-0 bottom-0 z-40",children:[s.jsxs("div",{className:"flex items-center mb-8 px-2",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Kinap Hub",className:"h-8 w-auto rounded mr-2"}),s.jsx("span",{className:"text-2xl font-bold text-red-600 tracking-tight",children:"Kinap Hub"})]}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs(gi,{to:"/videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 font-medium ${ee?"bg-gray-200 text-gray-900":"text-gray-900"}`,children:[s.jsx(ME,{size:22})," Home"]}),s.jsxs(gi,{to:"/shorts",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Oc,{size:22})," Shorts"]}),s.jsxs(gi,{to:"/subscriptions",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(or,{size:22})," Subscriptions"]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-xs text-gray-500 font-semibold mb-2 px-4",children:"You"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs(gi,{to:"/history",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(History,{size:22})," History"]}),s.jsxs(gi,{to:"/playlists",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Bookmark,{size:22})," Playlists"]}),s.jsxs(gi,{to:"/your-videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(or,{size:22})," Your videos"]}),s.jsxs(gi,{to:"/watch-later",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(Ft,{size:22})," Watch later"]}),s.jsxs(gi,{to:"/liked-videos",className:({isActive:ee})=>`flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 ${ee?"bg-gray-200 text-gray-900":"text-gray-700"}`,children:[s.jsx(ThumbsUp,{size:22})," Liked videos"]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-xs text-gray-500 font-semibold mb-2 px-4",children:"Subscriptions"}),s.jsxs("nav",{className:"flex flex-col gap-2",children:[s.jsxs("button",{className:"flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[s.jsx("img",{src:"https://yt3.ggpht.com/ytc/AMLnZu9QwTessOgamba=s68-c-k-c0x00ffffff-no-rj",alt:"Tess Ogamba",className:"w-6 h-6 rounded-full"})," ","Tess Ogamba"]}),s.jsxs("button",{className:"flex items-center gap-4 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[s.jsx("img",{src:"https://yt3.ggpht.com/ytc/AMLnZu9QwOnlineHustle=s68-c-k-c0x00ffffff-no-rj",alt:"Online Hustle KE",className:"w-6 h-6 rounded-full"})," ","Online Hustle KE"]})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col ml-0 md:ml-60 w-full",children:[s.jsxs("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 flex flex-col sm:flex-row items-center justify-between px-2 sm:px-4 py-3 w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"md:hidden p-2 rounded-full hover:bg-gray-100",children:s.jsx(Menu,{size:24})}),s.jsx("span",{className:"text-xl font-bold text-red-600 md:hidden",children:"Kinap Hub"})]}),s.jsxs("div",{className:"flex-1 flex justify-center",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-colors ${k==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-blue-100"}`,onClick:()=>E("all"),children:"All Videos"}),s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition-colors ${k==="trending"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-blue-100"}`,onClick:()=>E("trending"),children:"Trending"})]}),s.jsx("div",{className:"relative flex-1 max-w-2xl mx-4 mb-4 flex items-center",style:{gap:"1.5rem"},children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",value:t,onChange:ee=>{e(ee.target.value),N(!0)},onFocus:()=>N(!0),onBlur:()=>setTimeout(()=>N(!1),200),placeholder:"Search by title, creator, or tag...",className:"w-full px-4 py-2 bg-[#121212] border border-gray-700 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400 pr-10"}),t&&s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500 text-lg",onClick:()=>e(""),tabIndex:-1,children:"✕"}),R&&(Fe.length>0||$e.length>0)&&s.jsxs("div",{className:"absolute left-0 right-0 mt-2 bg-white rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:[$e.length>0&&s.jsx("div",{className:"border-b border-gray-200 px-4 py-2 text-xs text-gray-500 font-semibold",children:"Creators"}),$e.map((ee,fe)=>s.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-blue-100 text-gray-900 border-b border-gray-100 last:border-b-0",onMouseDown:()=>{e(ee),N(!1)},children:s.jsx("span",{className:"font-semibold",children:ee})},ee)),Fe.length>0&&s.jsx("div",{className:"border-b border-gray-200 px-4 py-2 text-xs text-gray-500 font-semibold",children:"Videos"}),Fe.map((ee,fe)=>{var We;return s.jsxs("div",{className:"px-4 py-2 cursor-pointer hover:bg-blue-100 text-gray-900 border-b border-gray-100 last:border-b-0",onMouseDown:()=>{e(ee.title),N(!1)},children:[s.jsx("span",{className:"font-semibold",children:ee.title}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:(We=ee.channel)==null?void 0:We.name})]},ee.id)})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>_(!0),children:s.jsx(Plus,{size:22})}),s.jsx("img",{src:"/logo.jpeg",alt:"User",className:"w-8 h-8 rounded-full border border-gray-300"})]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 px-2 sm:px-4 bg-white border-b border-gray-200 scrollbar-hide w-full",children:ue.map(ee=>s.jsx("button",{onClick:()=>n(ee),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===ee?"bg-gray-900 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:ee},ee))}),s.jsxs("main",{className:"flex-1 p-2 sm:p-4 md:p-8 bg-white w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(SlidersHorizontal,{size:18,className:"text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-300 hidden sm:block",children:"Filters"})]}),s.jsx("select",{value:i,onChange:ee=>a(ee.target.value),className:"bg-[#272727] border border-gray-700 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 text-white",children:ye.map(ee=>s.jsxs("option",{value:ee.value,className:"bg-[#272727]",children:["Sort by ",ee.label]},ee.value))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded transition-colors ${o==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(Grid3X3,{size:18})}),s.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded transition-colors ${o==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(Jf,{size:18})})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:[Sr.length," videos",t&&` for "${t}"`]})}),Sr.length>0?s.jsx("div",{className:o==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 w-full":"space-y-4 w-full",children:Sr.map(ee=>s.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`group cursor-pointer ${o==="list"?"flex bg-[#181818] rounded-lg overflow-hidden hover:bg-[#272727]":""}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsxs("div",{className:`relative ${o==="list"?"w-80 flex-shrink-0":"aspect-video"} rounded-lg overflow-hidden`,children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-full h-full object-cover group-hover:rounded-none transition-all duration-200"}),s.jsx("div",{className:"absolute bottom-2 right-2",children:ee.isLive?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"bg-red-600 text-white px-2 py-1 text-xs font-medium rounded",children:"LIVE"})]}):s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:ee.duration})}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col space-y-1",children:[ee.quality==="4K"&&s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:"4K"}),ee.isPremium&&s.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 text-xs rounded font-medium",children:"PREMIUM"})]}),ee.isSponsored&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-2 py-1 text-xs rounded font-medium",children:"AD"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20",children:s.jsx(Oc,{className:"w-16 h-16 text-white"})})]}),s.jsxs("div",{className:"p-3 flex-1",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("img",{src:ee.channel.avatar||Xs,alt:ee.channel.name,className:"w-6 h-6 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-white line-clamp-2 group-hover:text-blue-400 cursor-pointer mb-1 text-sm leading-5",children:ee.title}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-400 hover:text-white cursor-pointer",children:ee.channel.name}),ne(ee.channel)]}),s.jsxs("div",{className:"text-sm text-gray-400",children:[s.jsx("span",{children:Jt(ee.views)}),s.jsx("span",{className:"mx-1",children:"•"}),s.jsx("span",{children:ee.uploadDate})]}),o==="list"&&s.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:ee.description})]}),s.jsx("button",{className:"p-1 hover:bg-gray-700 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(r1,{size:16,className:"text-gray-400"})})]}),o==="list"&&s.jsxs("div",{className:"flex items-center space-x-6 mt-3 pt-3 border-t border-gray-700",children:[s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(ThumbsUp,{size:16}),s.jsx("span",{className:"text-sm",children:ee.likes.toLocaleString()})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(yl,{size:16}),s.jsx("span",{className:"text-sm",children:ee.dislikes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(qh,{size:16}),s.jsx("span",{className:"text-sm",children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(gl,{size:16}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]},ee.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-600 mb-4",children:s.jsx(Oc,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Try a different search or check out trending videos below."}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Trending Now (Verified Creators)"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:ut.map(ee=>s.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`group cursor-pointer ${o==="list"?"flex bg-[#181818] rounded-lg overflow-hidden hover:bg-[#272727]":""}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsxs("div",{className:`relative ${o==="list"?"w-80 flex-shrink-0":"aspect-video"} rounded-lg overflow-hidden`,children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-full h-full object-cover group-hover:rounded-none transition-all duration-200"}),s.jsx("div",{className:"absolute bottom-2 right-2",children:ee.isLive?s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"bg-red-600 text-white px-2 py-1 text-xs font-medium rounded",children:"LIVE"})]}):s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:ee.duration})}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col space-y-1",children:[ee.quality==="4K"&&s.jsx("span",{className:"bg-black/80 text-white px-2 py-1 text-xs rounded font-medium",children:"4K"}),ee.isPremium&&s.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 text-xs rounded font-medium",children:"PREMIUM"})]}),ee.isSponsored&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"bg-yellow-500 text-black px-2 py-1 text-xs rounded font-medium",children:"AD"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20",children:s.jsx(Oc,{className:"w-16 h-16 text-white"})})]}),s.jsxs("div",{className:"p-3 flex-1",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("img",{src:ee.channel.avatar||Xs,alt:ee.channel.name,className:"w-6 h-6 rounded-full"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-white line-clamp-2 group-hover:text-blue-400 cursor-pointer mb-1 text-sm leading-5",children:ee.title}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-400 hover:text-white cursor-pointer",children:ee.channel.name}),ne(ee.channel)]}),s.jsxs("div",{className:"text-sm text-gray-400",children:[s.jsx("span",{children:Jt(ee.views)}),s.jsx("span",{className:"mx-1",children:"•"}),s.jsx("span",{children:ee.uploadDate})]}),o==="list"&&s.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:ee.description})]}),s.jsx("button",{className:"p-1 hover:bg-gray-700 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:s.jsx(r1,{size:16,className:"text-gray-400"})})]}),o==="list"&&s.jsxs("div",{className:"flex items-center space-x-6 mt-3 pt-3 border-t border-gray-700",children:[s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(ThumbsUp,{size:16}),s.jsx("span",{className:"text-sm",children:ee.likes.toLocaleString()})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(yl,{size:16}),s.jsx("span",{className:"text-sm",children:ee.dislikes})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(qh,{size:16}),s.jsx("span",{className:"text-sm",children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(gl,{size:16}),s.jsx("span",{className:"text-sm",children:"Download"})]})]})]})]},ee.id))})]})]}),Sr.length>0&&s.jsx("div",{className:"text-center mt-12",children:s.jsx("button",{className:"bg-[#272727] text-white px-8 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:"Load More Videos"})}),Sr.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-600 mb-4",children:s.jsx(Oc,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No videos found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or browse different categories"}),s.jsx("button",{onClick:()=>{e(""),n("All")},className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Clear search"})]})]})]}),c&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col md:flex-row items-start justify-center min-h-screen w-screen overflow-y-auto px-0 sm:px-2",children:[s.jsx("button",{onClick:()=>u(null),className:"fixed top-6 right-6 bg-white text-black rounded-full p-2 hover:bg-red-500 hover:text-white z-[100] text-xl font-bold shadow-lg border border-gray-300 transition-colors duration-200",title:"Close",style:{fontSize:"1.7rem",lineHeight:1,boxShadow:"0 4px 24px rgba(0,0,0,0.15)"},children:"✕"}),s.jsxs("div",{className:"relative w-full max-w-[1400px] mx-auto flex flex-col md:flex-row items-start justify-center min-h-[80vh] py-4 sm:py-8 px-1 sm:px-2 md:px-0 gap-4 sm:gap-8",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-start justify-start w-full max-w-3xl mx-auto",children:[s.jsx("div",{className:"w-full flex justify-center items-center mb-4 sm:mb-6 mt-4 sm:mt-8 md:mt-0",children:s.jsx("div",{className:"relative w-full aspect-video bg-black rounded-2xl shadow-2xl overflow-hidden flex items-center justify-center",style:{minHeight:"180px",maxWidth:"900px"},children:c.videoUrl&&c.videoUrl.includes("youtube.com")?s.jsxs(s.Fragment,{children:[s.jsx(YouTube,{videoId:c.videoUrl.split("v=")[1],opts:{width:"100%",height:"100%",playerVars:{autoplay:1,rel:0,modestbranding:1,showinfo:0,controls:0}},className:"w-full h-full min-h-[200px] rounded-2xl",onReady:ee=>{K(ee.target),$(!0)},onPlay:()=>$(!0),onPause:()=>$(!1)}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-4 z-10",children:s.jsx("button",{className:"bg-white/80 hover:bg-white text-black rounded-full p-3 shadow-lg border border-gray-300",onClick:()=>{G&&(J?(G.pauseVideo(),$(!1)):(G.playVideo(),$(!0)))},children:J?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:[s.jsx("rect",{x:"6",y:"5",width:"4",height:"14",rx:"1",fill:"currentColor"}),s.jsx("rect",{x:"14",y:"5",width:"4",height:"14",rx:"1",fill:"currentColor"})]}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:s.jsx("polygon",{points:"6,4 20,12 6,20",fill:"currentColor"})})})})]}):s.jsx("video",{src:c.videoUrl,controls:!0,autoPlay:!0,className:"w-full h-full min-h-[200px] rounded-2xl",style:{borderRadius:16,boxShadow:"0 8px 32px rgba(0,0,0,0.15)"}})})}),s.jsxs("div",{className:"w-full bg-white rounded-b-xl shadow-none p-0 mt-0",style:{maxWidth:"900px"},children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3 leading-tight text-left px-2 md:px-0",children:c.title}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-4 px-2 md:px-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:c.channel.avatar||Xs,alt:c.channel.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-gray-200 bg-white object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-semibold text-gray-900 mr-2 text-lg",children:c.channel.name}),ne(c.channel)]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:[c.channel.subscribers," subscribers"]})]}),s.jsx("button",{className:"ml-6 px-5 py-2 bg-red-600 text-white font-semibold rounded-full shadow hover:bg-red-700 transition-colors text-base",children:"Subscribe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 md:mt-0",children:[s.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 ${d[c.id]?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-blue-50"}`,onClick:()=>te(c.id),children:[s.jsx(ThumbsUp,{size:18}),s.jsx("span",{children:c.likes+(d[c.id]?1:0)})]}),s.jsxs("button",{className:`flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 ${h[c.id]?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700 hover:bg-red-50"}`,onClick:()=>ge(c.id),children:[s.jsx(yl,{size:18}),s.jsx("span",{children:c.dislikes+(h[c.id]?1:0)})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",onClick:()=>Pe(c.videoUrl),children:[s.jsx(qh,{size:18}),s.jsx("span",{children:"Share"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",onClick:()=>Xe(c),disabled:c.videoUrl.includes("youtube.com"),title:c.videoUrl.includes("youtube.com")?"Download not available for YouTube videos":"Download",children:[s.jsx(gl,{size:18}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-base shadow-sm border border-gray-200 bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[s.jsx(Bookmark,{size:18}),s.jsx("span",{children:"Save"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center space-x-4 mb-3 text-gray-500 text-sm px-2 md:px-0",children:[s.jsxs("span",{children:[Jt(c.views)," views"]}),s.jsx("span",{children:c.uploadDate}),s.jsx("span",{children:c.quality})]}),s.jsx("div",{className:"mb-4 px-2 md:px-0",children:s.jsx("p",{className:"text-gray-700 text-base leading-relaxed whitespace-pre-line",children:c.description})}),s.jsx("div",{className:"border-t border-gray-200 my-6"}),s.jsxs("div",{className:"mt-4 px-2 md:px-0",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comments"}),s.jsxs("div",{className:"flex mb-4",children:[s.jsx("input",{type:"text",value:j,onChange:ee=>y(ee.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2 bg-gray-100 border border-gray-300 rounded-l-full text-gray-800 placeholder-gray-400"}),s.jsx("button",{onClick:()=>mt(c.id),className:"px-6 py-2 bg-blue-600 text-white rounded-r-full hover:bg-blue-700 transition-colors",children:"Comment"})]}),s.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[(g[c.id]||[]).length===0&&s.jsx("div",{className:"text-gray-500",children:"No comments yet. Be the first to comment!"}),(g[c.id]||[]).map((ee,fe)=>s.jsx("div",{className:"bg-gray-100 rounded-lg px-4 py-2 text-gray-900 text-sm",children:ee},fe))]})]})]})]}),s.jsxs("div",{className:"w-full md:w-96 border-l border-gray-200 bg-gray-50 p-4 overflow-y-auto rounded-r-2xl max-h-[80vh] flex flex-col mt-8 md:mt-0 md:ml-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Up next"}),s.jsx("div",{className:"space-y-4 overflow-y-auto",children:bt.filter(ee=>ee.id!==c.id).map(ee=>s.jsxs("div",{className:`flex items-start space-x-3 cursor-pointer rounded-lg p-2 transition-colors ${ee.id===c.id?"bg-gray-200":"hover:bg-gray-100"}`,onClick:()=>{u(ee),oe(ee)},children:[s.jsx("img",{src:ee.thumbnail,alt:ee.title,className:"w-24 h-16 object-cover rounded shadow border border-gray-200"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-gray-900 font-medium text-base line-clamp-2 mb-1",children:ee.title}),s.jsx("span",{className:"text-gray-500 text-xs block mb-1",children:ee.channel.name}),s.jsxs("span",{className:"text-gray-400 text-xs",children:[ee.duration," • ",Jt(ee.views)]})]})]},ee.id))})]})]}),p&&s.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white px-6 py-3 rounded-lg shadow-lg z-50 text-lg animate-fade-in",children:p})]}),T&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 px-2 sm:px-0",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-0 w-full max-w-lg relative flex flex-col",children:[s.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600 text-2xl font-bold",onClick:()=>{_(!1),F(1),X(""),z({title:"",description:"",thumbnail:"",videoFile:null,duration:""})},children:"✕"}),s.jsxs("div",{className:"flex flex-col items-center p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Video"}),D===1&&s.jsxs("div",{className:"w-full flex flex-col items-center",children:[s.jsxs("div",{className:"w-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-xl p-8 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors mb-4",onDrop:wo,onDragOver:ba,onClick:()=>document.getElementById("video-upload-input").click(),children:[s.jsx(UploadCloud,{size:48,className:"text-blue-500 mb-2"}),s.jsx("p",{className:"text-lg font-semibold mb-2",children:"Drag and drop video files to upload"}),s.jsx("button",{type:"button",className:"bg-blue-600 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-700 transition-colors",children:"Select files"}),s.jsx("input",{id:"video-upload-input",type:"file",accept:"video/*",className:"hidden",onChange:En})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Your videos will be private until you publish them."})]}),D===2&&s.jsxs("form",{onSubmit:Rs,className:"w-full flex flex-col gap-4 mt-2",children:[Q&&s.jsx("video",{src:Q,controls:!0,className:"w-full rounded-lg mb-2 max-h-56 bg-black"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Title",value:M.title,onChange:ee=>z(fe=>({...fe,title:ee.target.value})),required:!0}),s.jsx("textarea",{className:"w-full px-4 py-2 border rounded",placeholder:"Description",value:M.description,onChange:ee=>z(fe=>({...fe,description:ee.target.value})),required:!0}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Thumbnail URL (optional)",value:M.thumbnail,onChange:ee=>z(fe=>({...fe,thumbnail:ee.target.value}))}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded",placeholder:"Duration (e.g. 03:45)",value:M.duration,onChange:ee=>z(fe=>({...fe,duration:ee.target.value}))}),A&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:s.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${H}%`}})}),s.jsxs("div",{className:"flex justify-between mt-2",children:[s.jsx("button",{type:"button",className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-full font-semibold hover:bg-gray-300 transition-colors",onClick:()=>{F(1),X(""),z(ee=>({...ee,videoFile:null}))},children:"Back"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition-colors",disabled:A,children:A?"Publishing...":"Publish"})]}),O&&s.jsx("div",{className:"text-green-600 font-semibold",children:"Upload successful!"}),L&&s.jsx("div",{className:"text-red-600 font-semibold",children:L})]})]})]})})]})},cx="http://localhost:5000/api",hZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[i,a]=P.useState(!0),[o,l]=P.useState(null),[c,u]=P.useState("all"),[d,m]=P.useState("all"),[h,f]=P.useState("all"),[g,v]=P.useState(!1),[j,y]=P.useState(""),[p,b]=P.useState("grid"),[w,S]=P.useState([]),[R,N]=P.useState([]),[k,E]=P.useState([]),[T,_]=P.useState(!1),[A,C]=P.useState(null),[O,U]=P.useState(null),[L,q]=P.useState(!1),[M,z]=P.useState({name:"",email:"",phone:"",organization:"",title:"",specialRequests:"",dietaryRestrictions:""});P.useEffect(()=>{(async()=>{try{a(!0);const se=(await be.get(`${cx}/events`)).data.events||[];e(se),n(se);const pe=await be.get(`${cx}/events/meta/categories`);S(pe.data.categories||[]),N(pe.data.eventTypes||[]),E(pe.data.cities||[])}catch(Z){console.error("Error fetching events:",Z),l("Failed to load events")}finally{a(!1)}})()},[]),P.useEffect(()=>{let $=t;if(c!=="all"&&($=$.filter(Z=>Z.category===c)),d!=="all"&&($=$.filter(Z=>Z.eventType===d)),h!=="all"&&($=$.filter(Z=>Z.location.city===h)),g&&($=$.filter(Z=>Z.pricing.isFree)),j.trim()){const Z=j.toLowerCase();$=$.filter(se=>{var pe,te;return se.title.toLowerCase().includes(Z)||se.description.toLowerCase().includes(Z)||se.organizer.name.toLowerCase().includes(Z)||((pe=se.location.venue)==null?void 0:pe.toLowerCase().includes(Z))||((te=se.speakers)==null?void 0:te.some(ge=>ge.name.toLowerCase().includes(Z)))})}n($)},[c,d,h,g,j,t]);const D=$=>{switch($){case"Workshop":return s.jsx(ze,{className:"w-5 h-5"});case"Webinar":return s.jsx(eo,{className:"w-5 h-5"});case"Conference":return s.jsx(ks,{className:"w-5 h-5"});case"Networking":return s.jsx(kg,{className:"w-5 h-5"});case"Hackathon":return s.jsx(vt,{className:"w-5 h-5"});default:return s.jsx(Yt,{className:"w-5 h-5"})}},F=$=>{switch($){case"In-Person":return"bg-blue-100 text-blue-800";case"Virtual":return"bg-green-100 text-green-800";case"Hybrid":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},H=$=>new Date($).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),W=$=>{const[Z,se]=$.split(":"),pe=new Date;return pe.setHours(parseInt(Z),parseInt(se)),pe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},Q=$=>{const Z=new Date,pe=new Date($)-Z,te=Math.ceil(pe/(1e3*60*60*24));return te<0?"Past event":te===0?"Today":te===1?"Tomorrow":te<7?`In ${te} days`:te<30?`In ${Math.ceil(te/7)} weeks`:`In ${Math.ceil(te/30)} months`},X=$=>{const Z=new Date,se=new Date($.schedule.startDate),pe=$.registration.registrationDeadline?new Date($.registration.registrationDeadline):null;return Z>se?{text:"Past Event",color:"text-gray-600 bg-gray-100"}:$.registration.isRegistrationOpen?pe&&Z>pe?{text:"Registration Deadline Passed",color:"text-red-600 bg-red-100"}:$.registration.registered>=$.registration.capacity?$.registration.waitlistEnabled?{text:"Waitlist Available",color:"text-yellow-600 bg-yellow-100"}:{text:"Fully Booked",color:"text-red-600 bg-red-100"}:{text:"Registration Open",color:"text-green-600 bg-green-100"}:{text:"Registration Closed",color:"text-red-600 bg-red-100"}},G=$=>{C($),_(!0),U(null)},K=$=>{const{name:Z,value:se}=$.target;z(pe=>({...pe,[Z]:se}))},J=async $=>{var Z,se;$.preventDefault(),q(!0);try{const pe=await be.post(`${cx}/events/${A._id}/register`,M);U({type:"success",message:pe.data.message,registrationStatus:pe.data.registrationStatus});const te=t.map(ge=>ge._id===A._id?{...ge,registration:{...ge.registration,registered:ge.registration.registered+1}}:ge);e(te),z({name:"",email:"",phone:"",organization:"",title:"",specialRequests:"",dietaryRestrictions:""}),setTimeout(()=>{_(!1),C(null)},3e3)}catch(pe){console.error("Error registering for event:",pe),U({type:"error",message:((se=(Z=pe.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to register. Please try again."})}finally{q(!1)}};return i?s.jsx(oi,{message:"Loading events"}):o?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Events"}),s.jsx("p",{className:"text-gray-600",children:o})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Upcoming Events"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:"Join our community events, workshops, and networking sessions. Connect with like-minded professionals and expand your skills."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsx("button",{className:"bg-ajira-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-ajira-primary/90 transition-colors",children:"Browse Events"}),s.jsx("button",{className:"bg-white text-ajira-primary border-2 border-ajira-primary px-8 py-3 rounded-lg font-semibold hover:bg-ajira-primary/5 transition-colors",children:"View Calendar"})]})]}),O&&s.jsx("div",{className:`mb-8 p-6 rounded-lg ${O.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start",children:[O.type==="success"?s.jsx(Ke,{className:"w-6 h-6 text-green-600 mr-3 mt-1"}):s.jsx(qt,{className:"w-6 h-6 text-red-600 mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold ${O.type==="success"?"text-green-800":"text-red-800"}`,children:O.type==="success"?"🎉 Registration Successful!":"❌ Registration Failed"}),s.jsx("p",{className:`mt-2 ${O.type==="success"?"text-green-700":"text-red-700"}`,children:O.message}),O.registrationStatus&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s.jsx("strong",{children:"Status:"})," ",O.registrationStatus]})]})]})}),T&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Register for Event"}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[H(A.schedule.startDate)," •"," ",W(A.schedule.startTime)," -"," ",W(A.schedule.endTime)]}),s.jsx("p",{className:"text-sm text-gray-600",children:A.location.venue||"Virtual Event"})]}),s.jsxs("form",{onSubmit:J,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",value:M.name,onChange:K,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:M.email,onChange:K,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:M.phone,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),s.jsx("input",{type:"text",name:"organization",value:M.organization,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),s.jsx("input",{type:"text",name:"title",value:M.title,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests or Accessibility Needs"}),s.jsx("textarea",{name:"specialRequests",value:M.specialRequests,onChange:K,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:L,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Registering..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(kg,{className:"w-5 h-5"}),s.jsx("span",{children:"Register for Event"})]})})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-8 w-full",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4 w-full",children:[s.jsxs("div",{className:"relative flex-1 min-w-[180px] sm:min-w-64",children:[s.jsx("input",{type:"text",placeholder:"Search events...",value:j,onChange:$=>y($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),s.jsxs("select",{value:c,onChange:$=>u($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),w.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("select",{value:d,onChange:$=>m($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Types"}),R.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("select",{value:h,onChange:$=>f($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Cities"}),k.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:$=>v($.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Free Only"})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>b("grid"),className:`px-3 py-2 ${p==="grid"?"bg-ajira-primary text-white":"text-gray-600"}`,children:s.jsx(yv,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>b("list"),className:`px-3 py-2 ${p==="list"?"bg-ajira-primary text-white":"text-gray-600"}`,children:s.jsx(Jf,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[r.length," event",r.length!==1?"s":""," found"]}),s.jsxs("span",{children:["Showing"," ",c!=="all"?c:"all categories"]})]})]}),s.jsx("div",{className:p==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 mb-12 w-full":"space-y-6 mb-12 w-full",children:r.map($=>{const Z=X($),se=Q($.schedule.startDate);return s.jsxs("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 overflow-hidden ${p==="list"?"flex":""}`,children:[s.jsxs("div",{className:`bg-gradient-to-r from-ajira-primary to-ajira-secondary ${p==="list"?"w-48 flex-shrink-0":"h-48 w-full"} flex items-center justify-center text-white`,children:[D($.category),s.jsx("span",{className:"ml-2 font-semibold",children:$.category})]}),s.jsxs("div",{className:`p-6 ${p==="list"?"flex-1":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 line-clamp-2 mb-2",children:$.title}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F($.eventType)}`,children:$.eventType}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.color}`,children:Z.text})]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsx("button",{className:"text-gray-400 hover:text-red-500",children:s.jsx(yO,{className:"w-5 h-5"})}),s.jsx("button",{className:"text-gray-400 hover:text-blue-500",children:s.jsx(qh,{className:"w-5 h-5"})})]})]}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:$.description}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[H($.schedule.startDate)," • ",se]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ft,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[W($.schedule.startTime)," -"," ",W($.schedule.endTime)]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Yn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:$.location.venue||"Virtual Event"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(ze,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[$.registration.registered,"/",$.registration.capacity," registered"]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Qn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:$.pricing.isFree?"Free":`KES ${$.pricing.regularPrice.toLocaleString()}`})]})]}),$.speakers&&$.speakers.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Speakers:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[$.speakers.slice(0,2).map((pe,te)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:pe.name},te)),$.speakers.length>2&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",$.speakers.length-2," more"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"flex-1 px-4 py-2 text-sm border border-ajira-primary text-ajira-primary rounded-lg hover:bg-ajira-primary/5 transition-colors",children:[s.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"View Details"]}),s.jsxs("button",{onClick:()=>G($),disabled:Z.text==="Past Event"||Z.text==="Registration Closed",className:`flex-1 px-4 py-2 text-sm rounded-lg font-medium transition-colors ${Z.text==="Past Event"||Z.text==="Registration Closed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-ajira-primary text-white hover:bg-ajira-primary/90"}`,children:[s.jsx(kg,{className:"w-4 h-4 inline mr-2"}),Z.text==="Waitlist Available"?"Join Waitlist":"Register"]})]})]})]},$._id)})}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:j?"Try adjusting your search terms or filters.":"No events match your current filters."}),s.jsx("button",{onClick:()=>{y(""),u("all"),m("all"),f("all"),v(!1)},className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Clear Filters"})]}),r.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center w-full",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Don't miss out on upcoming events!"}),s.jsx("p",{className:"text-white/90 mb-6 max-w-2xl mx-auto text-sm sm:text-base",children:"Stay updated with the latest events, workshops, and networking opportunities. Join our community and never miss an event that could change your career."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsx("button",{className:"bg-white text-ajira-primary px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors w-full sm:w-auto",children:"Subscribe to Updates"}),s.jsx("button",{className:"bg-ajira-accent text-white px-6 py-3 rounded-lg font-medium hover:bg-ajira-accent/90 transition-colors w-full sm:w-auto",children:"Organize an Event"})]})]})]})})},mZ=()=>{const[t,e]=P.useState(""),[r,n]=P.useState("All"),i=[{id:1,title:"From Campus to Digital Freelancer: A 2025 Success Story",excerpt:"Learn how John transformed his programming hobby into a successful freelancing career through Ajira Digital's training program.",image:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=600&h=400&fit=crop",author:"John Kamau",date:"January 15, 2025",category:"Success Stories",readTime:"5 min read"},{id:2,title:"Top 10 In-Demand Digital Skills for 2025",excerpt:"Discover the most sought-after digital skills that employers and clients are looking for in the current job market.",image:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=400&fit=crop",author:"Mary Wanjiku",date:"January 12, 2025",category:"Career Tips",readTime:"8 min read"},{id:3,title:"Building Your Personal Brand Online in 2025",excerpt:"Essential tips and strategies for creating a strong personal brand that attracts clients and opportunities.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop",author:"Sarah Njeri",date:"January 10, 2025",category:"Personal Development",readTime:"6 min read"},{id:4,title:"Navigating the Digital Marketplace in 2025",excerpt:"A comprehensive guide to finding and securing online work opportunities through various platforms.",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=600&h=400&fit=crop",author:"David Mwangi",date:"January 8, 2025",category:"Career Tips",readTime:"7 min read"},{id:5,title:"AI and Automation: Opportunities for 2025",excerpt:"How artificial intelligence is creating new opportunities for digital workers and freelancers.",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=600&h=400&fit=crop",author:"Grace Wanjiru",date:"January 5, 2025",category:"Technology",readTime:"9 min read"},{id:6,title:"Remote Work Best Practices for 2025",excerpt:"Master the art of remote work with these proven strategies and tools for maximum productivity.",image:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=600&h=400&fit=crop",author:"Peter Kiprotich",date:"January 3, 2025",category:"Personal Development",readTime:"6 min read"}],a=["All","Success Stories","Career Tips","Personal Development","Industry News","Technology"],o=i.filter(l=>{const c=l.title.toLowerCase().includes(t.toLowerCase())||l.excerpt.toLowerCase().includes(t.toLowerCase()),u=r==="All"||l.category===r;return c&&u});if(o.length===0){const l=[{id:101,title:"Demo: How Ajira Changed My Life in 2025",excerpt:"A quick look at how Ajira Digital helped me become a successful freelancer in the new year.",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=600&h=400&fit=crop",author:"Demo User",date:"January 1, 2025",category:"Success Stories",readTime:"3 min read"},{id:102,title:"Demo: 2025 Digital Trends to Watch",excerpt:"Explore the latest digital trends and opportunities for the year ahead.",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop",author:"Tech Insights",date:"January 2, 2025",category:"Technology",readTime:"4 min read"},{id:103,title:"Demo: Building Your Portfolio in 2025",excerpt:"Essential tips for creating a standout portfolio that gets you hired.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop",author:"Career Coach",date:"January 3, 2025",category:"Career Tips",readTime:"5 min read"}];return s.jsx("div",{className:"min-h-screen bg-ajira-lightGray",children:s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Stories & Insights (Demo)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.map(c=>s.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-ajira hover:shadow-ajira-lg transition-shadow",children:[s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-3",children:c.title}),s.jsx("p",{className:"text-ajira-gray mb-6",children:c.excerpt}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-ajira-gray mb-4",children:[s.jsx("span",{children:c.date}),s.jsx("span",{children:"•"}),s.jsx("span",{children:c.readTime})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-sm font-medium text-ajira-gray",children:c.author})})]})]},c.id))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Sign up or log in to read and write your own stories!"})})]})})})}return s.jsxs("div",{className:"min-h-screen bg-ajira-lightGray",children:[s.jsx("section",{className:"bg-gradient-ajira py-20",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Stories & Insights"}),s.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8",children:"Discover success stories, career tips, and industry insights from our community"}),s.jsxs("div",{className:"relative max-w-xl mx-auto",children:[s.jsx(Wt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-ajira-gray",size:20}),s.jsx("input",{type:"text",value:t,onChange:l=>e(l.target.value),placeholder:"Search articles...",className:"w-full pl-12 pr-4 py-3 rounded-lg border-none focus:ring-2 focus:ring-ajira-blue/20"})]})]})})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("div",{className:"flex flex-wrap gap-3 mb-12",children:a.map(l=>s.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===l?"bg-ajira-blue text-white":"bg-white text-ajira-gray hover:bg-ajira-blue/10"}`,children:l},l))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:o.map((l,c)=>s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},className:"bg-white rounded-2xl overflow-hidden shadow-ajira hover:shadow-ajira-lg transition-shadow",children:[s.jsxs("div",{className:"relative h-48 md:h-64",children:[s.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:"bg-ajira-blue text-white px-3 py-1 rounded-full text-sm font-medium",children:l.category})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-ajira-gray mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{size:16}),s.jsx("span",{children:l.date})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:"•"}),s.jsx("span",{children:l.readTime})]})]}),s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-3",children:l.title}),s.jsx("p",{className:"text-ajira-gray mb-6",children:l.excerpt}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(or,{size:16,className:"text-ajira-blue"})}),s.jsx("span",{className:"text-sm font-medium text-ajira-gray",children:l.author})]}),s.jsxs(De,{to:`/blog/${l.id}`,className:"flex items-center text-ajira-blue hover:text-ajira-lightBlue font-medium text-sm",children:["Read More",s.jsx(Ol,{size:16,className:"ml-1"})]})]})]})]},l.id))}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-blue/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Wt,{size:24,className:"text-ajira-blue"})}),s.jsx("h3",{className:"text-xl font-bold text-ajira-blue mb-2",children:"No Results Found"}),s.jsx("p",{className:"text-ajira-gray",children:"Try adjusting your search or filter to find what you're looking for."})]})]})})]})},fZ=()=>(P.useState(""),P.useState("all"),P.useState("all"),P.useState(!1),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"🎓 Digital Skills Academy"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto",children:"Transform your career with cutting-edge digital skills training designed for the modern workforce"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 sm:p-12 max-w-5xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-6",children:"🚀"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-ajira-primary mb-4",children:"Your Digital Transformation Journey Starts Here!"}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"We're building a comprehensive digital skills academy that will revolutionize how you learn, grow, and succeed in the digital economy. Get ready for:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 text-left",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(eo,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Interactive Learning"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Engage with video tutorials, hands-on projects, and real-world case studies"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ze,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Expert Mentorship"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Learn from industry professionals and successful digital entrepreneurs"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ps,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Career-Focused"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Skills that directly translate to job opportunities and career advancement"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Jn,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Flexible Learning"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Learn at your own pace with 24/7 access to course materials"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(vt,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Certification"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Earn recognized certificates to boost your professional credibility"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(ks,{className:"text-white w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Global Network"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Connect with learners worldwide and build your professional network"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 via-ajira-accent/10 to-ajira-secondary/10 rounded-xl p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-4",children:"Upcoming Course Categories:"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-700",children:"Web Development"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(BE,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Digital Design"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ud,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-gray-700",children:"Data Analytics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{className:"text-gray-700",children:"Digital Marketing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(SO,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-gray-700",children:"Content Creation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-gray-700",children:"Cybersecurity"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"E-commerce"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-gray-700",children:"Freelancing"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-ajira-primary/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-primary mb-1",children:"50+"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expert Instructors"})]}),s.jsxs("div",{className:"bg-ajira-accent/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-accent mb-1",children:"200+"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Course Modules"})]}),s.jsxs("div",{className:"bg-ajira-secondary/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-ajira-secondary mb-1",children:"24/7"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Learning Access"})]})]}),s.jsxs("div",{className:"bg-ajira-primary/5 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-2",children:"Why Choose Our Training Academy?"}),s.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Our training programs are specifically designed for the African digital economy, combining global best practices with local market insights. We focus on practical, job-ready skills that employers actually need."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Industry-aligned curriculum"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Hands-on project experience"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Job placement support"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Lifetime access to updates"})]})]})]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We're finalizing our curriculum and assembling our expert instructor team. Get ready to accelerate your digital career! 🚀"})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-2xl p-6 sm:p-8 text-center w-full",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ready to Transform Your Career?"}),s.jsx("p",{className:"text-white/90 mb-6 max-w-2xl mx-auto text-sm sm:text-base",children:"Join thousands of learners who will master in-demand digital skills and advance their careers. Be among the first to access our comprehensive training programs."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsxs("button",{className:"bg-white text-ajira-primary px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(Xa,{className:"w-4 h-4"}),"Get Early Access"]}),s.jsxs("button",{className:"bg-ajira-accent text-white px-6 py-3 rounded-lg font-medium hover:bg-ajira-accent/90 transition-colors w-full sm:w-auto flex items-center justify-center gap-2",children:[s.jsx(ze,{className:"w-4 h-4"}),"Join Waitlist"]})]})]})]})})),pZ="http://localhost:5000/api",gZ=async()=>{try{const t=await fetch(`${pZ}/api/mentor-applications/my-application`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok){if(t.status===404)throw new Error("No application found");const r=await t.json();throw new Error(r.message||"Failed to fetch application")}return(await t.json()).application}catch(t){throw console.error("Fetch mentor application error:",t),t}},xZ="http://localhost:5000/api",yZ=()=>{const{user:t}=Vr(),[e,r]=P.useState([]),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState(!0),[u,d]=P.useState(null),[m,h]=P.useState(!1),[f,g]=P.useState(null),[v,j]=P.useState("all"),[y,p]=P.useState("all"),[b,w]=P.useState("all"),[S,R]=P.useState(!1),[N,k]=P.useState(!1),[E,T]=P.useState(""),[_,A]=P.useState("grid"),[C,O]=P.useState(!1),[U,L]=P.useState(!1),[q,M]=P.useState(null),[z,D]=P.useState({mentee:{name:"",email:"",goals:[]},requestType:"Instant",urgency:"Medium",sessionType:"Quick Question",category:"Web Development",problemDescription:"",preferredDuration:30,location:{city:"Nairobi",country:"Kenya",preferInPerson:!1,maxDistance:50},budget:{hasBudget:!1,maxAmount:0,currency:"KES"}});P.useEffect(()=>{H(),W(),F()},[t]),P.useEffect(()=>{Q()},[v,y,b,S,N,E,e]);const F=async()=>{if(t)try{const J=await gZ();g(J),h(J.status==="approved")}catch{h(!1)}},H=async()=>{try{c(!0);const $=(await be.get(`${xZ}/mentorship`)).data.mentors||[];r($),i($)}catch(J){console.error("Error fetching mentors:",J),d("Failed to load mentors. Please try again.")}finally{c(!1)}},W=async()=>{try{o(["Web Development","Mobile Development","Data Science","UI/UX Design","Digital Marketing","Cybersecurity","Project Management","Entrepreneurship","Career Development","Freelancing","Content Creation","Graphic Design"])}catch(J){console.error("Error fetching categories:",J)}},Q=()=>{let J=[...e];if(v!=="all"&&(J=J.filter($=>$.category===v)),y!=="all"&&(J=J.filter($=>$.expertiseLevel===y)),b!=="all"&&(J=J.filter($=>$.location.city===b)),S&&(J=J.filter($=>$.pricing.isFree)),N&&(J=J.filter($=>$.instantAvailability.enabled)),E){const $=E.toLowerCase();J=J.filter(Z=>Z.mentor.name.toLowerCase().includes($)||Z.title.toLowerCase().includes($)||Z.category.toLowerCase().includes($))}i(J)},X=async J=>{var $,Z;J.preventDefault(),L(!0);try{await new Promise(se=>setTimeout(se,2e3)),M({type:"success",message:"Request sent to available mentors! Expected response time: 15 minutes",data:{requestId:"REQ_"+Date.now(),mentorsNotified:0,estimatedResponseTime:"15 minutes"}}),O(!1),G()}catch(se){M({type:"error",message:((Z=($=se.response)==null?void 0:$.data)==null?void 0:Z.message)||"Failed to submit request. Please try again."})}finally{L(!1)}},G=()=>{D({mentee:{name:"",email:"",goals:[]},requestType:"Instant",urgency:"Medium",sessionType:"Quick Question",category:"Web Development",problemDescription:"",preferredDuration:30,location:{city:"Nairobi",country:"Kenya",preferInPerson:!1,maxDistance:50},budget:{hasBudget:!1,maxAmount:0,currency:"KES"}})},K=(J,$,Z=null)=>{D(Z?se=>({...se,[Z]:{...se[Z],[J]:$}}):se=>({...se,[J]:$}))};return l?s.jsx(oi,{message:"Loading mentors"}):u?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Mentors"}),s.jsx("p",{className:"text-gray-600",children:u})]})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:[s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center text-white mb-12 w-full",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Find Your Perfect Mentor"}),s.jsx("p",{className:"text-base sm:text-xl mb-8 opacity-90",children:"Connect with experienced professionals who can guide you through your career journey. Get personalized advice, industry insights, and accelerate your growth."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full",children:[m?s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Request a Mentor"}):s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Find a Mentor"}),s.jsx(De,{to:"/mentorship/apply",className:"border-2 border-white text-white px-8 py-3 rounded-lg hover:bg-white/10 transition-colors font-semibold w-full sm:w-auto",children:"Become a Mentor"})]})]}),q&&s.jsx("div",{className:`mb-8 p-6 rounded-lg border ${q.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[q.type==="success"?s.jsx(Ke,{className:"w-6 h-6 text-green-600"}):s.jsx(qt,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:q.message}),q.data&&s.jsxs("p",{className:"text-sm mt-1",children:["Request ID: ",q.data.requestId," •",q.data.mentorsNotified," mentors notified"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mb-12 w-full",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(ze,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:e.length}),s.jsx("p",{className:"text-gray-600",children:"Expert Mentors"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Ke,{className:"w-6 h-6 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0"}),s.jsx("p",{className:"text-gray-600",children:"Sessions Completed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(ct,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"0.0"}),s.jsx("p",{className:"text-gray-600",children:"Average Rating"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Jn,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"--"}),s.jsx("p",{className:"text-gray-600",children:"Avg Response Time"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-8 w-full",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6 w-full",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search mentors...",value:E,onChange:J=>T(J.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 w-full sm:w-64 text-base sm:text-lg"})]}),s.jsxs("select",{value:v,onChange:J=>j(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),a.map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsxs("select",{value:y,onChange:J=>p(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:J=>R(J.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Free Only"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:J=>k(J.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Instant Available"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-lg transition-colors ${_==="grid"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.jsx(yv,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-lg transition-colors ${_==="list"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.jsx(Jf,{className:"w-5 h-5"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:[n.length," mentor",n.length!==1?"s":""," found"]}),s.jsxs("span",{children:["Showing"," ",v!=="all"?v:"all categories"]})]})]}),n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No mentors found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search criteria."}),s.jsx("button",{onClick:()=>{j("all"),p("all"),w("all"),R(!1),k(!1),T("")},className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Clear Filters"})]}):s.jsx("div",{className:`grid gap-4 sm:gap-6 w-full ${_==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:n.map(J=>s.jsx(vZ,{mentor:J,viewMode:_,onRequestMentor:()=>{D($=>({...$,category:J.category})),O(!0)}},J._id))}),s.jsxs("div",{className:"mt-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-lg p-4 sm:p-8 text-center text-white w-full",children:[s.jsx("h2",{className:"text-xl sm:text-3xl font-bold mb-4",children:"Ready to accelerate your career?"}),s.jsx("p",{className:"text-base sm:text-xl mb-8 opacity-90",children:"Join thousands of professionals who have transformed their careers through mentorship."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full",children:[m?s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Request a Mentor"}):s.jsx("button",{onClick:()=>O(!0),className:"bg-white text-ajira-primary px-8 py-3 rounded-lg hover:bg-gray-100 transition-colors font-semibold w-full sm:w-auto",children:"Find a Mentor"}),s.jsx(De,{to:"/mentorship/apply",className:"border-2 border-white text-white px-8 py-3 rounded-lg hover:bg-white/10 transition-colors font-semibold w-full sm:w-auto",children:"Become a Mentor"})]})]})]}),C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Instant Mentoring"}),s.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Get matched with available mentors in minutes. Just like requesting an Uber!"})]}),s.jsxs("form",{onSubmit:X,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",value:z.mentee.name,onChange:J=>K("name",J.target.value,"mentee"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",value:z.mentee.email,onChange:J=>K("email",J.target.value,"mentee"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"john@example.com",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsx("select",{value:z.category,onChange:J=>K("category",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",required:!0,children:a.map(J=>s.jsx("option",{value:J,children:J},J))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Type *"}),s.jsxs("select",{value:z.sessionType,onChange:J=>K("sessionType",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",required:!0,children:[s.jsx("option",{value:"Quick Question",children:"Quick Question"}),s.jsx("option",{value:"Code Review",children:"Code Review"}),s.jsx("option",{value:"Career Advice",children:"Career Advice"}),s.jsx("option",{value:"Technical Help",children:"Technical Help"}),s.jsx("option",{value:"Project Guidance",children:"Project Guidance"}),s.jsx("option",{value:"General Mentorship",children:"General Mentorship"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),s.jsxs("select",{value:z.urgency,onChange:J=>K("urgency",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Low",children:"Low (Within 24 hours)"}),s.jsx("option",{value:"Medium",children:"Medium (Within 2 hours)"}),s.jsx("option",{value:"High",children:"High (Within 30 minutes)"}),s.jsx("option",{value:"Critical",children:"Critical (ASAP)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Duration (minutes)"}),s.jsx("input",{type:"number",value:z.preferredDuration,onChange:J=>K("preferredDuration",parseInt(J.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"15",max:"120",step:"15"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Problem Description *"}),s.jsx("textarea",{value:z.problemDescription,onChange:J=>K("problemDescription",J.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Describe your problem or what you need help with...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsxs("select",{value:z.location.city,onChange:J=>K("city",J.target.value,"location"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Nairobi",children:"Nairobi"}),s.jsx("option",{value:"Mombasa",children:"Mombasa"}),s.jsx("option",{value:"Kisumu",children:"Kisumu"}),s.jsx("option",{value:"Nakuru",children:"Nakuru"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsx("div",{className:"flex items-center space-x-4 pt-8",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:z.location.preferInPerson,onChange:J=>K("preferInPerson",J.target.checked,"location"),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Prefer in-person meeting"})]})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("input",{type:"checkbox",checked:z.budget.hasBudget,onChange:J=>K("hasBudget",J.target.checked,"budget"),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"I have a budget for this session"})]}),z.budget.hasBudget&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Budget"}),s.jsx("input",{type:"number",value:z.budget.maxAmount,onChange:J=>K("maxAmount",parseInt(J.target.value),"budget"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"5000",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),s.jsxs("select",{value:z.budget.currency,onChange:J=>K("currency",J.target.value,"budget"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"KES",children:"KES"}),s.jsx("option",{value:"USD",children:"USD"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:U,className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors flex items-center space-x-2 disabled:opacity-50",children:U?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Finding Mentors..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jn,{className:"w-5 h-5"}),s.jsx("span",{children:"Request Mentor"})]})})]})]})]})})]})},vZ=({mentor:t,viewMode:e,onRequestMentor:r})=>e==="list"?s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center text-white text-lg font-bold",children:t.mentor.name.split(" ").map(n=>n[0]).join("")}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.title}),s.jsx("p",{className:"text-gray-600",children:t.mentor.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx(ct,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-semibold",children:t.ratings.overall})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.ratings.totalRatings," reviews)"]})]})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:t.mentor.bio}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4"}),s.jsx("span",{children:t.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4"}),s.jsx("span",{children:t.expertiseLevel})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:t.location.city})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:t.availability.responseTime})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.verification.isVerified&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"}),t.instantAvailability.enabled&&s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),s.jsx("span",{children:"Instant"})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.availability.status==="Available"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.availability.status})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("p",{className:"text-lg font-bold text-ajira-primary",children:t.pricing.isFree?"Free":`${t.pricing.currency} ${t.pricing.sessionRate}`}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{to:`/mentorship/${t.slug}`,className:"text-ajira-primary hover:text-ajira-primary/80 transition-colors",children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors text-sm",children:"Request Session"})]})]})]})]})]})})}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center text-white text-lg font-bold",children:t.mentor.name.split(" ").map(n=>n[0]).join("")}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx(ct,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-semibold",children:t.ratings.overall})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.ratings.totalRatings," reviews)"]})]})]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:t.title}),s.jsx("p",{className:"text-gray-600 mb-1",children:t.mentor.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.mentor.bio}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4"}),s.jsx("span",{children:t.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4"}),s.jsx("span",{children:t.expertiseLevel})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:t.location.city})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:t.availability.responseTime})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.verification.isVerified&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified"}),t.instantAvailability.enabled&&s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),s.jsx("span",{children:"Instant"})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.availability.status==="Available"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.availability.status})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-lg font-bold text-ajira-primary",children:t.pricing.isFree?"Free":`${t.pricing.currency} ${t.pricing.sessionRate}`}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{to:`/mentorship/${t.slug}`,className:"text-ajira-primary hover:text-ajira-primary/80 transition-colors",children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors text-sm",children:"Request"})]})]})]})}),bZ="http://localhost:5000/api",jZ=()=>{const[t,e]=P.useState("all"),[r,n]=P.useState(""),[i,a]=P.useState([]),[o,l]=P.useState(!0),[c,u]=P.useState(null),[d,m]=P.useState([{id:"all",name:"All Updates",color:"bg-gray-600"}]);P.useEffect(()=>{(async()=>{var j;try{const y=await be.get(`${bZ}/updates?limit=50`);a(y.data.updates||[]);const p=[...new Set(((j=y.data.updates)==null?void 0:j.map(S=>S.category))||[])],b={Event:"bg-blue-600",Announcement:"bg-green-600",Achievement:"bg-purple-600",Training:"bg-orange-600",Partnership:"bg-pink-600",General:"bg-gray-600"},w=[{id:"all",name:"All Updates",color:"bg-gray-600"},...p.map(S=>({id:S.toLowerCase(),name:S,color:b[S]||"bg-gray-600"}))];m(w)}catch(y){console.error("Error fetching updates:",y),u("Failed to load updates")}finally{l(!1)}})()},[]);const h=i.filter(v=>{const j=t==="all"||v.category.toLowerCase()===t,y=v.title.toLowerCase().includes(r.toLowerCase())||v.excerpt.toLowerCase().includes(r.toLowerCase())||v.tags.some(p=>p.toLowerCase().includes(r.toLowerCase()));return j&&y}),f=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),g=v=>{const j=d.find(y=>y.id===v.toLowerCase());return(j==null?void 0:j.color)||"bg-gray-600"};return o?s.jsx(oi,{}):c?s.jsx("div",{className:"text-center py-12 text-red-500",children:c}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Club Updates"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Stay informed about the latest news, events, and opportunities at Ajira Digital KiNaP Club."})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-between w-full",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(v=>s.jsx("button",{onClick:()=>e(v.id),className:`px-4 py-2 rounded-full text-sm font-medium transition ${t===v.id?`${v.color} text-white`:"bg-white text-gray-600 hover:bg-gray-100"}`,children:v.name},v.id))}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx("input",{type:"text",placeholder:"Search updates...",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-ajira-primary/20 text-base sm:text-lg"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:h.map(v=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden w-full",children:[v.images&&v.images.length>0&&s.jsx("img",{src:v.images[0],alt:v.title,className:"w-full h-40 sm:h-48 object-cover"}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${g(v.category)}`,children:v.category.charAt(0).toUpperCase()+v.category.slice(1)}),s.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[s.jsx(Yt,{className:"w-4 h-4 mr-1"}),f(v.publishDate)]})]}),s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:v.excerpt}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.tags.map((j,y)=>s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(VO,{className:"w-3 h-3 mr-1"}),j]},y))}),s.jsxs("button",{className:"mt-4 text-ajira-primary font-medium flex items-center hover:text-ajira-primary/80 transition-colors",children:["Read More",s.jsx(Ol,{className:"w-4 h-4 ml-1"})]})]})]},v._id))}),h.length===0&&s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full mb-6 shadow-lg",children:s.jsx(n1,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Welcome to Our Updates Hub! 📰"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-8 leading-relaxed",children:"Stay connected with the latest news, achievements, and exciting developments from the Ajira Digital KiNaP Club community!"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-secondary/10 rounded-2xl p-8 mb-8 border border-ajira-primary/20",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center mr-4",children:s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-primary",children:"Content Hub Under Development"})]}),s.jsx("p",{className:"text-gray-700 text-lg mb-6 max-w-3xl mx-auto leading-relaxed",children:"We're curating an amazing collection of updates, news, and stories to keep you informed and inspired. Our content team is working hard to bring you the most relevant and engaging updates from our community."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(n1,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"News & Updates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Latest club announcements and news"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ds,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Achievements"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Member successes and milestones"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Bs,{className:"w-6 h-6 text-ajira-accent"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Events"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming events and workshops"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200 mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What You'll Find Here"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-primary font-bold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Club Announcements"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Important updates about club activities, policies, and opportunities"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-secondary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-secondary font-bold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Member Achievements"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Celebrating successes, certifications, and career milestones"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-accent font-bold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Event Highlights"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Recaps of workshops, training sessions, and community events"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-gray-600 font-bold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Industry Insights"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Latest trends in digital skills and career opportunities"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-ajira-primary/5 to-ajira-secondary/5 rounded-2xl p-8 border border-ajira-primary/10",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Coming Soon: Sample Updates"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(ds,{className:"w-4 h-4 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"Achievement"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Member Spotlight: Sarah's Success Story"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"How Sarah landed her dream job in web development after completing our training program."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Yt,{className:"w-4 h-4 text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Event"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Upcoming: Digital Skills Workshop"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Join us for an intensive workshop on modern web development technologies."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Bs,{className:"w-4 h-4 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Announcement"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"New Partnership Announced"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Exciting collaboration with leading tech companies for internship opportunities."}),s.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon..."})]})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Want to stay updated? Subscribe to our newsletter and never miss an important update!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Subscribe to Updates"}),s.jsx("button",{className:"px-8 py-3 border-2 border-ajira-primary text-ajira-primary font-semibold rounded-lg hover:bg-ajira-primary hover:text-white transition-all duration-200",children:"Follow Us"})]})]})]})})]})})},wZ="http://localhost:5000/api",NZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[i,a]=P.useState(null);if(P.useEffect(()=>{(async()=>{try{const m=await be.get(`${wZ}/team`);e(m.data)}catch(m){console.error("Error fetching team members:",m),a("Failed to load team information")}finally{n(!1)}})()},[]),r)return s.jsx(oi,{message:"Loading team information"});if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:i})]})});const o=t.filter(d=>d.isLeadership),l=t.filter(d=>d.isFounder),c=t.filter(d=>!d.isLeadership&&!d.isFounder),u=({member:d,delay:m=0})=>s.jsxs(ft.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:m},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:d.image||"/images/default-avatar.png",alt:d.name,className:"w-full h-48 sm:h-64 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold",children:d.name}),s.jsx("p",{className:"text-sm opacity-90",children:d.role}),d.title&&s.jsx("p",{className:"text-xs opacity-75",children:d.title})]})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm sm:text-base",children:d.bio}),d.skills&&d.skills.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-2",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.skills.map((h,f)=>s.jsx("span",{className:"px-2 py-1 bg-ajira-primary/10 text-ajira-primary text-xs rounded-full",children:h},f))})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[d.email&&s.jsx("a",{href:`mailto:${d.email}`,className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(br,{size:18})}),d.linkedinUrl&&s.jsx("a",{href:d.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(CO,{size:18})}),d.githubUrl&&s.jsx("a",{href:d.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-ajira-primary transition-colors",children:s.jsx(Zw,{size:18})})]}),d.joinedDate&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[s.jsx(Yt,{size:14,className:"mr-1"}),"Joined"," ",new Date(d.joinedDate).toLocaleDateString("en-US",{year:"numeric",month:"long"})]})})]})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Our Team"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:"Meet the passionate individuals who lead and contribute to the Ajira Digital KiNaP Club community."})]}),l.length>0&&s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Founders"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:l.map((d,m)=>s.jsx(u,{member:d,delay:m*.1},d._id))})]}),o.length>0&&s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Leadership Team"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:o.map((d,m)=>s.jsx(u,{member:d,delay:m*.1},d._id))})]}),c.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Team Members"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:c.map((d,m)=>s.jsx(u,{member:d,delay:m*.1},d._id))})]}),t.length===0&&s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full mb-6 shadow-lg",children:s.jsx(ze,{className:"w-10 h-10 text-white"})}),s.jsx(ft.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-3xl sm:text-4xl font-bold text-ajira-primary mb-4",children:"Welcome to Our Team Page! 👋"}),s.jsx(ft.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-8 leading-relaxed",children:"We're excited to introduce you to the amazing people behind the Ajira Digital KiNaP Club!"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-ajira-primary/10 to-ajira-secondary/10 rounded-2xl p-8 mb-8 border border-ajira-primary/20",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-ajira-primary to-ajira-secondary rounded-full flex items-center justify-center mr-4",children:s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),s.jsx("h3",{className:"text-2xl font-bold text-ajira-primary",children:"Under Development"})]}),s.jsx("p",{className:"text-gray-700 text-lg mb-6 max-w-3xl mx-auto leading-relaxed",children:"Our team page is currently being crafted with care. We're gathering photos, bios, and stories from our incredible team members to give you the best experience possible."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ze,{className:"w-6 h-6 text-ajira-primary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Team Profiles"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Professional photos and detailed bios"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-secondary/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Zw,{className:"w-6 h-6 text-ajira-secondary"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Social Links"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connect with team members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Yt,{className:"w-6 h-6 text-ajira-accent"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Timeline"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Join dates and milestones"})]})]})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What You'll Find Here"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-primary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-primary font-bold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Leadership Team"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Meet our club presidents, coordinators, and key decision makers"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-secondary/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-secondary font-bold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Technical Mentors"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Expert developers, designers, and digital professionals"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-ajira-accent/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-ajira-accent font-bold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Student Leaders"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Passionate students driving innovation and community growth"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-gray-600 font-bold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Support Team"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Administrative and operational support members"})]})]})]})]})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-12",children:[s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Want to join our amazing team? We're always looking for passionate individuals!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-ajira-primary to-ajira-secondary text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Join Our Team"}),s.jsx("button",{className:"px-8 py-3 border-2 border-ajira-primary text-ajira-primary font-semibold rounded-lg hover:bg-ajira-primary hover:text-white transition-all duration-200",children:"Contact Us"})]})]})]})})]})})},Mk="http://localhost:5000/api",kZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState([]),[i,a]=P.useState([]),[o,l]=P.useState(!0),[c,u]=P.useState(null),[d,m]=P.useState("all"),[h,f]=P.useState(""),[g,v]=P.useState([]),[j,y]=P.useState({});P.useEffect(()=>{(async()=>{try{const R=(await be.get(`${Mk}/faq`)).data.faqs||[];n(R),a(R);const N=Array.from(new Set(R.map(k=>k.category)));v(N)}catch(S){console.error("Error fetching FAQs:",S),u("Failed to load FAQs")}finally{l(!1)}})()},[]),P.useEffect(()=>{let w=r;if(d!=="all"&&(w=w.filter(S=>S.category===d)),h.trim()){const S=h.toLowerCase();w=w.filter(R=>R.question.toLowerCase().includes(S)||R.answer.toLowerCase().includes(S)||R.tags.some(N=>N.toLowerCase().includes(S)))}a(w)},[d,h,r]);const p=async(w,S)=>{const R=`faq_vote_${w}`;if(localStorage.getItem(R)){alert("You have already voted on this FAQ");return}try{const k=S==="helpful"?"helpful":"not-helpful";await be.post(`${Mk}/faq/${w}/${k}`),localStorage.setItem(R,S),y(E=>({...E,[w]:S})),n(E=>E.map(T=>T._id===w?{...T,[S==="helpful"?"helpfulCount":"notHelpfulCount"]:T[S==="helpful"?"helpfulCount":"notHelpfulCount"]+1}:T)),alert("Thank you for your feedback!")}catch(k){console.error("Error voting:",k),alert("Failed to record your vote")}};P.useEffect(()=>{const w={};r.forEach(S=>{const R=`faq_vote_${S._id}`,N=localStorage.getItem(R);N&&(w[S._id]=N)}),y(w)},[r]);const b=w=>{e(S=>S.includes(w)?S.filter(R=>R!==w):[...S,w])};return o?s.jsx(oi,{message:"Loading FAQs"}):c?s.jsxs("div",{className:"container-custom py-12 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:c})]}):s.jsxs("div",{className:"container-custom py-8 sm:py-12 w-full px-2 sm:px-4 overflow-x-hidden",children:[s.jsx("h1",{className:"text-4xl font-bold text-ajira-primary mb-8",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"mb-8 space-y-4 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 w-full",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",placeholder:"Search FAQs...",value:h,onChange:w=>f(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]}),s.jsxs("select",{value:d,onChange:w=>m(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent text-base sm:text-lg",children:[s.jsx("option",{value:"all",children:"All Categories"}),g.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[s.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${d==="all"?"bg-ajira-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All FAQs"}),s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," FAQ",i.length!==1?"s":""," ","found"]})]})]}),s.jsxs("div",{className:"space-y-8 w-full",children:[g.filter(w=>d==="all"||d===w).map(w=>{const S=i.filter(R=>R.category===w);return S.length===0?null:s.jsxs("div",{className:"space-y-4 w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-ajira-primary",children:w}),s.jsx("div",{className:"space-y-4 w-full",children:S.map((R,N)=>{const k=t.includes(N),E=j[R._id];return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm w-full",children:[s.jsxs("button",{onClick:()=>b(N),className:"w-full flex flex-wrap items-center justify-between p-4 text-left bg-white hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("span",{className:"font-medium text-gray-900 text-base sm:text-lg",children:R.question}),R.isPopular&&s.jsx(ct,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),k?s.jsx(vO,{className:"h-5 w-5 text-gray-500"}):s.jsx(cu,{className:"h-5 w-5 text-gray-500"})]}),k&&s.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[s.jsx("p",{className:"text-gray-700 text-base sm:text-lg",children:R.answer}),R.tags&&R.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:R.tags.map((T,_)=>s.jsxs("span",{className:"bg-ajira-primary/10 text-ajira-primary text-xs px-2 py-1 rounded-full",children:["#",T]},_))}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 pt-4 border-t border-gray-200 gap-2 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-sm text-gray-500 flex-wrap",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[R.viewCount," views"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Km,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:[R.helpfulCount," helpful"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Was this helpful?"}),s.jsx("button",{onClick:()=>p(R._id,"helpful"),disabled:!!E,className:`p-2 rounded-lg transition ${E==="helpful"?"bg-green-100 text-green-600":E?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-green-100 hover:text-green-600"}`,title:"Mark as helpful",children:s.jsx(Km,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>p(R._id,"not-helpful"),disabled:!!E,className:`p-2 rounded-lg transition ${E==="not-helpful"?"bg-red-100 text-red-600":E?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600"}`,title:"Mark as not helpful",children:s.jsx(yl,{className:"w-4 h-4"})})]})]})]})]},N)})})]},w)}),i.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No FAQs found"}),s.jsx("p",{className:"text-gray-600",children:h?"Try adjusting your search terms or category filter.":"No FAQs are available at the moment."})]})]})]})},SZ="http://localhost:5000/api",_Z=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(!0),[i,a]=P.useState(null);if(P.useEffect(()=>{(async()=>{try{const c=await be.get(`${SZ}/about-us`);e(c.data)}catch(c){console.error("Error fetching about data:",c),a("Failed to load about information")}finally{n(!1)}})()},[]),r)return s.jsx(oi,{message:"Loading about information"});if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:i})]})});const o=[{icon:s.jsx(Ps,{className:"w-8 h-8 text-ajira-orange"}),title:"Our Mission",description:(t==null?void 0:t.mission)||"To cultivate digital skills excellence and showcase successful online work opportunities among our club members."},{icon:s.jsx(ze,{className:"w-8 h-8 text-ajira-blue"}),title:"Who We Are",description:(t==null?void 0:t.teamDescription)||"A vibrant student club dedicated to developing digital skills and exploring online work opportunities under the Ajira Digital program."},{icon:s.jsx(xO,{className:"w-8 h-8 text-ajira-gold"}),title:"Our Vision",description:(t==null?void 0:t.vision)||"A digitally empowered generation of skilled professionals."},{icon:s.jsx(ks,{className:"w-8 h-8 text-ajira-lightBlue"}),title:"Our Impact",description:(t==null?void 0:t.history)||"Our members have completed numerous successful projects and secured various online work opportunities through skills gained in the club."}];return s.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-ajira py-16 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center w-full",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6 break-words",children:(t==null?void 0:t.title)||"About Ajira Digital Club at Kiambu National Polytechnic"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-6 sm:mb-8",children:(t==null?void 0:t.description)||"Showcasing our journey in digital skills development and online work achievements."})]})})})}),(t==null?void 0:t.stats)&&s.jsx("section",{className:"py-10 sm:py-16 bg-gray-50 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-8 w-full",children:[s.jsxs(ft.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-primary mb-1 sm:mb-2",children:[t.stats.membersCount,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Active Members"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-accent mb-1 sm:mb-2",children:[t.stats.projectsCompleted,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Projects Completed"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-secondary mb-1 sm:mb-2",children:[t.stats.skillsOffered,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Skills Offered"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center",children:[s.jsxs("div",{className:"text-xl sm:text-3xl md:text-4xl font-bold text-ajira-gold mb-1 sm:mb-2",children:[t.stats.successStories,"+"]}),s.jsx("div",{className:"text-xs sm:text-base text-gray-600",children:"Success Stories"})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 w-full",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2 sm:mb-4 break-words",children:t!=null&&t.values&&t.values.length>0?"Our Values & Vision":"What Drives Us"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto",children:t!=null&&t.values?t.values.join(" • "):"Our commitment to excellence in digital skills development and community building"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8 w-full",children:o.map((l,c)=>s.jsx(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},className:"card w-full",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:l.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-1 sm:mb-2",children:l.title}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:l.description})]})]})},l.title))})]})}),s.jsx("section",{className:"py-10 sm:py-16 bg-ajira-lightGray w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"max-w-4xl mx-auto w-full",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h2",{className:"section-title text-2xl sm:text-3xl md:text-4xl",children:"Our Vision"}),s.jsx("p",{className:"section-subtitle text-base sm:text-lg",children:"To be the leading digital skills training hub in Kenya, creating a pathway to sustainable online work opportunities."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-8 text-center w-full",children:[s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-blue mb-1 sm:mb-2",children:"1000+"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Students Trained"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-orange mb-1 sm:mb-2",children:"25+"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Training Programs"})]}),s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"card w-full",children:[s.jsx("h3",{className:"text-xl sm:text-3xl font-bold text-ajira-gold mb-1 sm:mb-2",children:"95%"}),s.jsx("p",{className:"text-ajira-gray text-xs sm:text-base",children:"Success Rate"})]})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-white w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"bg-gradient-ajira rounded-2xl p-4 sm:p-8 md:p-12 w-full",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center w-full",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4 sm:mb-6 break-words",children:"Ready to Start Your Digital Journey?"}),s.jsx("p",{className:"text-base sm:text-lg text-white/90 mb-6 sm:mb-8",children:"Join our community of digital professionals and unlock endless opportunities in the digital economy."}),s.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-3 sm:gap-4 w-full",children:[s.jsxs(De,{to:"/auth",className:"bg-white text-ajira-blue hover:bg-ajira-lightGray px-6 sm:px-8 py-3 rounded-md font-semibold transition-colors inline-flex items-center justify-center w-full sm:w-auto",children:["Get Started",s.jsx(Ki,{className:"ml-2",size:20})]}),s.jsx(De,{to:"/contact",className:"bg-ajira-orange hover:bg-opacity-90 text-white px-6 sm:px-8 py-3 rounded-md font-semibold transition-colors w-full sm:w-auto text-center",children:"Contact Us"})]})]})})})})]})},EZ="http://localhost:5000/api",TZ=()=>{const[t,e]=P.useState({name:"",email:"",phone:"",subject:"",message:"",category:"General Inquiry",priority:"Medium"}),[r,n]=P.useState(!1),[i,a]=P.useState(!1),[o,l]=P.useState(""),[c,u]=P.useState(""),d=g=>{const{name:v,value:j}=g.target;e(y=>({...y,[v]:j}))},m=async g=>{var v,j;g.preventDefault(),n(!0),l(""),a(!1);try{const y=await be.post(`${EZ}/contact/submit`,t);a(!0),u(y.data.whatsappLink),e({name:"",email:"",phone:"",subject:"",message:"",category:"General Inquiry",priority:"Medium"}),setTimeout(()=>{a(!1),u("")},1e4)}catch(y){console.error("Contact form error:",y),l(((j=(v=y.response)==null?void 0:v.data)==null?void 0:j.message)||"Failed to send message. Please try again.")}finally{n(!1)}},h=()=>{if(c)window.open(c,"_blank");else{const v=`https://wa.me/254792343958?text=${encodeURIComponent("Hi, I would like to get in touch with Ajira Digital KiNaP Club.")}`;window.open(v,"_blank")}},f=[{icon:s.jsx(Yn,{className:"w-6 h-6 text-ajira-blue"}),title:"Visit Us",details:["Kiambu National Polytechnic","P.O. Box 414-00900","Kiambu, Kenya"]},{icon:s.jsx(br,{className:"w-6 h-6 text-ajira-orange"}),title:"Email Us",details:["kinapajira@gmail.com","info@kinapajira.com"]},{icon:s.jsx(Za,{className:"w-6 h-6 text-ajira-gold"}),title:"Call Us",details:["+254 792 343 958","WhatsApp Available"]},{icon:s.jsx(Ft,{className:"w-6 h-6 text-ajira-lightBlue"}),title:"Working Hours",details:["Monday - Friday: 8:00 AM - 5:00 PM","Saturday: 8:00 AM - 1:00 PM"]}];return s.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden",children:[s.jsx("section",{className:"bg-gradient-ajira py-16 sm:py-20 w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto text-center w-full",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold text-white mb-4 sm:mb-6 break-words",children:"Get in Touch"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90",children:"Have questions about our programs? We're here to help you succeed in your digital journey."})]})})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-white w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-8 w-full",children:f.map((g,v)=>s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},className:"card text-center w-full",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:g.icon})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-2 sm:mb-4",children:g.title}),g.details.map((j,y)=>s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base mb-1",children:j},y))]},g.title))})})}),s.jsx("section",{className:"py-8 sm:py-12 bg-ajira-primary w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsxs("div",{className:"text-center w-full",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6",children:"Need Immediate Help?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center w-full",children:[s.jsxs("button",{onClick:h,className:"bg-green-500 hover:bg-green-600 text-white px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Chat on WhatsApp"]}),s.jsxs("a",{href:"mailto:kinapajira@gmail.com",className:"bg-white hover:bg-gray-100 text-ajira-primary px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(br,{className:"w-5 h-5 mr-2"}),"Send Email"]}),s.jsxs("a",{href:"tel:+254792343958",className:"bg-ajira-orange hover:bg-ajira-orange/90 text-white px-4 sm:px-6 py-3 rounded-lg flex items-center justify-center transition-colors w-full sm:w-auto",children:[s.jsx(Za,{className:"w-5 h-5 mr-2"}),"Call Now"]})]})]})})}),s.jsx("section",{className:"py-10 sm:py-16 bg-ajira-lightGray w-full",children:s.jsx("div",{className:"container-custom px-2 sm:px-4 w-full",children:s.jsx("div",{className:"max-w-3xl mx-auto w-full",children:s.jsxs("div",{className:"card w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-ajira-blue mb-2",children:"Send Us a Message"}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:"Fill out the form below and we'll get back to you within 24 hours. Your message will be sent directly to our team."})]}),o&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 text-center",children:o}),i&&s.jsxs("div",{className:"bg-green-50 text-green-600 p-4 rounded-lg mb-6",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsx("strong",{children:"✅ Message sent successfully!"})}),s.jsx("p",{className:"text-sm mb-4",children:"Thank you for contacting us! Your message has been sent to kinapajira@gmail.com and we'll get back to you soon."}),c&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:h,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex items-center justify-center mx-auto",children:[s.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Continue on WhatsApp"]})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Enter your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Enter your email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 w-full",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"e.g., +254 700 123 456"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Category"}),s.jsxs("select",{id:"category",name:"category",value:t.category,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",children:[s.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),s.jsx("option",{value:"Technical Support",children:"Technical Support"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Complaint",children:"Complaint"}),s.jsx("option",{value:"Suggestion",children:"Suggestion"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Subject *"}),s.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:t.subject,onChange:d,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent",placeholder:"Brief description of your inquiry"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-ajira-gray mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",required:!0,value:t.message,onChange:d,rows:6,className:"block w-full px-4 py-3 border border-ajira-lightGray rounded-lg focus:ring-2 focus:ring-ajira-blue focus:border-transparent resize-none",placeholder:"Please provide details about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:r,className:`btn-primary w-full flex items-center justify-center ${r?"opacity-75 cursor-not-allowed":""}`,children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-2",children:"Sending Message..."})]}):s.jsxs(s.Fragment,{children:["Send Message",s.jsx(bv,{className:"ml-2",size:20})]})})]})]})})})}),s.jsx("section",{className:"w-full bg-ajira-lightGray",children:s.jsx("div",{className:"w-full h-64 sm:h-[400px]",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.0167324021055!2d36.8307!3d-1.1722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMcKwMTAnMTkuMiJTIDM2wrA0OSc1MC41IkU!5e0!3m2!1sen!2ske!4v1620000000000!5m2!1sen!2ske",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Kiambu National Polytechnic Location",className:"w-full h-64 sm:h-[400px]"})})})]})},CZ=()=>s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"mb-2",children:"Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your information when you use our website."}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Information We Collect"}),s.jsxs("ul",{className:"list-disc list-inside mb-4",children:[s.jsx("li",{children:"Personal identification information (Name, email address, etc.)"}),s.jsx("li",{children:"Usage data and cookies"})]}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"How We Use Information"}),s.jsxs("ul",{className:"list-disc list-inside mb-4",children:[s.jsx("li",{children:"To provide and maintain our service"}),s.jsx("li",{children:"To improve our website"}),s.jsx("li",{children:"To communicate with you"})]}),s.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Contact Us"}),s.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us."})]}),AZ=()=>s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-ajira p-8 md:p-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-blue/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(mn,{className:"w-8 h-8 text-ajira-blue"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-ajira-blue mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-ajira-gray",children:"Last updated: March 2024"})]}),s.jsxs("div",{className:"space-y-8 text-ajira-gray",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"mb-4",children:"By accessing and using the Ajira Digital - Kiambu National Polytechnic Hub website and services, you agree to be bound by these Terms of Service and all applicable laws and regulations."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"2. Description of Services"}),s.jsx("p",{className:"mb-4",children:"Ajira Digital - Kiambu National Polytechnic Hub provides digital skills training, online work opportunities, and related services to empower youth in Kenya's digital economy."}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Digital skills training programs"}),s.jsx("li",{children:"Online work placement services"}),s.jsx("li",{children:"Mentorship and guidance"}),s.jsx("li",{children:"Community networking"}),s.jsx("li",{children:"Resource sharing"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"3. User Accounts"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:"To access certain features of our services, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Promptly update any changes to your information"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"4. User Conduct"}),s.jsx("p",{className:"mb-4",children:"You agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[s.jsx("li",{children:"Violate any applicable laws or regulations"}),s.jsx("li",{children:"Impersonate any person or entity"}),s.jsx("li",{children:"Interfere with or disrupt the services"}),s.jsx("li",{children:"Upload or transmit malicious code"}),s.jsx("li",{children:"Collect user information without consent"}),s.jsx("li",{children:"Use the services for unauthorized commercial purposes"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"5. Intellectual Property"}),s.jsx("p",{className:"mb-4",children:"All content, features, and functionality of our services are owned by Ajira Digital, its licensors, or other providers and are protected by copyright, trademark, and other intellectual property laws."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"6. Limitation of Liability"}),s.jsx("p",{className:"mb-4",children:"Ajira Digital - Kiambu National Polytechnic Hub shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use or inability to use the services."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"7. Changes to Terms"}),s.jsx("p",{className:"mb-4",children:"We reserve the right to modify these terms at any time. We will notify users of any material changes via email or through our website."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"8. Termination"}),s.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account and access to our services immediately, without prior notice or liability, for any reason, including breach of these Terms."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-ajira-blue mb-4",children:"9. Contact Information"}),s.jsx("p",{children:"For questions about these Terms of Service, please contact us at:"}),s.jsxs("p",{className:"mt-2",children:["Email: legal@kiambuajira.ac.ke",s.jsx("br",{}),"Phone: +254 700 000 000",s.jsx("br",{}),"Address: Kiambu National Polytechnic, P.O. Box 414-00900, Kiambu, Kenya"]})]})]})]})})})}),PZ=()=>{const t=_n();P.useRef(null);const[e,r]=P.useState(1),[n,i]=P.useState(!1),[a,o]=P.useState(""),[l,c]=P.useState(null),[u,d]=P.useState({fullName:"",email:"",phone:"",location:"",professionalPhoto:null,title:"",skills:[],experience:"",education:"",certifications:[],portfolio:[],portfolioImages:[],projects:[],achievements:[],services:[],pricing:{hourlyRate:"",projectRate:"",currency:"USD"},availability:"full-time",responseTime:"within 24 hours",aiRating:null,aiRecommendations:[],aiStrengths:[],aiImprovements:[]}),[m,h]=P.useState(0),[f,g]=P.useState([{role:"assistant",content:"Hello! I'm Kinap Ajira Assistant, your Seller Profile Builder. I'll help you create a professional seller profile that stands out in the marketplace. Let's start with your basic information. What's your full name?"}]),v=[{id:"fullName",question:"What's your full name?",type:"text",category:"personal"},{id:"title",question:"What professional title best describes you? (e.g., Senior Web Developer, UI/UX Designer, Digital Marketing Expert)",type:"text",category:"professional"},{id:"skills",question:"What are your top 5-7 skills? (e.g., React, Photoshop, SEO, Content Writing)",type:"tags",category:"professional"},{id:"experience",question:"Tell me about your professional experience. How many years have you been working in your field?",type:"textarea",category:"professional"},{id:"services",question:"What services do you want to offer? (e.g., Website Development, Logo Design, Social Media Management)",type:"tags",category:"business"},{id:"pricing",question:"What's your hourly rate? (in USD)",type:"number",category:"business"},{id:"portfolio",question:"Can you share links to 3-5 of your best projects or portfolio pieces?",type:"links",category:"portfolio"},{id:"achievements",question:"What are your biggest professional achievements? (e.g., awards, certifications, successful projects)",type:"textarea",category:"portfolio"}],j=_=>{const A=v[m];if(A&&A.type==="tags"){const C=[...u[A.id]||[],_];d(O=>({...O,[A.id]:C}))}},y=()=>{const _=v[m];_&&u[_.id]&&(m<v.length-1?h(A=>A+1):S())},p=async _=>{const A=v[m];d(C=>({...C,[A.id]:_})),g(C=>[...C,{role:"user",content:_}]),i(!0),setTimeout(()=>{let C="",O=[];if(A.id==="fullName")C="Great! Now let's get your professional title. What professional title best describes you?";else if(A.id==="title")C="Excellent! Now let's identify your key skills. What are your top 5-7 skills?";else if(A.id==="skills"){const U=Array.isArray(_)?_:[_],L=b(U);C=`Perfect! Based on your skills (${U.join(", ")}), here are some unique opportunities you could offer:`,O=L}else if(A.id==="experience")C="Impressive! What services do you want to offer on our marketplace?";else if(A.id==="services"){const U=Array.isArray(_)?_:[_],L=w(U);C="Great choices! Here are some unique service packages you could offer:",O=L}else A.id==="pricing"?C="Great! Can you share links to 3-5 of your best projects or portfolio pieces?":A.id==="portfolio"?C="Excellent! What are your biggest professional achievements?":A.id==="achievements"&&(C="Perfect! Let me analyze your profile and create your professional assessment.");g(U=>[...U,{role:"assistant",content:C,suggestions:O}]),O.length>0||(m<v.length-1?h(U=>U+1):S()),i(!1)},800)},b=_=>{const A={react:["Custom React Component Libraries","Progressive Web Apps (PWA)","React Native Mobile Apps","E-commerce React Solutions","React Dashboard & Analytics"],javascript:["Interactive Web Applications","API Integration Services","Custom JavaScript Libraries","Browser Extension Development","Real-time Chat Applications"],python:["Data Analysis & Visualization","Machine Learning Solutions","Automation Scripts","Web Scraping Services","API Development with FastAPI"],photoshop:["Brand Identity Design","Social Media Graphics","Product Mockups","Photo Retouching","Custom Illustrations"],"ui/ux":["User Experience Research","Interactive Prototypes","Design Systems","Usability Testing","Mobile App Design"],seo:["Technical SEO Audits","Local SEO Optimization","Content Strategy","Link Building Campaigns","E-commerce SEO"],"content writing":["SEO-Optimized Blog Content","Email Marketing Campaigns","Social Media Content","Technical Documentation","Brand Storytelling"]},C=[];return _.forEach(O=>{const U=O.toLowerCase();Object.keys(A).forEach(L=>{(U.includes(L)||L.includes(U))&&C.push(...A[L])})}),C.slice(0,6)},w=_=>{const A={"web development":["Complete Website Package (Design + Development)","E-commerce Solution with Payment Integration","Custom Web Application","Website Maintenance & Updates","Performance Optimization"],design:["Brand Identity Package (Logo + Guidelines)","Social Media Design Kit","Website Design Mockups","Print Design Materials","UI/UX Design System"],marketing:["Digital Marketing Strategy","Social Media Management","Content Marketing Campaign","Email Marketing Automation","PPC Campaign Management"],content:["Content Calendar & Strategy","Blog Writing & SEO","Video Content Creation","Social Media Content","Technical Documentation"]},C=[];return _.forEach(O=>{const U=O.toLowerCase();Object.keys(A).forEach(L=>{(U.includes(L)||L.includes(U))&&C.push(...A[L])})}),C.slice(0,5)},S=async()=>{i(!0),setTimeout(()=>{var K,J;const _=u.portfolio||[],A=u.skills||[],C=u.experience||"",O=u.pricing||"",U=u.portfolioImages||[],L=_.length+U.length,q=L>=5?3:L>=3?2:L>=1?1:0,M=A.length>=5?2:A.length>=3?1:0,z=C.toLowerCase().includes("year")&&parseInt(((K=C.match(/\d+/))==null?void 0:K[0])||0)>=2?2:1,D=O&&parseInt(O)>=15?1:0,F=q+M+z+D,H=Math.min(10,Math.max(5,Math.floor(F*1.5)+5)),W=[];L>=5?W.push("Excellent portfolio with multiple examples and images"):L>=3&&W.push("Good portfolio with multiple examples"),U.length>0&&W.push("Visual portfolio with project images"),A.length>=5&&W.push("Strong skill set with diverse capabilities"),C.toLowerCase().includes("year")&&parseInt(((J=C.match(/\d+/))==null?void 0:J[0])||0)>=3&&W.push("Solid professional experience"),O&&parseInt(O)>=20&&W.push("Competitive pricing strategy"),W.length===0&&W.push("Good foundation for growth");const Q=[];L<3&&Q.push("Add more portfolio examples (aim for 3-5 total items)"),U.length===0&&Q.push("Add project images to showcase your work visually"),A.length<5&&Q.push("Expand your skill set to increase marketability"),C.toLowerCase().includes("year")||Q.push("Highlight your years of experience"),(!O||parseInt(O)<15)&&Q.push("Consider competitive pricing for your market"),Q.length===0&&Q.push("Continue building client testimonials");const G={rating:H,strengths:W,improvements:Q,recommendations:["Create detailed service descriptions for each offering","Add client testimonials and reviews","Consider creating case studies for your best projects","Stay updated with industry trends and tools"],marketplaceReady:H>=7,suggestedTitle:u.title||"Professional Seller",suggestedPricing:O?`$${O}/hour`:"$25/hour",portfolioAnalysis:L>0?`Found ${_.length} link${_.length!==1?"s":""} and ${U.length} image${U.length!==1?"s":""}. ${L>=5?"Excellent portfolio diversity!":L>=3?"Good portfolio examples!":"Consider adding more examples."}`:"No portfolio items found. Adding portfolio examples and images will significantly improve your profile."};c(G),r(3),i(!1)},1500)},R=async()=>{i(!0),o("");try{const _={status:"pending",applicationDate:new Date().toISOString(),fullName:u.fullName||"",email:u.email||"",phone:u.phone||"",location:u.location||"",title:u.title||"",skills:Array.isArray(u.skills)?u.skills:[],experience:u.experience||"",education:u.education||"",certifications:Array.isArray(u.certifications)?u.certifications:[],services:Array.isArray(u.services)?u.services:[],hourlyRate:u.pricing||"",availability:u.availability||"full-time",responseTime:u.responseTime||"within 24 hours",portfolioLinks:Array.isArray(u.portfolio)?u.portfolio:[],portfolioImages:Array.isArray(u.portfolioImages)?u.portfolioImages:[],achievements:u.achievements||"",motivation:"I want to offer my professional services on the Ajira Digital marketplace",experienceDescription:u.experience||"",serviceDescription:Array.isArray(u.services)?u.services.join(", "):"",valueProposition:`Professional ${u.title||"Seller"} with ${u.experience||"experience"}`,sampleWork:Array.isArray(u.portfolio)?u.portfolio.join(", "):"",aiRating:(l==null?void 0:l.rating)||0,aiStrengths:(l==null?void 0:l.strengths)||[],aiImprovements:(l==null?void 0:l.improvements)||[],aiRecommendations:(l==null?void 0:l.recommendations)||[],marketplaceReady:(l==null?void 0:l.marketplaceReady)||!1};console.log("Submitting application data:",_);const A="http://localhost:5000/api",C=localStorage.getItem("token");if(!C)throw new Error("Authentication required. Please log in again.");const O=await fetch(`${A}/api/seller-applications`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify(_)});if(console.log("Response status:",O.status),!O.ok){const L=await O.json().catch(()=>({}));throw console.error("Server error:",L),new Error(L.message||`Server error: ${O.status}`)}const U=await O.json();console.log("Application submitted successfully:",U),r(4)}catch(_){console.error("Application submission error:",_),_.message.includes("Failed to fetch")||_.message.includes("NetworkError")?(console.log("Network error detected, showing demo success"),r(4)):o(`Failed to submit application: ${_.message}. Please try again.`)}finally{i(!1)}},N=()=>{var A,C,O,U,L;const _=v[m];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 text-gray-900 p-4 rounded-lg",children:[s.jsxs("h3",{className:"font-semibold mb-2 text-ajira-primary",children:["Question ",m+1," of ",v.length]}),s.jsx("p",{className:"text-lg text-black",children:_.question})]}),_.type==="text"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Type your answer...",onKeyPress:q=>{q.key==="Enter"&&q.target.value.trim()&&(p(q.target.value.trim()),q.target.value="")}}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="textarea"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",rows:4,placeholder:"Type your answer..."}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="number"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"number",id:"answerInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Enter amount...",onKeyPress:q=>{q.key==="Enter"&&q.target.value.trim()&&(p(q.target.value.trim()),q.target.value="")}}),s.jsx("button",{onClick:()=>{const q=document.getElementById("answerInput");q&&q.value.trim()&&(p(q.value.trim()),q.value="")},className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="tags"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",id:"tagInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Type and press Enter to add...",onKeyPress:q=>{if(q.key==="Enter"&&q.target.value.trim()){const M=[...u[_.id]||[],q.target.value.trim()];d(z=>({...z,[_.id]:M})),q.target.value=""}}}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(A=u[_.id])==null?void 0:A.map((q,M)=>s.jsx("span",{className:"bg-ajira-primary text-white px-3 py-1 rounded-full text-sm",children:q},M))}),s.jsx("button",{onClick:()=>p(u[_.id]||[]),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]}),_.type==="links"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Portfolio Links"}),s.jsx("input",{type:"url",id:"linkInput",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary focus:border-transparent",placeholder:"Enter portfolio link (e.g., https://behance.net/your-profile)",onKeyPress:q=>{if(q.key==="Enter"&&q.target.value.trim()){const M=[...u[_.id]||[],q.target.value.trim()];d(z=>({...z,[_.id]:M})),q.target.value=""}}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Portfolio Images"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-ajira-primary transition-colors",children:[s.jsx("input",{type:"file",id:"portfolioImages",multiple:!0,accept:"image/*",className:"hidden",onChange:q=>{const M=Array.from(q.target.files),z=[...u.portfolioImages||[],...M];d(D=>({...D,portfolioImages:z}))}}),s.jsxs("label",{htmlFor:"portfolioImages",className:"cursor-pointer",children:[s.jsx(Un,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload project images or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, JPEG up to 5MB each"})]})]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"💡 Tip: You can add links to your Behance, Dribbble, GitHub, personal website, or upload project images directly"}),((C=u[_.id])==null?void 0:C.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added Links:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(O=u[_.id])==null?void 0:O.map((q,M)=>s.jsxs("div",{className:"flex items-center bg-ajira-primary text-white px-3 py-1 rounded-full text-sm",children:[s.jsx("span",{className:"truncate max-w-32",children:q}),s.jsx("button",{onClick:()=>{const z=u[_.id].filter((D,F)=>F!==M);d(D=>({...D,[_.id]:z}))},className:"ml-2 text-white hover:text-red-200",children:"×"})]},M))})]}),((U=u.portfolioImages)==null?void 0:U.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added Images:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:(L=u.portfolioImages)==null?void 0:L.map((q,M)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(q),alt:`Portfolio ${M+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),s.jsx("button",{onClick:()=>{const z=u.portfolioImages.filter((D,F)=>F!==M);d(D=>({...D,portfolioImages:z}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",children:"×"})]},M))})]}),s.jsx("button",{onClick:()=>p(u[_.id]||[]),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Continue"})]})]})},k=()=>{var _;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx($u,{className:"w-12 h-12 text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"Building Your Profile"}),s.jsx("p",{className:"text-gray-600",children:"Let's create a professional seller profile together"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[s.jsx("h3",{className:"font-semibold text-ajira-primary mb-3",children:"AI Assistant Conversation"}),s.jsxs("div",{className:"space-y-3",children:[f.map((A,C)=>s.jsx("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg ${A.role==="user"?"bg-ajira-primary text-white":"bg-white border border-gray-200 text-gray-800"}`,children:[s.jsx("p",{className:"text-sm",children:A.content}),A.suggestions&&A.suggestions.length>0&&s.jsxs("div",{className:"mt-3 space-y-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"💡 AI Suggestions - Click to add:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:A.suggestions.map((O,U)=>s.jsx("button",{onClick:()=>j(O),className:"text-xs bg-ajira-primary text-white px-3 py-2 rounded-full hover:bg-ajira-primary/90 transition-colors cursor-pointer font-medium",children:O},U))}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-blue-200",children:[s.jsx("button",{onClick:y,className:"text-xs bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 transition-colors",children:"Continue with suggestions →"}),s.jsx("button",{onClick:y,className:"text-xs text-gray-600 hover:text-ajira-primary transition-colors",children:"Skip suggestions →"})]})]})]})},C)),n&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-200 text-gray-800 px-3 py-2 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-ajira-primary"}),s.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})})]})]}),N(),f.length>0&&((_=f[f.length-1])==null?void 0:_.suggestions)&&s.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🎯 AI Suggestions Available!"}),s.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Check the conversation above to see AI suggestions for your current question."}),s.jsx("button",{onClick:()=>{const A=document.querySelector(".bg-gray-50");A&&A.scrollIntoView({behavior:"smooth"})},className:"text-sm bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition-colors",children:"View Suggestions"})]})]})},E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"w-12 h-12 text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary mb-2",children:"AI Analysis Complete"}),s.jsx("p",{className:"text-gray-600",children:"Here's your professional assessment"})]}),l&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ct,{className:"w-6 h-6 text-yellow-500 mr-2"}),s.jsx("h3",{className:"font-semibold",children:"AI Rating"})]}),s.jsxs("div",{className:"text-3xl font-bold text-ajira-primary",children:[l.rating,"/10"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Professional Profile Score"}),s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:l.portfolioAnalysis})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Strengths"}),s.jsx("ul",{className:"space-y-2",children:l.strengths.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),_]},A))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Areas for Improvement"}),s.jsx("ul",{className:"space-y-2",children:l.improvements.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(qt,{className:"w-4 h-4 text-orange-500 mr-2"}),_]},A))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Recommendations"}),s.jsx("ul",{className:"space-y-2",children:l.recommendations.map((_,A)=>s.jsxs("li",{className:"flex items-center text-sm",children:[s.jsx(Ps,{className:"w-4 h-4 text-blue-500 mr-2"}),_]},A))})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:R,className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Submit Application"})})]}),T=()=>s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(Ke,{className:"w-16 h-16 text-green-500 mx-auto"}),s.jsx("h2",{className:"text-2xl font-bold text-ajira-primary",children:"Application Submitted!"}),s.jsx("p",{className:"text-gray-600",children:"Your seller application has been submitted successfully. We'll review it and get back to you within 24 hours."}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"What's Next?"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:"• AI will analyze your application"}),s.jsx("li",{children:"• Our team will review your profile"}),s.jsx("li",{children:"• You'll receive approval within 24 hours"}),s.jsx("li",{children:"• Start selling on our marketplace!"})]})]}),s.jsx("button",{onClick:()=>t("/marketplace"),className:"bg-ajira-primary text-white px-6 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Go to Marketplace"})]});return s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-12",children:s.jsx("div",{className:"container-custom",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-ajira p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:e===1?"Getting Started":e===2?`Question ${m+1} of ${v.length}`:e===3?"AI Analysis":"Complete"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:e===1?"25%":e===2?`${Math.round((m+1)/v.length*50)+25}%`:e===3?"75%":"100%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-ajira-primary h-2 rounded-full transition-all duration-300",style:{width:e===1?"25%":e===2?`${(m+1)/v.length*50+25}%`:e===3?"75%":"100%"}})})]}),a&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex items-center",children:[s.jsx(qt,{className:"mr-2",size:20}),a]}),n&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ajira-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Processing..."})]}),!n&&s.jsxs(s.Fragment,{children:[e===1&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx(or,{className:"w-16 h-16 text-ajira-primary mx-auto"}),s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Become a Seller"}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Let Kinap AI help you create a professional seller profile that stands out in the marketplace. We'll guide you through each step to build a compelling profile."}),s.jsx("button",{onClick:()=>r(2),className:"bg-ajira-primary text-white px-8 py-3 rounded-lg hover:bg-ajira-primary/90 transition-colors font-medium",children:"Start Building Profile"})]}),e===2&&k(),e===3&&E(),e===4&&T()]})]})})})})},IZ="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",RZ=()=>{const[t,e]=P.useState([]);return P.useEffect(()=>{const r=localStorage.getItem("videoHistory");r&&e(JSON.parse(r))},[]),s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Watch History"}),t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No watch history yet. Start watching videos!"}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(r=>s.jsxs(De,{to:`/videos/${r.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:r.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:r.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:r.channel.avatar||IZ,alt:r.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:r.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:r.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:r.uploadDate})]})]})]},r.id))})]})},OZ=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(!1),[i,a]=P.useState(null),[o,l]=P.useState(null),[c,u]=P.useState([]);P.useEffect(()=>{d(),m()},[]);const d=async()=>{try{const g=await un.checkSupport();e(g),console.log("Biometric support:",g)}catch(g){console.error("Error checking biometric support:",g),a("Failed to check biometric support")}},m=async()=>{try{const g=await un.getCredentials();u(g),console.log("User credentials:",g)}catch(g){console.error("Error loading credentials:",g)}},h=async()=>{try{n(!0),a(null),l(null),console.log("Starting fingerprint registration...");const g=await un.registerFingerprint();console.log("Fingerprint registration result:",g),l("Fingerprint registration successful!"),await m()}catch(g){console.error("Fingerprint registration error:",g),a(g.message||"Fingerprint registration failed")}finally{n(!1)}},f=async()=>{if(c.length===0){a("No credentials available for verification");return}try{n(!0),a(null),l(null);const g=c[0];console.log("Testing verification with credential:",g);const v=await un.verifyFingerprint(g.id);console.log("Verification result:",v),v?l("Fingerprint verification successful!"):a("Fingerprint verification failed")}catch(g){console.error("Fingerprint verification error:",g),a(g.message||"Fingerprint verification failed")}finally{n(!1)}};return s.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Biometric Authentication Test"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Device Support"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Fingerprint:"}),t!=null&&t.fingerprint?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Jr,{className:"w-4 h-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Face Recognition:"}),t!=null&&t.face?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Jr,{className:"w-4 h-4 text-red-500"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Voice Recognition:"}),t!=null&&t.voice?s.jsx(Ke,{className:"w-4 h-4 text-green-500"}):s.jsx(Jr,{className:"w-4 h-4 text-red-500"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Registered Credentials"}),c.length>0?s.jsx("div",{className:"space-y-2",children:c.map((g,v)=>s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xl,{className:"w-4 h-4 text-blue-500 mr-2"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[g.type," - ",g.id.substring(0,8),"..."]})]})},v))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No credentials registered"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:h,disabled:r||!(t!=null&&t.fingerprint),className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(xl,{className:"w-4 h-4 mr-2"}),"Test Fingerprint Registration"]}),s.jsxs("button",{onClick:f,disabled:r||c.length===0,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Test Fingerprint Verification"]})]}),i&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:i})]})}),o&&s.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:o})]})}),s.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Debug Information"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:["WebAuthn Supported: ",typeof window<"u"&&window.PublicKeyCredential?"Yes":"No"]}),s.jsxs("div",{children:["Platform Authenticator: ",typeof window<"u"&&window.PublicKeyCredential?"Checking...":"N/A"]}),s.jsxs("div",{children:["HTTPS: ",window.location.protocol==="https:"?"Yes":"No"]}),s.jsxs("div",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]})]})},DZ=()=>{const[t]=dv(),e=_n(),r=t.get("token"),[n,i]=P.useState(""),[a,o]=P.useState(""),[l,c]=P.useState(!1),[u,d]=P.useState(!1),[m,h]=P.useState(!1),[f,g]=P.useState(!0),[v,j]=P.useState(null),[y,p]=P.useState(null),[b,w]=P.useState(!1);P.useEffect(()=>{S()},[]);const S=async()=>{if(!r){j("Invalid reset link. Please request a new password reset."),g(!1);return}try{await AM(r),w(!0)}catch{j("This password reset link is invalid or has expired. Please request a new one.")}finally{g(!1)}},R=async N=>{if(N.preventDefault(),!r){j("Invalid reset link");return}if(!n.trim()){j("Please enter a new password");return}if(n.length<6){j("Password must be at least 6 characters long");return}if(n!==a){j("Passwords do not match");return}try{h(!0),j(null),await CM(r,n),p("Password has been reset successfully! Redirecting to login..."),setTimeout(()=>{e("/auth")},2e3)}catch(k){j(k.message||"Failed to reset password")}finally{h(!1)}};return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-12 h-12 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Verifying Reset Link..."}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we verify your password reset link."})]})})}):b?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-ajira-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(yy,{className:"w-8 h-8 text-ajira-primary"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",id:"password",value:n,onChange:N=>i(N.target.value),placeholder:"Enter your new password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?s.jsx(na,{className:"w-5 h-5 text-gray-400"}):s.jsx(zt,{className:"w-5 h-5 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"confirmPassword",value:a,onChange:N=>o(N.target.value),placeholder:"Confirm your new password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ajira-accent/50 focus:border-transparent",disabled:m}),s.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(na,{className:"w-5 h-5 text-gray-400"}):s.jsx(zt,{className:"w-5 h-5 text-gray-400"})})]})]}),v&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:v})]})}),y&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-500 mr-2"}),s.jsx("span",{className:"text-green-700 text-sm",children:y})]})}),s.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-ajira-primary to-ajira-secondary hover:from-ajira-secondary hover:to-ajira-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ajira-accent disabled:opacity-50 transition-all duration-300",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin mr-2"}),"Resetting Password..."]}):"Reset Password"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",s.jsx("button",{onClick:()=>e("/auth"),className:"text-ajira-primary hover:text-ajira-primary/80 font-medium",children:"Sign in here"})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Jr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-gray-600 mb-6",children:v}),s.jsx("button",{onClick:()=>e("/auth"),className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Back to Login"})]})})})},MZ=[{id:1,title:"Quick React Tip: UseCallback Hook",thumbnail:"https://via.placeholder.com/180x320/3B82F6/FFFFFF?text=React+Tip",duration:"0:45",channel:{name:"Web Dev Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev+Pro&background=3B82F6&color=fff"}},{id:2,title:"AI Coding Assistant Demo",thumbnail:"https://via.placeholder.com/180x320/10B981/FFFFFF?text=AI+Coding",duration:"0:52",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Learning+Hub&background=10B981&color=fff"}},{id:3,title:"CSS Grid in 30 Seconds",thumbnail:"https://via.placeholder.com/180x320/F59E0B/FFFFFF?text=CSS+Grid",duration:"0:30",channel:{name:"CSS Master",avatar:"https://ui-avatars.com/api/?name=CSS+Master&background=F59E0B&color=fff"}},{id:4,title:"JavaScript Array Methods",thumbnail:"https://via.placeholder.com/180x320/EF4444/FFFFFF?text=JS+Arrays",duration:"0:58",channel:{name:"JS Mastery",avatar:"https://ui-avatars.com/api/?name=JS+Mastery&background=EF4444&color=fff"}},{id:5,title:"Git Commands You Need to Know",thumbnail:"https://via.placeholder.com/180x320/8B5CF6/FFFFFF?text=Git+Commands",duration:"0:42",channel:{name:"Dev Tips",avatar:"https://ui-avatars.com/api/?name=Dev+Tips&background=8B5CF6&color=fff"}},{id:6,title:"Python List Comprehension",thumbnail:"https://via.placeholder.com/180x320/06B6D4/FFFFFF?text=Python+Lists",duration:"0:35",channel:{name:"Python Pro",avatar:"https://ui-avatars.com/api/?name=Python+Pro&background=06B6D4&color=fff"}}],LZ="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff";function FZ(t){if(!t.duration)return!1;const e=t.duration.split(":").map(Number);return e.length===1?e[0]<60:e.length===2?e[0]===0&&e[1]<60:!1}const Lk=MZ.filter(FZ),VZ=()=>s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Shorts"}),Lk.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No shorts found."}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:Lk.map(t=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-[9/16] w-full bg-gray-200",children:[s.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:t.duration})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1 line-clamp-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:t.channel.avatar||LZ,alt:t.channel.name,className:"w-5 h-5 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:t.channel.name})]})]})]},t.id))})]}),UZ=async()=>{try{return(await ya.get("/user-videos/playlists")).data}catch(t){return console.error("Error fetching playlists:",t),[]}},BZ=async t=>{try{return(await ya.post("/user-videos/playlists",t)).data}catch(e){throw console.error("Error creating playlist:",e),e}},$Z=async()=>{try{return(await ya.get("/user-videos/subscriptions")).data}catch(t){return console.error("Error fetching subscriptions:",t),[]}},qZ=async()=>{try{return(await ya.get("/user-videos/watch-later")).data}catch(t){return console.error("Error fetching watch later videos:",t),[]}},zZ=async()=>{try{return(await ya.get("/user-videos/liked")).data}catch(t){return console.error("Error fetching liked videos:",t),[]}},WZ=async t=>{try{return(await ya.delete(`/user-videos/watch-later/${t.id}`)).data}catch(e){throw console.error("Error removing from watch later:",e),e}},HZ=async t=>{try{return(await ya.delete(`/user-videos/liked/${t.id}`)).data}catch(e){throw console.error("Error removing liked video:",e),e}},KZ="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",GZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0),[i,a]=P.useState("");async function o(){n(!0);const c=await UZ();e(c),n(!1)}P.useEffect(()=>{o()},[]);async function l(){i.trim()&&(await BZ({name:i,videos:[]}),a(""),o())}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Playlists"}),s.jsxs("div",{className:"mb-6 flex gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"New playlist name",className:"px-4 py-2 border border-gray-300 rounded-l-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"}),s.jsx("button",{onClick:l,className:"px-6 py-2 bg-blue-600 text-white rounded-r-full hover:bg-blue-700 transition-colors",children:"Create"})]}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No playlists yet. Create one above!"}):s.jsx("div",{className:"space-y-8",children:t.map(c=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:c.name}),c.videos.length===0?s.jsx("div",{className:"text-gray-400 mb-6",children:"No videos in this playlist."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6",children:c.videos.map(u=>s.jsxs(De,{to:`/videos/${u.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:u.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:u.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:u.channel.avatar||KZ,alt:u.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:u.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:u.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:u.uploadDate})]})]})]},u.id))})]},c.name))})]})},Fk=[{id:"1",title:"Introduction to Web Development",thumbnail:"https://via.placeholder.com/320x180/4F46E5/FFFFFF?text=Web+Dev",duration:"15:30",views:"1.2K",uploadDate:"2 days ago",channel:{name:"Web Development Pro",avatar:"https://ui-avatars.com/api/?name=Web+Dev&background=4F46E5&color=fff"}},{id:"2",title:"AI and Machine Learning Basics",thumbnail:"https://via.placeholder.com/320x180/10B981/FFFFFF?text=AI+ML",duration:"22:15",views:"3.4K",uploadDate:"1 week ago",channel:{name:"AI Learning Hub",avatar:"https://ui-avatars.com/api/?name=AI+Hub&background=10B981&color=fff"}},{id:"3",title:"Project Management Fundamentals",thumbnail:"https://via.placeholder.com/320x180/F59E0B/FFFFFF?text=PM+Fundamentals",duration:"18:45",views:"856",uploadDate:"3 days ago",channel:{name:"Project Management Pro",avatar:"https://ui-avatars.com/api/?name=PM+Pro&background=F59E0B&color=fff"}}],Vk="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",QZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function i(){n(!0);try{const o=await $Z();e(o)}catch(o){console.error("Error fetching subscriptions:",o),e(["Web Development Pro","AI Learning Hub"])}n(!1)}P.useEffect(()=>{i()},[]);const a=Fk.filter(o=>t.includes(o.channel.name));return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Subscriptions"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"You have not subscribed to any channels yet."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 flex flex-wrap gap-4",children:t.map(o=>{var l;return s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-full",children:[s.jsx("img",{src:((l=Fk.find(c=>c.channel.name===o))==null?void 0:l.channel.avatar)||Vk,alt:o,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:o})]},o)})}),a.length===0?s.jsx("div",{className:"text-gray-400",children:"No videos from your subscriptions yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(o=>s.jsxs(De,{to:`/videos/${o.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||Vk,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:o.uploadDate})]})]})]},o.id))})]})]})},YZ="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",JZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function i(){n(!0);const o=await qZ();e(o),n(!1)}P.useEffect(()=>{i()},[]);async function a(o){await WZ(o),i()}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Watch Later"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No videos in Watch Later."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(o=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group relative",children:[s.jsxs(De,{to:`/videos/${o.id}`,children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||YZ,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:o.uploadDate})]})]})]}),s.jsx("button",{onClick:()=>a(o),className:"absolute top-2 right-2 bg-white text-gray-700 rounded-full p-1 shadow hover:bg-red-100 hover:text-red-600 transition-colors",children:"Remove"})]},o.id))})]})},XZ="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",ZZ=()=>{const[t,e]=P.useState([]),[r,n]=P.useState(!0);async function i(){n(!0);const o=await zZ();e(o),n(!1)}P.useEffect(()=>{i()},[]);async function a(o){await HZ(o),i()}return s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Liked Videos"}),r?s.jsx("div",{className:"text-gray-500 text-lg",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"No liked videos yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(o=>s.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group relative",children:[s.jsxs(De,{to:`/videos/${o.id}`,children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:o.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:o.channel.avatar||XZ,alt:o.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:o.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:o.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:o.uploadDate})]})]})]}),s.jsx("button",{onClick:()=>a(o),className:"absolute top-2 right-2 bg-white text-gray-700 rounded-full p-1 shadow hover:bg-red-100 hover:text-red-600 transition-colors",children:"Remove"})]},o.id))})]})},eee=[{id:"1",title:"How to Build a React App from Scratch",thumbnail:"https://via.placeholder.com/320x180/3B82F6/FFFFFF?text=React+Tutorial",duration:"25:15",views:"2.1K",uploadDate:"1 week ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}},{id:"2",title:"Advanced JavaScript Concepts",thumbnail:"https://via.placeholder.com/320x180/F59E0B/FFFFFF?text=JavaScript+Advanced",duration:"32:45",views:"1.8K",uploadDate:"2 weeks ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}},{id:"3",title:"CSS Grid Layout Masterclass",thumbnail:"https://via.placeholder.com/320x180/10B981/FFFFFF?text=CSS+Grid",duration:"18:30",views:"956",uploadDate:"3 weeks ago",channel:{name:"Kinap Hub",avatar:"https://ui-avatars.com/api/?name=Kinap+Hub&background=3B82F6&color=fff"}}],tee="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff",ree="Kinap Hub",Uk=eee.filter(t=>t.channel.name===ree),see=()=>s.jsxs("div",{className:"min-h-screen bg-white px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Your Videos"}),Uk.length===0?s.jsx("div",{className:"text-gray-500 text-lg",children:"You have not uploaded any videos yet."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Uk.map(t=>s.jsxs(De,{to:`/videos/${t.id}`,className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video w-full bg-gray-200",children:[s.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs font-semibold px-2 py-1 rounded",children:t.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-base mb-1 line-clamp-2",children:t.title}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("img",{src:t.channel.avatar||tee,alt:t.channel.name,className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-700 font-medium",children:t.channel.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:t.views}),s.jsx("span",{children:"•"}),s.jsx("span",{children:t.uploadDate})]})]})]},t.id))})]}),nee=[{to:"/admin",label:"Dashboard",icon:s.jsx(ME,{size:18})},{to:"/admin/users",label:"Users",icon:s.jsx(ze,{size:18})},{to:"/admin/stories",label:"Stories",icon:s.jsx(mn,{size:18})},{to:"/admin/analytics",label:"Analytics",icon:s.jsx(gO,{size:18})},{to:"/admin/settings",label:"Settings",icon:s.jsx(Bu,{size:18})}],iee=({children:t})=>{const e=Ys();return s.jsxs("div",{className:"flex min-h-screen bg-ajira-lightGray",children:[s.jsxs("aside",{className:"w-64 bg-white shadow-lg flex flex-col",children:[s.jsx("div",{className:"h-20 flex items-center justify-center border-b",children:s.jsx("img",{src:"/logo.jpeg",alt:"Admin Logo",className:"h-12 w-auto rounded-lg"})}),s.jsx("nav",{className:"flex-1 py-6 px-4 space-y-2",children:nee.map(r=>s.jsxs(De,{to:r.to,className:`flex items-center space-x-3 px-4 py-2 rounded-lg font-medium transition-colors ${e.pathname===r.to?"bg-ajira-primary text-white":"text-ajira-blue hover:bg-ajira-primary/10"}`,children:[r.icon,s.jsx("span",{children:r.label})]},r.to))})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"h-20 bg-white shadow flex items-center px-8 border-b",children:s.jsx("h1",{className:"text-2xl font-bold text-ajira-blue",children:"Admin Panel"})}),s.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:t})]})]})},aee=()=>{const t=[{icon:s.jsx(ze,{className:"w-8 h-8 text-ajira-blue"}),label:"Total Users",value:"1,234"},{icon:s.jsx(mn,{className:"w-8 h-8 text-ajira-orange"}),label:"Stories Published",value:"156"},{icon:s.jsx(ud,{className:"w-8 h-8 text-ajira-gold"}),label:"Monthly Views",value:"45.2K"}];return s.jsx(iee,{children:s.jsx("div",{className:"min-h-screen bg-ajira-lightGray py-8 sm:py-12 w-full overflow-x-hidden",children:s.jsxs("div",{className:"container-custom px-2 sm:px-4 w-full",children:[s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full",children:[s.jsx("img",{src:"/logo.jpeg",alt:"Club Logo",className:"h-10 sm:h-12 w-auto rounded-lg"}),s.jsxs("div",{className:"text-center sm:text-left w-full",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-ajira-blue mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-ajira-gray text-sm sm:text-base",children:"Manage your platform's content and users"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-8 w-full",children:t.map((e,r)=>s.jsx(ft.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-ajira-lightGray rounded-lg",children:e.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-ajira-gray font-medium text-sm sm:text-base",children:e.label}),s.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-ajira-blue",children:e.value})]})]})},e.label))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8 w-full",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-2 w-full",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-ajira-blue",children:"Recent Users"}),s.jsx("button",{className:"text-ajira-blue hover:text-ajira-lightBlue font-medium text-xs sm:text-sm",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between py-3 border-b border-ajira-lightGray gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(ze,{size:20,className:"text-ajira-blue"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-ajira-blue text-sm sm:text-base",children:"John Doe"}),s.jsx("p",{className:"text-xs sm:text-sm text-ajira-gray",children:"john@example.com"})]})]}),s.jsx("span",{className:"text-xs sm:text-sm text-ajira-gray",children:"2 hours ago"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between py-3 border-b border-ajira-lightGray gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-blue/10 rounded-full flex items-center justify-center",children:s.jsx(ze,{size:20,className:"text-ajira-blue"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-ajira-blue text-sm sm:text-base",children:"Jane Smith"}),s.jsx("p",{className:"text-xs sm:text-sm text-ajira-gray",children:"jane@example.com"})]})]}),s.jsx("span",{className:"text-xs sm:text-sm text-ajira-gray",children:"5 hours ago"})]})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-xl shadow-ajira p-4 sm:p-6 w-full",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-ajira-blue mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(mn,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Add New Story"})]}),s.jsxs(De,{to:"/admin/about-us",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(xy,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage About Us"})]}),s.jsxs(De,{to:"/admin/team",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(ze,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage Team"})]}),s.jsxs(De,{to:"/admin/updates",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(mn,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Club Updates"})]}),s.jsxs(De,{to:"/admin/faq",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(vv,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"FAQ Management"})]}),s.jsxs(De,{to:"/admin/contact",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(br,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Contact Messages"})]}),s.jsxs(De,{to:"/admin/training",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Xa,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Training Programs"})]}),s.jsxs(De,{to:"/admin/mentorship",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Wa,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Mentorship Programs"})]}),s.jsxs(De,{to:"/admin/mentor-applications",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Vo,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"AI Mentor Recruiting"})]}),s.jsxs(De,{to:"/admin/events",className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Yt,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Events Management"})]}),s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(ze,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Manage Users"})]}),s.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 bg-ajira-lightGray rounded-lg hover:bg-ajira-blue/10 transition-colors text-sm sm:text-base",children:[s.jsx(Bu,{size:20,className:"text-ajira-blue"}),s.jsx("span",{className:"font-medium text-ajira-blue",children:"Settings"})]})]})]})})]})]})})})},Bk="http://localhost:5000/api",oee=()=>{const t=ps(),[e,r]=P.useState({title:"",description:"",mission:"",vision:"",values:[],history:"",teamDescription:"",contactInfo:{email:"",phone:"",address:""},socialLinks:{facebook:"",twitter:"",linkedin:"",instagram:""},stats:{membersCount:0,projectsCompleted:0,skillsOffered:0,successStories:0}}),[n,i]=P.useState(""),[a,o]=P.useState(""),{data:l,isLoading:c}=Ct("aboutUs",async()=>(await be.get(`${Bk}/about-us`)).data,{onSuccess:f=>{r({title:f.title||"",description:f.description||"",mission:f.mission||"",vision:f.vision||"",values:f.values||[],history:f.history||"",teamDescription:f.teamDescription||"",contactInfo:f.contactInfo||{email:"",phone:"",address:""},socialLinks:f.socialLinks||{facebook:"",twitter:"",linkedin:"",instagram:""},stats:f.stats||{membersCount:0,projectsCompleted:0,skillsOffered:0,successStories:0}})}}),u=et(async f=>(await be.post(`${Bk}/about-us`,{...f,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("aboutUs"),i("About Us content updated successfully!"),o("success"),setTimeout(()=>i(""),3e3)},onError:f=>{var g,v;i(((v=(g=f.response)==null?void 0:g.data)==null?void 0:v.message)||"Failed to update About Us content"),o("error"),setTimeout(()=>i(""),3e3)}}),d=f=>{const{name:g,value:v}=f.target;if(g.includes(".")){const[j,y]=g.split(".");r(p=>({...p,[j]:{...p[j],[y]:v}}))}else r(j=>({...j,[g]:v}))},m=(f,g)=>{const v=f.split(",").map(j=>j.trim()).filter(Boolean);r(j=>({...j,[g]:v}))},h=f=>{f.preventDefault(),u.mutate(e)};return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-8",children:"About Us Content Management"}),n&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${a==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[a==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),n]}),s.jsxs("form",{onSubmit:h,className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:e.title,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"About Ajira Digital Club..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:e.description,onChange:d,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Brief description of the organization..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mission Statement"}),s.jsx("textarea",{name:"mission",value:e.mission,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our mission is..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vision Statement"}),s.jsx("textarea",{name:"vision",value:e.vision,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our vision is..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Core Values"}),s.jsx("input",{type:"text",value:e.values.join(", "),onChange:f=>m(f.target.value,"values"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Innovation, Excellence, Collaboration (separate with commas)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"History"}),s.jsx("textarea",{name:"history",value:e.history,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Our journey and achievements..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Description"}),s.jsx("textarea",{name:"teamDescription",value:e.teamDescription,onChange:d,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"About our team..."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"contactInfo.email",value:e.contactInfo.email,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"kinapajira@gmail.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"contactInfo.phone",value:e.contactInfo.phone,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"+254 792 343 958"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("input",{type:"text",name:"contactInfo.address",value:e.contactInfo.address,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",placeholder:"Nairobi, Kenya"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members Count"}),s.jsx("input",{type:"number",name:"stats.membersCount",value:e.stats.membersCount,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projects Completed"}),s.jsx("input",{type:"number",name:"stats.projectsCompleted",value:e.stats.projectsCompleted,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Offered"}),s.jsx("input",{type:"number",name:"stats.skillsOffered",value:e.stats.skillsOffered,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Success Stories"}),s.jsx("input",{type:"number",name:"stats.successStories",value:e.stats.successStories,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:u.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:u.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsx("span",{children:"Save Changes"})]})})})]})]})})},Fo="http://localhost:5000/api",lee=()=>{var k;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState(""),[l,c]=P.useState(""),[u,d]=P.useState({name:"",role:"",title:"",department:"",bio:"",image:"",email:"",linkedinUrl:"",githubUrl:"",portfolioUrl:"",skills:[],experience:"",achievements:[],education:{degree:"",institution:"",graduationYear:""},contact:{phone:"",location:""},socialMedia:{twitter:"",instagram:"",facebook:""},isFounder:!1,isLeadership:!1,displayOrder:0}),{data:m,isLoading:h}=Ct("teamMembers",async()=>(await be.get(`${Fo}/team`)).data),{data:f}=Ct("teamStats",async()=>(await be.get(`${Fo}/team/stats/overview`)).data),g=et(async E=>n?(await be.put(`${Fo}/team/${n._id}`,{...E,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Fo}/team`,{...E,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats"),o(n?"Team member updated successfully!":"Team member created successfully!"),c("success"),setTimeout(()=>o(""),3e3),y()},onError:E=>{var T,_;o(((_=(T=E.response)==null?void 0:T.data)==null?void 0:_.message)||"Failed to save team member"),c("error"),setTimeout(()=>o(""),3e3)}}),v=et(async E=>(await be.delete(`${Fo}/team/${E}`)).data,{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats"),o("Team member deleted successfully!"),c("success"),setTimeout(()=>o(""),3e3)},onError:E=>{var T,_;o(((_=(T=E.response)==null?void 0:T.data)==null?void 0:_.message)||"Failed to delete team member"),c("error"),setTimeout(()=>o(""),3e3)}}),j=et(async({id:E,isActive:T})=>{const _=T?"deactivate":"activate";return(await be.patch(`${Fo}/team/${E}/${_}`)).data},{onSuccess:()=>{t.invalidateQueries("teamMembers"),t.invalidateQueries("teamStats")}}),y=()=>{d({name:"",role:"",title:"",department:"",bio:"",image:"",email:"",linkedinUrl:"",githubUrl:"",portfolioUrl:"",skills:[],experience:"",achievements:[],education:{degree:"",institution:"",graduationYear:""},contact:{phone:"",location:""},socialMedia:{twitter:"",instagram:"",facebook:""},isFounder:!1,isLeadership:!1,displayOrder:0}),i(null),r(!1)},p=E=>{d({...E,skills:E.skills||[],achievements:E.achievements||[],education:E.education||{degree:"",institution:"",graduationYear:""},contact:E.contact||{phone:"",location:""},socialMedia:E.socialMedia||{twitter:"",instagram:"",facebook:""}}),i(E),r(!0)},b=E=>{const{name:T,value:_,type:A,checked:C}=E.target;if(T.includes(".")){const[O,U]=T.split(".");d(L=>({...L,[O]:{...L[O],[U]:_}}))}else d(O=>({...O,[T]:A==="checkbox"?C:_}))},w=(E,T)=>{const _=E.split(",").map(A=>A.trim()).filter(Boolean);d(A=>({...A,[T]:_}))},S=async E=>{var A;const T=(A=E.target.files)==null?void 0:A[0];if(!T)return;if(T.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!T.type.startsWith("image/")){alert("Please select a valid image file");return}const _=new FileReader;_.onload=()=>{d(C=>({...C,image:_.result}))},_.readAsDataURL(T)},R=E=>{E.preventDefault(),g.mutate(u)},N=E=>{window.confirm("Are you sure you want to delete this team member?")&&v.mutate(E)};return h?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Team Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Team Member"})]})]}),a&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${l==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[l==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),a]}),f&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:f.totalMembers})]})]})}),s.jsx("div",{className:"bg-ajira-accent/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"w-8 h-8 text-ajira-accent"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Founders"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-accent",children:f.founders})]})]})}),s.jsx("div",{className:"bg-ajira-secondary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wa,{className:"w-8 h-8 text-ajira-secondary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Leadership"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-secondary",children:f.leadership})]})]})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Departments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:((k=f.departments)==null?void 0:k.length)||0})]})]})})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Team Member":"Add New Team Member"}),s.jsxs("form",{onSubmit:R,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:b,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsx("input",{type:"text",name:"role",value:u.role,onChange:b,required:!0,placeholder:"e.g., Founder, Developer, Designer",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",name:"title",value:u.title,onChange:b,placeholder:"Job title/position",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsxs("select",{name:"department",value:u.department,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select Department"}),s.jsx("option",{value:"Leadership",children:"Leadership"}),s.jsx("option",{value:"Development",children:"Development"}),s.jsx("option",{value:"Design",children:"Design"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Management",children:"Management"}),s.jsx("option",{value:"Training",children:"Training"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),s.jsx("textarea",{name:"bio",value:u.bio,onChange:b,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),s.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"}),u.image&&s.jsx("img",{src:u.image,alt:"Preview",className:"mt-2 w-20 h-20 object-cover rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),s.jsx("input",{type:"text",value:u.skills.join(", "),onChange:E=>w(E.target.value,"skills"),placeholder:"React, Node.js, Design (separate with commas)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),s.jsx("input",{type:"text",name:"experience",value:u.experience,onChange:b,placeholder:"5+ years",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFounder",checked:u.isFounder,onChange:b,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Founder"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isLeadership",checked:u.isLeadership,onChange:b,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Leadership Team"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:y,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:g.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Team Member"]})]})})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:m==null?void 0:m.map(E=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:E.image||"/images/default-avatar.png",alt:E.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),s.jsxs("div",{className:"flex items-center space-x-2",children:[E.isFounder&&s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Founder"}),E.isLeadership&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Leadership"})]})]}),s.jsx("p",{className:"text-ajira-primary font-medium",children:E.role}),E.title&&s.jsx("p",{className:"text-sm text-gray-600",children:E.title}),E.department&&s.jsx("p",{className:"text-sm text-gray-500",children:E.department}),s.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:E.bio}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p(E),className:"text-ajira-primary hover:text-ajira-primary/80",children:s.jsx(ho,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j.mutate({id:E._id,isActive:E.isActive}),className:"text-gray-600 hover:text-gray-800",children:E.isActive?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(na,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(E._id),className:"text-red-600 hover:text-red-800",children:s.jsx(ai,{className:"w-4 h-4"})})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:E.isActive?"Active":"Inactive"})]})]})]})},E._id))}),(m==null?void 0:m.length)===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No team members yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start building your team by adding the first member."}),s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Team Member"})]})]})})},bi="http://localhost:5000/api",cee=()=>{var M,z;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(""),[m,h]=P.useState(""),[f,g]=P.useState({title:"",excerpt:"",content:"",author:"",authorEmail:"",category:"General",tags:[],featured:!1,priority:"Medium",status:"Draft",publishDate:new Date().toISOString().split("T")[0],expiryDate:"",images:[],eventDetails:{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:{metaTitle:"",metaDescription:"",keywords:[]}}),{data:v,isLoading:j}=Ct(["adminUpdates",a,l],async()=>{let D=`${bi}/updates/admin?limit=50`;return a!=="all"&&(D+=`&status=${a}`),l!=="all"&&(D+=`&category=${l}`),(await be.get(D)).data}),{data:y}=Ct("updateStats",async()=>(await be.get(`${bi}/updates/stats/overview`)).data),p=et(async D=>n?(await be.put(`${bi}/updates/${n._id}`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${bi}/updates`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d(n?"Update saved successfully!":"Update created successfully!"),h("success"),setTimeout(()=>d(""),3e3),N()},onError:D=>{var F,H;d(((H=(F=D.response)==null?void 0:F.data)==null?void 0:H.message)||"Failed to save update"),h("error"),setTimeout(()=>d(""),3e3)}}),b=et(async D=>(await be.delete(`${bi}/updates/${D}`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update deleted successfully!"),h("success"),setTimeout(()=>d(""),3e3)},onError:D=>{var F,H;d(((H=(F=D.response)==null?void 0:F.data)==null?void 0:H.message)||"Failed to delete update"),h("error"),setTimeout(()=>d(""),3e3)}}),w=et(async D=>(await be.patch(`${bi}/updates/${D}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update published successfully!"),h("success"),setTimeout(()=>d(""),3e3)}}),S=et(async D=>(await be.patch(`${bi}/updates/${D}/archive`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats"),d("Update archived successfully!"),h("success"),setTimeout(()=>d(""),3e3)}}),R=et(async D=>(await be.patch(`${bi}/updates/${D}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminUpdates"),t.invalidateQueries("updateStats")}}),N=()=>{g({title:"",excerpt:"",content:"",author:"",authorEmail:"",category:"General",tags:[],featured:!1,priority:"Medium",status:"Draft",publishDate:new Date().toISOString().split("T")[0],expiryDate:"",images:[],eventDetails:{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:{metaTitle:"",metaDescription:"",keywords:[]}}),i(null),r(!1)},k=D=>{g({...D,publishDate:D.publishDate?new Date(D.publishDate).toISOString().split("T")[0]:"",expiryDate:D.expiryDate?new Date(D.expiryDate).toISOString().split("T")[0]:"",eventDetails:D.eventDetails||{eventDate:"",location:"",registrationLink:"",capacity:""},seoMeta:D.seoMeta||{metaTitle:"",metaDescription:"",keywords:[]}}),i(D),r(!0)},E=D=>{const{name:F,value:H,type:W,checked:Q}=D.target;if(F.includes(".")){const[X,G]=F.split(".");g(K=>({...K,[X]:{...K[X],[G]:H}}))}else g(X=>({...X,[F]:W==="checkbox"?Q:H}))},T=(D,F)=>{if(F==="tags"||F==="keywords"){const H=D.split(",").map(W=>W.trim()).filter(Boolean);g(F==="keywords"?W=>({...W,seoMeta:{...W.seoMeta,keywords:H}}):W=>({...W,[F]:H}))}},_=async D=>{const H=Array.from(D.target.files).map(W=>new Promise((Q,X)=>{if(W.size>5*1024*1024){alert("Image size must be less than 5MB"),X("File too large");return}if(!W.type.startsWith("image/")){alert("Please select valid image files"),X("Invalid file type");return}const G=new FileReader;G.onload=()=>Q(G.result),G.onerror=X,G.readAsDataURL(W)}));try{const W=await Promise.all(H);g(Q=>({...Q,images:[...Q.images,...W]}))}catch(W){console.error("Image upload error:",W)}},A=D=>{g(F=>({...F,images:F.images.filter((H,W)=>W!==D)}))},C=D=>{D.preventDefault();const F={...f,publishDate:f.publishDate?new Date(f.publishDate):new Date,expiryDate:f.expiryDate?new Date(f.expiryDate):null,eventDetails:{...f.eventDetails,eventDate:f.eventDetails.eventDate?new Date(f.eventDetails.eventDate):null,capacity:f.eventDetails.capacity?parseInt(f.eventDetails.capacity):null}};p.mutate(F)},O=D=>{window.confirm("Are you sure you want to delete this update?")&&b.mutate(D)},U=D=>{switch(D){case"Published":return"text-green-600 bg-green-100";case"Draft":return"text-yellow-600 bg-yellow-100";case"Archived":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},L=D=>{switch(D){case"Urgent":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-blue-600 bg-blue-100";case"Low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},q=D=>{switch(D){case"Announcement":return s.jsx(FE,{className:"w-4 h-4"});case"Event":return s.jsx(Yt,{className:"w-4 h-4"});case"Achievement":return s.jsx(ds,{className:"w-4 h-4"});case"Training":return s.jsx(mn,{className:"w-4 h-4"});default:return s.jsx(mn,{className:"w-4 h-4"})}};return j?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Club Updates Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Update"})]})]}),u&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${m==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[m==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),u]}),y&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(mn,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Updates"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:y.totalUpdates})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.publishedUpdates})]})]})}),s.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:y.draftUpdates})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ct,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Featured"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.featuredUpdates})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Archived",children:"Archived"})]}),s.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Announcement",children:"Announcement"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Achievement",children:"Achievement"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"General",children:"General"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Update":"Create New Update"}),s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:f.title,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),s.jsx("textarea",{name:"excerpt",value:f.excerpt,onChange:E,required:!0,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),s.jsx("textarea",{name:"content",value:f.content,onChange:E,required:!0,rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author *"}),s.jsx("input",{type:"text",name:"author",value:f.author,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:f.category,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Announcement",children:"Announcement"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Achievement",children:"Achievement"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Partnership",children:"Partnership"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),s.jsxs("select",{name:"priority",value:f.priority,onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:f.status,onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:f.tags.join(", "),onChange:D=>T(D.target.value,"tags"),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"}),f.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.images.map((D,F)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:D,alt:`Preview ${F}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>A(F),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"×"})]},F))})]})]}),s.jsx("div",{className:"flex items-center space-x-6",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"featured",checked:f.featured,onChange:E,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Update"})]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:p.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Update"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:(M=v==null?void 0:v.updates)==null?void 0:M.map(D=>{var F;return s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[q(D.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),D.featured&&s.jsx(ct,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:D.excerpt}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(D.status)}`,children:D.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(D.priority)}`,children:D.priority}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(D.publishDate).toLocaleDateString()})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[((F=D.engagement)==null?void 0:F.views)||0," views"]})]}),s.jsxs("span",{children:["By ",D.author]})]}),D.tags&&D.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:D.tags.map((H,W)=>s.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["#",H]},W))})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>k(D),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(ho,{className:"w-4 h-4"})}),D.status==="Draft"&&s.jsx("button",{onClick:()=>w.mutate(D._id),className:"text-green-600 hover:text-green-800",title:"Publish",children:s.jsx(zt,{className:"w-4 h-4"})}),D.status==="Published"&&s.jsx("button",{onClick:()=>S.mutate(D._id),className:"text-gray-600 hover:text-gray-800",title:"Archive",children:s.jsx(DE,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R.mutate(D._id),className:`${D.featured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(ct,{className:`w-4 h-4 ${D.featured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>O(D._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},D._id)})}),((z=v==null?void 0:v.updates)==null?void 0:z.length)===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No updates yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start sharing updates with your community."}),s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Create First Update"})]})]})})},Ea="http://localhost:5000/api",uee=()=>{var q;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(""),[m,h]=P.useState(""),[f,g]=P.useState(""),[v,j]=P.useState({question:"",answer:"",category:"General",tags:[],priority:0,isPublished:!0,isPopular:!1,relatedFAQs:[],seoMeta:{metaTitle:"",metaDescription:"",keywords:[]},displayOrder:0}),{data:y,isLoading:p}=Ct(["adminFAQs",a,l],async()=>{let M=`${Ea}/faq/admin?limit=100`;return a!=="all"&&(M+=`&category=${a}`),l!=="all"&&(M+=`&isPublished=${l}`),(await be.get(M)).data}),{data:b}=Ct("faqStats",async()=>(await be.get(`${Ea}/faq/stats/overview`)).data),w=et(async M=>n?(await be.put(`${Ea}/faq/${n._id}`,{...M,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Ea}/faq`,{...M,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats"),h(n?"FAQ updated successfully!":"FAQ created successfully!"),g("success"),setTimeout(()=>h(""),3e3),k()},onError:M=>{var z,D;h(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to save FAQ"),g("error"),setTimeout(()=>h(""),3e3)}}),S=et(async M=>(await be.delete(`${Ea}/faq/${M}`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats"),h("FAQ deleted successfully!"),g("success"),setTimeout(()=>h(""),3e3)},onError:M=>{var z,D;h(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to delete FAQ"),g("error"),setTimeout(()=>h(""),3e3)}}),R=et(async M=>(await be.patch(`${Ea}/faq/${M}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats")}}),N=et(async M=>(await be.patch(`${Ea}/faq/${M}/popular`)).data,{onSuccess:()=>{t.invalidateQueries("adminFAQs"),t.invalidateQueries("faqStats")}}),k=()=>{j({question:"",answer:"",category:"General",tags:[],priority:0,isPublished:!0,isPopular:!1,relatedFAQs:[],seoMeta:{metaTitle:"",metaDescription:"",keywords:[]},displayOrder:0}),i(null),r(!1)},E=M=>{var z;j({...M,tags:M.tags||[],relatedFAQs:((z=M.relatedFAQs)==null?void 0:z.map(D=>D._id))||[],seoMeta:M.seoMeta||{metaTitle:"",metaDescription:"",keywords:[]}}),i(M),r(!0)},T=M=>{const{name:z,value:D,type:F,checked:H}=M.target;if(z.includes(".")){const[W,Q]=z.split(".");j(X=>({...X,[W]:{...X[W],[Q]:D}}))}else j(W=>({...W,[z]:F==="checkbox"?H:F==="number"?parseInt(D)||0:D}))},_=(M,z)=>{const D=M.split(",").map(F=>F.trim()).filter(Boolean);j(z==="keywords"?F=>({...F,seoMeta:{...F.seoMeta,keywords:D}}):F=>({...F,[z]:D}))},A=M=>{M.preventDefault(),w.mutate(v)},C=M=>{window.confirm("Are you sure you want to delete this FAQ?")&&S.mutate(M)},O=M=>M?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100",U=M=>M>=5?"text-red-600 bg-red-100":M>=3?"text-orange-600 bg-orange-100":M>=1?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100",L=((q=y==null?void 0:y.faqs)==null?void 0:q.filter(M=>{if(!u)return!0;const z=u.toLowerCase();return M.question.toLowerCase().includes(z)||M.answer.toLowerCase().includes(z)||M.tags.some(D=>D.toLowerCase().includes(z))}))||[];return p?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"FAQ Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add FAQ"})]})]}),m&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${f==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[f==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),m]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wO,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total FAQs"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:b.totalFAQs})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.publishedFAQs})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ct,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Popular"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:b.popularFAQs})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ds,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.totalViews})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:a,onChange:M=>o(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Membership",children:"Membership"}),s.jsx("option",{value:"Events",children:"Events"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Technical",children:"Technical"}),s.jsx("option",{value:"Certification",children:"Certification"}),s.jsx("option",{value:"Career",children:"Career"}),s.jsx("option",{value:"Payment",children:"Payment"})]}),s.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"true",children:"Published"}),s.jsx("option",{value:"false",children:"Unpublished"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search FAQs...",value:u,onChange:M=>d(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit FAQ":"Add New FAQ"}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question *"}),s.jsx("input",{type:"text",name:"question",value:v.question,onChange:T,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer *"}),s.jsx("textarea",{name:"answer",value:v.answer,onChange:T,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:v.category,onChange:T,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Membership",children:"Membership"}),s.jsx("option",{value:"Events",children:"Events"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Technical",children:"Technical"}),s.jsx("option",{value:"Certification",children:"Certification"}),s.jsx("option",{value:"Career",children:"Career"}),s.jsx("option",{value:"Payment",children:"Payment"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority (0-10)"}),s.jsx("input",{type:"number",name:"priority",value:v.priority,onChange:T,min:"0",max:"10",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:v.tags.join(", "),onChange:M=>_(M.target.value,"tags"),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPublished",checked:v.isPublished,onChange:T,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Published"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPopular",checked:v.isPopular,onChange:T,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Popular FAQ"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:k,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:w.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:w.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," FAQ"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:L.map(M=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.question}),M.isPopular&&s.jsx(ct,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-3",children:M.answer}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(M.isPublished)}`,children:M.isPublished?"Published":"Unpublished"}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(M.priority)}`,children:["Priority: ",M.priority]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(zt,{className:"w-4 h-4"}),s.jsxs("span",{children:[M.viewCount," views"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Km,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:M.helpfulCount})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(yl,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{children:M.notHelpfulCount})]}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:M.category})]}),M.tags&&M.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:M.tags.map((z,D)=>s.jsxs("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["#",z]},D))})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>E(M),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(ho,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R.mutate(M._id),className:`${M.isPublished?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Publish",children:M.isPublished?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(na,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N.mutate(M._id),className:`${M.isPopular?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Popular",children:s.jsx(ct,{className:`w-4 h-4 ${M.isPopular?"fill-current":""}`})}),s.jsx("button",{onClick:()=>C(M._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},M._id))}),L.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No FAQs found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u?"No FAQs match your search criteria.":"Start building your FAQ section by adding the first question."}),!u&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First FAQ"})]})]})})},$c="http://localhost:5000/api",dee=()=>{var q;const t=ps(),[e,r]=P.useState("all"),[n,i]=P.useState("all"),[a,o]=P.useState("all"),[l,c]=P.useState(""),[u,d]=P.useState(null),[m,h]=P.useState(!1),[f,g]=P.useState(""),[v,j]=P.useState(""),{data:y,isLoading:p}=Ct(["adminContacts",e,n,a],async()=>{let M=`${$c}/contact/admin?limit=100`;return e!=="all"&&(M+=`&status=${e}`),n!=="all"&&(M+=`&category=${n}`),a!=="all"&&(M+=`&priority=${a}`),(await be.get(M)).data}),{data:b}=Ct("contactStats",async()=>(await be.get(`${$c}/contact/stats/overview`)).data),w=et(async({id:M,status:z,responseNotes:D,assignedTo:F})=>(await be.patch(`${$c}/contact/${M}/status`,{status:z,responseNotes:D,assignedTo:F})).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact status updated successfully!"),j("success"),setTimeout(()=>g(""),3e3)},onError:M=>{var z,D;g(((D=(z=M.response)==null?void 0:z.data)==null?void 0:D.message)||"Failed to update status"),j("error"),setTimeout(()=>g(""),3e3)}}),S=et(async M=>(await be.patch(`${$c}/contact/${M}/archive`)).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact archived successfully!"),j("success"),setTimeout(()=>g(""),3e3)}}),R=et(async M=>(await be.delete(`${$c}/contact/${M}`)).data,{onSuccess:()=>{t.invalidateQueries("adminContacts"),t.invalidateQueries("contactStats"),g("Contact deleted successfully!"),j("success"),setTimeout(()=>g(""),3e3)}}),N=M=>{d(M),h(!0)},k=(M,z)=>{w.mutate({id:M._id,status:z,assignedTo:"admin@ajirakinap.com"})},E=M=>{window.confirm("Are you sure you want to archive this contact message?")&&S.mutate(M)},T=M=>{window.confirm("Are you sure you want to delete this contact message? This action cannot be undone.")&&R.mutate(M)},_=M=>{switch(M){case"New":return"text-blue-600 bg-blue-100";case"In Progress":return"text-yellow-600 bg-yellow-100";case"Responded":return"text-green-600 bg-green-100";case"Resolved":return"text-green-700 bg-green-200";case"Closed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},A=M=>{switch(M){case"Urgent":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-blue-600 bg-blue-100";case"Low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},C=M=>{switch(M){case"Technical Support":return s.jsx(qt,{className:"w-4 h-4"});case"Partnership":return s.jsx(Ke,{className:"w-4 h-4"});case"Training":return s.jsx(ud,{className:"w-4 h-4"});default:return s.jsx(br,{className:"w-4 h-4"})}},O=M=>{var H;const z=`Hi ${M.name}, thank you for contacting Ajira Digital KiNaP Club regarding: ${M.subject}`,F=`https://wa.me/${((H=M.phone)==null?void 0:H.replace(/\D/g,""))||"254792343958"}?text=${encodeURIComponent(z)}`;window.open(F,"_blank")},U=M=>{const z=`Re: ${M.subject}`,D=`Hi ${M.name},

Thank you for contacting Ajira Digital KiNaP Club.

Best regards,
Ajira Digital Team`,F=`mailto:${M.email}?subject=${encodeURIComponent(z)}&body=${encodeURIComponent(D)}`;window.open(F,"_blank")},L=((q=y==null?void 0:y.contacts)==null?void 0:q.filter(M=>{if(!l)return!0;const z=l.toLowerCase();return M.name.toLowerCase().includes(z)||M.email.toLowerCase().includes(z)||M.subject.toLowerCase().includes(z)||M.message.toLowerCase().includes(z)}))||[];return p?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Contact Messages"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[L.length," message",L.length!==1?"s":""]})})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),b&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Messages"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:b.totalMessages})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(qt,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Unread"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b.unreadMessages})]})]})}),s.jsx("div",{className:"bg-yellow-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"New"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b.newMessages})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.resolvedMessages})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:e,onChange:M=>r(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Responded",children:"Responded"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Closed",children:"Closed"})]}),s.jsxs("select",{value:n,onChange:M=>i(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),s.jsx("option",{value:"Technical Support",children:"Technical Support"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Complaint",children:"Complaint"}),s.jsx("option",{value:"Suggestion",children:"Suggestion"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:a,onChange:M=>o(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"Urgent",children:"Urgent"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search messages...",value:l,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),s.jsx("div",{className:"space-y-4",children:L.map(M=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[C(M.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.subject}),!M.isRead&&s.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"New"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:M.name})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(br,{className:"w-4 h-4"}),s.jsx("span",{children:M.email})]}),M.phone&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Za,{className:"w-4 h-4"}),s.jsx("span",{children:M.phone})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(M.createdAt).toLocaleDateString()})]})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:M.message}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(M.status)}`,children:M.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(M.priority)}`,children:M.priority}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:M.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>N(M),className:"text-ajira-primary hover:text-ajira-primary/80",title:"View Details",children:s.jsx(zt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>U(M),className:"text-blue-600 hover:text-blue-800",title:"Reply via Email",children:s.jsx(br,{className:"w-4 h-4"})}),M.phone&&s.jsx("button",{onClick:()=>O(M),className:"text-green-600 hover:text-green-800",title:"Reply via WhatsApp",children:s.jsx(Gs,{className:"w-4 h-4"})}),s.jsxs("select",{value:M.status,onChange:z=>k(M,z.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Responded",children:"Responded"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Closed",children:"Closed"})]}),s.jsx("button",{onClick:()=>E(M._id),className:"text-gray-600 hover:text-gray-800",title:"Archive",children:s.jsx(DE,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(M._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},M._id))}),L.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No contact messages found"}),s.jsx("p",{className:"text-gray-600",children:l?"No messages match your search criteria.":"No contact messages have been received yet."})]})]}),m&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Details"}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bO,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:u.email})]}),u.phone&&s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:u.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Category"}),s.jsx("p",{className:"text-gray-900",children:u.category})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Subject"}),s.jsx("p",{className:"text-gray-900",children:u.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Message"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mt-2",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.message})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t",children:[s.jsxs("button",{onClick:()=>U(u),className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 flex items-center space-x-2",children:[s.jsx(br,{className:"w-4 h-4"}),s.jsx("span",{children:"Reply via Email"})]}),u.phone&&s.jsxs("button",{onClick:()=>O(u),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Reply via WhatsApp"})]})]})]})]})})})]})},Ta="http://localhost:5000/api",hee=()=>{var z;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[m,h]=P.useState(""),[f,g]=P.useState(""),[v,j]=P.useState(""),[y,p]=P.useState({title:"",description:"",shortDescription:"",category:"Web Development",level:"Beginner",duration:{weeks:0,hours:0,totalHours:0},schedule:{format:"Online",days:[],timeSlot:"",startDate:"",endDate:""},instructor:{name:"",bio:"",email:"",experience:"",specialization:[]},learningOutcomes:[],prerequisites:[],tools:[],certification:{provided:!0,title:"",validityPeriod:"Lifetime"},pricing:{isFree:!1,regularPrice:0,discountPrice:0,currency:"KES"},enrollment:{capacity:50,isOpen:!0},features:[],tags:[],status:"Draft",isFeatured:!1,isActive:!0}),{data:b,isLoading:w}=Ct(["adminTrainings",a,l,u],async()=>{let D=`${Ta}/training/admin?limit=100`;return a!=="all"&&(D+=`&category=${a}`),l!=="all"&&(D+=`&level=${l}`),u!=="all"&&(D+=`&status=${u}`),(await be.get(D)).data}),{data:S}=Ct("trainingStats",async()=>(await be.get(`${Ta}/training/stats/overview`)).data),R=et(async D=>n?(await be.put(`${Ta}/training/${n._id}`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${Ta}/training`,{...D,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats"),g(n?"Training program updated successfully!":"Training program created successfully!"),j("success"),setTimeout(()=>g(""),3e3),T()},onError:D=>{var F,H;g(((H=(F=D.response)==null?void 0:F.data)==null?void 0:H.message)||"Failed to save training program"),j("error"),setTimeout(()=>g(""),3e3)}}),N=et(async D=>(await be.delete(`${Ta}/training/${D}`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats"),g("Training program deleted successfully!"),j("success"),setTimeout(()=>g(""),3e3)},onError:D=>{var F,H;g(((H=(F=D.response)==null?void 0:F.data)==null?void 0:H.message)||"Failed to delete training program"),j("error"),setTimeout(()=>g(""),3e3)}}),k=et(async D=>(await be.patch(`${Ta}/training/${D}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats")}}),E=et(async D=>(await be.patch(`${Ta}/training/${D}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminTrainings"),t.invalidateQueries("trainingStats")}}),T=()=>{p({title:"",description:"",shortDescription:"",category:"Web Development",level:"Beginner",duration:{weeks:0,hours:0,totalHours:0},schedule:{format:"Online",days:[],timeSlot:"",startDate:"",endDate:""},instructor:{name:"",bio:"",email:"",experience:"",specialization:[]},learningOutcomes:[],prerequisites:[],tools:[],certification:{provided:!0,title:"",validityPeriod:"Lifetime"},pricing:{isFree:!1,regularPrice:0,discountPrice:0,currency:"KES"},enrollment:{capacity:50,isOpen:!0},features:[],tags:[],status:"Draft",isFeatured:!1,isActive:!0}),i(null),r(!1)},_=D=>{p({...D,learningOutcomes:D.learningOutcomes||[],prerequisites:D.prerequisites||[],tools:D.tools||[],features:D.features||[],tags:D.tags||[]}),i(D),r(!0)},A=D=>{const{name:F,value:H,type:W,checked:Q}=D.target;if(F.includes(".")){const[X,G]=F.split(".");p(K=>({...K,[X]:{...K[X],[G]:W==="number"?parseFloat(H)||0:H}}))}else p(X=>({...X,[F]:W==="checkbox"?Q:W==="number"?parseFloat(H)||0:H}))},C=(D,F)=>{const H=D.split(",").map(W=>W.trim()).filter(Boolean);p(W=>({...W,[F]:H}))},O=D=>{D.preventDefault(),R.mutate(y)},U=D=>{window.confirm("Are you sure you want to delete this training program?")&&N.mutate(D)},L=D=>{switch(D){case"Published":return"text-green-600 bg-green-100";case"Draft":return"text-gray-600 bg-gray-100";case"Coming Soon":return"text-blue-600 bg-blue-100";case"In Progress":return"text-yellow-600 bg-yellow-100";case"Completed":return"text-green-700 bg-green-200";case"Cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},q=D=>{switch(D){case"Beginner":return"text-green-600 bg-green-100";case"Intermediate":return"text-yellow-600 bg-yellow-100";case"Advanced":return"text-red-600 bg-red-100";case"All Levels":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},M=((z=b==null?void 0:b.trainings)==null?void 0:z.filter(D=>{if(!m)return!0;const F=m.toLowerCase();return D.title.toLowerCase().includes(F)||D.description.toLowerCase().includes(F)||D.instructor.name.toLowerCase().includes(F)||D.tags.some(H=>H.toLowerCase().includes(F))}))||[];return w?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Training Programs"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Training"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),S&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xa,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:S.totalTrainings})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zt,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.publishedTrainings})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ct,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Featured"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.featuredTrainings})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Enrollments"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.totalEnrollments})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Content Writing",children:"Content Writing"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"Beginner",children:"Beginner"}),s.jsx("option",{value:"Intermediate",children:"Intermediate"}),s.jsx("option",{value:"Advanced",children:"Advanced"}),s.jsx("option",{value:"All Levels",children:"All Levels"})]}),s.jsxs("select",{value:u,onChange:D=>d(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Coming Soon",children:"Coming Soon"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search training programs...",value:m,onChange:D=>h(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Training Program":"Add New Training Program"}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",name:"title",value:y.title,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:y.category,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Content Writing",children:"Content Writing"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),s.jsx("textarea",{name:"shortDescription",value:y.shortDescription,onChange:A,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description *"}),s.jsx("textarea",{name:"description",value:y.description,onChange:A,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level *"}),s.jsxs("select",{name:"level",value:y.level,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Beginner",children:"Beginner"}),s.jsx("option",{value:"Intermediate",children:"Intermediate"}),s.jsx("option",{value:"Advanced",children:"Advanced"}),s.jsx("option",{value:"All Levels",children:"All Levels"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Hours *"}),s.jsx("input",{type:"number",name:"duration.totalHours",value:y.duration.totalHours,onChange:A,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),s.jsx("input",{type:"number",name:"enrollment.capacity",value:y.enrollment.capacity,onChange:A,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor Name *"}),s.jsx("input",{type:"text",name:"instructor.name",value:y.instructor.name,onChange:A,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor Email"}),s.jsx("input",{type:"email",name:"instructor.email",value:y.instructor.email,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:y.pricing.isFree,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Course"})]}),!y.pricing.isFree&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regular Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.regularPrice",value:y.pricing.regularPrice,onChange:A,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.discountPrice",value:y.pricing.discountPrice,onChange:A,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Outcomes (comma-separated)"}),s.jsx("textarea",{value:y.learningOutcomes.join(", "),onChange:D=>C(D.target.value,"learningOutcomes"),rows:3,placeholder:"Web development skills, JavaScript proficiency, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisites (comma-separated)"}),s.jsx("textarea",{value:y.prerequisites.join(", "),onChange:D=>C(D.target.value,"prerequisites"),rows:3,placeholder:"Basic computer skills, HTML knowledge, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:y.tags.join(", "),onChange:D=>C(D.target.value,"tags"),placeholder:"javascript, web development, frontend, backend",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:y.isFeatured,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Program"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isActive",checked:y.isActive,onChange:A,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:y.status,onChange:A,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Coming Soon",children:"Coming Soon"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:T,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:R.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:R.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Training"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:M.map(D=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),D.isFeatured&&s.jsx(ct,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:D.shortDescription||D.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(D.status)}`,children:D.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q(D.level)}`,children:D.level}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:D.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[D.duration.totalHours,"h"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ze,{className:"w-4 h-4"}),s.jsxs("span",{children:[D.enrollment.enrolled,"/",D.enrollment.capacity]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Qn,{className:"w-4 h-4"}),s.jsx("span",{children:D.pricing.isFree?"Free":`KES ${D.pricing.regularPrice.toLocaleString()}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Instructor: ",D.instructor.name]}),s.jsxs("span",{children:["Views: ",D.statistics.views]}),D.ratings.totalRatings>0&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ct,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[D.ratings.average," (",D.ratings.totalRatings,")"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>_(D),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(ho,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>k.mutate(D._id),className:`${D.status==="Published"?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Publish",children:D.status==="Published"?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(na,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E.mutate(D._id),className:`${D.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(ct,{className:`w-4 h-4 ${D.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>U(D._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},D._id))}),M.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No training programs found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:m?"No programs match your search criteria.":"Start building your training catalog by adding the first program."}),!m&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Training Program"})]})]})})},ji="http://localhost:5000/api",mee=()=>{var Q,X,G,K,J;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[m,h]=P.useState(""),[f,g]=P.useState(""),[v,j]=P.useState(""),[y,p]=P.useState("mentors"),[b,w]=P.useState({title:"",description:"",shortDescription:"",category:"Web Development",expertiseLevel:"Senior",mentorshipType:"One-on-One",sessionFormat:"Video Call",mentor:{name:"",email:"",phone:"",bio:"",title:"",company:"",experience:"",linkedinProfile:"",githubProfile:"",timezone:"Africa/Nairobi"},availability:{isAvailable:!0,status:"Available",responseTime:"Within 24 hours",weeklyHours:5,maxMentees:5},pricing:{isFree:!1,sessionRate:0,hourlyRate:0,currency:"KES"},skills:[],specializations:[],mentorshipFocus:[],targetAudience:[],instantAvailability:{enabled:!0,maxInstantRequests:3},location:{city:"",country:"Kenya",isLocationEnabled:!1},verification:{isVerified:!1,badgeLevel:"Bronze"},settings:{instantNotifications:!0,emailNotifications:!0,smsNotifications:!1,publicProfile:!0,searchable:!0},status:"Pending Approval",isFeatured:!1}),{data:S,isLoading:R}=Ct(["adminMentors",a,l,u],async()=>{let $=`${ji}/mentorship/admin?limit=100`;return a!=="all"&&($+=`&category=${a}`),l!=="all"&&($+=`&expertiseLevel=${l}`),u!=="all"&&($+=`&status=${u}`),(await be.get($)).data}),{data:N}=Ct("mentorshipStats",async()=>(await be.get(`${ji}/mentorship/admin/stats/overview`)).data),{data:k}=Ct("mentorshipRequests",async()=>(await be.get(`${ji}/mentorship/admin/requests`)).data,{enabled:y==="requests"}),E=et(async $=>n?(await be.put(`${ji}/mentorship/admin/${n._id}`,{...$,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${ji}/mentorship/admin`,{...$,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats"),g(n?"Mentor updated successfully!":"Mentor created successfully!"),j("success"),setTimeout(()=>g(""),3e3),C()},onError:$=>{var Z,se;g(((se=(Z=$.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to save mentor"),j("error"),setTimeout(()=>g(""),3e3)}}),T=et(async $=>(await be.delete(`${ji}/mentorship/admin/${$}`)).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats"),g("Mentor deleted successfully!"),j("success"),setTimeout(()=>g(""),3e3)},onError:$=>{var Z,se;g(((se=(Z=$.response)==null?void 0:Z.data)==null?void 0:se.message)||"Failed to delete mentor"),j("error"),setTimeout(()=>g(""),3e3)}}),_=et(async({id:$,status:Z})=>(await be.patch(`${ji}/mentorship/admin/${$}/status`,{status:Z})).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats")}}),A=et(async $=>(await be.patch(`${ji}/mentorship/admin/${$}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminMentors"),t.invalidateQueries("mentorshipStats")}}),C=()=>{w({title:"",description:"",shortDescription:"",category:"Web Development",expertiseLevel:"Senior",mentorshipType:"One-on-One",sessionFormat:"Video Call",mentor:{name:"",email:"",phone:"",bio:"",title:"",company:"",experience:"",linkedinProfile:"",githubProfile:"",timezone:"Africa/Nairobi"},availability:{isAvailable:!0,status:"Available",responseTime:"Within 24 hours",weeklyHours:5,maxMentees:5},pricing:{isFree:!1,sessionRate:0,hourlyRate:0,currency:"KES"},skills:[],specializations:[],mentorshipFocus:[],targetAudience:[],instantAvailability:{enabled:!0,maxInstantRequests:3},location:{city:"",country:"Kenya",isLocationEnabled:!1},verification:{isVerified:!1,badgeLevel:"Bronze"},settings:{instantNotifications:!0,emailNotifications:!0,smsNotifications:!1,publicProfile:!0,searchable:!0},status:"Pending Approval",isFeatured:!1}),i(null),r(!1)},O=$=>{w({...$,skills:$.skills||[],specializations:$.specializations||[],mentorshipFocus:$.mentorshipFocus||[],targetAudience:$.targetAudience||[]}),i($),r(!0)},U=$=>{const{name:Z,value:se,type:pe,checked:te}=$.target;if(Z.includes(".")){const[ge,Pe]=Z.split(".");w(Xe=>({...Xe,[ge]:{...Xe[ge],[Pe]:pe==="number"?parseFloat(se)||0:pe==="checkbox"?te:se}}))}else w(ge=>({...ge,[Z]:pe==="checkbox"?te:pe==="number"?parseFloat(se)||0:se}))},L=($,Z)=>{const se=$.split(",").map(pe=>pe.trim()).filter(Boolean);w(pe=>({...pe,[Z]:se}))},q=$=>{$.preventDefault(),E.mutate(b)},M=$=>{window.confirm("Are you sure you want to delete this mentor?")&&T.mutate($)},z=$=>{switch($){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"Suspended":return"text-red-600 bg-red-100";case"Under Review":return"text-yellow-600 bg-yellow-100";case"Pending Approval":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},D=$=>{switch($){case"Junior":return"text-green-600 bg-green-100";case"Mid-Level":return"text-blue-600 bg-blue-100";case"Senior":return"text-purple-600 bg-purple-100";case"Expert":return"text-yellow-600 bg-yellow-100";case"Thought Leader":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},F=$=>{switch($){case"Bronze":return"text-yellow-700 bg-yellow-100";case"Silver":return"text-gray-700 bg-gray-100";case"Gold":return"text-yellow-600 bg-yellow-200";case"Platinum":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},H=$=>{switch($){case"Critical":return"text-red-600 bg-red-100";case"High":return"text-orange-600 bg-orange-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},W=((Q=S==null?void 0:S.mentors)==null?void 0:Q.filter($=>{if(!m)return!0;const Z=m.toLowerCase();return $.mentor.name.toLowerCase().includes(Z)||$.mentor.email.toLowerCase().includes(Z)||$.description.toLowerCase().includes(Z)||$.skills.some(se=>se.toLowerCase().includes(Z))}))||[];return R?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Mentorship Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Mentor"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),s.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>p("mentors"),className:`px-4 py-2 rounded-md transition-colors ${y==="mentors"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ze,{className:"w-4 h-4 inline mr-2"}),"Mentors"]}),s.jsxs("button",{onClick:()=>p("requests"),className:`px-4 py-2 rounded-md transition-colors ${y==="requests"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx($h,{className:"w-4 h-4 inline mr-2"}),"Requests"]}),s.jsxs("button",{onClick:()=>p("analytics"),className:`px-4 py-2 rounded-md transition-colors ${y==="analytics"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ud,{className:"w-4 h-4 inline mr-2"}),"Analytics"]})]}),N&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Mentors"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:((X=N.mentorStats)==null?void 0:X.totalMentors)||0})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wa,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Mentors"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((G=N.mentorStats)==null?void 0:G.activeMentors)||0})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(OE,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Available Now"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((K=N.mentorStats)==null?void 0:K.availableMentors)||0})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($h,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Requests"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((J=N.requestStats)==null?void 0:J.activeRequests)||0})]})]})})]}),y==="mentors"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:a,onChange:$=>o($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Entrepreneurship",children:"Entrepreneurship"}),s.jsx("option",{value:"Career Development",children:"Career Development"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:$=>c($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Expertise Levels"}),s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"}),s.jsx("option",{value:"Thought Leader",children:"Thought Leader"})]}),s.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search mentors...",value:m,onChange:$=>h($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Mentor":"Add New Mentor"}),s.jsxs("form",{onSubmit:q,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Title *"}),s.jsx("input",{type:"text",name:"title",value:b.title,onChange:U,required:!0,placeholder:"e.g., Senior React Developer Mentorship",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:b.category,onChange:U,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Web Development",children:"Web Development"}),s.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),s.jsx("option",{value:"Data Science",children:"Data Science"}),s.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),s.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),s.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),s.jsx("option",{value:"Project Management",children:"Project Management"}),s.jsx("option",{value:"Entrepreneurship",children:"Entrepreneurship"}),s.jsx("option",{value:"Career Development",children:"Career Development"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentor Name *"}),s.jsx("input",{type:"text",name:"mentor.name",value:b.mentor.name,onChange:U,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentor Email *"}),s.jsx("input",{type:"email",name:"mentor.email",value:b.mentor.email,onChange:U,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:b.description,onChange:U,required:!0,rows:4,placeholder:"Describe what this mentor offers and their expertise...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expertise Level *"}),s.jsxs("select",{name:"expertiseLevel",value:b.expertiseLevel,onChange:U,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Junior",children:"Junior"}),s.jsx("option",{value:"Mid-Level",children:"Mid-Level"}),s.jsx("option",{value:"Senior",children:"Senior"}),s.jsx("option",{value:"Expert",children:"Expert"}),s.jsx("option",{value:"Thought Leader",children:"Thought Leader"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Rate (KES)"}),s.jsx("input",{type:"number",name:"pricing.sessionRate",value:b.pricing.sessionRate,onChange:U,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:b.pricing.isFree,onChange:U,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Mentorship"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated)"}),s.jsx("textarea",{value:b.skills.join(", "),onChange:$=>L($.target.value,"skills"),rows:3,placeholder:"React, Node.js, JavaScript, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations (comma-separated)"}),s.jsx("textarea",{value:b.specializations.join(", "),onChange:$=>L($.target.value,"specializations"),rows:3,placeholder:"Frontend Architecture, API Design, etc.",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:b.isFeatured,onChange:U,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured Mentor"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"availability.isAvailable",checked:b.availability.isAvailable,onChange:U,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"instantAvailability.enabled",checked:b.instantAvailability.enabled,onChange:U,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Instant Requests"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:b.status,onChange:U,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:C,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:E.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:E.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Mentor"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:W.map($=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.mentor.name}),$.isFeatured&&s.jsx(ct,{className:"w-5 h-5 text-yellow-500 fill-current"}),$.verification.isVerified&&s.jsx(vt,{className:"w-5 h-5 text-blue-500"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:$.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z($.status)}`,children:$.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D($.expertiseLevel)}`,children:$.expertiseLevel}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F($.verification.badgeLevel)}`,children:$.verification.badgeLevel}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:$.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:$.availability.responseTime})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ze,{className:"w-4 h-4"}),s.jsxs("span",{children:[$.availability.currentMentees,"/",$.availability.maxMentees]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Qn,{className:"w-4 h-4"}),s.jsx("span",{children:$.pricing.isFree?"Free":`KES ${$.pricing.sessionRate}/session`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(br,{className:"w-4 h-4"}),s.jsx("span",{children:$.mentor.email})]}),s.jsxs("span",{children:["Sessions: ",$.statistics.totalSessions]}),s.jsxs("span",{children:["Views: ",$.statistics.profileViews]}),$.ratings.totalRatings>0&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ct,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsxs("span",{children:[$.ratings.overall," (",$.ratings.totalRatings,")"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>O($),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(ho,{className:"w-4 h-4"})}),s.jsxs("select",{value:$.status,onChange:Z=>_.mutate({id:$._id,status:Z.target.value}),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Suspended",children:"Suspended"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]}),s.jsx("button",{onClick:()=>A.mutate($._id),className:`${$.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(ct,{className:`w-4 h-4 ${$.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>M($._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},$._id))})]}),y==="requests"&&k&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Mentorship Requests"}),k.requests.map($=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[$.mentee.name," - ",$.sessionType]}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["#",$.requestId]})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:$.problemDescription}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H($.urgency)}`,children:[$.urgency," Priority"]}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:$.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsx("span",{children:$.timeElapsed})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ze,{className:"w-4 h-4"}),s.jsxs("span",{children:[$.preferredDuration," min session"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Status: ",$.status]}),s.jsxs("span",{children:["Type: ",$.requestType]}),s.jsxs("span",{children:["Budget:"," ",$.budget.hasBudget?`KES ${$.budget.maxAmount}`:"Not specified"]})]})]}),s.jsx("div",{className:"ml-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$.status==="Completed"?"bg-green-100 text-green-800":$.status==="In Progress"?"bg-blue-100 text-blue-800":$.status==="Matched"?"bg-purple-100 text-purple-800":$.status==="Broadcasted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:$.status})})]})},$._id)),k.requests.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx($h,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No active requests"}),s.jsx("p",{className:"text-gray-600",children:"No mentorship requests at the moment."})]})]}),y==="analytics"&&N&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mentorship Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mentor Distribution"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Mentors"}),s.jsx("span",{className:"font-semibold",children:N.mentorStats.totalMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Mentors"}),s.jsx("span",{className:"font-semibold text-green-600",children:N.mentorStats.activeMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Available Now"}),s.jsx("span",{className:"font-semibold text-blue-600",children:N.mentorStats.availableMentors})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Verified Mentors"}),s.jsx("span",{className:"font-semibold text-purple-600",children:N.mentorStats.verifiedMentors})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Request Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Total Requests"}),s.jsx("span",{className:"font-semibold",children:N.requestStats.totalRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Active Requests"}),s.jsx("span",{className:"font-semibold text-orange-600",children:N.requestStats.activeRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Completed"}),s.jsx("span",{className:"font-semibold text-green-600",children:N.requestStats.completedRequests})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Avg Response Time"}),s.jsxs("span",{className:"font-semibold",children:[N.requestStats.averageResponseTime,"min"]})]})]})]})]}),N.mentorStats.categoryStats&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mentors by Category"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:N.mentorStats.categoryStats.map(($,Z)=>s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-semibold text-lg",children:$.count}),s.jsx("p",{className:"text-sm text-gray-600",children:$._id})]},Z))})]})]}),y==="mentors"&&W.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No mentors found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:m?"No mentors match your search criteria.":"Start building your mentor network by adding the first mentor."}),!m&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Mentor"})]})]})})},on="http://localhost:5000/api",fee=()=>{var G,K,J,$,Z,se,pe;const t=ps(),[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState("all"),[m,h]=P.useState(""),[f,g]=P.useState(""),[v,j]=P.useState(""),[y,p]=P.useState("events"),[b,w]=P.useState(null),[S,R]=P.useState({title:"",description:"",shortDescription:"",category:"Workshop",eventType:"Hybrid",format:"Free",schedule:{startDate:"",endDate:"",startTime:"14:00",endTime:"17:00",timezone:"Africa/Nairobi",isAllDay:!1},location:{venue:"",address:"",city:"Nairobi",country:"Kenya",virtualPlatform:"",meetingLink:"",directions:""},organizer:{name:"",email:"",phone:"",organization:"",bio:""},registration:{capacity:100,isRegistrationOpen:!0,waitlistEnabled:!0,requiresApproval:!1},pricing:{isFree:!0,regularPrice:0,currency:"KES"},speakers:[],agenda:[],prerequisites:[],targetAudience:[],learningOutcomes:[],tags:[],socialFeatures:{allowNetworking:!0,chatEnabled:!0,qnaEnabled:!0,certificateProvided:!1},status:"Draft",isPublished:!1,isFeatured:!1}),{data:N,isLoading:k}=Ct(["adminEvents",a,l,u],async()=>{let te=`${on}/events/admin/all?limit=100`;return a!=="all"&&(te+=`&category=${a}`),l!=="all"&&(te+=`&eventType=${l}`),u!=="all"&&(te+=`&status=${u}`),(await be.get(te)).data}),{data:E}=Ct("eventStats",async()=>(await be.get(`${on}/events/admin/stats/overview`)).data),{data:T}=Ct(["eventAttendees",b],async()=>b?(await be.get(`${on}/events/admin/${b}/attendees`)).data:null,{enabled:!!b&&y==="attendees"}),_=et(async te=>n?(await be.put(`${on}/events/admin/${n._id}`,{...te,lastUpdatedBy:"admin@ajirakinap.com"})).data:(await be.post(`${on}/events/admin`,{...te,lastUpdatedBy:"admin@ajirakinap.com"})).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats"),g(n?"Event updated successfully!":"Event created successfully!"),j("success"),setTimeout(()=>g(""),3e3),L()},onError:te=>{var ge,Pe;g(((Pe=(ge=te.response)==null?void 0:ge.data)==null?void 0:Pe.message)||"Failed to save event"),j("error"),setTimeout(()=>g(""),3e3)}}),A=et(async te=>(await be.delete(`${on}/events/admin/${te}`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats"),g("Event deleted successfully!"),j("success"),setTimeout(()=>g(""),3e3)},onError:te=>{var ge,Pe;g(((Pe=(ge=te.response)==null?void 0:ge.data)==null?void 0:Pe.message)||"Failed to delete event"),j("error"),setTimeout(()=>g(""),3e3)}}),C=et(async te=>(await be.patch(`${on}/events/admin/${te}/publish`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),O=et(async te=>(await be.patch(`${on}/events/admin/${te}/feature`)).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),U=et(async({id:te,status:ge})=>(await be.patch(`${on}/events/admin/${te}/status`,{status:ge})).data,{onSuccess:()=>{t.invalidateQueries("adminEvents"),t.invalidateQueries("eventStats")}}),L=()=>{R({title:"",description:"",shortDescription:"",category:"Workshop",eventType:"Hybrid",format:"Free",schedule:{startDate:"",endDate:"",startTime:"14:00",endTime:"17:00",timezone:"Africa/Nairobi",isAllDay:!1},location:{venue:"",address:"",city:"Nairobi",country:"Kenya",virtualPlatform:"",meetingLink:"",directions:""},organizer:{name:"",email:"",phone:"",organization:"",bio:""},registration:{capacity:100,isRegistrationOpen:!0,waitlistEnabled:!0,requiresApproval:!1},pricing:{isFree:!0,regularPrice:0,currency:"KES"},speakers:[],agenda:[],prerequisites:[],targetAudience:[],learningOutcomes:[],tags:[],socialFeatures:{allowNetworking:!0,chatEnabled:!0,qnaEnabled:!0,certificateProvided:!1},status:"Draft",isPublished:!1,isFeatured:!1}),i(null),r(!1)},q=te=>{R({...te,schedule:{...te.schedule,startDate:te.schedule.startDate?new Date(te.schedule.startDate).toISOString().split("T")[0]:"",endDate:te.schedule.endDate?new Date(te.schedule.endDate).toISOString().split("T")[0]:""}}),i(te),r(!0)},M=te=>{const{name:ge,value:Pe,type:Xe,checked:mt}=te.target;if(ge.includes(".")){const[oe,ue]=ge.split(".");R(ye=>({...ye,[oe]:{...ye[oe],[ue]:Xe==="number"?parseFloat(Pe)||0:Xe==="checkbox"?mt:Pe}}))}else R(oe=>({...oe,[ge]:Xe==="checkbox"?mt:Xe==="number"?parseFloat(Pe)||0:Pe}))},z=te=>{te.preventDefault(),_.mutate(S)},D=te=>{window.confirm("Are you sure you want to delete this event?")&&A.mutate(te)},F=te=>{switch(te){case"Published":return"text-green-600 bg-green-100";case"Registration Open":return"text-blue-600 bg-blue-100";case"Registration Closed":return"text-yellow-600 bg-yellow-100";case"In Progress":return"text-purple-600 bg-purple-100";case"Completed":return"text-gray-600 bg-gray-100";case"Cancelled":return"text-red-600 bg-red-100";case"Postponed":return"text-orange-600 bg-orange-100";case"Draft":return"text-gray-600 bg-gray-200";default:return"text-gray-600 bg-gray-100"}},H=te=>{switch(te){case"In-Person":return"text-blue-600 bg-blue-100";case"Virtual":return"text-green-600 bg-green-100";case"Hybrid":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},W=te=>{switch(te){case"Workshop":return s.jsx(ze,{className:"w-4 h-4"});case"Webinar":return s.jsx(eo,{className:"w-4 h-4"});case"Conference":return s.jsx(ks,{className:"w-4 h-4"});case"Networking":return s.jsx(Wa,{className:"w-4 h-4"});case"Hackathon":return s.jsx(OE,{className:"w-4 h-4"});default:return s.jsx(Yt,{className:"w-4 h-4"})}},Q=(te,ge="csv")=>{const Pe=`${on}/events/admin/${te}/attendees/export?format=${ge}`;window.open(Pe,"_blank")},X=((G=N==null?void 0:N.events)==null?void 0:G.filter(te=>{var Pe;if(!m)return!0;const ge=m.toLowerCase();return te.title.toLowerCase().includes(ge)||te.description.toLowerCase().includes(ge)||te.organizer.name.toLowerCase().includes(ge)||((Pe=te.location.venue)==null?void 0:Pe.toLowerCase().includes(ge))}))||[];return k?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary"})}):s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary",children:"Events Management"}),s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center space-x-2 bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90",children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Event"})]})]}),f&&s.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center ${v==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[v==="success"?s.jsx(Ke,{className:"w-5 h-5 mr-2"}):s.jsx(qt,{className:"w-5 h-5 mr-2"}),f]}),s.jsxs("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>p("events"),className:`px-4 py-2 rounded-md transition-colors ${y==="events"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Yt,{className:"w-4 h-4 inline mr-2"}),"Events"]}),s.jsxs("button",{onClick:()=>p("attendees"),className:`px-4 py-2 rounded-md transition-colors ${y==="attendees"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ze,{className:"w-4 h-4 inline mr-2"}),"Attendees"]}),s.jsxs("button",{onClick:()=>p("analytics"),className:`px-4 py-2 rounded-md transition-colors ${y==="analytics"?"bg-white text-ajira-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ud,{className:"w-4 h-4 inline mr-2"}),"Analytics"]})]}),E&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-ajira-primary/10 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yt,{className:"w-8 h-8 text-ajira-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-ajira-primary",children:((K=E.eventStats)==null?void 0:K.totalEvents)||0})]})]})}),s.jsx("div",{className:"bg-green-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ke,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:((J=E.eventStats)==null?void 0:J.publishedEvents)||0})]})]})}),s.jsx("div",{className:"bg-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ft,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(($=E.eventStats)==null?void 0:$.upcomingEvents)||0})]})]})}),s.jsx("div",{className:"bg-purple-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Registrations"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((Z=E.eventStats)==null?void 0:Z.totalRegistrations)||0})]})]})})]}),y==="events"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[s.jsxs("select",{value:a,onChange:te=>o(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"Workshop",children:"Workshop"}),s.jsx("option",{value:"Webinar",children:"Webinar"}),s.jsx("option",{value:"Networking",children:"Networking"}),s.jsx("option",{value:"Conference",children:"Conference"}),s.jsx("option",{value:"Hackathon",children:"Hackathon"}),s.jsx("option",{value:"Career Fair",children:"Career Fair"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Panel Discussion",children:"Panel Discussion"}),s.jsx("option",{value:"Tech Talk",children:"Tech Talk"}),s.jsx("option",{value:"Other",children:"Other"})]}),s.jsxs("select",{value:l,onChange:te=>c(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"In-Person",children:"In-Person"}),s.jsx("option",{value:"Virtual",children:"Virtual"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]}),s.jsxs("select",{value:u,onChange:te=>d(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",placeholder:"Search events...",value:m,onChange:te=>h(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"}),s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]})]}),e&&s.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:n?"Edit Event":"Add New Event"}),s.jsxs("form",{onSubmit:z,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),s.jsx("input",{type:"text",name:"title",value:S.title,onChange:M,required:!0,placeholder:"e.g., React Workshop 2024",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{name:"category",value:S.category,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"Workshop",children:"Workshop"}),s.jsx("option",{value:"Webinar",children:"Webinar"}),s.jsx("option",{value:"Networking",children:"Networking"}),s.jsx("option",{value:"Conference",children:"Conference"}),s.jsx("option",{value:"Hackathon",children:"Hackathon"}),s.jsx("option",{value:"Career Fair",children:"Career Fair"}),s.jsx("option",{value:"Training",children:"Training"}),s.jsx("option",{value:"Panel Discussion",children:"Panel Discussion"}),s.jsx("option",{value:"Tech Talk",children:"Tech Talk"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{name:"description",value:S.description,onChange:M,required:!0,rows:4,placeholder:"Describe your event in detail...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),s.jsx("input",{type:"date",name:"schedule.startDate",value:S.schedule.startDate,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),s.jsx("input",{type:"date",name:"schedule.endDate",value:S.schedule.endDate,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),s.jsx("input",{type:"time",name:"schedule.startTime",value:S.schedule.startTime,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),s.jsx("input",{type:"time",name:"schedule.endTime",value:S.schedule.endTime,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organizer Name *"}),s.jsx("input",{type:"text",name:"organizer.name",value:S.organizer.name,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organizer Email *"}),s.jsx("input",{type:"email",name:"organizer.email",value:S.organizer.email,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),s.jsxs("select",{name:"eventType",value:S.eventType,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent",children:[s.jsx("option",{value:"In-Person",children:"In-Person"}),s.jsx("option",{value:"Virtual",children:"Virtual"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),s.jsx("input",{type:"text",name:"location.venue",value:S.location.venue,onChange:M,placeholder:"e.g., iHub Nairobi",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),s.jsx("input",{type:"number",name:"registration.capacity",value:S.registration.capacity,onChange:M,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"pricing.isFree",checked:S.pricing.isFree,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Free Event"})]}),!S.pricing.isFree&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (KES)"}),s.jsx("input",{type:"number",name:"pricing.regularPrice",value:S.pricing.regularPrice,onChange:M,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isPublished",checked:S.isPublished,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Published"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:S.isFeatured,onChange:M,className:"w-5 h-5 text-ajira-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:S.status,onChange:M,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:L,className:"px-6 py-3 text-gray-700 hover:text-gray-900",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:_.isLoading,className:"px-8 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 disabled:opacity-50 flex items-center space-x-2",children:_.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mo,{className:"w-5 h-5"}),s.jsxs("span",{children:[n?"Update":"Create"," Event"]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:X.map(te=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[W(te.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:te.title}),te.isFeatured&&s.jsx(ct,{className:"w-5 h-5 text-yellow-500 fill-current"})]}),s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:te.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F(te.status)}`,children:te.status}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(te.eventType)}`,children:te.eventType}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:te.category}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(te.schedule.startDate).toLocaleDateString()})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[te.schedule.startTime," -"," ",te.schedule.endTime]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(ze,{className:"w-4 h-4"}),s.jsxs("span",{children:[te.registration.registered,"/",te.registration.capacity]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Qn,{className:"w-4 h-4"}),s.jsx("span",{children:te.pricing.isFree?"Free":`KES ${te.pricing.regularPrice}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{children:te.location.venue||"Virtual"})]}),s.jsxs("span",{children:["Organizer: ",te.organizer.name]}),s.jsxs("span",{children:["Views: ",te.analytics.views]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>q(te),className:"text-ajira-primary hover:text-ajira-primary/80",title:"Edit",children:s.jsx(ho,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{w(te._id),p("attendees")},className:"text-blue-600 hover:text-blue-800",title:"View Attendees",children:s.jsx(ze,{className:"w-4 h-4"})}),s.jsxs("select",{value:te.status,onChange:ge=>U.mutate({id:te._id,status:ge.target.value}),className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Draft",children:"Draft"}),s.jsx("option",{value:"Published",children:"Published"}),s.jsx("option",{value:"Registration Open",children:"Registration Open"}),s.jsx("option",{value:"Registration Closed",children:"Registration Closed"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Completed",children:"Completed"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),s.jsx("button",{onClick:()=>C.mutate(te._id),className:`${te.isPublished?"text-green-600":"text-gray-400"} hover:text-green-800`,title:"Toggle Published",children:te.isPublished?s.jsx(zt,{className:"w-4 h-4"}):s.jsx(na,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O.mutate(te._id),className:`${te.isFeatured?"text-yellow-500":"text-gray-400"} hover:text-yellow-600`,title:"Toggle Featured",children:s.jsx(ct,{className:`w-4 h-4 ${te.isFeatured?"fill-current":""}`})}),s.jsx("button",{onClick:()=>D(te._id),className:"text-red-600 hover:text-red-800",title:"Delete",children:s.jsx(ai,{className:"w-4 h-4"})})]})]})},te._id))})]}),y==="attendees"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Attendees"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:b||"",onChange:te=>w(te.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"",children:"Select Event"}),X.map(te=>s.jsxs("option",{value:te._id,children:[te.title," (",new Date(te.schedule.startDate).toLocaleDateString(),")"]},te._id))]}),b&&s.jsxs("button",{onClick:()=>Q(b,"csv"),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[s.jsx(gl,{className:"w-4 h-4"}),s.jsx("span",{children:"Export CSV"})]})]})]}),T&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold",children:T.eventTitle}),s.jsxs("p",{className:"text-sm text-gray-600",children:[T.totalCount," total attendees"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.attendees.map((te,ge)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name}),s.jsx("div",{className:"text-sm text-gray-500",children:te.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.organization||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(te.registrationDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.status==="Confirmed"?"bg-green-100 text-green-800":te.status==="Registered"?"bg-blue-100 text-blue-800":te.status==="Attended"?"bg-purple-100 text-purple-800":te.status==="No Show"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:te.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.paymentStatus==="Paid"?"bg-green-100 text-green-800":te.paymentStatus==="Free"?"bg-blue-100 text-blue-800":te.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:te.paymentStatus})})]},ge))})]})})]}),!b&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select an Event"}),s.jsx("p",{className:"text-gray-600",children:"Choose an event to view its attendees"})]})]}),y==="analytics"&&E&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Events by Category"}),s.jsx("div",{className:"space-y-3",children:(se=E.eventStats.categoryStats)==null?void 0:se.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:te._id}),s.jsx("span",{className:"font-semibold",children:te.count})]},ge))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Events by Type"}),s.jsx("div",{className:"space-y-3",children:(pe=E.eventStats.typeStats)==null?void 0:pe.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:te._id}),s.jsx("span",{className:"font-semibold",children:te.count})]},ge))})]})]}),E.eventStats.popularEvents&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Popular Events"}),s.jsx("div",{className:"space-y-4",children:E.eventStats.popularEvents.map((te,ge)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:te.title}),s.jsx("p",{className:"text-sm text-gray-600",children:te.category})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:[te.analytics.views," views"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[te.registration.registered," registered"]})]})]},ge))})]})]}),y==="events"&&X.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:m?"No events match your search criteria.":"Start building your event calendar by adding the first event."}),!m&&s.jsx("button",{onClick:()=>r(!0),className:"bg-ajira-primary text-white px-6 py-2 rounded-lg hover:bg-ajira-primary/90",children:"Add First Event"})]})]})})},pee=()=>{var L,q,M,z,D,F,H,W;const[t,e]=P.useState([]),[r,n]=P.useState({}),[i,a]=P.useState({}),[o,l]=P.useState({status:"all",step:"all",minScore:"",industry:"all",experience:"all"}),[c,u]=P.useState(""),[d,m]=P.useState(new Set),[h,f]=P.useState(!0),[g,v]=P.useState(!1),[j,y]=P.useState(!0),[p,b]=P.useState(""),[w]=P.useState([{applicationId:"APP_001",personalInfo:{firstName:"Sarah",lastName:"Wanjiku",email:"sarah@example.com",phone:"+254712345678"},professional:{currentRole:"Senior Software Engineer",currentCompany:"Safaricom PLC",industry:"Technology",experienceLevel:"Senior (6-10 years)",yearsOfExperience:8},education:{highestDegree:"Master's",fieldOfStudy:"Computer Science",institution:"University of Nairobi"},expertise:{primarySkills:["React","Node.js","Python","AWS","MongoDB"],specializations:["Web Development","Cloud Computing"]},applicationStatus:{status:"Submitted",currentStep:"AI Assessment",completionPercentage:100,submittedAt:new Date(Date.now()-2*24*60*60*1e3)},assessment:{overallScore:92,categoryScores:{experience:90,communication:95,availability:88,expertise:95,motivation:90},aiEvaluation:{recommendation:"Strong Approve",confidenceLevel:92,resumeAnalysis:{score:88,strengths:["Strong technical background","Leadership experience"],concerns:[]},skillsMatch:{score:95,marketDemand:"High"},riskFactors:[]}},applicationAge:"2 days ago",approvalReadiness:"Auto-Approve Ready"},{applicationId:"APP_002",personalInfo:{firstName:"James",lastName:"Mwangi",email:"james@example.com",phone:"+254787654321"},professional:{currentRole:"Data Scientist",currentCompany:"Kenya Commercial Bank",industry:"Finance",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:5},education:{highestDegree:"Bachelor's",fieldOfStudy:"Statistics",institution:"Strathmore University"},expertise:{primarySkills:["Python","R","SQL","Machine Learning"],specializations:["Data Science","Analytics"]},applicationStatus:{status:"Submitted",currentStep:"Manual Review",completionPercentage:100,submittedAt:new Date(Date.now()-5*24*60*60*1e3)},assessment:{overallScore:76,categoryScores:{experience:75,communication:80,availability:70,expertise:85,motivation:75},aiEvaluation:{recommendation:"Approve",confidenceLevel:78,resumeAnalysis:{score:75,strengths:["Good technical skills"],concerns:["Limited mentoring experience"]},skillsMatch:{score:80,marketDemand:"High"},riskFactors:[{factor:"New to mentoring",severity:"Low"}]}},applicationAge:"5 days ago",approvalReadiness:"Interview Required"},{applicationId:"APP_003",personalInfo:{firstName:"Grace",lastName:"Achieng",email:"grace@example.com",phone:"+254798765432"},professional:{currentRole:"UX Designer",currentCompany:"iHub",industry:"Technology",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:4},education:{highestDegree:"Bachelor's",fieldOfStudy:"Design",institution:"USIU-Africa"},expertise:{primarySkills:["Figma","Sketch","User Research","Prototyping"],specializations:["UI/UX Design","Product Design"]},applicationStatus:{status:"Under Review",currentStep:"Interview Scheduled",completionPercentage:100,submittedAt:new Date(Date.now()-8*24*60*60*1e3)},assessment:{overallScore:82,categoryScores:{experience:78,communication:88,availability:85,expertise:80,motivation:85},aiEvaluation:{recommendation:"Conditional Approve",confidenceLevel:85,resumeAnalysis:{score:82,strengths:["Strong design portfolio","User-centered approach"],concerns:["Limited teaching experience"]},skillsMatch:{score:85,marketDemand:"Medium"},riskFactors:[{factor:"First-time mentor",severity:"Medium"}]}},applicationAge:"8 days ago",approvalReadiness:"Interview Required"}]),[S]=P.useState({totalApplications:47,submittedApplications:12,approvedApplications:23,rejectedApplications:8,approvalRate:74.2,avgProcessingTime:"3.2 days",aiRecommendations:15,pendingReview:12}),[R]=P.useState({autoApprove:[{applicationId:"APP_001",score:92,name:"Sarah Wanjiku",industry:"Technology"}],interviewRequired:[{applicationId:"APP_002",score:76,name:"James Mwangi",industry:"Finance"},{applicationId:"APP_003",score:82,name:"Grace Achieng",industry:"Technology"}],needsReview:[],summary:{totalPendingReview:3,autoApproveReady:1,interviewsNeeded:2}});P.useEffect(()=>{N(),k()},[o]);const N=async()=>{try{f(!0),e(w),n(S)}catch(Q){console.error("Failed to fetch applications:",Q)}finally{f(!1)}},k=async()=>{try{a(R)}catch(Q){console.error("Failed to fetch AI recommendations:",Q)}},E=async Q=>{try{v(!0),await new Promise(X=>setTimeout(X,3e3)),e(X=>X.map(G=>G.applicationId===Q?{...G,assessment:{...G.assessment,aiEvaluation:{...G.assessment.aiEvaluation,processed:!0}}}:G))}catch(X){console.error("AI evaluation failed:",X)}finally{v(!1)}},T=async(Q,X,G="")=>{try{e(K=>K.map(J=>J.applicationId===Q?{...J,applicationStatus:{...J.applicationStatus,status:X}}:J)),await k()}catch(K){console.error("Failed to update application status:",K)}},_=async()=>{try{const Q=Array.from(d);e(X=>X.map(G=>d.has(G.applicationId)?{...G,applicationStatus:{...G.applicationStatus,status:"Approved"}}:G)),m(new Set),b("")}catch(Q){console.error("Bulk approval failed:",Q)}},A=Q=>Q>=85?"text-green-600":Q>=70?"text-yellow-600":"text-red-600",C=Q=>{switch(Q){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Under Review":return"bg-yellow-100 text-yellow-800";case"Submitted":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},O=Q=>{switch(Q){case"Strong Approve":return s.jsx(Km,{className:"w-4 h-4 text-green-600"});case"Approve":return s.jsx(Ke,{className:"w-4 h-4 text-green-600"});case"Conditional Approve":return s.jsx(pv,{className:"w-4 h-4 text-yellow-600"});case"Review Needed":return s.jsx(zt,{className:"w-4 h-4 text-blue-600"});case"Reject":return s.jsx(yl,{className:"w-4 h-4 text-red-600"});default:return s.jsx(qt,{className:"w-4 h-4 text-gray-600"})}},U=t.filter(Q=>{if(c){const X=c.toLowerCase();if(!Q.personalInfo.firstName.toLowerCase().includes(X)&&!Q.personalInfo.lastName.toLowerCase().includes(X)&&!Q.personalInfo.email.toLowerCase().includes(X)&&!Q.professional.currentRole.toLowerCase().includes(X)&&!Q.professional.currentCompany.toLowerCase().includes(X))return!1}return!(o.status!=="all"&&Q.applicationStatus.status!==o.status||o.industry!=="all"&&Q.professional.industry!==o.industry||o.minScore&&Q.assessment.overallScore<parseInt(o.minScore))});return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Vo,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Mentor Recruiting"}),s.jsx("p",{className:"text-gray-600",children:"Automated application review and mentor onboarding"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ze,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Applications"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalApplications})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ke,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Approval Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.approvalRate,"%"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Bh,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"AI Processed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.aiRecommendations})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Ft,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Processing"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.avgProcessingTime})]})]})})]})]}),j&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-8 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vo,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"}),s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:[(L=i.summary)==null?void 0:L.totalPendingReview," pending"]})]}),s.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Jr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Jn,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-900",children:"Auto-Approve Ready"}),s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:((q=i.autoApprove)==null?void 0:q.length)||0})]}),s.jsxs("div",{className:"space-y-2",children:[(M=i.autoApprove)==null?void 0:M.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-green-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId)),((z=i.autoApprove)==null?void 0:z.length)>0&&s.jsx("button",{onClick:()=>{i.autoApprove.forEach(Q=>T(Q.applicationId,"Approved"))},className:"w-full mt-3 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Auto-Approve All"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Yt,{className:"w-5 h-5 text-yellow-600"}),s.jsx("h3",{className:"font-semibold text-yellow-900",children:"Interview Required"}),s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:((D=i.interviewRequired)==null?void 0:D.length)||0})]}),s.jsx("div",{className:"space-y-2",children:(F=i.interviewRequired)==null?void 0:F.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-yellow-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(zt,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Manual Review"}),s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:((H=i.needsReview)==null?void 0:H.length)||0})]}),s.jsx("div",{className:"space-y-2",children:((W=i.needsReview)==null?void 0:W.length)===0?s.jsx("p",{className:"text-sm text-gray-600",children:"All applications processed"}):i.needsReview.map(Q=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:Q.name}),s.jsxs("span",{className:"text-blue-600 font-semibold",children:[Q.score,"/100"]})]},Q.applicationId))})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search applications...",value:c,onChange:Q=>u(Q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("select",{value:o.status,onChange:Q=>l(X=>({...X,status:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Submitted",children:"Submitted"}),s.jsx("option",{value:"Under Review",children:"Under Review"}),s.jsx("option",{value:"Approved",children:"Approved"}),s.jsx("option",{value:"Rejected",children:"Rejected"})]}),s.jsxs("select",{value:o.industry,onChange:Q=>l(X=>({...X,industry:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"all",children:"All Industries"}),s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Finance",children:"Finance"}),s.jsx("option",{value:"Healthcare",children:"Healthcare"}),s.jsx("option",{value:"Education",children:"Education"})]}),s.jsx("input",{type:"number",placeholder:"Min AI Score",value:o.minScore,onChange:Q=>l(X=>({...X,minScore:Q.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50 w-32",min:"0",max:"100"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[d.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs("select",{value:p,onChange:Q=>b(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"",children:"Bulk Actions"}),s.jsx("option",{value:"approve",children:"Approve Selected"}),s.jsx("option",{value:"reject",children:"Reject Selected"}),s.jsx("option",{value:"interview",children:"Schedule Interviews"})]}),p==="approve"&&s.jsxs("button",{onClick:_,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:["Approve ",d.size]})]}),s.jsxs("button",{onClick:()=>E("batch"),disabled:g,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[g?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(Vo,{className:"w-4 h-4"}),s.jsx("span",{children:"Run AI Batch"})]}),s.jsxs("button",{className:"bg-ajira-primary text-white px-4 py-2 rounded-lg hover:bg-ajira-primary/90 transition-colors flex items-center space-x-2",children:[s.jsx(gl,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Mentor Applications (",U.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-4 px-6 py-3",children:s.jsx("input",{type:"checkbox",onChange:Q=>{Q.target.checked?m(new Set(U.map(X=>X.applicationId))):m(new Set)},className:"w-4 h-4 text-ajira-primary"})}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Score"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Recommendation"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(Q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:d.has(Q.applicationId),onChange:X=>{const G=new Set(d);X.target.checked?G.add(Q.applicationId):G.delete(Q.applicationId),m(G)},className:"w-4 h-4 text-ajira-primary"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-ajira-primary/10 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-ajira-primary font-semibold",children:[Q.personalInfo.firstName[0],Q.personalInfo.lastName[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:[Q.personalInfo.firstName," ",Q.personalInfo.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:Q.personalInfo.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Q.professional.currentRole}),s.jsx("p",{className:"text-sm text-gray-600",children:Q.professional.currentCompany}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Q.professional.yearsOfExperience," years •"," ",Q.professional.industry]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-2xl font-bold ${A(Q.assessment.overallScore)}`,children:Q.assessment.overallScore}),s.jsx("span",{className:"text-gray-500",children:"/100"})]}),s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1",children:s.jsx("div",{className:`h-2 rounded-full ${Q.assessment.overallScore>=85?"bg-green-500":Q.assessment.overallScore>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Q.assessment.overallScore}%`}})})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[O(Q.assessment.aiEvaluation.recommendation),s.jsx("span",{className:"font-medium text-sm",children:Q.assessment.aiEvaluation.recommendation})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q.assessment.aiEvaluation.confidenceLevel,"% confidence"]})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(Q.applicationStatus.status)}`,children:Q.applicationStatus.status}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q.applicationAge})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>T(Q.applicationId,"Approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:s.jsx(Ke,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(Q.applicationId,"Rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(Q.applicationId),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Run AI Evaluation",children:s.jsx(Vo,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(zt,{className:"w-4 h-4"})})]})})]},Q.applicationId))})]})}),U.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No applications found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search criteria."})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Vo,{className:"w-8 h-8 text-purple-600 animate-pulse"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Processing Applications"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Our AI is analyzing applications and generating recommendations..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin text-purple-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Analyzing candidate profiles"})]})]})})})]})},wh="http://localhost:5000/api",gee=()=>{var O,U;const[t,e]=P.useState(1),[r,n]=P.useState(null),[i,a]=P.useState(!1),[o,l]=P.useState(!1),[c,u]=P.useState(""),[d,m]=P.useState(""),[h,f]=P.useState(0),[g,v]=P.useState({personalInfo:{firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",nationality:"Kenyan",profilePhoto:"",socialLinks:{linkedin:"",twitter:"",github:"",website:""}},location:{city:"Nairobi",county:"Nairobi",country:"Kenya",isLocationFlexible:!0,preferredRadius:50,canTravelForMentoring:!1},availability:{isAvailableNow:!1,preferredSchedule:{monday:{available:!1,hours:[]},tuesday:{available:!1,hours:[]},wednesday:{available:!1,hours:[]},thursday:{available:!1,hours:[]},friday:{available:!1,hours:[]},saturday:{available:!1,hours:[]},sunday:{available:!1,hours:[]}},weeklyHoursCommitment:5,maxMentees:3,responseTimeCommitment:"Within 24 hours",instantMentoring:{enabled:!1,maxInstantSessions:2,instantSessionDuration:30}},professional:{currentRole:"",currentCompany:"",industry:"Technology",experienceLevel:"Mid-Level (3-6 years)",yearsOfExperience:3,previousRoles:[],achievements:[],certifications:[]},education:{highestDegree:"Bachelor's",fieldOfStudy:"",institution:"",graduationYear:new Date().getFullYear(),additionalEducation:[],onlineCoursesCompleted:[]},mentoringExperience:{hasMentoredBefore:!1,previousMentoringExperience:"",numberOfMentees:0,mentoringDuration:"",mentoringStyle:"Collaborative",preferredMentoringFormat:["One-on-One"]},expertise:{primarySkills:[],secondarySkills:[],technicalSkills:[],softSkills:[],specializations:[],industries:[],careerStages:["Students"]},motivation:{whyMentor:"",mentoringGoals:[],successDefinition:"",challengesToAddress:[],idealMenteeProfile:"",valuesToShare:[],personalGrowthGoals:""},documents:{resume:"",coverLetter:"",portfolio:"",recommendations:[]}}),j=[{number:1,title:"Personal Information",icon:or,description:"Tell us about yourself"},{number:2,title:"Location & Availability",icon:Yn,description:"Where and when you can mentor"},{number:3,title:"Professional Background",icon:Uu,description:"Your career journey"},{number:4,title:"Education",icon:kO,description:"Academic background"},{number:5,title:"Mentoring Experience",icon:ze,description:"Previous mentoring history"},{number:6,title:"Expertise & Skills",icon:vt,description:"What you can teach"},{number:7,title:"Motivation & Goals",icon:zm,description:"Why you want to mentor"},{number:8,title:"Documents",icon:Un,description:"Supporting documents"}];P.useEffect(()=>{(async()=>{const q=localStorage.getItem("mentorApplicationEmail");if(q)try{const M=await be.get(`${wh}/mentor-application/application/${q}`);M.data.applicationId&&(n(M.data.applicationId),e(y(M.data.currentStep)),f(M.data.completionPercentage),m("Continuing your existing application..."))}catch{localStorage.removeItem("mentorApplicationEmail")}})()},[]);const y=L=>({"Personal Info":1,"Location & Availability":2,"Professional Background":3,Education:4,"Mentoring Experience":5,"Expertise & Skills":6,Motivation:7,"Documents Upload":8,Submitted:9})[L]||1,p=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:M}}))},b=(L,q,M,z)=>{v(D=>({...D,[L]:{...D[L],[q]:{...D[L][q],[M]:z}}}))},w=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:M}}))},S=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:[...z[L][q],M]}}))},R=(L,q,M)=>{v(z=>({...z,[L]:{...z[L],[q]:z[L][q].filter((D,F)=>F!==M)}}))},N=L=>{switch(L){case 1:const{firstName:q,lastName:M,email:z,phone:D}=g.personalInfo;return q&&M&&z&&D;case 2:return g.location.city&&g.availability.weeklyHoursCommitment>0;case 3:const{currentRole:F,currentCompany:H,industry:W}=g.professional;return F&&H&&W;case 4:const{fieldOfStudy:Q,institution:X}=g.education;return Q&&X;case 5:return!0;case 6:return g.expertise.primarySkills.length>=3&&g.expertise.specializations.length>0;case 7:return g.motivation.whyMentor.length>50;case 8:return!0;default:return!0}},k=async L=>{var q,M,z,D,F;if(!r&&L===1)try{a(!0);const H=await be.post(`${wh}/mentor-application/apply`,{email:g.personalInfo.email,sourceChannel:"website"});n(H.data.applicationId),localStorage.setItem("mentorApplicationEmail",g.personalInfo.email)}catch(H){if(((q=H.response)==null?void 0:q.status)===400)n(H.response.data.applicationId),e(y(H.response.data.currentStep)),m("Continuing your existing application...");else return u(((z=(M=H.response)==null?void 0:M.data)==null?void 0:z.message)||"Failed to start application"),!1}finally{a(!1)}if(r)try{a(!0);const H={1:"personal-info",2:"location-availability",3:"professional",4:"education",5:"mentoring-experience",6:"expertise",7:"motivation",8:"documents"},W=E(L),Q=await be.put(`${wh}/mentor-application/application/${r}/step/${H[L]}`,W);f(Q.data.completionPercentage)}catch(H){return u(((F=(D=H.response)==null?void 0:D.data)==null?void 0:F.message)||"Failed to save step"),!1}finally{a(!1)}return!0},E=L=>{switch(L){case 1:return g.personalInfo;case 2:return{location:g.location,availability:g.availability};case 3:return g.professional;case 4:return g.education;case 5:return g.mentoringExperience;case 6:return g.expertise;case 7:return g.motivation;case 8:return g.documents;default:return{}}},T=async()=>{if(!N(t)){u("Please fill in all required fields before continuing.");return}u(""),await k(t)&&t<j.length&&(e(t+1),m("Progress saved!"),setTimeout(()=>m(""),3e3))},_=()=>{t>1&&e(t-1)},A=async()=>{var L,q;if(!N(t)){u("Please complete all required fields.");return}try{l(!0),u(""),await k(t);const M=await be.post(`${wh}/mentor-application/application/${r}/submit`);m(`Application submitted successfully! Your AI score: ${M.data.aiScore}/100. Expected review time: ${M.data.estimatedReviewTime}`),localStorage.removeItem("mentorApplicationEmail"),setTimeout(()=>{window.location.href=`/mentor-application/status/${r}`},3e3)}catch(M){u(((q=(L=M.response)==null?void 0:L.data)==null?void 0:q.message)||"Failed to submit application")}finally{l(!1)}},C=()=>{switch(t){case 1:return s.jsx(xee,{data:g.personalInfo,onChange:(L,q)=>p("personalInfo",L,q),onNestedChange:(L,q,M)=>b("personalInfo",L,q,M)});case 2:return s.jsx(yee,{locationData:g.location,availabilityData:g.availability,onLocationChange:(L,q)=>p("location",L,q),onAvailabilityChange:(L,q)=>p("availability",L,q),onNestedChange:b});case 3:return s.jsx(vee,{data:g.professional,onChange:(L,q)=>p("professional",L,q),onArrayChange:(L,q)=>w("professional",L,q),addToArray:(L,q)=>S("professional",L,q),removeFromArray:(L,q)=>R("professional",L,q)});case 4:return s.jsx(bee,{data:g.education,onChange:(L,q)=>p("education",L,q),onArrayChange:(L,q)=>w("education",L,q)});case 5:return s.jsx(jee,{data:g.mentoringExperience,onChange:(L,q)=>p("mentoringExperience",L,q),onArrayChange:(L,q)=>w("mentoringExperience",L,q)});case 6:return s.jsx(wee,{data:g.expertise,onChange:(L,q)=>p("expertise",L,q),onArrayChange:(L,q)=>w("expertise",L,q)});case 7:return s.jsx(Nee,{data:g.motivation,onChange:(L,q)=>p("motivation",L,q),onArrayChange:(L,q)=>w("motivation",L,q)});case 8:return s.jsx(kee,{data:g.documents,onChange:(L,q)=>p("documents",L,q),onArrayChange:(L,q)=>w("documents",L,q)});default:return null}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-ajira-primary mb-4",children:"Apply to Become a Mentor"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join our community of mentors and help shape the next generation of digital professionals. Our application process is designed to ensure the best match between mentors and mentees."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Application Progress"}),s.jsxs("span",{className:"text-sm font-medium text-ajira-primary",children:[h,"% Complete"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:s.jsx("div",{className:"bg-ajira-primary h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),s.jsx("div",{className:"flex items-center justify-between",children:j.map((L,q)=>{const M=L.icon,z=t===L.number,D=t>L.number;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-2 ${z?"bg-ajira-primary text-white":D?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:D?s.jsx(Ke,{className:"w-5 h-5"}):s.jsx(M,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-sm font-medium ${z?"text-ajira-primary":"text-gray-600"}`,children:L.title}),s.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:L.description})]})]},L.number)})})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qt,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700",children:c})]})}),d&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-5 h-5 text-green-500 mr-2"}),s.jsx("p",{className:"text-green-700",children:d})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Step ",t,": ",(O=j[t-1])==null?void 0:O.title]}),s.jsx("p",{className:"text-gray-600",children:(U=j[t-1])==null?void 0:U.description})]}),C()]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:_,disabled:t===1,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${t===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`,children:[s.jsx(Yf,{className:"w-5 h-5"}),s.jsx("span",{children:"Previous"})]}),t<j.length?s.jsx("button",{onClick:T,disabled:i||!N(t),className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${i||!N(t)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-ajira-primary text-white hover:bg-ajira-primary/90"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Next"}),s.jsx(Ki,{className:"w-5 h-5"})]})}):s.jsx("button",{onClick:A,disabled:o||!N(t),className:`flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors ${o||!N(t)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Submitting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{className:"w-5 h-5"}),s.jsx("span",{children:"Submit Application"})]})})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Our application process typically takes 15-20 minutes to complete. Your progress is automatically saved, so you can return anytime to continue."}),s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Contact Support"}),s.jsx("a",{href:"/mentorship/faq",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Application FAQ"}),s.jsx("a",{href:"/mentorship/requirements",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Requirements"})]})]})]})})},xee=({data:t,onChange:e,onNestedChange:r})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:t.firstName,onChange:n=>e("firstName",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:t.lastName,onChange:n=>e("lastName",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Doe"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:t.email,onChange:n=>e("email",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"john.doe@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",value:t.phone,onChange:n=>e("phone",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"+254 712 345 678"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:t.dateOfBirth,onChange:n=>e("dateOfBirth",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),s.jsxs("select",{value:t.nationality,onChange:n=>e("nationality",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Kenyan",children:"Kenyan"}),s.jsx("option",{value:"Ugandan",children:"Ugandan"}),s.jsx("option",{value:"Tanzanian",children:"Tanzanian"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Links (Optional)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"url",value:t.socialLinks.linkedin,onChange:n=>r("socialLinks","linkedin",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"LinkedIn Profile URL"}),s.jsx("input",{type:"url",value:t.socialLinks.github,onChange:n=>r("socialLinks","github",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"GitHub Profile URL"})]})]})]}),yee=({locationData:t,availabilityData:e,onLocationChange:r,onAvailabilityChange:n,onNestedChange:i})=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location Preferences"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsxs("select",{value:t.city,onChange:a=>r("city",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Nairobi",children:"Nairobi"}),s.jsx("option",{value:"Mombasa",children:"Mombasa"}),s.jsx("option",{value:"Kisumu",children:"Kisumu"}),s.jsx("option",{value:"Nakuru",children:"Nakuru"}),s.jsx("option",{value:"Eldoret",children:"Eldoret"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Radius (km)"}),s.jsx("input",{type:"number",value:t.preferredRadius,onChange:a=>r("preferredRadius",parseInt(a.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"5",max:"100"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.isLocationFlexible,onChange:a=>r("isLocationFlexible",a.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I'm flexible with location"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.canTravelForMentoring,onChange:a=>r("canTravelForMentoring",a.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I can travel for in-person mentoring"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Availability"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weekly Hours Commitment *"}),s.jsx("input",{type:"number",value:e.weeklyHoursCommitment,onChange:a=>n("weeklyHoursCommitment",parseInt(a.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"40"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hours per week you can dedicate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Mentees"}),s.jsx("input",{type:"number",value:e.maxMentees,onChange:a=>n("maxMentees",parseInt(a.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Time Commitment"}),s.jsxs("select",{value:e.responseTimeCommitment,onChange:a=>n("responseTimeCommitment",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Within 1 hour",children:"Within 1 hour"}),s.jsx("option",{value:"Within 4 hours",children:"Within 4 hours"}),s.jsx("option",{value:"Within 24 hours",children:"Within 24 hours"}),s.jsx("option",{value:"Within 48 hours",children:"Within 48 hours"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.isAvailableNow,onChange:a=>n("isAvailableNow",a.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"I'm available for immediate mentoring"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.instantMentoring.enabled,onChange:a=>i("availability","instantMentoring","enabled",a.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable instant mentoring (Uber-like on-demand help)"})]})]})]})]}),vee=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Role *"}),s.jsx("input",{type:"text",value:t.currentRole,onChange:r=>e("currentRole",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Software Engineer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Company *"}),s.jsx("input",{type:"text",value:t.currentCompany,onChange:r=>e("currentCompany",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Safaricom PLC"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry *"}),s.jsxs("select",{value:t.industry,onChange:r=>e("industry",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Technology",children:"Technology"}),s.jsx("option",{value:"Finance",children:"Finance"}),s.jsx("option",{value:"Healthcare",children:"Healthcare"}),s.jsx("option",{value:"Education",children:"Education"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience"}),s.jsx("input",{type:"number",value:t.yearsOfExperience,onChange:r=>e("yearsOfExperience",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1",max:"50"})]})]})]}),bee=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Highest Degree"}),s.jsxs("select",{value:t.highestDegree,onChange:r=>e("highestDegree",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"High School",children:"High School"}),s.jsx("option",{value:"Certificate",children:"Certificate"}),s.jsx("option",{value:"Diploma",children:"Diploma"}),s.jsx("option",{value:"Bachelor's",children:"Bachelor's"}),s.jsx("option",{value:"Master's",children:"Master's"}),s.jsx("option",{value:"PhD",children:"PhD"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field of Study *"}),s.jsx("input",{type:"text",value:t.fieldOfStudy,onChange:r=>e("fieldOfStudy",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"Computer Science"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution *"}),s.jsx("input",{type:"text",value:t.institution,onChange:r=>e("institution",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"University of Nairobi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Graduation Year"}),s.jsx("input",{type:"number",value:t.graduationYear,onChange:r=>e("graduationYear",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"1990",max:new Date().getFullYear()+10})]})]})]}),jee=({data:t,onChange:e})=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",checked:t.hasMentoredBefore,onChange:r=>e("hasMentoredBefore",r.target.checked),className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"I have mentored before"})]}),t.hasMentoredBefore&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Previous Mentoring Experience"}),s.jsx("textarea",{value:t.previousMentoringExperience,onChange:r=>e("previousMentoringExperience",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"Describe your previous mentoring experience..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Mentees"}),s.jsx("input",{type:"number",value:t.numberOfMentees,onChange:r=>e("numberOfMentees",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mentoring Style"}),s.jsxs("select",{value:t.mentoringStyle,onChange:r=>e("mentoringStyle",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",children:[s.jsx("option",{value:"Directive",children:"Directive"}),s.jsx("option",{value:"Non-Directive",children:"Non-Directive"}),s.jsx("option",{value:"Collaborative",children:"Collaborative"}),s.jsx("option",{value:"Coaching",children:"Coaching"}),s.jsx("option",{value:"Mixed",children:"Mixed"})]})]})]})]})]})}),wee=({data:t,onChange:e,onArrayChange:r})=>{const[n,i]=P.useState(""),a=()=>{n.trim()&&!t.primarySkills.includes(n.trim())&&(r("primarySkills",[...t.primarySkills,n.trim()]),i(""))},o=l=>{r("primarySkills",t.primarySkills.filter(c=>c!==l))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Skills * (Add at least 3)"}),s.jsxs("div",{className:"flex space-x-2 mb-3",children:[s.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),onKeyPress:l=>l.key==="Enter"&&a(),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"e.g., JavaScript, React, Python"}),s.jsx("button",{type:"button",onClick:a,className:"px-4 py-3 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.primarySkills.map((l,c)=>s.jsxs("span",{className:"bg-ajira-primary/10 text-ajira-primary px-3 py-1 rounded-full text-sm flex items-center",children:[l,s.jsx("button",{type:"button",onClick:()=>o(l),className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]},c))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Web Development","Mobile Development","Data Science","UI/UX Design","Digital Marketing","Cybersecurity","Project Management","Entrepreneurship","Career Development","Freelancing","Content Creation","Graphic Design"].map(l=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.specializations.includes(l),onChange:c=>{c.target.checked?r("specializations",[...t.specializations,l]):r("specializations",t.specializations.filter(u=>u!==l))},className:"w-4 h-4 text-ajira-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:l})]},l))})]})]})},Nee=({data:t,onChange:e,onArrayChange:r})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why do you want to become a mentor? * (Minimum 50 characters)"}),s.jsx("textarea",{value:t.whyMentor,onChange:n=>e("whyMentor",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Share your motivation for mentoring and how you plan to help mentees grow..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.whyMentor.length,"/50 characters minimum"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How do you define success in mentoring?"}),s.jsx("textarea",{value:t.successDefinition,onChange:n=>e("successDefinition",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"What does a successful mentoring relationship look like to you?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe your ideal mentee"}),s.jsx("textarea",{value:t.idealMenteeProfile,onChange:n=>e("idealMenteeProfile",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"3",placeholder:"What type of mentee would you work best with?"})]})]}),kee=({data:t,onChange:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[s.jsx(Un,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Supporting Documents"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"While optional now, providing documents can help speed up your application review."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume/CV"}),s.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),s.jsx("textarea",{value:t.coverLetter,onChange:r=>e("coverLetter",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",rows:"4",placeholder:"Tell us more about why you'd be a great mentor..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio URL"}),s.jsx("input",{type:"url",value:t.portfolio,onChange:r=>e("portfolio",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ajira-primary/50",placeholder:"https://yourportfolio.com"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📄 Document Guidelines"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Resume: PDF format preferred, max 2MB"}),s.jsx("li",{children:"• Cover Letter: Focus on your mentoring goals and experience"}),s.jsx("li",{children:"• Portfolio: Showcase your best work and projects"}),s.jsx("li",{children:"• All documents will be reviewed confidentially"})]})]})]}),See=()=>{var C,O,U;const[t,e]=P.useState(!1),[r,n]=P.useState("670b8f123d4e567890abcdef"),[i,a]=P.useState("requests"),[o,l]=P.useState([]),[c,u]=P.useState([]),[d,m]=P.useState([]),[h,f]=P.useState({}),[g,v]=P.useState(!0),[j,y]=P.useState(""),[p,b]=P.useState({lat:-1.2921,lng:36.8219}),[w]=P.useState([{requestId:"REQ_001",mentee:{name:"Jane Doe",email:"jane@example.com"},sessionType:"Quick Question",category:"Web Development",urgency:"High",problemDescription:"Need help with React hooks implementation",preferredDuration:30,location:{city:"Nairobi",distance:"2.5 km"},requestedAt:new Date(Date.now()-5*60*1e3),timeElapsed:"5 minutes ago"},{requestId:"REQ_002",mentee:{name:"John Smith",email:"john@example.com"},sessionType:"Career Advice",category:"Career Development",urgency:"Medium",problemDescription:"Looking for guidance on transitioning to tech career",preferredDuration:45,location:{city:"Nairobi",distance:"5.1 km"},requestedAt:new Date(Date.now()-10*60*1e3),timeElapsed:"10 minutes ago"}]),[S]=P.useState([{sessionId:"SES_001",mentee:{name:"Alice Johnson",email:"alice@example.com"},sessionInfo:{title:"JavaScript Fundamentals",category:"Web Development",type:"Scheduled"},scheduling:{scheduledFor:new Date(Date.now()+2*60*60*1e3),duration:60},format:{type:"Virtual",platform:"Zoom"},status:{current:"Confirmed"}},{sessionId:"SES_002",mentee:{name:"Bob Wilson",email:"bob@example.com"},sessionInfo:{title:"React Best Practices",category:"Web Development",type:"Instant"},scheduling:{scheduledFor:new Date(Date.now()+30*60*1e3),duration:45},format:{type:"Virtual",platform:"Google Meet"},status:{current:"In Progress"}}]),[R]=P.useState({totalSessions:47,completedSessions:42,averageRating:4.8,totalEarnings:58500,thisWeekSessions:8,thisWeekEarnings:12e3,responseTime:"12 minutes",acceptanceRate:89});P.useEffect(()=>{N(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(L=>{b({lat:L.coords.latitude,lng:L.coords.longitude})},L=>{console.log("Location access denied:",L)})},[r]);const N=async()=>{try{v(!0),l(w),u(S),m([]),f(R)}catch(L){console.error("Failed to fetch dashboard data:",L),y("Failed to load dashboard data")}finally{v(!1)}},k=async()=>{try{e(!t)}catch(L){console.error("Failed to update availability:",L),e(t)}},E=async(L,q,M="")=>{try{if(l(z=>z.filter(D=>D.requestId!==L)),q==="Accepted"){const z=o.find(D=>D.requestId===L);if(z){const D={sessionId:`SES_${Date.now()}`,mentee:z.mentee,sessionInfo:{title:z.sessionType,category:z.category,type:"Instant"},scheduling:{scheduledFor:new Date(Date.now()+9e5),duration:z.preferredDuration},format:{type:"Virtual",platform:"Zoom"},status:{current:"Confirmed"}};u(F=>[...F,D])}}}catch(z){console.error("Failed to respond to request:",z)}},T=L=>new Date(L).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),_=L=>{switch(L){case"Critical":return"text-red-600 bg-red-100 border-red-200";case"High":return"text-orange-600 bg-orange-100 border-orange-200";case"Medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"Low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},A=L=>{switch(L){case"Confirmed":return"text-green-600 bg-green-100";case"In Progress":return"text-blue-600 bg-blue-100";case"Pending":return"text-yellow-600 bg-yellow-100";case"Completed":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return g?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-ajira-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your mentor dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-ajira-primary rounded-full flex items-center justify-center",children:s.jsx(or,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Mentor Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back, Mentor!"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?"Online":"Offline"}),s.jsx("button",{onClick:k,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-ajira-primary focus:ring-offset-2 ${t?"bg-ajira-primary":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(Bs,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(Bu,{className:"w-5 h-5"})})]})]})})}),t&&s.jsx("div",{className:"bg-green-50 border-b border-green-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-green-700 font-medium",children:"You're online and available for mentoring"})]}),s.jsxs("div",{className:"text-green-600",children:[o.length," pending request",o.length!==1?"s":""]})]}),s.jsxs("div",{className:"text-green-600",children:["Response time: ",h.responseTime]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ze,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalSessions})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(ct,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.averageRating})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Qn,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"This Week"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["KES ",(C=h.thisWeekEarnings)==null?void 0:C.toLocaleString()]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Acceptance Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[h.acceptanceRate,"%"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"requests",name:"Pending Requests",icon:Bs,count:o.length},{id:"sessions",name:"Upcoming Sessions",icon:Yt,count:c.length},{id:"earnings",name:"Earnings",icon:Qn},{id:"profile",name:"Profile",icon:or}].map(L=>{const q=L.icon;return s.jsxs("button",{onClick:()=>a(L.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===L.id?"border-ajira-primary text-ajira-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(q,{className:"w-4 h-4"}),s.jsx("span",{children:L.name}),L.count!==void 0&&L.count>0&&s.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:L.count})]},L.id)})})}),s.jsxs("div",{className:"p-6",children:[i==="requests"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Mentorship Requests"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," active request",o.length!==1?"s":""]})]}),o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pending requests"}),s.jsx("p",{className:"text-gray-600",children:t?"You're online and ready to receive requests!":"Go online to start receiving mentorship requests."})]}):s.jsx("div",{className:"space-y-4",children:o.map(L=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.sessionType}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(L.urgency)}`,children:[L.urgency," Priority"]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:L.mentee.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4"}),s.jsx("span",{children:L.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.preferredDuration," minutes •"," ",L.timeElapsed]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.location.city," •"," ",L.location.distance]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>E(L.requestId,"Declined"),className:"p-3 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Decline",children:s.jsx(Jr,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>E(L.requestId,"Accepted"),className:"p-3 bg-ajira-primary text-white hover:bg-ajira-primary/90 rounded-full transition-colors",title:"Accept",children:s.jsx(Ke,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Problem Description:"}),s.jsx("p",{className:"text-gray-700 text-sm",children:L.problemDescription})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Message"})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Za,{className:"w-4 h-4"}),s.jsx("span",{children:"Call"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Request ID: ",L.requestId]})]})]},L.requestId))})]}),i==="sessions"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Sessions"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[c.length," scheduled session",c.length!==1?"s":""]})]}),c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No upcoming sessions"}),s.jsx("p",{className:"text-gray-600",children:"Accept pending requests to schedule new mentoring sessions."})]}):s.jsx("div",{className:"space-y-4",children:c.map(L=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L.sessionInfo.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(L.status.current)}`,children:L.status.current})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsx("span",{children:L.mentee.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4"}),s.jsx("span",{children:L.sessionInfo.category})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{className:"w-4 h-4"}),s.jsxs("span",{children:[T(L.scheduling.scheduledFor)," ","• ",L.scheduling.duration," minutes"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(eo,{className:"w-4 h-4"}),s.jsxs("span",{children:[L.format.platform," •"," ",L.format.type]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2 ml-4",children:L.status.current==="In Progress"?s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Join Session"}):s.jsx("button",{className:"px-4 py-2 bg-ajira-primary text-white rounded-lg hover:bg-ajira-primary/90 transition-colors",children:"Start Session"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{children:"Message"})]}),s.jsxs("button",{className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900",children:[s.jsx(Yt,{className:"w-4 h-4"}),s.jsx("span",{children:"Reschedule"})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Session ID: ",L.sessionId]})]})]},L.sessionId))})]}),i==="earnings"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Earnings Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Earnings"}),s.jsxs("p",{className:"text-3xl font-bold",children:["KES ",(O=h.totalEarnings)==null?void 0:O.toLocaleString()]}),s.jsxs("p",{className:"text-green-100 text-sm mt-2",children:["Across ",h.completedSessions," completed sessions"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Week"}),s.jsxs("p",{className:"text-3xl font-bold",children:["KES ",(U=h.thisWeekEarnings)==null?void 0:U.toLocaleString()]}),s.jsxs("p",{className:"text-blue-100 text-sm mt-2",children:[h.thisWeekSessions," sessions completed"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings Breakdown"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Average per session"}),s.jsxs("span",{className:"font-semibold",children:["KES"," ",Math.round(h.totalEarnings/h.completedSessions).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Sessions this month"}),s.jsx("span",{className:"font-semibold",children:"12"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Monthly earnings"}),s.jsx("span",{className:"font-semibold",children:"KES 18,500"})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-gray-600",children:"Pending payments"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:"KES 3,200"})]})]})]})]}),i==="profile"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Mentor Profile"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Status"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Profile completion"}),s.jsx("span",{className:"font-semibold text-green-600",children:"100%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Verification status"}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(Ke,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"font-semibold text-green-600",children:"Verified"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Badge level"}),s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:"Gold"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Instant mentoring"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-ajira-primary",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Push notifications"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-ajira-primary",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Weekend availability"}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-1"})})]})]})]})]})]})]})]})]})]})},_ee=[{path:"/",element:s.jsx(st,{children:s.jsx(LM,{})})},{path:"/about",element:s.jsx(st,{children:s.jsx(_Z,{})})},{path:"/community",element:s.jsx(st,{children:s.jsx(u8,{})})},{path:"/videos",element:s.jsx(st,{children:s.jsx(dZ,{})})},{path:"/events",element:s.jsx(st,{children:s.jsx(hZ,{})})},{path:"/testimonials",element:s.jsx(st,{children:s.jsx(YG,{})})},{path:"/blog",element:s.jsx(st,{children:s.jsx(mZ,{})})},{path:"/ambassador",element:s.jsx(st,{children:s.jsx(lZ,{})})},{path:"/showcase",element:s.jsx(st,{children:s.jsx(cZ,{})})},{path:"/updates",element:s.jsx(st,{children:s.jsx(jZ,{})})},{path:"/team",element:s.jsx(st,{children:s.jsx(NZ,{})})},{path:"/training",element:s.jsx(st,{children:s.jsx(fZ,{})})},{path:"/mentorship",element:s.jsx(st,{children:s.jsx(yZ,{})})},{path:"/mentorship/apply",element:s.jsx(st,{children:s.jsx(gee,{})})},{path:"/mentor/dashboard",element:s.jsx(st,{children:s.jsx(See,{})})},{path:"/faq",element:s.jsx(st,{children:s.jsx(kZ,{})})},{path:"/contact",element:s.jsx(st,{children:s.jsx(TZ,{})})},{path:"/become-seller",element:s.jsx(st,{children:s.jsx(PZ,{})})},{path:"/privacy",element:s.jsx(st,{children:s.jsx(CZ,{})})},{path:"/terms",element:s.jsx(st,{children:s.jsx(AZ,{})})},{path:"/marketplace",element:s.jsx(st,{children:s.jsx(nh,{children:s.jsx(YM,{})})})},{path:"/marketplace/gigs/:gigId",element:s.jsx(st,{children:s.jsx(nh,{children:s.jsx(JM,{})})})},{path:"/marketplace/create",element:s.jsx(st,{children:s.jsx(nh,{children:s.jsx(Ar,{children:s.jsx(eL,{})})})})},{path:"/marketplace/search",element:s.jsx(st,{children:s.jsx(nh,{children:s.jsx(tL,{})})})},{path:"/orders",element:s.jsx(st,{children:s.jsx(Ar,{children:s.jsx(GL,{})})})},{path:"/orders/:orderId",element:s.jsx(st,{children:s.jsx(Ar,{children:s.jsx(KL,{})})})},{path:"/notifications",element:s.jsx(st,{children:s.jsx(Ar,{children:s.jsx(i8,{})})})},{path:"/auth",element:s.jsx(e8,{})},{path:"/verify-email",element:s.jsx(t8,{})},{path:"/profile",element:s.jsx(st,{children:s.jsx(Ar,{children:s.jsx(_1,{})})})},{path:"/history",element:s.jsx(st,{children:s.jsx(RZ,{})})},{path:"/shorts",element:s.jsx(st,{children:s.jsx(VZ,{})})},{path:"/playlists",element:s.jsx(st,{children:s.jsx(GZ,{})})},{path:"/subscriptions",element:s.jsx(st,{children:s.jsx(QZ,{})})},{path:"/watch-later",element:s.jsx(st,{children:s.jsx(JZ,{})})},{path:"/liked-videos",element:s.jsx(st,{children:s.jsx(ZZ,{})})},{path:"/your-videos",element:s.jsx(st,{children:s.jsx(see,{})})},{path:"/admin",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(aee,{})})},{path:"/admin/about-us",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(oee,{})})},{path:"/admin/team",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(lee,{})})},{path:"/admin/updates",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(cee,{})})},{path:"/admin/faq",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(uee,{})})},{path:"/admin/contact",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(dee,{})})},{path:"/admin/training",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(hee,{})})},{path:"/admin/mentorship",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(mee,{})})},{path:"/admin/events",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(fee,{})})},{path:"/admin/mentor-applications",element:s.jsx(Ar,{requiredRole:"admin",children:s.jsx(pee,{})})},{path:"/profile",element:s.jsx(Ar,{children:s.jsx(_1,{})})},{path:"/biometric-test",element:s.jsx(st,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx(OZ,{})})})},{path:"/reset-password",element:s.jsx(DZ,{})}],Eee=()=>{var r;const t=dE();if(sE(t))return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:[t.status," - ",t.statusText]}),s.jsx("p",{className:"text-gray-600",children:((r=t.data)==null?void 0:r.message)||"An error occurred"})]})});const e=t instanceof Error?t.message:"An unexpected error occurred";return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Error"}),s.jsx("p",{className:"text-gray-600",children:e})]})})},Tee=()=>s.jsx(PM,{children:s.jsx(y4,{children:s.jsxs(s8,{children:[s.jsxs(ou,{children:[s.jsx("title",{children:"Ajira Digital KiNaP Club"}),s.jsx("meta",{name:"description",content:"Ajira Digital KiNaP Club - Your trusted marketplace for digital services"})]}),s.jsx(hO,{children:s.jsx(n6,{children:_ee.map(t=>s.jsx(mE,{path:t.path,element:t.element,errorElement:s.jsx(Eee,{})},t.path))})}),s.jsx(qO,{}),s.jsx(dO,{position:"top-right"})]})})});const Cee=new L6({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3,cacheTime:10*60*1e3}}});ux.createRoot(document.getElementById("root")).render(s.jsx(pt.StrictMode,{children:s.jsx(rl,{children:s.jsx(q6,{client:Cee,children:s.jsx(m6,{children:s.jsx(y4,{children:s.jsx(Tee,{})})})})})}));
